(()=>{var Ml=Object.defineProperty;var _=(N,g)=>Ml(N,"name",{value:g,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["client-boot"],{983107878:(N,g,e)=>{N.exports=e.p+"ava_0002-192-0ddd598.png"},2256285620:(N,g,e)=>{N.exports=e.p+"ava_0002-24-f65dddc.png"},6906793909:(N,g,e)=>{N.exports=e.p+"ava_0002-32-798f043.png"},1060768686:(N,g,e)=>{N.exports=e.p+"ava_0002-48-d3ba4ec.png"},2979422297:(N,g,e)=>{N.exports=e.p+"ava_0002-72-c702398.png"},3224273568:(N,g,e)=>{N.exports=e.p+"ava_0022-192-0cc433a.png"},2316786074:(N,g,e)=>{N.exports=e.p+"ava_0022-24-21468d4.png"},3708998647:(N,g,e)=>{N.exports=e.p+"ava_0022-32-7779579.png"},5098468056:(N,g,e)=>{N.exports=e.p+"ava_0022-48-93db11d.png"},4923972147:(N,g,e)=>{N.exports=e.p+"ava_0022-72-5a52d67.png"},5512849639:(N,g,e)=>{N.exports=e.p+"boost_bus_plus_banner_img-5428ddb.png"},8783045612:(N,g,e)=>{N.exports=e.p+"contextual-help-keyboard-e004fd5.png"},7752974446:(N,g,e)=>{N.exports=e.p+"emoji_missing-39b2f0a.png"},2440739180:(N,g,e)=>{N.exports=e.p+"exchange-unlinked-760993c.svg"},4121690455:(N,g,e)=>{N.exports=e.p+"exchange-10f9bbd.svg"},642761070:(N,g,e)=>{N.exports=e.p+"cloud-left-aubergine-8c8c5ca.png"},1811117303:(N,g,e)=>{N.exports=e.p+"cloud-left-campfire-1ccf710.png"},4444244370:(N,g,e)=>{N.exports=e.p+"cloud-left-cilantro-7605883.png"},7723930552:(N,g,e)=>{N.exports=e.p+"cloud-left-lagoon-d307b64.png"},43752938:(N,g,e)=>{N.exports=e.p+"cloud-left-ocean-d307b64.png"},4078816923:(N,g,e)=>{N.exports=e.p+"cloud-right-aubergine-59e7589.png"},1263906496:(N,g,e)=>{N.exports=e.p+"cloud-right-campfire-9e83283.png"},1581921949:(N,g,e)=>{N.exports=e.p+"cloud-right-cilantro-43bf964.png"},4341491627:(N,g,e)=>{N.exports=e.p+"cloud-right-lagoon-0b37d5f.png"},4586065271:(N,g,e)=>{N.exports=e.p+"cloud-right-ocean-0b37d5f.png"},8713048688:(N,g,e)=>{N.exports=e.p+"cloud-left-aubergine-9d4596e.png"},1635550705:(N,g,e)=>{N.exports=e.p+"cloud-left-campfire-a981475.png"},4611648208:(N,g,e)=>{N.exports=e.p+"cloud-left-cilantro-a23fb53.png"},129798702:(N,g,e)=>{N.exports=e.p+"cloud-left-lagoon-79d5bd3.png"},5121486309:(N,g,e)=>{N.exports=e.p+"cloud-left-white-58ab7fe.png"},3026177781:(N,g,e)=>{N.exports=e.p+"cloud-right-aubergine-6f7696d.png"},5785171234:(N,g,e)=>{N.exports=e.p+"cloud-right-campfire-0d1961c.png"},1141095027:(N,g,e)=>{N.exports=e.p+"cloud-right-cilantro-414250c.png"},2253304769:(N,g,e)=>{N.exports=e.p+"cloud-right-lagoon-d8b481a.png"},360570636:(N,g,e)=>{N.exports=e.p+"cloud-right-white-5c75858.png"},5908540923:(N,g,e)=>{N.exports=e.p+"No_Background-ad3fcdb.png"},3677363342:(N,g,e)=>{N.exports=e.p+"active_speaker-dd1164a.gif"},4553218033:(N,g,e)=>{N.exports=e.p+"beach-preview-33d7acf.jpg"},9679390338:(N,g,e)=>{N.exports=e.p+"beach-33258eb.jpg"},7000154057:(N,g,e)=>{N.exports=e.p+"gym-preview-cfff9c8.jpg"},553949882:(N,g,e)=>{N.exports=e.p+"gym-4d948fc.jpg"},9631995895:(N,g,e)=>{N.exports=e.p+"home-preview-8baaf03.jpg"},3342291988:(N,g,e)=>{N.exports=e.p+"home-9e29930.jpg"},1779488764:(N,g,e)=>{N.exports=e.p+"huddle-in-thread-da71b0e.png"},3607863955:(N,g,e)=>{N.exports=e.p+"living_room-preview-1b54428.jpg"},5738074488:(N,g,e)=>{N.exports=e.p+"living_room-a4fba85.jpg"},7485089530:(N,g,e)=>{N.exports=e.p+"office-preview-de46de4.jpg"},5475210953:(N,g,e)=>{N.exports=e.p+"office-98668ce.jpg"},8514307482:(N,g,e)=>{N.exports=e.p+"remote_work-preview-5fbbc32.jpg"},4136357865:(N,g,e)=>{N.exports=e.p+"remote_work-f8cd791.jpg"},7234375712:(N,g,e)=>{N.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},1672115571:(N,g,e)=>{N.exports=e.p+"tokyo_sight-285d851.jpg"},2527471159:(N,g,e)=>{N.exports=e.p+"slack-salesforce-211570d.png"},7972463975:(N,g,e)=>{N.exports=e.p+"slack-salesforce@2x-06b5868.png"},2301861866:(N,g,e)=>{N.exports=e.p+"slack_logo-ebd02d1.svg"},5918772940:(N,g,e)=>{N.exports=e.p+"slack_logo_mark-01b46d3.svg"},9994038664:(N,g,e)=>{N.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},3431559584:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_1024-9020761.png"},2200759559:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},8390767423:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},1957386787:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_24-e726b64.png"},4245237474:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_32-176771b.png"},7523979550:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_36-d921f9d.png"},7272988726:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},77360885:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_48-8220eaf.png"},2261459203:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},451984622:(N,g,e)=>{N.exports=e.p+"slackbot_fancy_72-9db8807.png"},7428983508:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},669259003:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},4165874747:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_20-96acbec.png"},1023719767:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_24-2246c7b.png"},3710970638:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_32-8a50a23.png"},4814900690:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},7331486018:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_360-1cb4740.png"},7183565897:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},1001408479:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_512-955a74f.png"},1889110914:(N,g,e)=>{N.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},9948433110:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_1024-b58a548.png"},4948097913:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},350135845:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_20-00a116e.png"},474239361:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_24-9a05991.png"},1302153452:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_32-44a4c24.png"},9825918216:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},5908867676:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_360-7309dbd.png"},3333214639:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_48-9906623.png"},2295488157:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_512-dcb310c.png"},5156772208:(N,g,e)=>{N.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},4063699741:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},9241168512:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},3963460214:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},9267813754:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},2981982679:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},9833689275:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},4840951141:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},9777215928:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},7129884748:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},9602720019:(N,g,e)=>{N.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},2283801392:(N,g,e)=>{N.exports=e.p+"trial-awareness-banner-e5514bb.svg"},7626894131:(N,g,e)=>{N.exports=e.p+"de-DE-7cb5203.vtt"},29804293:(N,g,e)=>{N.exports=e.p+"en-GB-fe540d9.vtt"},7749140866:(N,g,e)=>{N.exports=e.p+"en-US-638cf9c.vtt"},5913806097:(N,g,e)=>{N.exports=e.p+"es-ES-2c09d56.vtt"},6636363964:(N,g,e)=>{N.exports=e.p+"es-LA-ea2cf27.vtt"},9916635837:(N,g,e)=>{N.exports=e.p+"fr-FR-aca8347.vtt"},5760619139:(N,g,e)=>{N.exports=e.p+"it-IT-5979abe.vtt"},668694090:(N,g,e)=>{N.exports=e.p+"ja-JP-8bffdf3.vtt"},555040584:(N,g,e)=>{N.exports=e.p+"ko-KR-368325f.vtt"},6820844347:(N,g,e)=>{N.exports=e.p+"paid-feature-education-bcf658e.mp4"},1347747715:(N,g,e)=>{N.exports=e.p+"paid-feature-education-4fcc827.png"},8187362417:(N,g,e)=>{N.exports=e.p+"pt-BR-4dd5817.vtt"},2005200212:(N,g,e)=>{N.exports=e.p+"zh-CN-7893376.vtt"},2563333228:(N,g,e)=>{N.exports=e.p+"zh-TW-bf2d05a.vtt"},6754250580:(N,g,e)=>{N.exports=e.p+"de-DE-e5da613.vtt"},1714394002:(N,g,e)=>{N.exports=e.p+"en-GB-b949ba6.vtt"},6435768457:(N,g,e)=>{N.exports=e.p+"en-US-823d419.vtt"},7417918922:(N,g,e)=>{N.exports=e.p+"es-ES-fb9bba0.vtt"},6869712815:(N,g,e)=>{N.exports=e.p+"es-LA-1d17cb9.vtt"},8089589194:(N,g,e)=>{N.exports=e.p+"fr-FR-0161472.vtt"},5748605292:(N,g,e)=>{N.exports=e.p+"it-IT-f18ddbd.vtt"},4071181961:(N,g,e)=>{N.exports=e.p+"ja-JP-8d6863a.vtt"},8071475775:(N,g,e)=>{N.exports=e.p+"ko-KR-b3589ec.vtt"},9733499682:(N,g,e)=>{N.exports=e.p+"pt-BR-50fe7dc.vtt"},6050136004:(N,g,e)=>{N.exports=e.p+"thumbnail-71d0c1e.png"},5006029593:(N,g,e)=>{N.exports=e.p+"video-9e16c67.mp4"},9753292423:(N,g,e)=>{N.exports=e.p+"zh-CN-f0c9d6c.vtt"},3289703835:(N,g,e)=>{N.exports=e.p+"zh-TW-438dba1.vtt"},9346154532:(N,g,e)=>{N.exports=e.p+"de-DE-feb28fa.png"},4023230306:(N,g,e)=>{N.exports=e.p+"en-GB-92b1507.png"},3665921473:(N,g,e)=>{N.exports=e.p+"en-US-c1aba30.png"},4450714150:(N,g,e)=>{N.exports=e.p+"es-ES-b9da68c.png"},2447916751:(N,g,e)=>{N.exports=e.p+"es-LA-da3f776.png"},4512247066:(N,g,e)=>{N.exports=e.p+"fr-FR-d216449.png"},7856382836:(N,g,e)=>{N.exports=e.p+"it-IT-a9a6cda.png"},8761753225:(N,g,e)=>{N.exports=e.p+"ja-JP-4935b54.png"},8896229587:(N,g,e)=>{N.exports=e.p+"ko-KR-74391d9.png"},9567250534:(N,g,e)=>{N.exports=e.p+"pt-BR-4b40e14.png"},9220196311:(N,g,e)=>{N.exports=e.p+"zh-CN-204bc46.png"},4250547311:(N,g,e)=>{N.exports=e.p+"zh-TW-42915ac.png"},7121362573:(N,g,e)=>{N.exports=e.p+"image-cc06bc3.png"},3469177242:(N,g,e)=>{N.exports=e.p+"de-DE-50d895e.png"},7745320748:(N,g,e)=>{N.exports=e.p+"en-GB-50d895e.png"},4947809175:(N,g,e)=>{N.exports=e.p+"en-US-a34f09a.png"},6700873660:(N,g,e)=>{N.exports=e.p+"es-ES-cce2d85.png"},3394895569:(N,g,e)=>{N.exports=e.p+"es-LA-50d895e.png"},416289424:(N,g,e)=>{N.exports=e.p+"fr-FR-977550f.png"},8946513810:(N,g,e)=>{N.exports=e.p+"it-IT-977550f.png"},9339829407:(N,g,e)=>{N.exports=e.p+"ja-JP-b915fc9.png"},5699146993:(N,g,e)=>{N.exports=e.p+"ko-KR-5d1924d.png"},5267777228:(N,g,e)=>{N.exports=e.p+"pt-BR-341e743.png"},6985852377:(N,g,e)=>{N.exports=e.p+"zh-CN-a532a54.png"},5038027829:(N,g,e)=>{N.exports=e.p+"zh-TW-ba21a69.png"},2651824376:(N,g,e)=>{N.exports=e.p+"de-DE-b035176.png"},1055919006:(N,g,e)=>{N.exports=e.p+"en-GB-15deb42.png"},9468784045:(N,g,e)=>{N.exports=e.p+"en-US-74b04b1.png"},9721191706:(N,g,e)=>{N.exports=e.p+"es-ES-d216251.png"},6072511763:(N,g,e)=>{N.exports=e.p+"es-LA-fcbdb08.png"},9256831486:(N,g,e)=>{N.exports=e.p+"fr-FR-009ea7c.png"},1991548408:(N,g,e)=>{N.exports=e.p+"it-IT-7ff57f7.png"},9439644189:(N,g,e)=>{N.exports=e.p+"ja-JP-c9d259c.png"},9467317535:(N,g,e)=>{N.exports=e.p+"ko-KR-c5a361a.png"},4082867042:(N,g,e)=>{N.exports=e.p+"pt-BR-df3bcd0.png"},7666351987:(N,g,e)=>{N.exports=e.p+"zh-CN-9e65b16.png"},6581854275:(N,g,e)=>{N.exports=e.p+"zh-TW-805f4e4.png"},7260399618:(N,g,e)=>{N.exports=e.p+"apps-0205318.png"},3555024406:(N,g,e)=>{N.exports=e.p+"canvas-27b164f.png"},6362113145:(N,g,e)=>{N.exports=e.p+"huddles-65511ae.png"},5612399517:(N,g,e)=>{N.exports=e.p+"lists-a03762f.png"},9754713110:(N,g,e)=>{N.exports=e.p+"messages-cf1cdcf.png"},8644018899:(N,g,e)=>{N.exports=e.p+"slack-connect-4779df0.png"},8720577475:(N,g,e)=>{N.exports=e.p+"templates-26a2d87.png"},4304939937:N=>{N.exports={callout:"callout__iCkCQ",inverted:"inverted__WIKdT",warning:"warning__ayb0N"}},762973295:N=>{N.exports={pollIcon:"pollIcon__QEauw",pollIconDark:"pollIconDark__ptWiL"}},2217643974:N=>{N.exports={record_breadcrumbs:"record_breadcrumbs__ErsaA",record_breadcrumb:"record_breadcrumb__cEZEJ",record_breadcrumb_label:"record_breadcrumb_label__LDBB9"}},6627147571:N=>{N.exports={accordion:"accordion__kLx8x",item:"item__MTv17",expanded:"expanded__G1WSM",noBorder:"noBorder__Bkdii",itemHeader:"itemHeader__rqviz",expandedIcon:"expandedIcon__a6bDs",header:"header__Mu2fJ",defaultShowDescriptionAnimation:"defaultShowDescriptionAnimation__SUEzA",showDescription:"show-description___8nN1",defaultShowDescription:"defaultShowDescription__O25CX",customItemTextAnimation:"customItemTextAnimation__J88Pz",addPadding:"add-padding__dbRf8",customItemText:"customItemText__vavhM",customItemTransition:"customItemTransition__YwYGB",description:"description__RSIZO",iconSpacer:"iconSpacer__a8u1y",imageCaret:"imageCaret__ZFZoY"}},7722580674:N=>{N.exports={cardsContainer:"cardsContainer__OTIvX",cardContainer:"cardContainer__uXDsY",cardContainerImg:"cardContainerImg__rCUUa",lagoon:"lagoon__MG9UQ",aubergine:"aubergine__ETp71",cilantro:"cilantro__r5shg",sunflower:"sunflower__r4abx",flamingo:"flamingo__Q_Ynx",cardImg:"cardImg__z4O6B",cardContent:"cardContent__aKoTc",arrows:"arrows__iz2fp",left:"left__TiWOa",right:"right__dFttJ"}},4111302702:N=>{N.exports={chip:"chip__Q3ooO",darkMode:"darkMode__UKAub",medium:"medium__kJEgv",large:"large__tdnhm",extraLarge:"extraLarge___ScFb",aiGradient:"aiGradient__pjyr2",lagoon:"lagoon__gVSio",aubergine:"aubergine__aOmqX",cilantro:"cilantro__iMRA3",campfire:"campfire__TzGvj"}},7517926269:N=>{N.exports={clickableIcon:"clickableIcon__TWpIU",nonClickableIcon:"nonClickableIcon__S7ksP",divider:"divider__IMCIF",clickableFeatureContainer:"clickableFeatureContainer__nIB4p",feature:"feature__Q_SzS",urlLink:"urlLink__nc3gX",iconButton:"iconButton__WoqBy"}},1655662782:N=>{N.exports={modalContainer:"modalContainer__o78sg",container:"container__NwDCd",leftContainer:"leftContainer__qkVPh",multiChipContainer:"multiChipContainer__k02pj",subtitle:"subtitle__TcwNf",outerButtonContainer:"outerButtonContainer__zOWxe",innerButtonContainer:"innerButtonContainer__q5Fqv"}},5097962808:N=>{N.exports={containerVertical:"containerVertical__edZL1",containerVerticalDarkMode:"containerVerticalDarkMode__xCc07",containerHorizontal:"containerHorizontal__MZl6H",farLeft:"farLeft__p7HYg",childrenContainer:"childrenContainer__wCqjs"}},6035312900:N=>{N.exports={text:"text__yxtZb",fontSizeMicro:"fontSizeMicro__vL5rG",fontSizeCaption:"fontSizeCaption__g87_d",fontSizeBase:"fontSizeBase__vq3Rz",fontSizeSubtitle:"fontSizeSubtitle__ehrGi",fontSizeTitle:"fontSizeTitle__oao6m",fontSizeHeadline:"fontSizeHeadline__tkdnz",fontWeightBase:"fontWeightBase__MuzzM",fontWeightSemibold:"fontWeightSemibold__qFHfO",fontWeightBold:"fontWeightBold__xavtM",fontWeightBlack:"fontWeightBlack__VEFyV",colorPrimary:"colorPrimary__OpPYq",colorSecondary:"colorSecondary__LA4z5",colorTertiary:"colorTertiary__NzHwL",colorThemeInversePrimary:"colorThemeInversePrimary__HYor1",colorCoreContentHighlight1:"colorCoreContentHighlight1__Cni2v",colorCoreContentHighlight2:"colorCoreContentHighlight2__u2WOd",colorCoreContentHighlight3:"colorCoreContentHighlight3__bkwIu",colorCoreContentImportant:"colorCoreContentImportant__ehtOc",colorPalettesSunflower60:"colorPalettesSunflower60__DiKe3",colorInherit:"colorInherit__jnox0"}},7573583373:N=>{N.exports={proBadge:"proBadge__a6OQu",container:"container__lJGtV",alertBanner:"alertBanner__xNhoq",cta:"cta__tEXdP"}},9295473340:N=>{N.exports={videoAndDevicesContainer:"videoAndDevicesContainer__NVELK",videoContainer:"videoContainer__XjCxI",videoPreview:"videoPreview__hMjwB",videoInnerContainer:"videoInnerContainer__lO7xn",videoAvatar:"videoAvatar__lZyuR",loading:"loading__FMtdL"}},5526670257:N=>{N.exports={modal:"modal__V69Vd",overlay:"overlay__gsuuD"}},7059233720:N=>{N.exports={container:"container__DVK1Z",button:"button__PWHcn"}},1535211300:N=>{N.exports={container:"container__ExpEn",device:"device__Wqu1p",speaker:"speaker__IHiCf"}},2458754542:N=>{N.exports={modal:"modal__v1OWN",overlay:"overlay__HrRPN"}},9632269965:N=>{N.exports={container:"container__rto70"}},2688127376:N=>{N.exports={container:"container__bqBHK",toolbarButton:"toolbarButton__uaxi2",activeButton:"activeButton__UwqVv",warningBadgeContainer:"warningBadgeContainer__SWzb7",warningBadge:"warningBadge__srWl0",cameraDisabled:"cameraDisabled__fhjuY"}},5671227444:N=>{N.exports={inlineAudioMeterContainer:"inlineAudioMeterContainer__Y3vlI",inlineAudioMeter:"inlineAudioMeter__XIoND"}},3416652175:N=>{N.exports={spaceNameContainer:"spaceNameContainer__Up4ES",spaceName:"spaceName__e2eNG",notificationName:"notificationName__PLxJo",notificationList:"notificationList__K7YI_",formError:"formError__RF0wt",textArea:"text-area__GqSis",alert:"alert__gmI86",alertText:"alertText__WNqBZ"}},397939223:N=>{N.exports={dispatcherViewer:"dispatcherViewer__MqLHN",container:"container__JbqvN",dispatcherViewerIcon:"dispatcherViewerIcon__TTCBH",xDispatcher__viewer_iconPulse:"x-dispatcher__viewer_icon--pulse__rzHrs",dispatcherViewerDetails:"dispatcherViewerDetails__HF2Tz"}},9598582073:N=>{N.exports={bodyContainer:"bodyContainer__XdYx2",listContainer:"listContainer__Q03_Y",videoContainer:"videoContainer__zFTj5",proBadge:"proBadge__vbDah",title:"title__I2qJO",subtitle:"subtitle__lKLAD",ctaButton:"ctaButton__KoQEK",modalBackground:"modalBackground__eUyLk"}},6696573656:N=>{N.exports={featuresListContainer:"featuresListContainer__Wztys",icon:"icon__oy3IT",title:"title__OyvRi",text:"text__lXfZb"}},9377084484:N=>{N.exports={costLabel:"costLabel__JmQfs",freeLabel:"freeLabel__kOzDa",proLabel:"proLabel__Y_YqW",bizPlusLabel:"bizPlusLabel__BafhG",costLabelSubtitle:"costLabelSubtitle___zgim",planLabel:"planLabel__jNOYK",discountedPrice:"discountedPrice__pH5Uq",typicalPriceWithStrikethrough:"typicalPriceWithStrikethrough__SlrWi",trialProBadge:"trialProBadge__v4egQ",planHeaderContainer:"planHeaderContainer__P0_Hy",disabledCurrentPlanButton:"disabledCurrentPlanButton__ne1m4",bizPlusUpgradeButton:"bizPlusUpgradeButton__IVKuJ",trialEligibleCellContainer:"trialEligibleCellContainer__No8Xm",trialEligibleCurrentPlanBtn:"trialEligibleCurrentPlanBtn__A1SEA",trialStartCta:"trialStartCta__qHMCY",upgradeLink:"upgradeLink__MZ6Um",upgradeRocketIcon:"upgradeRocketIcon__rrknv",missingText:"missingText__OThqS"}},4080324325:N=>{N.exports={wrapper:"wrapper__gmXd4",listWrapper:"listWrapper__XJnfh",appsWrapper:"appsWrapper__H2egD",listActionsBuffer:"listActionsBuffer__nL0tg",canvasActionsBuffer:"canvasActionsBuffer__Q7KvW",browserWrapper:"browserWrapper__cJTzM",linkInBody:"linkInBody__Jxx24"}},8941782998:N=>{N.exports={icon:"icon__FjacC",featuresList:"featuresList__CSXeQ",featureText:"featureText__FJcZW",learnMoreLink:"learnMoreLink__aOiVk",plus:"plus__LxKva",learnMoreLinkText:"learnMoreLinkText__S0HoG",footerText:"footerText__hJgWh",cta:"cta__yLBIb"}},5577296129:N=>{N.exports={featureImage:"featureImage__GCGJB"}},8985946788:N=>{N.exports={accordionFeatureListModal:"accordionFeatureListModal__XY4l2",horchataBg:"horchataBg__Z4qYV",aubergineBg:"aubergineBg__XTvzG",horchataCaret:"horchataCaret__z5j66",aubergineCaret:"aubergineCaret__Ln6eA",bodyContainer:"bodyContainer__WwREe",listContainer:"listContainer__RAODJ",header:"header__A7Fx9",title:"title__w5UXN",subtitle:"subtitle__GJpvo",accordionListContainer:"accordionListContainer__ZhxlB",accordionItem:"accordionItem__N3S6I",imageContainer:"imageContainer__I5MJj",upgradeCta:"upgradeCta__gvG2D",spinner:"spinner__D0NVf",footer:"footer__cNZ0p",accordionItemHeaderButton:"accordionItemHeaderButton__klUaK",accordionItemHeader:"accordionItemHeader__SDi13",accordionItemDescription:"accordionItemDescription__P1u4j",accordionExpandedIcon:"accordionExpandedIcon__a2fMf",accordionCollapsedIcon:"accordionCollapsedIcon__KurIq"}},3366751172:N=>{N.exports={footer:"footer__q8kg4",cta:"cta__x1pLT",light:"light__adKpp",disclaimer:"disclaimer__i655U",link:"link__ISsu1"}},4970458e3:N=>{N.exports={primaryCta:"primaryCta__eSYB_"}},4483113171:N=>{N.exports={tooltipText:"tooltipText__Z9pUy"}},8312761259:N=>{N.exports={banner:"banner__NRqlA",link:"link__zbG4b",bodyText:"bodyText__J_4W5",icon:"icon__rIB5w",comparePlansBtn:"comparePlansBtn__EQLop",titleText:"titleText__qMilT",linkWrapper:"linkWrapper__FF5pM"}},1338932669:(N,g,e)=>{"use strict";e.d(g,{O:()=>l});var t=e(3134334389),s=e(2844658640),o=e.n(s),n=e(4659640639),c=e(2843556239);function i(){return i=Object.assign||function(d){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},i.apply(this,arguments)}_(i,"_extends");const r=(0,n.eF)(n.vt.REACT_VIRTUALIZED,d=>o()(d));function a(d){let{refToForward:u,...f}=d;const{windowRef:m}=(0,t.useContext)(c._0),h=r(m.deref()).List;return t.createElement(h,i({ref:u},f))}_(a,"PortableReactVirtualizedList"),a.displayName="PortableReactVirtualizedList";const l=t.forwardRef((d,u)=>t.createElement(a,i({refToForward:u},d)))},151122307:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(105789326);const s=t.t$},441565466:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(4200812741),s=e(2664504268);const n=_(()=>(0,t.A)(()=>(0,s.A)()),"useUniqueId")},3146263870:(N,g,e)=>{"use strict";e.d(g,{P:()=>s,b:()=>o});var t=e(7639461119);const s="disable_batched_subscribe",o=_(()=>(0,t.fW)(s),"shouldDisableBatchedSubscribe")},8749908259:(N,g,e)=>{"use strict";e.d(g,{b:()=>c,i:()=>n});var t=e(3398586081),s=e(7639461119),o=e(1658558415);const n="sentry_fe_perf",c=(0,t.A)(()=>(0,o.A)()?!1:(0,s.fW)(n))},3087712927:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(1416482128),s=e(5021238865),o=e(2878685908);function n(c){let{teamOrEnterpriseId:i,customEnhancers:r,middlewares:a,disableDevTools:l}=c;const d=(0,s.P)();return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!l&&((0,o.Cu)()||(0,o.b3)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(d(i)):t.Zz)((0,t.Tw)(...a??[]),...r??[])}_(n,"configureEnhancers")},5772992709:(N,g,e)=>{"use strict";e.d(g,{XT:()=>l,Xw:()=>s,gU:()=>c,l0:()=>r,xf:()=>o});var t=e(7732872146);const s=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function o(d){const u=typeof d=="string"&&d.match(s);return u&&u.length===1&&u[0]===d||!1}_(o,"isEmail");function n(d){const{pathname:u,protocol:f}=parseUrl(d);return f==="mailto:"&&o(u)}_(n,"isEmailUrl");function c(d){const{pathname:u,protocol:f}=d;return f==="mailto:"&&o(u)}_(c,"isEmailUrlFromUrlObject");const i=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function r(d){const u=typeof d=="string"&&d.match(i);return u&&u.length===1&&u[0]===d||!1}_(r,"isDomain");function a(d){return d.includes("@slack-bots.com")}_(a,"isSlackBotEmail");function l(d){let{csv:u,min:f=0,max:m=10}=d;const h=u.split(/\s*,\s*/).length;return{minViolation:h<f,maxViolation:h>m}}_(l,"validateCSV")},124320166:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s,o,n){let c,i;return function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];var d;const u=(d=n==null?void 0:n.deref())!==null&&d!==void 0?d:window;u.cancelAnimationFrame(i),c=u.performance.now();const f=_(h=>{if(h>c+o)s(...a);else{var v;i=((v=n==null?void 0:n.deref())!==null&&v!==void 0?v:window).requestAnimationFrame(f)}},"callback");var m;return i=((m=n==null?void 0:n.deref())!==null&&m!==void 0?m:window).requestAnimationFrame(f),i}}_(t,"debounceRAF")},8652526277:(N,g,e)=>{"use strict";e.d(g,{_i:()=>n});function t(i,r,a,l){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const u=[l.x-r.x,l.y-r.y],f=[a.x-r.x,a.y-r.y],m=[i.x-r.x,i.y-r.y],h=u[0]*u[0]+u[1]*u[1],v=u[0]*f[0]+u[1]*f[1],p=u[0]*m[0]+u[1]*m[1],T=f[0]*f[0]+f[1]*f[1],A=f[0]*m[0]+f[1]*m[1],C=1/(h*T-v*v),I=(T*p-v*A)*C,D=(h*A-v*p)*C;return I>=-d&&D>=-d&&I+D<1+d}_(t,"isPointInTriangle");function s(i,r,a){const l=(a.x-r.x)**2+(a.y-r.y)**2,d=((i.x-r.x)*(a.x-r.x)+(i.y-r.y)*(a.y-r.y))/l;return d<0?(i.x-r.x)**2+(i.y-r.y)**2:d<=1?(r.x-i.x)**2+(r.y-i.y)**2-d**2*l:(i.x-a.x)**2+(i.y-a.y)**2}_(s,"distanceSquarePointToSegment");function o(i,r,a,l){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const u=Math.min(r.x,Math.min(a.x,l.x))-d,f=Math.max(r.x,Math.max(a.x,l.x))+d,m=Math.min(r.y,Math.min(a.y,l.y))-d,h=Math.max(r.y,Math.max(a.y,l.y))+d;return i.x>u&&i.x<f&&i.y>m&&i.y<h}_(o,"pointInTriangleBoundingBox");function n(i,r,a,l){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!o(i,r,a,l,d))return!1;const u=d**2;return t(i,r,a,l,0)||s(i,r,a)<=u||s(i,a,l)<=u||s(i,l,r)<=u}_(n,"accurateIsPointInTriangle");var c={accurateIsPointInTriangle:n,isPointInTriangle:t}},3817509504:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(1516013259),s=e(2774532222);const o=_(n=>(0,t.A)(n,(c,i)=>(0,s.A)(i,"aria-")),"__WEBPACK_DEFAULT_EXPORT__")},4518138713:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(1516013259),s=e(2774532222);function o(n){return(0,t.A)(n,(c,i)=>(0,s.A)(i,"data-"))}_(o,"getDataProps")},1275630749:(N,g,e)=>{"use strict";e.d(g,{v:()=>s});var t=e(6845144532);function s(o){const n=(0,t.F)().getLocaleForLastViewedTeam().toLowerCase();return n==="en-us"?o:`/intl/${n}${o}`}_(s,"getLocalizedPath")},6163403996:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return s instanceof o.self.HTMLElement}_(t,"isHtmlElement")},429204216:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){var o;return!s||s.metaKey||s.ctrlKey?!1:((o=s.key)===null||o===void 0?void 0:o.length)===1}_(t,"isPrintableKeyEvent")},5135324409:(N,g,e)=>{"use strict";e.d(g,{Q:()=>t});const t=_(()=>null,"noopNull")},1887307248:(N,g,e)=>{"use strict";e.d(g,{B:()=>o,I:()=>n.A});var t=e(3134334389),s=e(4757466470);let o=_(class extends t.Component{shouldComponentUpdate(i,r){return!(0,s.Ay)(i,this.props,2)||!(0,s.Ay)(r,this.state,2)}},"PureComponentDepth2");var n=e(1665466574)},1665466574:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389),s=e(4757466470);let o=_(class extends t.Component{shouldComponentUpdate(c,i){return!(0,s.Ay)(c,this.props,3)||!(0,s.Ay)(i,this.state,3)}},"PureComponentDepth3")},8935440161:(N,g,e)=>{"use strict";e.d(g,{A:()=>n,u:()=>o});var t=e(2156087151),s=e(6312133237);const o=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let n=_(class ps{normalizeAndScore(i){const r=(0,s.B)(i);return r===this.normalizedQuery?0:this.score(r)}score(i){if(!i||this.queryNoSeparators.length>i.replace(o,"").length||!ps.containsAllLetters(i,this.queryNode)||!this.queryNode)return 1/0;const a=ps.lettersToGraph(i,this.options);if(!a)return 1/0;const l=ps.searchWordBoundariesOnly(a,this.queryNode,this.options,this.queryLength);if(!l)return 1/0;const d=ps.countResult(l);return d>this.fuzzyLimit?1/0:d}static scoreOnce(i,r,a){const l=(0,s.B)(r),d=(0,s.B)(i);return new ps(l,a).score(d)}static lettersToGraph(i,r){const a=i.split(""),l=a.shift();return ps.lettersToGraphWorker(l,null,a,[],0,r)}static lettersToGraphWorker(i,r,a,l,d){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!i)return null;const f=(0,t.A)(i),m=ps.makeLetterNode(i,r,l,d,f);if(ps.shouldAddJump(r,m,u)){const v=u.fuzzyJumpLimit||5;l.length<v&&l.push(m)}const h=ps.lettersToGraphWorker(a.shift(),m,a,l,d+1,u);return h&&(m.next=h),m}static shouldAddJump(i,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.ignored?!1:!!(!i||i.ignored&&!r.ignored||a.fuzzyCJK&&(i.isCJK!==r.isCJK||r.isCJK))}static makeLetterNode(i,r,a,l,d){return{letter:i,ignored:i.match(o),next:null,prev:r,jumps:a,visited:!1,index:l,isCJK:d}}static queryToLinkedList(i){if(!i)return null;let r=i.split("");return r.length>1024&&(r=r.slice(0,1024)),ps.queryToLinkedListWorker(r,0)}static queryToLinkedListWorker(i,r){if(r>=i.length)return null;const a=i[r],l=!!(a.match(o)&&(r!==0||i.length>1));return{letter:a,isSeparator:l,isSpace:a===" ",next:ps.queryToLinkedListWorker(i,r+1),index:r}}static searchWordBoundariesOnly(i,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0,d=ps.searchWordBoundariesOnlyWorker(i,r,0,a);if(d||(d=i.jumps.reduce((u,f)=>u||f===i?u:ps.searchWordBoundariesOnlyWorker(f,r,1,a),null)),a.matchBeyondWordBoundaries&&l>=4&&!d){const u=ps.findSecondaryPositions(i,r.letter),f=[i.index,...i.jumps.map(h=>h.index)].sort((h,v)=>h-v),m=8;for(const h of u.slice(0,m)){const v=ps.calculateOffsetPenalty(h.index,f);if(v&&(d=ps.searchWordBoundariesOnlyWorker(h,r,v,a),d))break}}return d}static findSecondaryPositions(i,r){const a=[];let l=i.next;for(;l;)l.letter===r&&a.push(l),l=l.next;const d=new Set(i.jumps.map(u=>u.index));return a.filter(u=>!d.has(u.index))}static calculateOffsetPenalty(i,r){if(i<0)return null;if(r.includes(i))return 0;const a=r.reduce((d,u)=>u<i&&u>d?u:d,-1);return 2+(i-a)}static searchWordBoundariesOnlyWorker(i,r,a){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!i||!r)return null;let d;if(!i.visited&&(i.letter===r.letter||i.ignored&&r.isSeparator)&&(d={node:i,count:a}),!d)return null;if(!r.next)return d;i.visited=!0;let u=ps.searchWordBoundariesOnlyWorker(i.next,r.next,0,l),f=r.next;for(;f.isSeparator&&f.next;)f=f.next;return u||(u=i.jumps.reduce((m,h)=>m||h.visited||h===i||(l.searchForwardOnly||l.substringsOnly)&&h.index<i.index||l.substringsOnly&&h.index>i.index+2?m:ps.searchWordBoundariesOnlyWorker(h,f,1,l),null)),i.visited=!1,u?(d.next=u,d):null}static countResult(i){return i?i.count+ps.countResult(i.next):0}static containsAllLetters(i,r){let a=r;for(;a;){if(!(a.isSeparator||i.includes(a.letter)))return!1;a=a.next}return!0}constructor(i,r={}){this.normalizedQuery=(0,s.B)(i),this.queryLength=this.normalizedQuery.length,this.queryNode=ps.queryToLinkedList(this.normalizedQuery),this.options=r;var a;this.fuzzyLimit=(a=this.options.fuzzyLimit)!==null&&a!==void 0?a:1/0,this.queryNoSeparators=this.normalizedQuery.replace(o,"")}},"FuzzyMatcher")},2800152059:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>o});const t=["radio","searchbox","slider","spinbutton","switch","textbox","combobox","listbox","option"],s=["button","submit","reset"];function o(n){if(!n)return!1;const c=n.nodeName;if((c==="BUTTON"||c==="INPUT"&&s.includes(n.getAttribute("type")||""))&&n.matches('[role="toolbar"] button, [role="toolbar"] input'))return!0;const a=n.getAttribute("role");return a?t.includes(a):!1}_(o,"isInlineAriaWidget")},1111258134:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4304939937),i=e.n(c);const r={warning:"warning",inverted:"inverted"};function a(d){let{children:u,className:f,dataQa:m,onClick:h=n.A,onKeyDown:v=n.A,role:p=void 0,tabIndex:T=void 0,ariaLabel:A=void 0,variant:C}=d;const I={[i().inverted]:C===r.inverted,[i().warning]:C===r.warning};return t.createElement("div",{className:o()(f,i().callout,I),"data-sk":"callout","data-qa":m,onClick:h,onKeyDown:v,role:p,tabIndex:T,"aria-label":A},u)}_(a,"Callout"),a.displayName="Callout",a.displayName="Callout";const l=a},3385766968:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(1111258134);const s=t.A},7435117457:(N,g,e)=>{"use strict";e.d(g,{FK:()=>o,P:()=>c,RG:()=>t,ny:()=>n,pI:()=>s});const t={xxlarge:102,xlarge:72,large:56,medium:36,small:20,smallListVariant:24,smallListVariantOutline:16,inline:14},s={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},o={normal:"12px",none:"0"},n={small:"small",medium:"medium"},c={true:!0,bestOnly:"best_only",false:!1}},4771630161:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(8935440161);const s=_(function(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(!r)return i;const{label:a,options:l}=r,d=new t.A(n,{fuzzyLimit:3,...c});if(!l)isFinite(d.normalizeAndScore(a))&&i.push(r);else{const u=[];l.forEach(f=>{const{label:m}=f;isFinite(d.normalizeAndScore(m))&&u.push(f)}),u.length&&i.push({label:r.label,options:u})}return i},"findMatches");function o(n,c){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c?n.reduce((r,a)=>s(c,i,r,a),[]):n}_(o,"defaultFilter")},8622068040:(N,g,e)=>{"use strict";e.d(g,{F:()=>t,n:()=>s});const t={small:"small",medium:"medium",large:"large"},s={small:22,medium:26,large:32}},7282270866:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3419042542);let s=_(class extends t.A{getOffsetForKey(n){if(!n)return this.totalHeight;const c=this.getTop(n);return c===void 0?0:c-this.anchorOffset}setHeight(n,c,i){if(this.anchor!==!1)return super.setHeight(n,c),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(i,this.STICKY_EPSILON_SETHEIGHT))return super.setHeight(n,c),this.bracketScrollTop(1/0);let r=i;if(this.getBottom(n)<=i+this.anchorOffset){const l=c-this.getHeight(n);r+=l}return super.setHeight(n,c),this.bracketScrollTop(r)}setKeys(n,c){if(this.anchor!==!1)return super.setKeys(n),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(c))return super.setKeys(n),this.bracketScrollTop(1/0);const i=c+this.anchorOffset,r=this.findAnchor(this.keys,n,i);if(!r)return super.setKeys(n),this.bracketScrollTop(c);const a=this.getTop(r)-i;super.setKeys(n);const l=this.getTop(r)-i,d=a-l;return this.bracketScrollTop(c-d)}setContainerHeight(n,c){return this.anchor!==!1?(this.containerHeight=n,this.layout(),this.bracketScrollTop(this.getOffsetForKey(this.anchor))):this.shouldStickToBottom(c)?(this.containerHeight=n,this.layout(),this.bracketScrollTop(1/0)):(this.containerHeight=n,this.layout(),c)}setBottomMargin(n){this.bottomMargin=n}setStickToBottom(n){this.stickToBottom=n}setAnchor(n,c){this.anchor=n,typeof c!="number"?this.anchorOffset=this.ANCHOR_OFFSET:this.anchorOffset=c}findAnchor(n,c,i){for(let r=0;r<n.length;r++){const a=n[r];if(this.getBottom(a)>i){for(let l=0;l<c.length;l++)if(c[l]===a)return a}}return null}bracketScrollTop(n){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,n))}shouldStickToBottom(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.STICKY_EPSILON;return this.stickToBottom?n>=this.totalHeight-this.containerHeight-c+this.bottomMargin:!1}constructor({keys:n,heightCache:c,gutter:i,onTotalHeightChange:r,containerHeight:a=0,stickToBottom:l=!1,bottomMargin:d=0,ANCHOR_OFFSET:u=0,STICKY_EPSILON:f=2,STICKY_EPSILON_SETHEIGHT:m=2}={}){super({keys:n,heightCache:c,gutter:i,onTotalHeightChange:r}),this.containerHeight=a,this.stickToBottom=l,this.bottomMargin=d,this.STICKY_EPSILON=f,this.STICKY_EPSILON_SETHEIGHT=m,this.ANCHOR_OFFSET=u,this.anchorOffset=u,this.anchor=!1}},"AnchorLayout")},3419042542:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(2208015175),s=e(166097325),o=e(7715417323),n=e(3596300149);let c=_(class{layout(){const{keys:r}=this,a={};let l=0;(0,t.A)(r,d=>{a[d]=l;const u=this.getHeight(d);l+=u+(u>0?this.gutter:0)}),(0,s.A)(a,this.tops)||(this.tops=a),l!==this.totalHeight&&this.onTotalHeightChange(l),this.totalHeight=l}getHeight(r){return this.heightCache.get(r)}getHeightValidity(r){return this.heightCache.getValidity(r)}getTop(r){return this.tops[r]}getBottom(r){return this.tops[r]+this.getHeight(r)}getTops(){return this.tops}getTotalHeight(){return this.totalHeight}getOffsetForKey(r){return r?this.getTop(r):this.totalHeight}getBounds(r,a){const l=this.keys;let d=0;for(;d+1<l.length;){const f=l[d+1];if(this.getTop(f)>r)break;d+=1}let u=d;for(;u<l.length;){const f=l[u];if(this.getTop(f)>a)break;u+=1}return{start:d,end:u}}setHeight(r,a,l){this.heightCache.set(r,a),this.layout()}setKeys(r,a){this.keys=r,this.layout()}constructor({keys:r=[],gutter:a=0,heightCache:l=new n.A,onTotalHeightChange:d=o.A}={}){this.keys=r,this.heightCache=l,this.onTotalHeightChange=d,this.gutter=a,this.tops={},this.totalHeight=0,this.layout()}},"Layout")},3596300149:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});let t=_(class{get(n){return n in this.heights?this.heights[n]:this.DEFAULT_HEIGHT}set(n,c){this.heights[n]=c}getValidity(n){return n in this.heights}constructor({DEFAULT_HEIGHT:n=50,heights:c}={}){this.heights=c||{},this.DEFAULT_HEIGHT=n}},"HeightCache"),s=_(class extends t{getValidity(n){return!!this.validity[n]}set(n,c){super.set(n,c),this.validity[n]=!0}invalidate(n){if(!n){this.validity={};return}delete this.validity[n]}constructor(n){super(n),this.validity={}}},"ValidityHeightCache")},3346098136:(N,g,e)=>{"use strict";e.d(g,{A:()=>p,T:()=>f});var t=e(3134334389),s=e(9391594207),o=e(4426213732),n=e(6471059816),c=e(6839188756),i=e(1670069836),r=e(8847766420),a=e(581167618),l=e(5536692738),d=e(6117529990);const u=new n.Ay("enterprise_calls");var f;(function(T){T.GLOBAL="GLOBAL",T.US="US"})(f||(f={}));const m=_(()=>[{label:u.t("Global"),value:f.GLOBAL},{label:u.t("US"),value:f.US}],"getLocationOptions");let h=_(class extends t.Component{render(){const{appsState:A,featureCallsLocationLock:C,isLockedByOrgAdmin:I,selectedCallLocation:D,isFreeTeam:y}=this.props,P=m(),E=A&&A.video&&Object.keys(A.video).find(U=>U==="A00");if(!C||!E||y)return null;const M=P.find(U=>U.value===D),S=C?u.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",R=C?u.t("Call location options"):"Call location options",k=C?u.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",O=C?u.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.createElement(t.Fragment,null,t.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.createElement("span",{className:"p-calls_location_lock__title"},C?u.t("Calls location"):"Calls location"),t.createElement("span",{className:"p-calls_location_lock__description"},S),t.createElement("div",{className:"p-calls_location_lock__options_container"},t.createElement(l.Ay,{className:"p-calls_location_lock__options",size:"medium",isDisabled:I,options:P,selectedOption:M,onOptionSelected:this.handleOptionSelected,ariaLabel:R}),I&&t.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},O))),D===f.US&&t.createElement(a.Ay,{type:a.QE.boxed,level:a.A_.warning,icon:"warning",align:a.AO.left,className:"p-calls_location_lock__alert"},t.createElement("span",null,k)))}handleOptionSelected(A){this.props.setSelectedCallLocation(A.value)}constructor(A){super(A),(0,o.v)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");h.displayName="CallsRegionLockOptions";const v=_(T=>{const A=(0,r.jV)(T);return{isFreeTeam:!(0,c.qR)((0,i.H7)(T))&&!A,featureCallsLocationLock:(0,d.XY)(T)}},"mapStateToProps"),p=(0,s.N)(v)(h)},1223723593:(N,g,e)=>{"use strict";e.d(g,{wl:()=>Z,JG:()=>B,uy:()=>ue,bM:()=>q,Ox:()=>me,A9:()=>V,fD:()=>ne});var t=e(3134334389),s=e(9391594207),o=e(3783303734),n=e(9113979368),c=e(3867135795),i=e(45851552),r=e(1649982175),a=e(8668318456),l=e(5795074931),d=e(8462077367),u=e(7138682671),f=e(3165300465),m=e(581167618),h=e(1610251172),v=e(3989454579),p=e(1743656885),T=e(5597672932),A=e(6117529990);const C=_(j=>!(0,A.BD)(j),"isOrgCallsAppsSettingsEnabled");var I=e(766806),D=e(56548687);const y=_(j=>{let{callsApps:w,allowCalls:Q,clogger:G,action:J,stepVariant:te}=j;const se={allow_calls:Q};w&&w.video&&w.video.length>0&&(se.video_call_app_ids=w.video.map(ce=>ce.id)),w&&w.audio&&w.audio.length>0&&(se.audio_call_app_ids=w.audio.map(ce=>ce.id)),w&&w.profile_field_options&&w.profile_field_options.length>0&&(se.profile_field_option_ids=w.profile_field_options.map(ce=>ce.id)),G.track(a.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...se,contexts:{ui_context:{step:a.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:J,entry_point:"calls-workspace-admin",step_variant:te}}})},"clogCallsApps"),P=_(j=>{let{clogger:w}=j;w.track(a.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:a.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:a.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:a.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var E=e(6304789565);const M=(0,E.Ay)("Clog a standardized click event when a workspace setting is saved",(j,w,Q)=>{let{eventId:G,uiStep:J,stepVariant:te}=Q;(0,D.e)({getState:w}).track(G,{contexts:{ui_context:{ui_step:J,step_variant:te,ui_properties:{element_type:a.ElementType.BUTTON,element_name:"submit_button"},action:a.UiAction.CLICK,is_primary_cta:!0}}})});M.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};const S=M;var R=e(1670069836),k=e(6839188756),O=e(6323355797),U=e(980293773),W=e(6471059816),x=e(3346098136),L=e(462591818);const b=new W.Ay("calls_admin"),F="only_available_for_paid_teams";var B;(function(j){j.Video="video",j.Audio="audio",j.ProfileFieldOptions="profile_field_options"})(B||(B={}));const K=_(j=>{let{type:w,app:Q,isChecked:G,onChangeCallApp:J,isLocked:te}=j;const se=(0,t.useCallback)(()=>J(w,Q.id),[J,w,Q]),ce=`${w}_${Q.id}`;return t.createElement(u.A,{text:Q.name,type:"inline",cursor:"pointer"},t.createElement(v.A,{id:ce,name:Q.name,checked:G,onChange:se,disabled:te,"data-qa":ce}))},"AppCheckbox");K.displayName="AppCheckbox";const H=_(j=>{let{appsState:w,isLocked:Q,type:G}=j;return!Q||!w?!1:G===B.Video&&(0,o.A)(w.video)>0&&(0,o.A)(w.audio)===0||(G===B.Audio&&(0,o.A)(w.audio)>0&&(0,o.A)(w.video))===0},"disableTypeCheckbox"),Y=_(j=>{let{appsState:w,isLocked:Q,appId:G,type:J}=j;if(!Q||!w)return!1;const te=w.video?Object.keys(w.video):[],se=w.audio?Object.keys(w.audio):[],ce=te.length+se.length;if(G&&ce===1){let Ee,de;return te.length===1?(Ee=te[0],de=B.Video):se.length===1&&(Ee=se[0],de=B.Audio),G===Ee&&J===de}return!1},"disableAppCheckbox"),Z=_(j=>{let{type:w,sectionTitle:Q,appsState:G,installedCallApps:J,onChangeCallType:te,onChangeCallApp:se,isLocked:ce,dataQa:Ee}=j;if(!J||!G||!J[w])return null;const de=`enable_${w}_calls`;return t.createElement("div",{className:`p-calls_workspace_settings__${w}_container`,"data-qa":Ee},t.createElement(u.A,{text:Q,type:"inline",cursor:"pointer"},t.createElement(v.A,{checked:!(0,n.A)(G[w]),id:de,name:de,onChange:te,disabled:H({appsState:G,isLocked:ce,type:w})})),t.createElement("p",{className:"p-calls_workspace_settings__options_title"},b.t("Calling options:")),t.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...J[w]].map(re=>t.createElement(K,{app:re,isChecked:(0,c.A)(G[w],re.id),key:`${w}_${re.id}`,onChangeCallApp:se,type:w,isLocked:Y({appsState:G,isLocked:ce,appId:re.id,type:w})}))))},"CallSection");Z.displayName="CallSection";const V=_(j=>{let{installedCallApps:w,appsState:Q,appId:G,type:J,setAppsState:te}=j;if(!w||!Q)return;const se={...Q[J]};if((0,c.A)(se,G))delete se[G],te({...Q,[J]:se});else{const ce=(0,i.A)(w[J],Ee=>Ee.id===G);ce>-1&&(se[G]=ce,te({...Q,[J]:se}))}},"toggleCallApp"),ne=_(j=>{let{installedCallApps:w,appsState:Q,type:G,setAppsState:J}=j;if(!(!Q||!w))if(!(0,n.A)(Q[G]))J({...Q,[G]:{}});else{var te;const se={};(te=w[G])===null||te===void 0||te.forEach((ce,Ee)=>{se[ce.id]=Ee}),J({...Q,[G]:se})}},"toggleCallType"),q=_((j,w)=>{const Q={video:{},audio:{},profile_field_options:{}};return!w||!j||[B.Video,B.Audio,B.ProfileFieldOptions].forEach(G=>{w[G]&&[...w[G]].forEach(te=>{const se=(0,i.A)(j[G],ce=>ce.id===te.id);se>-1&&(Q[G][te.id]=se)})}),Q},"reduceTeamPrefApps"),me=_(function(){let{installedCallApps:j,appsState:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Q={video:[],audio:[]};return!j||!w||[B.Video,B.Audio].forEach(G=>{if(j[G]){const J=[...j[G]],te=w[G];J.forEach(se=>{if((0,c.A)(te,se.id)){var ce;(ce=Q[G])===null||ce===void 0||ce.push((0,r.A)(se,"preselected"))}})}}),Q},"setCallsAppsPayloadToSave"),ue=_(j=>{if(!j||!j.video)return;const w=j.video.findIndex(Q=>Q.id===L.rq);w>=0&&j.video.splice(w,1)},"filterNativeCallsApp"),ae=_(j=>{let{isOpen:w,closeModal:Q,errorMessage:G,buttonLabel:J}=j;return t.createElement(U.dW,{centered:!0,isOpen:w,closeModal:Q},t.createElement(U.$m,{className:"p-calls_workspace_settings__error_modal"},t.createElement(U.qf,null,t.createElement("p",null,G))),t.createElement(U.jl,null,t.createElement(U.ox,null,t.createElement(U.s_,{type:"outline",onClick:Q,"aria-label":J},J))))},"ErrorModal");ae.displayName="ErrorModal";const le=_(j=>{let{installedCallApps:w,teamPrefCallsApps:Q,setMultipleTeamPrefsByApi:G,clogWorkspaceSettingSubmit:J,isLocked:te,isCallsSelectorDisabled:se,clogger:ce,isOrgCallsAppsSettingsEnabled:Ee,team:de,isCallsLocationLockedByOrgAdmin:re,callsLocationLocked:_e}=j;const[ve,ge]=(0,t.useState)(!1),[Le,ke]=(0,t.useState)(""),Ke=b.t("Save"),Ne=b.t("Saved"),Re=b.t("Sorry! Something went wrong. Please try again."),xe=b.t("Allow third-party calls in Slack"),We=b.t("Allow phone number calls in Slack (only in direct messages)"),$=b.t("Ok"),ee=b.t("Sorry, call selection is currently managed by your organization admin."),Ve=b.rt("First install a <a>calling app from the Slack Marketplace</a> then come back here to enable it as a default calling app.",{},vt=>{let{text:Nt}=vt;return t.createElement(p.A,{articleId:208492868},Nt)}),ze=(0,t.useCallback)(()=>{P({clogger:ce}),(0,k.gC)(de,(0,O.hZ)({entryPoint:"calls-admin-workspace-settings"}))},[ce,de]),st=b.rt("Sorry, this feature is only available to <a>paid teams</a>.",{},vt=>{let{text:Nt}=vt;return t.createElement("a",{href:"#",onClick:ze,"data-qa":"paid_plan_page_link"},Nt)}),Ge=Q?q(w,Q):{video:{},audio:{},profile_field_options:{}},[be,Se]=(0,t.useState)(Ge),[we,Ce]=(0,t.useState)(!1),[Te,Ye]=(0,t.useState)(!1),De=_e&&_e.length>0?x.T.US:x.T.GLOBAL,[Pe,ye]=(0,t.useState)(De);(0,t.useEffect)(()=>{const vt=q(w,Q);Se(vt)},[Se,w,Q]);const He=(0,t.useCallback)(vt=>{Ye(!1),ne({installedCallApps:w,appsState:be,type:vt,setAppsState:Se})},[w,be,Se]),Qe=(0,t.useCallback)(()=>He(B.Video),[He]),dt=(0,t.useCallback)(()=>He(B.Audio),[He]),Ot=(0,t.useCallback)(()=>ge(!1),[ge]),yt=(0,t.useCallback)((vt,Nt)=>{Ye(!1),V({installedCallApps:w,appsState:be,appId:Nt,type:vt,setAppsState:Se})},[w,be,Se]),Dt=(0,t.useCallback)(vt=>{ye(vt),Ye(!1)},[ye]),Ct=_(()=>{Ce(!0),J({eventId:a.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const vt=!(0,n.A)(be.video)||!(0,n.A)(be.audio),Nt=me({installedCallApps:w,appsState:be}),It={calls_apps:Nt};(0,k.r7)(de)||(It.allow_calls=vt),re||(It.calls_locations=Pe===x.T.US?[Pe]:[]),G({prefs:It}).then(()=>{Ye(!0),y({callsApps:Nt,allowCalls:vt,clogger:ce,action:a.UiAction.SAVE})}).catch(At=>{var Zt;ge(!0),(At==null||(Zt=At.data)===null||Zt===void 0?void 0:Zt.error)===F?(ke(st),y({callsApps:Nt,allowCalls:vt,clogger:ce,action:a.UiAction.ERROR,stepVariant:F})):(ke(Re),y({callsApps:Nt,allowCalls:vt,clogger:ce,action:a.UiAction.ERROR}))}).finally(()=>Ce(!1))},"onSubmit"),kt=w&&(w.video&&w.video.length>0||w.audio&&w.audio.length>0);return t.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},se&&Ee?t.createElement(m.Ay,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.createElement("span",null,ee)):t.createElement(t.Fragment,null,!kt&&t.createElement(m.Ay,{type:"boxed",level:"info",icon:"info",align:"left"},t.createElement("span",null,Ve)),t.createElement("div",{className:"p-calls_workspace_settings__call_options"},w&&w.video&&w.video.length>0&&t.createElement(Z,{type:B.Video,sectionTitle:xe,appsState:be,installedCallApps:w,onChangeCallType:Qe,onChangeCallApp:yt,isLocked:te}),w&&w.audio&&w.audio.length>0&&t.createElement(Z,{type:B.Audio,sectionTitle:We,appsState:be,installedCallApps:w,onChangeCallType:dt,onChangeCallApp:yt,isLocked:te})),t.createElement(x.A,{appsState:be,isLockedByOrgAdmin:re,selectedCallLocation:Pe,setSelectedCallLocation:Dt}),t.createElement(ae,{closeModal:Ot,isOpen:ve,errorMessage:Le,buttonLabel:$}),kt&&t.createElement(f.A,{onClick:Ct,loading:we,"data-qa":"call_save_button","aria-label":Te?Ne:Ke},Te&&t.createElement(h.A,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),Te?Ne:Ke)))},"CallsWorkspaceSettings");le.displayName="CallsWorkspaceSettings";const fe=_(j=>{const w=(0,l.tV)(j,"calls_apps");ue(w);const Q=(0,T.xp)(j,"calls_apps"),G=(0,I.SI)(j,"calls_locations");return{installedCallApps:w,teamPrefCallsApps:Q,clogger:(0,D.e)({state:j}),isOrgCallsAppsSettingsEnabled:C(j),team:(0,R.H7)(j),isCallsLocationLockedByOrgAdmin:!!G&&G.length>0,callsLocationLocked:(0,T.xp)(j,"calls_locations")}},"mapStateToProps"),he={setMultipleTeamPrefsByApi:d.hz,clogWorkspaceSettingSubmit:S},ie={toggleCallApp:V,toggleCallType:ne,AppCheckbox:K,reduceTeamPrefApps:q,setCallsAppsPayloadToSave:me,disableTypeCheckbox:H,disableAppCheckbox:Y},X=(0,s.N)(fe,he)(le)},6909784049:(N,g,e)=>{"use strict";e.d(g,{o:()=>st});var t=e(3134334389),s=e(9391594207),o=e(166097325),n=e(3300324857),c=e(462591818),i=e(2843556239),r=e(4954329752);function a(){return a=Object.assign||function(Ge){for(var be=1;be<arguments.length;be++){var Se=arguments[be];for(var we in Se)Object.prototype.hasOwnProperty.call(Se,we)&&(Ge[we]=Se[we])}return Ge},a.apply(this,arguments)}_(a,"_extends");let l=_(class extends t.PureComponent{componentDidMount(){var be;(be=this.context.windowRef.deref())===null||be===void 0||be.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){var be;this.isDragging&&this.onMouseUp(),(be=this.context.windowRef.deref())===null||be===void 0||be.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(be){var Se;be.button===0&&(this.isDragging=!0,(Se=this.context.windowRef.deref())===null||Se===void 0||Se.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(be))}onMouseMove(be){be.button===0&&this.isDragging&&this.props.onDragMove(be)}onMouseUp(be){if(be&&be.button!==0)return;const Se=this.isDragging;if(this.isDragging=!1,Se){var we;(we=this.context.windowRef.deref())===null||we===void 0||we.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(be)}}render(){const{children:be,refToForward:Se,onDragStart:we,onDragMove:Ce,onDragEnd:Te,...Ye}=this.props,De=t.Children.only(this.props.children);return t.cloneElement(De,{...Ye,onMouseDown:ye=>this.onMouseDown(ye),ref:(0,r.N)(Se,De)})}constructor(be){super(be),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");l.contextType=i._0,l.displayName="BaseDragTarget";const d=t.forwardRef((Ge,be)=>t.createElement(l,a({},Ge,{refToForward:be})));var u=e(387328355),f=e(6304789565),m=e(2825968873);const h=(0,m.tZ)("USER-ACTIONS"),v=(0,f.Ay)("Logs user interaction with call window",(Ge,be,Se)=>{h.info(Se)});v.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var p=e(1975685771),T=e(8405076696);function A(Ge){I=F(me(Ge))}_(A,"startCurve");function C(Ge){const be=me(Ge),Se=B(I,be);return Se.update_status==O.SUCCESS?Se:B(I,be)}_(C,"addToCurve");let I;const D=2,y=9,P=9,E=50,M=80,S=1,R=!0,k=!0,O={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},U=_(()=>({segments:[],vdmap:[]}),"initCurve"),W=_((Ge,be)=>({c0:{x:Ge,y:be},c1:{x:Ge,y:be},c2:{x:Ge,y:be},c3:{x:Ge,y:be}}),"initCurveSegment"),x=_(Ge=>Ge.segments[Ge.segments.length-1],"getLastSegment"),L=_(Ge=>Ge.c3,"getLastPoint"),b=_(function(Ge){return{c0:{x:Ge.c0.x,y:Ge.c0.y},c1:{x:Ge.c1.x,y:Ge.c1.y},c2:{x:Ge.c2.x,y:Ge.c2.y},c3:{x:Ge.c3.x,y:Ge.c3.y},constrain_to:Ge.constrain_to==null?void 0:{x:Ge.constrain_to.x,y:Ge.constrain_to.y},error:Ge.error||0,update_status:Ge.update_status}},"copySegment"),F=_(function(Ge){let{x:be,y:Se}=Ge;const we=U();return we.segments.push(W(be,Se)),we},"createCurve"),B=_(function(Ge,be){const Se=x(Ge),we=L(Se);if(w(be,L(Se))<S)return Se;if(O.SUCCESS!=Se.update_status&&Se.update_status!==void 0){let Ce;O.FAIL_CORNER==Se.update_status?Ce=W(we.x,we.y):O.FAIL_MAXED==Se.update_status&&(Ce=W(we.x,we.y),Ce.constrain_to=te(Y(Se))),Ge.vdmap=[],Ge.segments.push(Ce)}return K(Ge,be)},"addToCurveImpl"),K=_(function(Ge,be){const Se=x(Ge),{x:we,y:Ce}=be;let Te=L(Se);const Ye=b(Se);if(Z(Se,be))return Se.update_status=O.FAIL_CORNER,Se;Se.c3={x:we,y:Ce},Se.c2={x:Se.c2.x+we-Te.x,y:Se.c2.y+Ce-Te.y};const De=J(Te,be),Pe=ne(De),ye=le(Te,Pe),He=le(be,Pe),Qe=q(he(Pe,2)),dt=G(Qe),Ot=ie(Qe,dt),yt=fe(He,ye),Dt=G(yt),Ct=ie(yt,Dt);let kt=ye;for(let At=0;At<Dt;At++){let Zt=kt,jt=Pe;for(let Ht=0;Ht<dt;Ht++){const{x:Pt,y:Ft}=me(Zt);Ge.vdmap[Pt]||(Ge.vdmap[Pt]=[]),Ge.vdmap[Pt][Ft]==null?Ge.vdmap[Pt][Ft]=me(jt):Ge.vdmap[Pt][Ft]=ue(Ge.vdmap[Pt][Ft])<ue(me(jt))?Ge.vdmap[Pt][Ft]:me(jt),jt=le(jt,Ot),Zt=le(Zt,Ot)}kt=le(kt,Ct)}const vt=fe(be,{x:y,y}),Nt=le(be,{x:y,y});for(let At=vt.x;At<Nt.x;At++)for(let Zt=vt.y;Zt<Nt.y;Zt++){Ge.vdmap[At]||(Ge.vdmap[At]=[]);const jt=fe({x:At,y:Zt},be);Ge.vdmap[At][Zt]==null?Ge.vdmap[At][Zt]=jt:Ge.vdmap[At][Zt]=ue(Ge.vdmap[At][Zt])<ue(jt)?Ge.vdmap[At][Zt]:jt}let It=0;for(;;){let At={x:0,y:0},Zt={x:0,y:0};for(let Pt=0;Pt<P;Pt++){const Ft=Pt/P,En=me(se(Se,Ft)),Rt=H(Ge,En),rn=ae(Rt),nn=Rt.x,at=Rt.y;let tt=1;k&&(Ft<.1||Ft>.9)&&(tt=10),At.x+=Ft*Math.pow(1-Ft,2)*rn*nn*tt,At.y+=Ft*Math.pow(1-Ft,2)*rn*at*tt,Zt.x+=Math.pow(Ft,2)*(1-Ft)*rn*nn*tt,Zt.y+=Math.pow(Ft,2)*(1-Ft)*rn*at*tt}if(k){const Pt=fe(V(Se),Se.c2),Ft=fe(V(Se),Se.c1);At=fe(At,he(Ft,.03)),Zt=fe(Zt,he(Pt,.03))}Se.constrain_to&&(At=he(Se.constrain_to,j(Se.constrain_to,At)));const jt=1;Se.c1.x-=jt*At.x*6/P,Se.c1.y-=jt*At.y*6/P,Se.c2.x-=jt*Zt.x*6/P,Se.c2.y-=jt*Zt.y*6/P;let Ht=0;for(let Pt=0;Pt<P;Pt++){const Ft=Pt/P,En=se(Se,Ft),Rt=H(Ge,me(En));Ht+=Math.pow(Rt.x,2)+Math.pow(Rt.y,2)}if(Ht=Ht/P,It++,Se.error=Ht,Se.steps=It,Ht<D||It>E)break}return It>E?(Se.c0=Ye.c0,Se.c1=Ye.c1,Se.c2=Ye.c2,Se.c3=Ye.c3,Se.error=Ye.error,Se.constrain_to=Ye.constrain_to,Se.update_status=O.FAIL_MAXED,Se):(Se.update_status=O.SUCCESS,Se)},"updateDistanceField"),H=_(function(Ge,be){let{x:Se,y:we}=be;if(Ge.vdmap[Se]){const Ce=Ge.vdmap[Se][we],Te=Ge.vdmap[Se][we+1];let Ye=Ce!=null?{x:Ce.x,y:Ce.y}:{x:y,y};return Te&&Te.x!=null&&Math.abs(Ye.x)>Math.abs(Te.x)&&(Ye.x=Te.x),Te&&Te.y!=null&&Math.abs(Ye.y)>Math.abs(Te.y)&&(Ye.y=Te.y),Ye}else return{x:y,y}},"getDistanceFromPolyline"),Y=_(function(Ge){const be=Ge.c3,Se=Ge.c2;return{x:3*(Se.x-be.x),y:3*(Se.y-be.y)}},"getCurveEndTangent"),Z=_(function(Ge,be){if(X(Ge.c0,Ge.c3))return!1;let Se;R?Se=te(fe(se(Ge,.95),Ge.c3)):Se=te(Y(Ge));const we=te({x:be.x-Ge.c3.x,y:be.y-Ge.c3.y}),Ce=j(Se,we);if(Q(Math.acos(Ce))<M)return!0},"checkCorner"),V=_(Ge=>le(ie(fe(Ge.c3,Ge.c0),2),Ge.c0),"getSegmentMidpoint"),ne=_(Ge=>({x:Ge.x*y,y:Ge.y*y}),"getScaledVectorDifference"),q=_(Ge=>({x:-Ge.x,y:-Ge.y}),"negateVec"),me=_(Ge=>({x:Math.round(Ge.x),y:Math.round(Ge.y)}),"roundVec"),ue=_(Ge=>Math.pow(Ge.x,2)+Math.pow(Ge.y,2),"sumOfSquaresVec"),ae=_(Ge=>Math.sqrt(ue(Ge)),"magnitudeVec"),le=_((Ge,be)=>({x:Ge.x+be.x,y:Ge.y+be.y}),"addVec"),fe=_((Ge,be)=>le(Ge,q(be)),"subVec"),he=_((Ge,be)=>({x:Ge.x*be,y:Ge.y*be}),"multVec"),ie=_((Ge,be)=>he(Ge,1/be),"divVec"),X=_((Ge,be)=>Ge.x==be.x&&Ge.y==be.y,"equalVec"),j=_((Ge,be)=>Ge.x*be.x+Ge.y*be.y,"dotProduct"),w=_(function(Ge){let{x:be,y:Se}=Ge,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(be-we.x,2)+Math.pow(Se-we.y,2))},"getMagnitude"),Q=_(Ge=>Ge*180/Math.PI,"radiansToDegrees"),G=_(Ge=>Math.max(Math.abs(Ge.x),Math.abs(Ge.y)),"getDDASteps"),J=_((Ge,be)=>{const Se=be.x-Ge.x,Ce=be.y-Ge.y,Te=-Se;return te({x:Ce,y:Te})},"getPerpindicularUnitVector"),te=_(function(Ge){let{x:be,y:Se}=Ge;const we=w({x:be,y:Se});return{x:be/we,y:Se/we}},"getUnitVector"),se=_(function(Ge,be){const Se=ce(be,Ge.c0.x,Ge.c1.x,Ge.c2.x,Ge.c3.x),we=ce(be,Ge.c0.y,Ge.c1.y,Ge.c2.y,Ge.c3.y);return{x:Se,y:we}},"getPointAlongCurve"),ce=_(function(Ge,be,Se,we,Ce){return be*Math.pow(1-Ge,3)+Se*3*Ge*Math.pow(1-Ge,2)+we*3*Math.pow(Ge,2)*(1-Ge)+Ce*Math.pow(Ge,3)},"singleComponentBezier");function Ee(Ge,be){return{a:Ge,b:be}}_(Ee,"makeLineSegment");function de(Ge,be){let[Se,we]=Ge,[Ce,Te]=be;return Math.sqrt((Se-Ce)**2+(we-Te)**2)}_(de,"magnitude");class re{add(be){return this.current?de(this.current.a,be)>.05?(this.current=Ee(this.current.b,be),{type:DrawMessageType.New,segment:this.current}):(this.current=Ee(this.current.a,be),{type:DrawMessageType.Edit,segment:this.current}):(this.current=Ee(be,be),{type:DrawMessageType.New,segment:this.current})}}_(re,"ProgressiveEqualLengthMultilineTransformer");class _e{setTargetRect(be){this.targetRect=be}add(be){if(!(0,p.Z)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:Se,left:we,width:Ce,height:Te}=this.targetRect,[Ye,De]=[be[0]-we,be[1]-Se];if(!this.current){A({x:Ye,y:De});const Ot=[Ye/Ce,De/Te];return this.current={a:Ot,b:Ot,c:Ot,d:Ot},{type:c.Sl.New,segment:this.current}}const Pe=this.current,{c0:ye,c1:He,c2:Qe,c3:dt}=C({x:Ye,y:De});return this.current={a:[ye.x/Ce,ye.y/Te],b:[He.x/Ce,He.y/Te],c:[Qe.x/Ce,Qe.y/Te],d:[dt.x/Ce,dt.y/Te]},this.current.a[0]!==Pe.a[0]||this.current.a[1]!==Pe.a[1]?{type:c.Sl.New,segment:this.current}:{type:c.Sl.Edit,segment:this.current}}}_(_e,"ProgressiveCurveTransformer");var ve=e(5950652755),ge=e(3107743571);const Le=2e3,ke=50,Ke=_(Ge=>{const{onDragStart:be,onDragMove:Se,onDragEnd:we,onCursorMoveStart:Ce,onCursorMove:Te,onCursorMoveEnd:Ye,children:De}=Ge,[Pe,ye]=(0,t.useState)(!1),[He,Qe]=(0,t.useState)(!1),[dt,Ot]=(0,t.useState)(0),[yt,Dt]=(0,t.useState)(0),Ct=(0,t.useCallback)(jt=>{jt.button===0&&(ye(!0),be(jt))},[be]),kt=(0,t.useCallback)(()=>{Qe(!1),Ye()},[Qe,Ye]);(0,ge.Z)(()=>{kt()},Le,[dt,yt]);const vt=(0,t.useCallback)(jt=>{if(jt.button===0){if(Pe){Se(jt);return}He||(Ce(jt),Qe(!0)),Te(jt),Ot(jt.movementX),Dt(jt.movementY)}},[He,Pe,Te,Ce,Se]),Nt=(0,ve.A)(vt,ke,{leading:!0}),It=(0,t.useCallback)(jt=>{Nt(jt)},[Nt]),At=(0,t.useCallback)(jt=>{if(jt&&jt.button!==0)return;const Ht=Pe;ye(!1),Ht&&we(jt)},[Pe,we]),Zt=(0,t.useCallback)(jt=>{const Ht=Pe;ye(!1),Ht?we(jt):He&&Ye()},[Pe,we,He,Ye]);return t.createElement("div",{onMouseDown:Ct,onMouseMove:It,onMouseUp:At,onMouseLeave:Zt,"aria-hidden":"true"},De)},"HuddlesCursorTarget");Ke.displayName="HuddlesCursorTarget";const Ne=t.memo(Ke);var Re=e(8558782493),xe=e(8668318456);function We(){return We=Object.assign||function(Ge){for(var be=1;be<arguments.length;be++){var Se=arguments[be];for(var we in Se)Object.prototype.hasOwnProperty.call(Se,we)&&(Ge[we]=Se[we])}return Ge},We.apply(this,arguments)}_(We,"target_extends");let $=_(class extends t.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(be,Se){return!(0,o.A)(this.props,be)||!(0,o.A)(this.state,Se)}componentDidUpdate(be){(0,o.A)(be.targetRect,this.props.targetRect)||this.onResize()}onResize(){var be;if(!(!((be=this.props.refToForward)===null||be===void 0)&&be.current))return;const Se=(0,T.n)(this.props.targetRect);this.props.refToForward.current.style.height=Se.height,this.props.refToForward.current.style.width=Se.width,this.props.refToForward.current.style.top=Se.top,this.props.refToForward.current.style.left=Se.left,this.props.refToForward.current.style.position=Se.position}getCursorCoordinates(be){return this.props.useHuddlesDragTarget?[be.nativeEvent.offsetX,be.nativeEvent.offsetY]:[be.pageX,be.pageY]}onDragStart(be){this.multilineTransformer=new _e,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),n.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),n.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(be)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(be){(0,p.Z)(this.multilineTransformer,"Need transformer to draw")&&n.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(be)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(be){n.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&(0,Re.k)(xe.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:xe.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){n.A.publish({id:"self",type:c.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(be){const Se=this.getCursorCoordinates(be),we=Se[0]/this.props.targetRect.width,Ce=Se[1]/this.props.targetRect.height;n.A.publish({id:"self",type:c.Sl.Position,x:we,y:Ce,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){n.A.publish({id:"self",type:c.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.createElement(Ne,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...(0,T.n)(this.props.targetRect)}})):t.createElement(d,{onDragStart:be=>this.onDragStart(be),onDragMove:be=>this.onDragMove(be),onDragEnd:be=>this.onDragEnd(be)},t.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...(0,T.n)(this.props.targetRect)}}))}constructor(be){super(be),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");$.displayName="BaseDrawTarget";const ee=_((Ge,be)=>({hue:(0,u.Ng)(Ge).drawHue}),"mapStateToProps"),Ve=_(Ge=>({logDrawingAction:be=>Ge(v(be))}),"mapDispatchToProps"),ze=(0,s.N)(ee,Ve)($),st=t.forwardRef((Ge,be)=>t.createElement(ze,We({refToForward:be},Ge)))},5956851410:(N,g,e)=>{"use strict";e.d(g,{u:()=>X});var t=e(3134334389),s=e(166097325),o=e(1649982175),n=e(8571983633),c=e(8840779375),i=e(3300324857),r=e(462591818),a=e(2843556239),l=e(3150724727),d=e(6471059816),u=e(9391594207),f=e(387328355),m=e(5795074931);const h=new d.Ay("calls"),v=_(j=>{let{displayName:w,id:Q,userId:G,color:J}=j;return t.createElement("div",{className:"p-huddles_draw__name_tag",style:J?{background:J}:{}},t.createElement(l.Ay,{className:"p-huddles_draw__name_tag_avatar",key:Q,size:24,userId:G,isInteractive:!1,tabIndex:-1}),t.createElement("div",{className:"p-huddles_draw__name_tag_text"},w))},"NameTag"),p=_((j,w)=>{let{id:Q}=w;return{displayName:Q==="self"?h.t("You"):(0,f.iU)(j,Q),userId:Q==="self"?(0,m.WR)(j):(0,f.C1)(j,Q).userId}},"mapStateToProps"),T=(0,u.N)(p)(v),A=-21,C=-15,I=_(j=>{let{peerId:w,width:Q,height:G,leftOffset:J,topOffset:te,color:se,renderNameTag:ce=!0,isWindowDrawMode:Ee=!1,xWindowPosition:de=0,yWindowPosition:re=0}=j;const _e=(0,t.useRef)(null);let ve,ge;const Le=J*Q,ke=te*G;ve=Math.round(Le+C),ge=Math.round(ke+A),Ee&&(ve+=de,ge+=re);const Ke=(0,t.useMemo)(()=>[ve,ge],[ve,ge]),Ne=_(Re=>{const xe=_e.current;xe&&(xe.style.setProperty("transform",`translate(${Re[0]}px, ${Re[1]}px)`),xe.style.setProperty("visibility","initial"))},"updateCursorPosition");return(0,t.useEffect)(()=>{Ne(Ke)},[Ke]),t.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.createElement("div",{key:`cursor-${w}`,className:"p-huddles_cursor_tracking__cursor",ref:_e},ce&&t.createElement(T,{key:`name-tag-${w}`,id:w,color:se})))},"HuddlesCursor");I.displayName="HuddlesCursor";const D=t.memo(I,s.A);var y=e(2825968873),P=e(8405076696),E=e(5082930587);function M(j,w,Q,G){return`hsla(${j}, ${w}%, ${Q}%, ${G})`}_(M,"makeColorString");const S=_((j,w)=>M(j,100,75,w),"makeBaseColorString"),R=_(j=>M(j,80,50,1),"makeShadowColorString"),k=3;class O{static renderBaseStyle(w){w.lineJoin="round",w.lineCap="round",w.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=O.initialWidth,this.opacity=1,this.color=S(this.hue,this.opacity))}setHue(w){this.hue=w,this.color=S(this.hue,this.opacity),this.shadowColor=R(this.hue),this.observer.requestRenderOnNextFrame()}render(w){this.fade(),w.lineWidth=this.width,w.strokeStyle=this.color,w.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const w=Math.min(1,(performance.now()-this.startedFadingTimestamp)/O.fadeDuration);this.width=O.initialWidth-w*k,this.opacity=1-w/1,this.color=S(this.hue,this.opacity),w<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(w){this.observer=w,this.width=O.initialWidth,this.opacity=1,this.hue=0,this.color=S(this.hue,this.opacity),this.shadowColor=R(this.hue)}}_(O,"LineStyle"),O.initialWidth=7,O.fadeDuration=3e3,O.displayName="LineStyle";let U=_(class{getSegments(){return this.segments}addNewSegment(w){this.segments.push(w)}editLastSegment(w){this.segments.pop(),this.segments.push(w)}constructor(){this.segments=[]}},"ProgressivePlotter");class W extends null{draw(w){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const J=this.getSegments();w.beginPath();for(let te=0;te<J.length;te++){const se=J[te];w.moveTo(se.a[0]*Q,se.a[1]*G),w.lineTo(se.b[0]*Q,se.b[1]*G)}w.stroke()}}_(W,"ProgressiveLineSegmentPlotter");class x extends U{draw(w){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const J=this.getSegments();w.beginPath();for(let te=0;te<J.length;te++){const se=J[te];w.moveTo(se.a[0]*Q,se.a[1]*G),w.bezierCurveTo(se.b[0]*Q,se.b[1]*G,se.c[0]*Q,se.c[1]*G,se.d[0]*Q,se.d[1]*G)}w.stroke()}}_(x,"ProgressiveBezierCurvePlotter");const L=700,b=5e3;class F{onFadeCompleted(){this.plotter=new x,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,b)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,L)}update(w){if(this.resetVestigialLineTimeout(),w.type===r.Sl.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(w.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(w.type===r.Sl.Edit)this.plotter.editLastSegment(w.segment);else if(w.type===r.Sl.End)this.resetInactivityTimeout();else if(w.type===r.Sl.ChangeHue)this.style.setHue(w.hue);else{if(w.type===r.Sl.Position)return;(0,E.Kh)(w.type)}this.observer.requestRenderOnNextFrame()}render(w,Q,G){this.style.render(w),this.plotter.draw(w,Q,G)}setLineVisibility(w){Object.assign(this.visibilityState,w)}getColor(){return this.style.getColor()}constructor(w){this.observer=w,this.plotter=new x,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new O({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}_(F,"DrawLine"),F.displayName="DrawLine";const B=_(j=>{let{refToForward:w,isHidden:Q,numVisibleLines:G,top:J,left:te,width:se,height:ce,doNotApplyTargetRect:Ee}=j;if(Ee){const re={display:Q||G===0?"none":"block"};return t.createElement("canvas",{ref:w,style:re,"data-qa":"huddles-drawing-canvas"})}const de={display:Q||G===0?"none":"block",...(0,P.n)({left:te,top:J,width:se,height:ce})};return t.createElement("canvas",{ref:w,style:de,"data-qa":"huddles-drawing-canvas"})},"Canvas");B.displayName="Canvas";const K=t.memo(B,s.A),H=new d.Ay("calls"),Y=10,Z=10,V=_(j=>{let{displayName:w,coord:[Q,G]}=j;return t.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${Q+Y}px`,top:`${G+Z}px`}},w)},"name_tag_NameTag"),ne=_((j,w)=>{let{id:Q}=w;return{displayName:Q==="self"?H.t("You"):(0,f.iU)(j,Q)}},"name_tag_mapStateToProps"),q=(0,u.N)(ne)(V),me=-33,ue=-9,ae=_(j=>{let{top:w,left:Q,width:G,height:J,leftOffset:te,topOffset:se,id:ce}=j;const Ee=Q+te*G,de=w+se*J,re={left:`${Ee+ue}px`,top:`${de+me}px`},_e=(0,t.useMemo)(()=>[Ee,de],[Ee,de]);return t.createElement(t.Fragment,null,ce!=="self"&&t.createElement("div",{key:`cursor-${ce}`,className:"p-calls_draw__pencil_cursor",style:re}),t.createElement(q,{key:`name-tag-${ce}`,id:ce,coord:_e}))},"Cursor");ae.displayName="Cursor";const le=t.memo(ae,s.A);function fe(){return fe=Object.assign||function(j){for(var w=1;w<arguments.length;w++){var Q=arguments[w];for(var G in Q)Object.prototype.hasOwnProperty.call(Q,G)&&(j[G]=Q[G])}return j},fe.apply(this,arguments)}_(fe,"_extends");var he;class ie extends(he=t.Component){shouldComponentUpdate(w,Q){return!(0,s.A)(this.props,w)||!(0,s.A)(this.state,Q)}getOrCreatePeerLine(w){return this.peerLines[w]=this.peerLines[w]||new F({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:Q=>this.setState(G=>({numVisibleLines:G.numVisibleLines+(Q?1:-1)}))}),this.peerLines[w]}onIncomingPeerLine(w){if(this.props.itemId&&w.itemId&&w.itemId!==this.props.itemId)return;const Q=this.getOrCreatePeerLine(w.id);switch(Q.update(w),w.type){case r.Sl.New:{this.setState(G=>{let{tagCoords:J,userColors:te}=G;return{tagCoords:{...J,[w.id]:w.segment.d},userColors:{...te,[w.id]:Q.getColor()}}});break}case r.Sl.Edit:{this.setState(G=>{let{tagCoords:J}=G;return{tagCoords:{...J,[w.id]:w.segment.d}}});break}case r.Sl.ChangeHue:{this.setState(G=>{let{userColors:J}=G;return{userColors:{...J,[w.id]:Q.getColor()}}});break}case r.Sl.End:{this.setState(G=>{let{tagCoords:J}=G;return{tagCoords:(0,o.A)(J,w.id)}});break}case r.Sl.Position:{const G=[w.x,w.y];this.setState(J=>{let{tagCoords:te}=J;return{tagCoords:{...te,[w.id]:G}}});break}default:break}}componentDidMount(){i.A.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(w,Q){w.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&(0,y.tZ)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&Q.numVisibleLines>0||this.state.numVisibleLines>0&&Q.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){if(!(0,n.A)(this.rafId)){var w;(w=this.context.windowRef.deref())===null||w===void 0||w.cancelAnimationFrame(this.rafId)}i.A.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,O.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.windowRef.deref().requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const w=this.props.targetRect.width,Q=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,w,Q);const G=Object.values(this.peerLines);for(let J=0;J<G.length;J++)G[J].render(this.ctx,w,Q)}renderCursor(w,Q,G){const{targetRect:J,useHuddlesCursor:te,itemId:se,isHostDrawWindow:ce,isWindowDrawing:Ee}=this.props;if(te){const de=this.state.userColors[w],re=se!=="self",_e=ce&&Ee;return t.createElement(D,{key:w,peerId:w,topOffset:Q,leftOffset:G,width:J.width,height:J.height,color:de,renderNameTag:re,isWindowDrawMode:_e,xWindowPosition:J.left,yWindowPosition:J.top})}return t.createElement(le,fe({key:w,id:w,topOffset:Q,leftOffset:G},J))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:w}=this.props,Q={...(0,P.n)({left:w.left,top:w.top,width:w.width,height:w.height})};return t.createElement("div",{className:"p-calls_draw__renderer",style:Q},t.createElement(K,fe({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),(0,c.A)(this.state.tagCoords,(G,J)=>{let[te,se]=G;return this.renderCursor(J,se,te)}))}return t.createElement("div",{className:"p-calls_draw__renderer"},t.createElement(K,fe({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),(0,c.A)(this.state.tagCoords,(w,Q)=>{let[G,J]=w;return this.renderCursor(Q,J,G)}))}constructor(w){super(w),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}_(ie,"BaseDrawRenderer"),ie.contextType=a._0,ie.displayName="BaseDrawRenderer";const X=t.forwardRef((j,w)=>t.createElement(ie,fe({refToForward:w},j)))},1429018002:(N,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),s=e(9391594207),o=e(387328355),n=e(4844578989),c=e.n(n),i=e(4096483543),r=e(4954329752),a=e(7384121809),l=e(6839101721),d=e(3395259576),u=e(2615100822),f=e(4761125736);function m(){return m=Object.assign||function(P){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(P[S]=M[S])}return P},m.apply(this,arguments)}_(m,"_extends");let h=_(class extends t.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var E;const M=this.videoRef.current,{shouldAttachStream:S,tileId:R,peerId:k}=this.props;!R||!M||(this.props.unbindVideo({tileId:R,videoRef:this.videoRef,shouldDetachStream:!!S,peerId:k}),M.removeEventListener("resize",this.onResize),(E=this.interactionObserver)===null||E===void 0||E.disconnect())}setUpMedia(){const E=this.videoRef.current,{shouldAttachStream:M,tileId:S,peerId:R}=this.props;!S||!E||(this.props.bindVideo({tileId:S,videoRef:this.videoRef,shouldAttachStream:!!M,peerId:R}),E.addEventListener("resize",this.onResize))}setupInteractionObserver(){var E;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((E=this.interactionObserver)===null||E===void 0||E.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var M;(M=this.interactionObserver)===null||M===void 0||M.observe(this.videoRef.current)}}interactionObserverCallback(E){const M=E[0];if(!M)return;const S=this.videoRef.current,{shouldAttachStream:R,tileId:k,peerId:O}=this.props;!k||!S||(M.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:k,videoRef:this.videoRef,shouldAttachStream:!!R,peerId:O}):this.props.unbindVideo({tileId:k,videoRef:this.videoRef,shouldDetachStream:!!R,peerId:O}))}onResize(){const E=this.videoRef.current;E&&(this.props.isSharingScreen?E.style.objectFit="contain":E.style.objectFit=E.videoWidth>E.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:E,peerId:M,tileId:S,isActivePeerSharingScreen:R,isShroudVisible:k}=this.props;!E||!S||(M!=="self"&&R&&!k?this.props.pauseVideo({tileId:S}):this.props.unpauseVideo({tileId:S}))}render(){const{refToForward:E,shouldFlip:M,peerId:S,className:R,width:k,height:O,onLoadedData:U}=this.props;return t.createElement("video",m({className:c()("p-calls_video",R,{flipped:M}),ref:(0,r.P)(this.videoRef,E),key:S,"data-qa":"free-willy-video-element",style:{width:k,height:O}},U?{onLoadedData:U}:{}))}constructor(E){super(E),this.videoRef=(0,t.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=E.onResize?E.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");h.displayName="VideoElement";const v=_((P,E)=>{var M;const S=(0,f._Z)(P,"calls_pause_video_on_screenshare")==="treatment",R=(0,o.vz)(P),k=E.peer?(0,o.Bf)(E.peer):!1;let O;if(R)O=E.tileId;else{var U,W,x,L,b,F;O=k?(U=E.peer)===null||U===void 0||(W=U.tileIds)===null||W===void 0||(x=W.screenshare)===null||x===void 0?void 0:x.tileId:(L=E.peer)===null||L===void 0||(b=L.tileIds)===null||b===void 0||(F=b.camera)===null||F===void 0?void 0:F.tileId}return{tileId:O,peerId:(M=E.peer)===null||M===void 0?void 0:M.id,isSharingScreen:k,isShroudVisible:S&&(0,u.A)()?(0,d.pI)(P):!1,isActivePeerSharingScreen:(0,o.$Q)(P),experimentCallsPauseVideoOnScreenshareGroupTreatment:S}},"mapStateToProps"),p=_(P=>({bindVideo:E=>(0,i.A)()?(0,a.dispatchForClientStore)((0,l.d2)(E)):P((0,l.d2)(E)),unbindVideo:E=>(0,i.A)()?(0,a.dispatchForClientStore)((0,l.gJ)(E)):P((0,l.gJ)(E)),pauseVideo:E=>(0,i.A)()?(0,a.dispatchForClientStore)((0,l.WY)(E)):P((0,l.WY)(E)),unpauseVideo:E=>(0,i.A)()?(0,a.dispatchForClientStore)((0,l.D8)(E)):P((0,l.D8)(E))}),"mapDispatchToProps"),T=(0,s.N)(v,p)(h),A=t.forwardRef((P,E)=>t.createElement(T,m({refToForward:E},P)));function C(){return C=Object.assign||function(P){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(P[S]=M[S])}return P},C.apply(this,arguments)}_(C,"peer_video_element_extends");const I=_((P,E)=>{const M=(0,o.vz)(P),S=(0,o.JZ)(P,E.id);let R;const k=E.tileId;if(!M)R=(0,o.fy)(S)&&!S.isScreenshareEnabled;else{var O,U;const W=((O=S.tileIds)===null||O===void 0||(U=O.screenshare)===null||U===void 0?void 0:U.tileId)===k;R=(0,o.fy)(S)&&!W}return{peer:S,tileId:k,shouldFlip:R}},"peer_video_element_mapStateToProps"),D=(0,s.N)(I)(A),y=t.forwardRef((P,E)=>t.createElement(D,C({},P,{refToForward:E})))},1337358413:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>m,Ft:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9391594207),c=e(3328068409),i=e(9009528296),r=e(9853754481);function a(){return a=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var p=arguments[v];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(h[T]=p[T])}return h},a.apply(this,arguments)}_(a,"_extends");const l=15;function d(h){return Math.min(1,Math.max(0,r.Ep*h))}_(d,"getClampedAudioLevel");let u=_(class extends t.PureComponent{componentDidMount(){i.A.subscribe(this.onLevelUpdated)}componentWillUnmount(){i.A.unsubscribe(this.onLevelUpdated)}onLevelUpdated(v){const{isEnabled:p}=this.props;if(!p){this.numBubbles>0&&this.setState(()=>({numActiveBubbles:0,numInactiveBubbles:this.numBubbles}));return}const T=Math.floor(this.numBubbles*d(v));this.setState(()=>({numActiveBubbles:T,numInactiveBubbles:this.numBubbles-T}))}renderBubbles(){const{numActiveBubbles:v,numInactiveBubbles:p}=this.state,{bubbleClassname:T}=this.props,A=o()("p-audio_levels__bubble","p-audio_levels__bubble--active",T,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),C=o()("p-audio_levels__bubble","p-audio_levels__bubble--inactive",T,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),I=Array.from({length:v},(y,P)=>t.createElement("span",{key:`active${P}`,className:A})),D=Array.from({length:p},(y,P)=>t.createElement("span",{key:P,className:C}));return I.concat(D)}render(){const v=this.props.ariaLabelledBy||this.props.ariaLabel?{role:"meter","aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-valuenow":Math.floor(this.state.numActiveBubbles/this.numBubbles*100),"aria-valuemin":0,"aria-valuemax":100,tabIndex:0}:{};return t.createElement("div",a({className:o()("p-audio_levels",this.props.containerClassName),"data-qa":"audio-levels-bubbles"},v),this.renderBubbles())}constructor(v){super(v);var p;this.numBubbles=(p=this.props.initNumBubbles)!==null&&p!==void 0?p:l;var T;this.state={numInactiveBubbles:(T=v.initNumBubbles)!==null&&T!==void 0?T:l,numActiveBubbles:0},this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");u.displayName="AudioMeter";const f=_(h=>({clientTheme:(0,c.to)(h)}),"mapStateToProps"),m=(0,n.N)(f)(u)},5227672331:(N,g,e)=>{"use strict";e.d(g,{AJ:()=>r,S:()=>d,p:()=>a});var t=e(1545824888),s=e(6304789565),o=e(5046160032),n=e(4914127094),c=e(7344959578),i=e(7299481592),r;(function(u){u.HuddleSurvey="huddle-survey",u.ListsSurvey="lists-survey",u.TodosSurvey="todos-survey"})(r||(r={}));var a;(function(u){u.NoAudioInput="no-audio-input",u.NoAudioOutput="no-audio-output",u.LowVideoQuality="low-video-quality",u.LowAudioQuality="low-audio-quality",u.VideoNotWorking="video-not-working",u.DeviceSelectionError="device-selection-error",u.Disconnected="disconnected",u.SomethingElse="something-else",u.Dismiss="dismiss"})(a||(a={}));function l(u){return u.isOk}_(l,"isOkResult");const d=(0,s.Ay)("Send survey results",(u,f,m)=>{var h,v;const p=f();var T;const A=(T=m.callId)!==null&&T!==void 0?T:p.activeCall.id;if(!A)return(0,i.M)(!1,"There should have been a call in order to send survey results."),t.S.reject(new Error("SendSurveyResult: No call"));var C;const I=(C=m.type)!==null&&C!==void 0?C:"vo-survey",D=l(m)?void 0:{response_requested:!1,comments:m.comments,is_video:(h=p.activeCall)===null||h===void 0?void 0:h.hasVideoBeenEnabled,is_ss:(v=p.activeCall)===null||v===void 0?void 0:v.hasScreenshareBeenEnabled,list_id:m==null?void 0:m.listId,list_entry_point:m==null?void 0:m.listEntryPoint},y=l(m)||I===r.ListsSurvey||I===r.TodosSurvey?"ok":m.notOkResponses.join(","),P={room:A,event_type:I,event_value:y,event_metadata:JSON.stringify(D)};return(0,o.A)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:(0,n.F)(p),versionTs:(0,c.HF)(),versionUid:(0,c.X3)(),args:P})?t.S.resolve():t.S.reject(new Error("SendSurveyResult: beacon failed"))});d.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"}},1183664059:(N,g,e)=>{"use strict";e.d(g,{_:()=>c});var t=e(2825968873);const s=0;class o{setHuddleStarted(){this.huddleStartedTime=Date.now(),this.logger.info("Audio detection tracker Huddle started set")}trackVolumeIndicator(r,a){if(a===null||this.bothSidesAudioDetected)return;const d=Date.now()-this.huddleStartedTime;r&&!this.hasDetectedSelfAudio&&a>s?(this.hasDetectedSelfAudio=!0,this.selfAudioDetectionTime=d,this.logger.info(`Self audio detected for the first time (${this.getFormattedDuration(d)} seconds since Huddle start)`)):!r&&!this.hasDetectedRemoteAudio&&a>s&&(this.hasDetectedRemoteAudio=!0,this.remoteAudioDetectionTime=d,this.logger.info(`Remote peer audio detected for the first time (${this.getFormattedDuration(d)} seconds since Huddle start)`)),this.checkBothSidesDetected(d)}checkBothSidesDetected(r){this.hasDetectedSelfAudio&&this.hasDetectedRemoteAudio&&!this.bothSidesAudioDetected&&(this.bothSidesAudioDetected=!0,this.logger.info(`Audio detected for self and remote (${this.getFormattedDuration(r)} seconds since Huddle start)`))}hasSelfAudioBeenDetected(){return this.hasDetectedSelfAudio}getSelfAudioDetectionTime(){return this.selfAudioDetectionTime}hasRemoteAudioBeenDetected(){return this.hasDetectedRemoteAudio}getRemoteAudioDetectionTime(){return this.remoteAudioDetectionTime}haveBothSidesBeenDetected(){return this.bothSidesAudioDetected}getFormattedDuration(r){return Math.floor(r/1e3).toString()}setHuddleEnded(){this.huddleStartedTime=0,this.hasDetectedSelfAudio=!1,this.hasDetectedRemoteAudio=!1,this.selfAudioDetectionTime=void 0,this.remoteAudioDetectionTime=void 0,this.bothSidesAudioDetected=!1,this.logger.info("Audio detection tracker reset")}constructor(){this.logger=(0,t.Jt)("AUDIO-DETECTION-TRACKER"),this.huddleStartedTime=0,this.hasDetectedSelfAudio=!1,this.hasDetectedRemoteAudio=!1,this.bothSidesAudioDetected=!1,this.logger.info("Audio detection tracker initialized")}}_(o,"AudioDetectionTracker");let n;const c=_(()=>(n||(n=new o),n),"getAudioDetectionTracker")},610288365:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>i});var t=e(6696292586),s=e(3398586081);class o{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var a,l;(a=this.battery)===null||a===void 0||a.addEventListener("chargingchange",this.handleBatteryUpdate),(l=this.battery)===null||l===void 0||l.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var a,l;(a=this.battery)===null||a===void 0||a.removeEventListener("chargingchange",this.handleBatteryUpdate),(l=this.battery)===null||l===void 0||l.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)},this.initialize=async()=>{await this.setUp(),this.updateBatteryState()},this.setUp=async()=>{if(!this.isInitialized)try{if(navigator.getBattery){const a=await navigator.getBattery();this.battery=a,this.battery&&(this.isSupported=!0,this.updateBatteryState(),this.registerListeners())}else this.isSupported=!1}catch{this.isSupported=!1}finally{this.isInitialized=!0}},this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!(0,t.A)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}_(o,"HuddleBatteryManager");const n=(0,s.A)(()=>new o),c={getHuddleBatteryManager:n,HuddleBatteryManager:o},i=n},6664301844:(N,g,e)=>{"use strict";e.d(g,{$H:()=>re,$b:()=>h,$s:()=>de,E9:()=>p,Es:()=>i,I8:()=>u,KK:()=>j,Ll:()=>B,Ls:()=>xe,QJ:()=>x,Q_:()=>ge,RM:()=>ce,VW:()=>We,Ws:()=>le,XL:()=>m,Xw:()=>c,ZT:()=>G,Ze:()=>ae,_R:()=>te,b9:()=>v,dQ:()=>r,gi:()=>I,i3:()=>X,j3:()=>Re,jp:()=>U,jq:()=>ke,kM:()=>Ke,mn:()=>f,of:()=>ve,px:()=>Ne,uL:()=>d,vB:()=>he,w2:()=>Le,wV:()=>me,xY:()=>a,xc:()=>W,z2:()=>l,zF:()=>H,zg:()=>se});var t=e(7164668892),s=e.n(t),o=e(3305135794),n=e.n(o);let c=t.CheckAudioConnectivityFeedback,i=t.CheckAudioInputFeedback,r=t.CheckAudioOutputFeedback,a=t.CheckCameraResolutionFeedback,l=t.CheckContentShareConnectivityFeedback,d=t.CheckNetworkTCPConnectivityFeedback,u=t.CheckNetworkUDPConnectivityFeedback,f=t.CheckVideoConnectivityFeedback,m=t.CheckVideoInputFeedback,h=t.LogLevel,v=t.MeetingSessionStatusCode,p=t.TranscriptItemType,T=null;const A=null;let C=null;const I=t.AllHighestVideoBandwidthPolicy;let D,y=null,P=null;const E=t.DefaultDeviceController;let M;const S=t.DefaultMeetingReadinessChecker;let R;const k=t.DefaultMeetingSession;let O,U=t.DefaultModality,W=t.DefaultVideoTile,x=t.MeetingSessionConfiguration,L=null,b=null,F=null,B=t.PermissionDeniedError,K=null,H=t.Versioning,Y=null,Z=null,V=null,ne=null,q=null,me=t.VoiceFocusDeviceTransformer,ue=null,ae=t.DefaultVideoTransformDevice,le=t.BackgroundBlurVideoFrameProcessor,fe=null,he=t.CSPMonitor;const ie=null;let X=t.VideoFxProcessor,j=t.VideoCodecCapability,w=!1,Q=!1;async function G($){if(w=$,!w||Q)return;const ee=await Promise.resolve().then(e.t.bind(e,3305135794,23));c=ee.CheckAudioConnectivityFeedback,i=ee.CheckAudioInputFeedback,r=ee.CheckAudioOutputFeedback,a=ee.CheckCameraResolutionFeedback,l=ee.CheckContentShareConnectivityFeedback,d=ee.CheckNetworkTCPConnectivityFeedback,u=ee.CheckNetworkUDPConnectivityFeedback,f=ee.CheckVideoConnectivityFeedback,m=ee.CheckVideoInputFeedback,C=ee.ClientVideoStreamReceivingReport,y=ee.ConnectionHealthData,P=ee.DataMessage,M=ee.DefaultDeviceController,R=ee.DefaultMeetingReadinessChecker,O=ee.DefaultMeetingSession,U=ee.DefaultModality,W=ee.DefaultVideoTile,h=ee.LogLevel,x=ee.MeetingSessionConfiguration,L=ee.MeetingSessionStatus,v=ee.MeetingSessionStatusCode,b=ee.MeetingSessionVideoAvailability,F=ee.MutableVideoPreferences,B=ee.PermissionDeniedError,K=ee.TargetDisplaySize,p=ee.TranscriptItemType,T=ee.TranscriptionStatusType,H=ee.Versioning,Y=ee.VideoPreference,Z=ee.VideoPreferences,V=ee.VideoPriorityBasedPolicy,ne=ee.VideoPriorityBasedPolicyConfig,q=ee.VideoTileState,D=ee.AudioProfile,me=ee.VoiceFocusDeviceTransformer,ue=ee.DefaultBrowserBehavior,ae=ee.DefaultVideoTransformDevice,le=ee.BackgroundBlurVideoFrameProcessor,fe=ee.BackgroundReplacementVideoFrameProcessor,he=ee.CSPMonitor,X=ee.VideoFxProcessor,j=ee.VideoCodecCapability,Q=!0}_(G,"setUseExpSDK");function J(){return w}_(J,"isUsingExpSDK");function te(){return M||E}_(te,"getDefaultDeviceController");function se(){return E}_(se,"getDefaultDeviceControllerDefault");function ce(){return M}_(ce,"getDefaultDeviceControllerExp");function Ee(){return R||S}_(Ee,"getDefaultMeetingReadinessChecker");function de(){return S}_(de,"getDefaultMeetingReadinessCheckerDefault");function re(){return R}_(re,"getDefaultMeetingReadinessCheckerExp");function _e(){return O||k}_(_e,"getDefaultMeetingSession");function ve(){return k}_(ve,"getDefaultMeetingSessionDefault");function ge(){return O}_(ge,"getDefaultMeetingSessionExp");function Le(){return me}_(Le,"getVoiceFocusDeviceTransformer");function ke(){return ae}_(ke,"getDefaultVideoTransformDevice");function Ke(){return le}_(Ke,"getBackgroundBlurVideoFrameProcessor");function Ne(){return o.BackgroundReplacementVideoFrameProcessor}_(Ne,"getBackgroundReplacementVideoFrameProcessor");function Re(){return t.AudioProfile}_(Re,"getAudioProfileDefault");function xe(){return D}_(xe,"getAudioProfileExp");function We($){return!!$.type}_(We,"isTranscriptEventTranscriptionStatus")},252549317:(N,g,e)=>{"use strict";e.d(g,{LD:()=>i,MS:()=>r,Vd:()=>l,k0:()=>a});var t=e(8571983633),s=e(4094753332),o=e(9042410435);const n="4.30.79",c=[o.R.DesktopScreen,o.R.DesktopWindow];function i(){return!!(0,s.dY)(n)}_(i,"isWindowDrawingSupported");function r(d){return(0,t.A)(d)?o.f.None:d.startsWith("screen:")?o.f.Screen:d.startsWith("window:")?o.f.Window:o.f.Other}_(r,"determineContentShareTypeFromSourceId");function a(d){if(!(0,s.y3)())return o.R.BrowserContent;const u=r(d);if((0,s.y3)())switch(u){case o.f.Screen:return o.R.DesktopScreen;case o.f.Window:return o.R.DesktopWindow;default:return o.R.DesktopUnknown}return o.R.Unknown}_(a,"determineFullContentShareSourceType");function l(d){return c.includes(d)}_(l,"doesContentShareTypeSupportDrawing")},9042410435:(N,g,e)=>{"use strict";e.d(g,{R:()=>s,f:()=>t});var t;(function(o){o.Screen="screen",o.Window="window",o.Other="other",o.None="none"})(t||(t={}));var s;(function(o){o.DesktopScreen="desktop:screen",o.DesktopWindow="desktop:window",o.DesktopUnknown="desktop:unknown",o.BrowserContent="browser:content",o.MobileScreen="mobile:screen",o.Unknown="unknown"})(s||(s={}))},416787925:(N,g,e)=>{"use strict";e.d(g,{Bm:()=>l,LL:()=>r,On:()=>h,Zy:()=>i,dx:()=>c,my:()=>a,tk:()=>u});var t=e(2208015175),s=e(7174777686),o=e(8736071954),n=e(336376314);const c="default",i="communications",r=[o.lW.Microphone,o.lW.Camera,o.Q4];function a(v,p){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;(0,t.A)(p,(A,C)=>{if(!(0,s.A)(T,C))return;if(!A.length){v.warn(`No ${C} devices available`);return}const I=new n.M(["id","label"]);A.forEach(D=>{I.add([D.id,D.label].map(String))}),v.info(`${C} devices:
${I.report()}`)})}_(a,"logDevices");function l(){return{camera:[],microphone:[],output:[]}}_(l,"createEmptyDevices");const d={audioinput:o.lW.Microphone,videoinput:o.lW.Camera,audiooutput:o.Q4};function u(v){const p=d[v.kind],T={id:v.deviceId,label:v.label||void 0,groupId:v.groupId||void 0};return f(p)?{...T,type:p}:{...T,type:p}}_(u,"makeDevice");function f(v){return v!==o.Q4}_(f,"isInputDeviceType");function m(v){return f(v.type)}_(m,"isInputDevice");function h(v){return v.replace(/ *?\([^)]*?\) *?/g,"")}_(h,"removeDeviceIdFromDeviceLabel")},1473609332:(N,g,e)=>{"use strict";e.d(g,{t3:()=>i,Bh:()=>u,i4:()=>m});var t=e(4103274853);function s(){return"0.1"}_(s,"getDevicePrefsVersion");var o=e(416787925),n=e(2825968873);const c="devicePrefs";function i(v){return(0,t.A)(v,p=>p[0])}_(i,"getPreferredDevices");function r(){return{camera:[],microphone:[o.dx,o.Zy],output:[o.dx,o.Zy]}}_(r,"createDefaultDevicePriority");function a(){return{camera:[],microphone:[],output:[]}}_(a,"createDefaultDeviceExtendedPriority");function l(){return{enableAGC:!0,enableNoiseSuppression:!0}}_(l,"createDefaultAudioPrefs");function d(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}_(d,"createDefaultVideoPrefs");function u(){const v=localStorage.getItem(c),p={version:s(),deviceIdPriorities:r(),deviceIdPrioritiesExtended:a(),video:d(),audio:l()};if(!v)return p;try{const T=JSON.parse(v);return T.version!==s()?p:{...p,...T}}catch(T){return(0,n.tZ)("DEVICES").error("Could not read device preferences from localStorage: ",T.message),p}}_(u,"readDevicePrefs");async function f(v){const p={},T=await navigator.mediaDevices.enumerateDevices();for(const A of Object.keys(v)){const C=[],I=A;for(let D=0;D<v[I].length;D++){const y=v[I][D],P=T.find(E=>E.deviceId===y);P&&C.push({id:P.deviceId,groupId:P.groupId,label:P.label,labelWithoutId:(0,o.On)(P.label)})}p[A]=C}return p}_(f,"updateDeviceIdPrioritiesExtended");async function m(v){try{const p=await f(v.deviceIdPriorities),T={...v,deviceIdPrioritiesExtended:p};localStorage.setItem(c,JSON.stringify(T))}catch(p){(0,n.tZ)("DEVICES").error("Could not write device preferences to localStorage: ",p.message)}}_(m,"writeDevicePrefs");function h(v,p){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const A=zipObject(p,range(p.length)),C=zipObject(T.map(I=>I.labelWithoutId),range(T.length));return sortBy(v,I=>{const D=removeDeviceIdFromDeviceLabel(I.label);return isUndefined(A[I.deviceId])?isUndefined(C[D])?1/0:C[D]:A[I.deviceId]})}_(h,"sortDevicesByPriorityWithFallback")},9195837907:(N,g,e)=>{"use strict";e.d(g,{t:()=>t});var t;(function(s){s.Blur="blur",s.Background="bg"})(t||(t={}))},7149946954:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>E});var t=e(8736071954),s=e(4518410378),o=e(5387083734),n=e(462591818),c=e(4094753332),i=e(337319621),r;(function(M){M.Granted="granted",M.Denied="denied",M.Prompt="prompt",M.NotDetermined="not-determined",M.Restricted="restricted",M.Unknown="unknown"})(r||(r={}));var a;(function(M){M.CAMERA="camera",M.MICROPHONE="microphone",M.SCREEN="display-capture"})(a||(a={}));const l={[n.mT.MICROPHONE]:a.MICROPHONE,[n.mT.CAMERA]:a.CAMERA,[n.mT.SCREEN]:a.SCREEN},d={[n.mT.MICROPHONE]:null,[n.mT.CAMERA]:null,[n.mT.SCREEN]:null},u=_(()=>({...d}),"getInitialPermissionsState");var f=e(6998663753),m=e(1545824888);let h=_(class{constructor(S){this.config=S,this.canAccessMediaResource=R=>{const k=this.wasPermissionGranted(R);return this.logger.info(`${R} permissions granted: ${k}`),{isAvailable:this.config.isElectronApiAvailable,status:this.permissions[R]}},this.requestMediaAccess=async R=>(this.updatePermissionsState(R,this.getDefaultAccessResult().status),this.logger.error("Requesting media access is not implemented for this device, but it is being called. This is likely a bug."),m.S.resolve({isAvailable:this.config.isElectronApiAvailable,isGranted:!0})),this.refreshAllPermissions=async()=>{try{await this.refreshDevicePermissionStatus(n.mT.MICROPHONE),await this.refreshDevicePermissionStatus(n.mT.CAMERA),await this.refreshDevicePermissionStatus(n.mT.SCREEN)}catch(R){this.logger.warn("An error occurred while refreshing device permissions",R)}},this.refreshDevicePermissionStatus=async R=>{this.updatePermissionsState(R,this.getDefaultAccessResult().status)},this.getDefaultAccessResult=()=>({isAvailable:this.config.isElectronApiAvailable,status:t.eJ.Granted}),this.updatePermissionsState=(R,k)=>{this.permissions[R]!==k&&(this.logger.info(`permission state for ${R} changed to ${k}`),this.permissions[R]=k,this.config.onPermissionsChange(this.permissions))},this.wasPermissionGranted=R=>{let k=!1;return this.permissions[R]&&(k=this.permissions[R]===t.eJ.Granted),k},this.hasNoKnownPermissions=R=>this.permissions[R]===null,this.logger=this.config.logger,this.permissions=this.config.initialState}},"DefaultDevicePermissions");var v=e(9323322135);let p=_(class extends h{constructor(S){super(S),this.refreshDevicePermissionStatus=async R=>{const{status:k}=await(0,v.XBC)(R);this.logger.info(`Received ${R} access status for desktop app: ${k}`),this.updatePermissionsState(R,k)},this.requestMediaAccess=async R=>{const{isAvailable:k,isGranted:O}=await(0,v.Nin)(R);return this.updatePermissionsState(R,O?t.eJ.Granted:t.eJ.Denied),{isAvailable:k,isGranted:!!O}}}},"DesktopDevicePermissions"),T=_(class extends h{constructor(S){super(S),this.refreshDevicePermissionStatus=async R=>{if(R===n.mT.SCREEN)return;const k=R===n.mT.MICROPHONE?"audioinput":"videoinput";try{const U=(await navigator.mediaDevices.enumerateDevices()).filter(x=>x.kind===k),W=U.length>0&&U.some(x=>x.label.trim()!=="");this.updatePermissionsState(R,W?t.eJ.Granted:t.eJ.NotDetermined)}catch{this.logger.error('An error occurred enumerating devices. Setting access status to "granted"'),this.updatePermissionsState(R,t.eJ.NotDetermined)}}}},"FirefoxDevicePermissions"),A=_(class extends h{constructor(...S){super(...S),this.changeHandlers=u(),this.refreshDevicePermissionStatus=async R=>{const k=await navigator.permissions.query({name:l[R]});this.updatePermissionsState(R,k.state),this.logger.info(`Received ${R} access status for browser: ${this.permissions[R]}`),this.maybeRegisterPermissionChangeListener(R,k)},this.maybeRegisterPermissionChangeListener=(R,k)=>{if(!this.changeHandlers[R]){const O=_(()=>this.onPermissionChangeEvent(R,k==null?void 0:k.state),"handler");k.addEventListener("change",O),this.changeHandlers[R]=O}},this.onPermissionChangeEvent=(R,k)=>{this.updatePermissionsState(R,k)}}},"BrowserDevicePermissions");var C=e(1917379822);const I="device-permissions-state",D=7*24*60*60*1e3,y=5*1e3;class P{isPersistedStateTrustworthy(S){return!(!S||Date.now()-S>D)}savePermissionsToLocalStorage(S){try{const R={permissions:S,timestamp:Date.now()},k=JSON.stringify(R);localStorage.setItem(I,k),this.logger.info(`Permissions saved to local storage: ${k}`)}catch(R){this.logger.error("Error saving permissions to local storage",R)}}readPermissionsFromLocalStorage(){try{const S=localStorage.getItem(I);if(S){this.logger.info(`Permissions loaded from local storage ${S}`);const R=JSON.parse(S);return this.isPersistedStateTrustworthy(R==null?void 0:R.timestamp)?R.permissions:(this.logger.warn("Permissions not considered trustworthy. Requiring refresh"),null)}}catch(S){this.logger.error("Error reading permissions from local storage",S)}return null}constructor(){this.isSSB=(0,c.y3)(),this.logger=(0,i.Wo)({label:"DEVICE-PERMISSIONS-MANAGER"}),this.initialized=!1,this.init=(0,f.A)(async()=>{this.logger.info("Initializing media device permissions manager"),this.initialized=!0,this.permissionsStrategy=this.getStrategy(),setTimeout(this.refreshAllPermissions,y),this.logger.info("Scheduled permissions refresh")}),this.canAccessMediaResource=S=>{var R,k;return!((R=this.permissionsStrategy)===null||R===void 0)&&R.canAccessMediaResource?this.permissionsStrategy.canAccessMediaResource(S):{isAvailable:!!(!((k=this.config)===null||k===void 0)&&k.isElectronApiAvailable),status:t.eJ.Granted}},this.requestMediaAccess=async S=>{var R;return!((R=this.config)===null||R===void 0)&&R.isElectronApiAvailable?this.permissionsStrategy.requestMediaAccess(S):(this.logger.warn("Permissions strategy not available"),{isAvailable:!1,isGranted:!0})},this.getStrategy=()=>{const S={initialState:this.readPermissionsFromLocalStorage()||u(),isElectronApiAvailable:this.isSSB&&(0,c.cX)(),onPermissionsChange:this.onPermissionsChange,logger:this.logger};return this.config=S,(0,c.y3)()?(this.logger.info("Using desktop device permissions strategy"),new p(S)):(0,c.gm)()?(this.logger.info("Using Firefox device permissions strategy"),new T(S)):this.shouldUsePermissionsApi()?(this.logger.info("Using browser device permissions strategy"),new A(S)):(this.logger.info("Using default device permissions strategy"),new h(S))},this.onPermissionsChange=S=>{this.logger.info("Permissions changed",S),(0,C.pq)(),this.savePermissionsToLocalStorage(S)},this.refreshAllPermissions=async()=>{this.logger.info("Refreshing all permissions");try{await navigator.mediaDevices.enumerateDevices(),await this.refreshPermissions(n.mT.MICROPHONE),await this.refreshPermissions(n.mT.CAMERA),await this.refreshPermissions(n.mT.SCREEN)}catch(S){this.logger.warn("An error occurred while refreshing device permissions",S)}},this.refreshPermissions=async S=>(this.logger.debug(`Refreshing ${S} permissions`),(0,o.IE)("media-access-update",async()=>this.permissionsStrategy.refreshDevicePermissionStatus(S)).catch(R=>{this.logger.warn(`An error occurred while trying to check ${S} permissions`,R)})),this.shouldUsePermissionsApi=()=>!this.isSSB&&!(0,c.gm)()&&"permissions"in s.J.navigator,this.clearAllPermissions=()=>{this.initialized&&this.savePermissionsToLocalStorage(u())}}}_(P,"DevicePermissionsManager");const E=new P},6148781344:(N,g,e)=>{"use strict";e.d(g,{S:()=>c,p:()=>d});var t=e(8736071954),s=e(7424390592),o=e(336376314),n=e(9196706215),c;(function(u){u.InputTrackHandler="inputTrackHandler",u.CameraPreviewV2="cameraPreviewV2",u.CameraPreviewV1="cameraPreviewV1",u.JoinPreviewCamera="joinPreviewCamera",u.AudioOutSettingsMenuItems="audioOutSettingsMenuItems",u.CameraSettingsMenuItems="cameraSettingsMenuItems",u.MicSettingsMenuItems="micSettingsMenuItems",u.TroubleshootingPanelDeviceSelector="troubleshooting-panel-device-selector",u.ClipsVideoRecorderSettingsMenu="clips-video-recorder-settings-menu",u.AudioAndVideoPreferences="audio-and-video-preferences"})(c||(c={}));const i={[c.InputTrackHandler]:"auto",[c.CameraPreviewV2]:"userInitiated",[c.CameraPreviewV1]:"userInitiated",[c.JoinPreviewCamera]:"userInitiated",[c.AudioOutSettingsMenuItems]:"userInitiated",[c.CameraSettingsMenuItems]:"userInitiated",[c.MicSettingsMenuItems]:"userInitiated",[c.TroubleshootingPanelDeviceSelector]:"userInitiated",[c.ClipsVideoRecorderSettingsMenu]:"userInitiatedOutOfHuddle",[c.AudioAndVideoPreferences]:"userInitiatedOutOfHuddle"},r=60*1e3;let a=_(class{trackDeviceChange(f,m,h){try{const v={deviceId:f,deviceType:m,source:h,timestamp:Date.now()};this.deviceChanges.push(v),this.huddleStartTime&&i[h]==="userInitiated"&&v.timestamp-this.huddleStartTime<=r&&this.incrementDeviceChangeCount(m),s.A.info("Device change tracked:",{...v})}catch(v){s.A.warn("Problem tracking device change:",v)}}incrementDeviceChangeCount(f){switch(f){case t.lW.Microphone:this.audioInputDevicesChangedAtStartOfHuddleCount+=1;break;case t.lW.Camera:this.videoInputDevicesChangedAtStartOfHuddleCount+=1;break;case t.Q4:this.audioOutputDevicesChangedAtStartOfHuddleCount+=1;break;default:break}}setHuddleStarted(){this.huddleStartTime&&(s.A.warn("Huddle start time already set"),this.reset()),this.huddleStartTime=Date.now()}setHuddleEnded(){try{this.logDeviceChangesForHuddle(),this.reset()}catch(f){s.A.warn("Problem encountered with device change tracker tear down",f)}}getDeviceChangeCountsAtStartOfHuddle(){return{audioInputDevicesChangedAtStartOfHuddleCount:this.audioInputDevicesChangedAtStartOfHuddleCount,audioOutputDevicesChangedAtStartOfHuddleCount:this.audioOutputDevicesChangedAtStartOfHuddleCount,videoInputDevicesChangedAtStartOfHuddleCount:this.videoInputDevicesChangedAtStartOfHuddleCount}}logDeviceChangesForHuddle(){if(!this.deviceChanges.length){s.A.info("No device changes recorded for this huddle");return}const f=new o.M(["Device ID","Type","Source","Category","Time Since Start (s)","Time"]);this.deviceChanges.forEach(m=>{const h=this.huddleStartTime?Math.round((m.timestamp-this.huddleStartTime)/1e3):"N/A",v=(0,n.Ay)(m.timestamp).format("HH:mm:ss"),p=i[m.source];f.add([m.deviceId,m.deviceType,m.source,p,String(h),v])}),s.A.info(`Device changes during huddle:
${f.report()}`),s.A.info("Device change counts at start of the huddle:",{audioInputDevicesChangedAtStartOfHuddleCount:this.audioInputDevicesChangedAtStartOfHuddleCount,audioOutputDevicesChangedAtStartOfHuddleCount:this.audioOutputDevicesChangedAtStartOfHuddleCount,videoInputDevicesChangedAtStartOfHuddleCount:this.videoInputDevicesChangedAtStartOfHuddleCount})}reset(){this.deviceChanges=[],this.huddleStartTime=null,this.audioInputDevicesChangedAtStartOfHuddleCount=0,this.audioOutputDevicesChangedAtStartOfHuddleCount=0,this.videoInputDevicesChangedAtStartOfHuddleCount=0}constructor(){this.deviceChanges=[],this.huddleStartTime=null,this.audioInputDevicesChangedAtStartOfHuddleCount=0,this.audioOutputDevicesChangedAtStartOfHuddleCount=0,this.videoInputDevicesChangedAtStartOfHuddleCount=0}},"DeviceChangeTracker"),l;const d=_(()=>(l||(l=new a),l),"getDeviceChangeTracker")},1917379822:(N,g,e)=>{"use strict";e.d(g,{$S:()=>Te,_o:()=>Ce,Nj:()=>Se,T5:()=>st,Zy:()=>ee,G0:()=>Ye,pq:()=>Ge,cT:()=>ze,i_:()=>Ve,es:()=>we});var t=e(8736071954),s;(function(De){De.Microphone="audioinput",De.Camera="videoinput",De.Speakers="audiooutput"})(s||(s={}));const o="default",n="communications",c={[s.Camera]:void 0,[s.Microphone]:o,[s.Speakers]:o},i=_(De=>({[t.lW.Microphone]:s.Microphone,[t.lW.Camera]:s.Camera,[t.Q4]:s.Speakers})[De],"adapter_mapDeviceTypeToDeviceKind"),r=_(De=>({[s.Microphone]:t.lW.Microphone,[s.Camera]:t.lW.Camera,[s.Speakers]:t.Q4})[De],"mapDeviceKindToDeviceType"),a=_(De=>{const Pe=r(De.kind);return Pe===t.Q4?{id:De.deviceId,label:De.label,groupId:De.groupId,type:t.Q4}:{id:De.deviceId,label:De.label,groupId:De.groupId,type:Pe,track:void 0}},"adapter_mapMediaDeviceInfoToDevice");var l=e(6148781344),d=e(7424390592),u=e(2028988448),f=e(4518410378),m=e(235108050),h=e(9113979368),v=e(4103274853),p=e(9268023148),T=e(2208015175),A=e(8289365785),C=e(4094753332),I=e(3078252698);const D=["ZoomAudioDevice (Virtual)"],E=["default","communications"],M=_(De=>E.includes(De),"isOSDefaultDeviceId"),S=_((De,Pe)=>{if(M(De.deviceId))return!1;const ye=Pe.find(He=>M(He.deviceId)&&He.kind===De.kind);return(ye==null?void 0:ye.groupId)===De.groupId&&(ye==null?void 0:ye.label.includes(De.label))},"isOSDefaultDeviceForType"),R=_(De=>{const Pe=/iphone/,ye=De.label;if(!(0,I.A)(ye))return!1;const He=(0,C.cX)()&&ye&&Pe.test(ye.toLowerCase()),Qe=(ye==null?void 0:ye.toLowerCase().includes("display audio"))||ye.toLowerCase().includes("displayport");return He||Qe},"shouldDeprioritizeDevice"),k=_(De=>!De.label||D.includes(De.label),"shouldRemoveDevice"),O=_(De=>De&&De.replace(/ *?\([a-zA-Z0-9]{4}:[a-zA-Z0-9]{4}\) *?/g,""),"removeDeviceFingerprintFromLabel"),U=_((De,Pe)=>De.filter(ye=>ye.label).map(ye=>{let He=O(ye.label)||"";if(Pe&&M(ye.deviceId)){const dt=Pe[ye.kind];dt&&(He=`System Default (${dt})`)}return{deviceId:ye.deviceId,kind:ye.kind,label:He,groupId:ye.groupId}}),"scrubAvailableDevices"),W=_((De,Pe)=>`${De}-${Pe}`,"generateDeviceKey");var x=e(6696292586),L=e(6313685253),b=e(8086952004);const F="version",B=4,K={1:De=>De,2:De=>(0,v.A)(De,Pe=>{if((0,x.A)(Pe))return Pe;const ye={...Pe},He=O(Pe.deviceLabel);return He&&He!==Pe.deviceLabel&&(ye.deviceLabel=He),ye}),3:De=>(0,L.A)(De,(Pe,ye,He)=>{if(!M(He)&&He!==F){const Qe=(0,b.A)(De,(dt,Ot)=>M(Ot)&&dt.deviceInfo.kind===ye.deviceInfo.kind&&dt.deviceInfo.groupId===ye.deviceInfo.groupId&&dt.deviceInfo.label.includes(ye.deviceInfo.label));Qe&&((!ye.used&&Qe.used||ye.used&&Qe.used&&ye.used<Qe.used)&&(ye.used=Qe.used),(!ye.selected&&Qe.selected||ye.selected&&Qe.selected&&ye.selected<Qe.selected)&&(ye.selected=Qe.selected)),Pe[He]=ye}return Pe},{}),4:De=>(0,L.A)(De,(Pe,ye,He)=>{if((0,x.A)(ye))Pe[He]=ye;else{const{deviceId:Qe,kind:dt}=ye.deviceInfo,Ot=W(Qe,dt);Pe[Ot]=ye}return Pe},{})},H=_(De=>De[F]!==B,"isMigrationNeeded"),Y=_(De=>{if(!K[B])throw new Error(`No migration found for version ${B}`);const Pe=De[F]||0;if(Pe===B)return De;let ye={...De};for(let He=Pe;He<B;He++){const Qe=He+1,dt=K[Qe];ye=dt(ye),ye[F]=Qe}return ye},"maybeMigrateDeviceHistory");var Z=e(1649982175);const V="device-selection-records",ne=d.A,q=_(()=>{let De;try{const Pe=localStorage.getItem(V);Pe?(De=JSON.parse(Pe),H(De)?(ne.debug(`Migration needed for device selection history from ${De[F]} to ${B}`),De=Y(De)):ne.debug("No migration needed for device selection history")):De=void 0}catch(Pe){ne.error("Failed to read device selection history from local storage",Pe),De=void 0}return ne.debug("Reading device selection history from local storage",De),De?(0,Z.A)(De,F):void 0},"readSelectionHistoryFromLocalStorage"),me=_(De=>{if(De){ne.debug("Writing device selection history to local storage",De);try{const Pe={...De,[F]:B};localStorage.setItem(V,JSON.stringify(Pe))}catch(Pe){ne.error("Failed to write device selection history to local storage",Pe)}}},"saveDeviceSelectionRecordsToLocalStorage");var ue=e(700984029),ae=e(4250409994),le=e(6533394955),fe=e(7384121809),he=e(3783723764),ie=e(6217320234);class X{hasRecordForDevice(Pe){return!!this.getRecord(Pe)}getFormattedLabelForRecord(Pe){const ye=this.getRecord(Pe);return ye==null?void 0:ye.deviceLabel}wasDeviceSelected(Pe){const ye=this.getRecord(Pe);return!!(ye!=null&&ye.selected)}wasDeviceUsed(Pe){const ye=this.getRecord(Pe);return!!(ye!=null&&ye.used)}createRecord(Pe){const ye=this.createEmptyDeviceSelectionRecord(Pe);if(ye.deviceLabel){const He=this.findExistingRecordByLabel(Pe,ye.deviceLabel);if(He){d.A.info(`Matching device record found for label: ${He.deviceLabel} ${He.deviceInfo.deviceId}`),this.removeRecord(He.deviceInfo),this.setRecord(Pe,{...He,deviceInfo:Pe});return}}this.setRecord(Pe,ye)}updateDeviceUsed(Pe){const ye=this.getRecord(Pe);ye&&(d.A.info(`Removing device selection record for used device ${Pe.deviceId}`),this.setRecord(Pe,{...ye,used:Date.now()}))}updateDeviceSelected(Pe){const ye=this.getRecord(Pe);ye&&(d.A.info(`Updating device selection record for selected device ${Pe.deviceId}`),this.setRecord(Pe,{...ye,selected:Date.now()}))}updateDeviceLabel(Pe){this.getRecord(Pe)&&d.A.info(`Updating device selection record for label ${Pe.label} ${Pe.deviceId}`)}updateDeviceInfo(Pe){const ye=this.getRecord(Pe);ye&&(d.A.debug(`Updating device selection record for device info ${Pe.label} ${Pe.deviceId}`),this.setRecord(Pe,{...ye,deviceLabel:Pe.label,deviceInfo:Pe}))}persistToLocalStorage(){d.A.info("Persisting device selection records to local storage"),me(this.records)}initFromLocalStorage(){this.records=q()||{},d.A.info("Initializing device preferences manager from local storage")}setRecord(Pe,ye){const{deviceId:He,kind:Qe}=Pe,dt=W(He,Qe);d.A.debug(`Setting device selection record for ${dt}`,ye),this.records[dt]=ye}getRecord(Pe){let{deviceId:ye,kind:He}=Pe;const Qe=W(ye,He);return this.records[Qe]}removeRecord(Pe){const{deviceId:ye,kind:He}=Pe,Qe=W(ye,He);d.A.info(`Removing device selection record for ${Qe}`),delete this.records[Qe]}findExistingRecordByLabel(Pe,ye){return Object.values(this.records).find(Qe=>Qe.deviceLabel===ye&&Qe.deviceInfo.kind===Pe.kind)}constructor(){this.records={},this.init=()=>{this.initFromLocalStorage(),this.printRecords()},this.getAllRecordsForTesting=()=>({...this.records}),this.getDeviceInfoForRecord=Pe=>{const ye=this.getRecord(Pe);if(ye)return{...ye.deviceInfo}},this.sortDevicesByLastSelection=Pe=>(0,he.A)(Pe,ye=>{var He;return(He=this.records[W(ye.deviceId,ye.kind)])===null||He===void 0?void 0:He.selected},"desc"),this.sortDevicesByLastUsed=Pe=>(0,he.A)(Pe,ye=>{var He;return(He=this.records[W(ye.deviceId,ye.kind)])===null||He===void 0?void 0:He.used},"desc"),this.sortDevicesByLabel=Pe=>(0,ie.A)(Pe,ye=>ye.label),this.printRecords=()=>{d.A.info("Device selection records:",this.records)},this.getAllRecordsForInitializationAnalyses=()=>(d.A.info("Returning all records for initialization analyses"),this.records),this.createEmptyDeviceSelectionRecord=Pe=>({deviceInfo:Pe,deviceLabel:Pe.label,selected:null,used:null})}}_(X,"DeviceSelectionRecordsStore");let j;const w=_(()=>(j||(j=new X),j),"getDeviceSelectionRecordStore");class Q{constructor(){this.logger=d.A,this.deviceSelectionRecords=w(),this.availableDevices=[],this.currentTeamId=null,this.useDevicesExp=!1,this.updatingAvailableDevicesPromise=null,this.enqueuedPreferenceUpdates={[s.Microphone]:!1,[s.Camera]:!1,[s.Speakers]:!1},this.osDefaultDevices={[s.Microphone]:null,[s.Camera]:null,[s.Speakers]:null},this.prioritizedDeviceLists={[s.Microphone]:[],[s.Camera]:[],[s.Speakers]:[]},this.preferredDevices={[s.Microphone]:void 0,[s.Camera]:void 0,[s.Speakers]:void 0},this.init=async Pe=>{let{teamId:ye,useDevicesExp:He}=Pe;if(this.deviceSelectionRecords.init(),ye!==this.currentTeamId){this.useDevicesExp=He,this.useDevicesExp&&this.logger.info("Initializing device preferences manager with experimental features"),this.currentTeamId=ye,this.dispatch=(0,le.oK)(ye).dispatch;try{await this.updateAvailableDevices(),navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange)}catch(Qe){this.logger.error("Error initializing device preferences manager",Qe)}}},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.getPreferredDeviceOfType=Pe=>{const ye=this.useDevicesExp?this.preferredDevices[Pe]:this.getPrioritizedDeviceListOfType(Pe)[0];return this.useDevicesExp&&this.logger.debug(`(EXP) Returning preferred ${Pe} device: label: ${ye==null?void 0:ye.label}, id: ${ye==null?void 0:ye.deviceId}`),ye},this.getPrioritizedDeviceListOfType=Pe=>{if(this.useDevicesExp){const ye=this.getDeviceListOfType(Pe);this.logger.debug(`(EXP) Returning prioritized ${Pe} device list labels: ${ye.map(He=>He.label)}`)}return this.prioritizedDeviceLists[Pe]},this.getDeviceListOfType=Pe=>{const He=this.availableDevices.filter(Qe=>Qe.kind===Pe&&Qe.deviceId!=="communications").find(Qe=>Qe.deviceId==="default");return He?(0,m.A)([He,...this.prioritizedDeviceLists[Pe]]):this.prioritizedDeviceLists[Pe]},this.recordDeviceSelected=(Pe,ye)=>{try{const{deviceId:He,deviceLabel:Qe}=this.lookupDeviceDetailsById(Pe,ye);if(!He){this.logger.warn("Device record not found for selected device id",Pe);return}if(!this.deviceSelectionRecords.hasRecordForDevice({deviceId:He,kind:ye})){this.logger.warn("No device selection record found for device id",He);return}this.logger.info(`Reporting ${ye} device selected, label: ${Qe}, id: ${He}`),this.deviceSelectionRecords.updateDeviceSelected({deviceId:He,kind:ye}),this.propagateUpdateToExternalStores()}catch(He){this.logger.error("Error reporting device selected",He)}},this.recordDeviceUsed=(Pe,ye)=>{try{const{deviceId:He,deviceLabel:Qe}=this.lookupDeviceDetailsById(Pe,ye);if(!He){this.logger.warn("Device record not found for used device id",Pe);return}this.logger.info(`Reporting ${ye} device used, label: ${Qe}, id: ${He}`),this.deviceSelectionRecords.updateDeviceUsed({deviceId:He,kind:ye}),this.propagateUpdateToExternalStores()}catch(He){this.logger.error("Error reporting device used",He)}},this.getOSDefaults=()=>this.osDefaultDevices,this.clearDeviceSelectionRecords=()=>{me({})},this.lookupDeviceDetailsById=(Pe,ye)=>{(0,h.A)(this.prioritizedDeviceLists[ye])&&this.updateAvailableDevices();const He={deviceId:null,deviceLabel:null},Qe=!this.useDevicesExp&&M(Pe)?this.osDefaultDevices[ye]:Pe;if(Qe&&!this.useDevicesExp&&M(Qe)&&this.logger.warn(`OS default device id (${Pe}) used for details. This should not happen`),!Qe)return this.logger.warn("Device record not found for device id",Qe),He;He.deviceId=Qe;const dt=this.deviceSelectionRecords.getFormattedLabelForRecord({deviceId:Qe,kind:ye}),Ot=O(dt);return Ot?(He.deviceLabel=Ot,He):(this.logger.warn("Device record not found for device id",Qe),He)},this.getOSDefaultDeviceLabels=Pe=>{const ye=(0,v.A)(this.osDefaultDevices,He=>{if(!He)return"";const Qe=Pe.find(dt=>dt.deviceId===He);return Qe!=null&&Qe.label&&O(Qe.label)||""});return{[s.Microphone]:ye.audioinput||"",[s.Camera]:ye.videoinput||"",[s.Speakers]:ye.audiooutput||""}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const Pe=_(async ye=>{try{this.logger.info("Updating available devices");const He=await f.J.navigator.mediaDevices.enumerateDevices();this.logger.info(`Available devices ${JSON.stringify(He,null,2)}`),this.updateOSDefaults(He),this.availableDevices=U(He,this.useDevicesExp?this.getOSDefaultDeviceLabels(He):void 0),this.updateDeviceRecords(this.availableDevices),this.logger.info("Updated device records after device list update. Propagating update"),this.propagateUpdateToExternalStores(),ye()}catch(He){this.logger.error("Error updating available devices",He),ye()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(Pe),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.updatePrioritizedDeviceLists=()=>{this.logger.debug("Updating prioritized device lists"),this.updatePrioritizedDeviceListOfType(s.Microphone),this.logger.debug("Updated mics",this.prioritizedDeviceLists[s.Microphone]),this.updatePrioritizedDeviceListOfType(s.Camera),this.logger.debug("Updated cameras",this.prioritizedDeviceLists[s.Camera]),this.updatePrioritizedDeviceListOfType(s.Speakers),this.logger.debug("Updated speakers",this.prioritizedDeviceLists[s.Speakers])},this.handleDeviceListChange=(0,p.A)(async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(Pe){this.logger.error("Error handling device list change event",Pe)}},1e3,{leading:!1,trailing:!0,maxWait:2e3}),this.updateOSDefaults=Pe=>{this.logger.info("Updating OS default devices",Pe),Pe.forEach(ye=>{S(ye,Pe)&&ye.deviceId&&(this.osDefaultDevices[ye.kind]=ye.deviceId)})},this.updateDeviceRecords=Pe=>{(0,T.A)(Pe,ye=>{if(!ye.deviceId||!this.useDevicesExp&&M(ye.deviceId))return;const He=this.deviceSelectionRecords.hasRecordForDevice(ye),Qe=this.deviceSelectionRecords.getFormattedLabelForRecord(ye),dt=this.deviceSelectionRecords.getDeviceInfoForRecord(ye);if(He&&dt&&dt.kind!==ye.kind){this.logger.warn(`device id collision between ${dt.kind} device (${dt.label}) and ${ye.kind} device (${ye.label})`);return}He&&ye.label&&Qe!==ye.label&&(this.deviceSelectionRecords.updateDeviceInfo(ye),this.logger.info(`Device label updated from ${Qe} to ${ye.label}`)),He?(this.logger.debug(`Device history record found for ${ye.label} ${ye.deviceId}`),this.deviceSelectionRecords.updateDeviceInfo(ye)):(this.logger.info(`Creating new device history record for ${ye.label} ${ye.deviceId}`),this.deviceSelectionRecords.createRecord(ye));const Ot=S(ye,Pe);if(!this.useDevicesExp&&Ot&&this.osDefaultDevices[ye.kind]!==ye.deviceId){var yt;const Ct=((yt=this.getPreferredDeviceOfType(ye.kind))===null||yt===void 0?void 0:yt.deviceId)===this.osDefaultDevices[ye.kind];this.osDefaultDevices[ye.kind]=ye.deviceId,this.logger.info(`OS default device updated for ${ye.kind}: ${ye.label} ${ye.deviceId}`),Ct&&(this.logger.info(`Preferred ${ye.kind} OS default has changed to: ${ye.label} ${ye.deviceId}. Recording as selected.`),this.recordDeviceSelected(ye.deviceId,ye.kind))}})},this.updatePrioritizedDeviceListOfType=Pe=>{var ye,He;let Qe=null;const dt=[],Ot=[],yt=[],Dt=[];this.availableDevices.forEach(It=>{const At=It.deviceId===this.osDefaultDevices[It.kind];if(this.useDevicesExp){if(It.kind!==Pe)return}else if(It.kind!==Pe||M(It.deviceId))return;const Zt=this.deviceSelectionRecords.getDeviceInfoForRecord(It);if(!Zt){this.logger.error("No selection record found for device",It);return}if(!k(Zt)){if(this.deviceSelectionRecords.wasDeviceSelected(Zt)){dt.push(Zt);return}if(!this.useDevicesExp&&this.deviceSelectionRecords.wasDeviceUsed(Zt)){Ot.push(Zt);return}if(R(Zt)){yt.push(Zt);return}if(!this.useDevicesExp&&At){Qe=Zt;return}Dt.push(Zt)}});const Ct=[];Ct.push(...this.deviceSelectionRecords.sortDevicesByLastSelection(dt)),this.useDevicesExp||Ct.push(...this.deviceSelectionRecords.sortDevicesByLastUsed(Ot)),this.useDevicesExp||Ct.push(Qe),Ct.push(...this.deviceSelectionRecords.sortDevicesByLabel(Dt)),Ct.push(...yt);const kt=(0,m.A)(Ct).filter(Boolean),vt=(ye=(0,A.A)(kt))===null||ye===void 0?void 0:ye.deviceId;if(vt&&vt!==((He=this.prioritizedDeviceLists[Pe][0])===null||He===void 0?void 0:He.deviceId)&&(this.enqueuedPreferenceUpdates[Pe]=!0),kt&&(this.prioritizedDeviceLists[Pe]=kt,this.useDevicesExp)){const It=(0,A.A)(kt);this.preferredDevices[Pe]=It||void 0,this.logger.debug(`(EXP) Preferred device updated for ${Pe}: label: ${It==null?void 0:It.label}, id: ${It==null?void 0:It.deviceId}`)}return kt},this.updateDevicesInHuddle=()=>{const Pe=_(ye=>{var He;const Qe=(He=this.getPreferredDeviceOfType(ye))===null||He===void 0?void 0:He.deviceId;!Qe||!this.enqueuedPreferenceUpdates[ye]||(this.enqueuedPreferenceUpdates[ye]=!1,(0,fe.dispatchForClientStore)((0,ae.HC)({id:Qe,type:r(ye)})),this.logger.info(`Setting preferred ${ye} device in huddle`,Qe))},"maybeApplyPreference");Pe(s.Microphone),Pe(s.Speakers),Pe(s.Camera)},this.propagateUpdateToExternalStores=()=>{this.deviceSelectionRecords.persistToLocalStorage(),this.updatePrioritizedDeviceLists(),this.logger.info("Propagating device selection history update"),this.dispatch((0,ue.Fb)(void 0)),this.updateDevicesInHuddle()}}}_(Q,"DevicePreferencesManager");const G=new Q,J={printDeviceSelectionRecords:()=>{const De=w().getAllRecordsForTesting(),Pe=(0,v.A)(De,ye=>{var He;return{deviceId:ye.deviceInfo.deviceId,label:ye.deviceLabel,type:ye.deviceInfo.kind,"is preferred":((He=G.getPreferredDeviceOfType(ye.deviceInfo.kind))===null||He===void 0?void 0:He.deviceId)===ye.deviceInfo.deviceId,"last selected":ye.selected?ye.selected.toString():"Never selected","last used":ye.used?ye.used.toString():"Never used","is available":!!G.getPrioritizedDeviceListOfType(ye.deviceInfo.kind).find(Qe=>Qe.deviceId===ye.deviceInfo.deviceId),"is OS default":ye.deviceInfo.deviceId===G.getOSDefaults()[ye.deviceInfo.kind],groupId:ye.deviceInfo.groupId}});console.log("Device selection records"),console.table(Pe)},printPreferredMicrophone:()=>{const De=G.getPreferredDeviceOfType(s.Microphone);console.log("Preferred microphone",De)},printPreferredCamera:()=>{const De=G.getPreferredDeviceOfType(s.Camera);console.log("Preferred camera",De)},printPreferredSpeakers:()=>{const De=G.getPreferredDeviceOfType(s.Speakers);console.log("Preferred speakers",De)},printPrioritizedDeviceLists:()=>{const De=(0,v.A)(G.getOSDefaults(),(Pe,ye)=>G.getPrioritizedDeviceListOfType(ye));(0,T.A)(De,(Pe,ye)=>{const He=Pe.map(Qe=>({deviceId:Qe.deviceId,label:Qe.label,groupId:Qe.groupId}));console.log(`Prioritized list for ${ye}`),console.table(He)})},printRawDeviceList:async()=>{const De=await f.J.navigator.mediaDevices.enumerateDevices();console.log("Available devices"),De.forEach(Pe=>{console.log(Pe)})},printDebugInfo:()=>{J.printDeviceSelectionRecords(),J.printPrioritizedDeviceLists(),J.printPreferredMicrophone(),J.printPreferredCamera(),J.printPreferredSpeakers(),J.printRawDeviceList()},clearDeviceSelectionRecords:()=>{G.clearDeviceSelectionRecords(),f.J.location.reload()}};(0,u.ul)("devices",J);const te=G;var se=e(7715417323);const ce="preferred-media-devices",Ee=w(),de=_(()=>{try{const De=!localStorage.getItem(ce);return De&&d.A.info("No preferred devices found in local storage."),De}catch(De){d.A.error("Error checking if no preferred devices in local storage",De)}return!0},"hasNoPreferredDevicesInLocalStorage"),re=_(()=>{try{const De=localStorage.getItem(ce);if(!De){d.A.info("No preferred devices found in local storage. Detecting preferences from selection records"),Ee.init();const ye=(0,he.A)(Ee.getAllRecordsForTesting(),"selected",["desc"]),He=_(Qe=>{var dt,Ot;const yt=ye.find(Dt=>{var Ct;return Dt.selected&&((Ct=Dt.deviceInfo)===null||Ct===void 0?void 0:Ct.kind)===Qe});if(!(!(!(yt==null||(dt=yt.deviceInfo)===null||dt===void 0)&&dt.deviceId)&&Qe===s.Camera))return(yt==null||(Ot=yt.deviceInfo)===null||Ot===void 0?void 0:Ot.deviceId)||o},"findMostRecentDevice");return{[s.Camera]:He(s.Camera),[s.Microphone]:He(s.Microphone)||o,[s.Speakers]:He(s.Speakers)||o}}const Pe=JSON.parse(De);return Pe[s.Camera]===o&&(Pe[s.Camera]=void 0),Pe}catch(De){d.A.error("Error getting preferred devices from local storage",De)}return c},"getPreferredDevicesFromLocalStorage"),_e=_(De=>{try{const Pe=JSON.stringify(De);localStorage.setItem(ce,Pe)}catch(Pe){d.A.error("Error setting preferred devices in local storage",Pe)}},"setPreferredDevicesInLocalStorage");var ve=e(6471059816),ge=e(9365970888);const Le=new ve.Ay("device-preferences");class ke{getPreferredDeviceOfType(Pe){if(this.availableDevices)return this.getPrioritizedDeviceListOfType(Pe)[0]}validatePreferredDevices(){if(!this.availableDevices)return;const Pe=new Set(this.availableDevices.map(ye=>ye.deviceId));Object.entries(this.preferredDevices).forEach(ye=>{let[He,Qe]=ye;!Pe.has(Qe)&&He!==s.Camera&&(this.logger.warn(`Preferred ${He} device (${Qe}) not found. Resetting to OS default.`),this.preferredDevices[He]=o)}),this.logger.debug("Preferred devices validated",this.preferredDevices)}recordOSDefaultDeviceIds(){this.availableDevices&&(this.availableDevices.forEach(Pe=>{if(Pe.deviceId===o){var ye;const He=(ye=this.availableDevices)===null||ye===void 0?void 0:ye.find(Qe=>Qe.deviceId!==o&&Qe.groupId===Pe.groupId&&Qe.kind===Pe.kind&&Pe.label.includes(Qe.label));He!=null&&He.deviceId&&this.osDefaultDeviceIds&&(this.osDefaultDeviceIds[Pe.kind]=He.deviceId,this.logger.info(`Recorded OS default device for ${Pe.kind}: ${He.deviceId}`))}}),this.logger.debug("OS default device IDs recorded",this.osDefaultDeviceIds))}scrubDeviceLabels(){const Pe=this.availableDevices;!Pe||!this.osDefaultDeviceIds||(this.availableDevices=Pe.map(ye=>{if(ye.deviceId===o){var He;const Qe=(He=this.osDefaultDeviceIds)===null||He===void 0?void 0:He[ye.kind],dt=this.findDeviceByKindAndId(ye.kind,Qe);if(Qe&&dt){const Ot=O(dt.label),Dt=this.useDevicesExp?Le.t("System Default ({deviceName})",{deviceName:Ot}):`System Default (${Ot})`;return this.logger.info(`Amending label for OS default ${ye.kind} device: ${ye.label} -> ${Dt}`),{groupId:ye.groupId,kind:ye.kind,deviceId:o,label:Dt}}}return{groupId:ye.groupId,kind:ye.kind,deviceId:ye.deviceId,label:O(ye.label)||"Unknown Device"}}),this.logger.debug("Device labels scrubbed",this.availableDevices))}findDeviceByKindAndId(Pe,ye){var He;return(He=this.availableDevices)===null||He===void 0?void 0:He.find(Qe=>Qe.kind===Pe&&Qe.deviceId===ye)}constructor(){this.preferredDevices=c,this.teamId=null,this.useDevicesExp=null,this.availableDevices=null,this.osDefaultDeviceIds=c,this.updatingAvailableDevicesPromise=null,this.logger=d.A,this.noPrefsOnBoot=!1,this.init=async Pe=>{let{teamId:ye,useDevicesExp:He}=Pe;this.teamId=ye,this.useDevicesExp=He,this.useDevicesExp&&this.logger.info("Using experimental device manager"),this.noPrefsOnBoot=de(),this.preferredDevices=re()||c,this.logger.debug("Preferred devices loaded from local storage",this.preferredDevices),this.dispatch=(0,le.oK)(this.teamId).dispatch,await this.updateAvailableDevices(),this.maybeSetInitialDevicePrefToOSDefault(),this.updateDeviceListChangeHandler(),this.logger.info("Device preferences manager initialized")},this.recordDeviceUsed=(Pe,ye)=>(0,se.A)(),this.recordDeviceSelected=(Pe,ye)=>{if(this.logger.info(`Recording selected ${ye} device: ${Pe}`),!!this.preferredDevices){if(this.preferredDevices[ye]===Pe&&!this.reduxDeviceStoreNeedsUpdate(ye)){this.logger.info(`Device ${Pe} already selected. No action taken.`);return}this.preferredDevices[ye]=Pe,_e(this.preferredDevices),this.propagateUpdateToExternalStores(ye)}},this.getPrioritizedDeviceListOfType=Pe=>{if(!this.availableDevices)return[];const ye=[],He=this.findDeviceByKindAndId(Pe,this.preferredDevices[Pe]);He&&ye.push(He);const Qe=this.findDeviceByKindAndId(Pe,o);Qe&&ye.push(Qe);const dt=this.availableDevices.filter(Ot=>Ot.kind===Pe&&Ot.deviceId!==n);return dt.sort((Ot,yt)=>Ot.label.localeCompare(yt.label)),(0,m.A)([...ye,...dt]).filter(Boolean)},this.handleDeviceListChange=async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(Pe){this.logger.error("Error handling device list change event",Pe)}},this.updateDeviceListChangeHandler=()=>{f.J.navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceListChange),f.J.navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange),this.logger.info("Device list change handler updated")},this.maybeSetInitialDevicePrefToOSDefault=()=>{if(this.noPrefsOnBoot){const Pe=this.osDefaultDeviceIds;if(!Pe)return;(0,T.A)(this.preferredDevices,(ye,He)=>{const Qe=Pe[He];ye===Qe&&He!==s.Camera&&(this.logger.info(`Preferred ${He} device matches OS default. Updating to OS default`),this.recordDeviceSelected(o,He))})}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const Pe=_(async ye=>{try{const He=await f.J.navigator.mediaDevices.enumerateDevices();this.availableDevices=He,this.logger.debug("Device list updated",this.availableDevices),this.validatePreferredDevices(),this.recordOSDefaultDeviceIds(),this.scrubDeviceLabels(),this.propagateUpdateToExternalStores(),this.logger.info("Device list update complete"),ye()}catch(He){this.logger.error("Error updating available devices",He),ye()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(Pe),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.reduxDeviceStoreNeedsUpdate=Pe=>{var ye,He,Qe;const dt=(0,le.oK)(this.teamId).getState();return{[s.Microphone]:(ye=(0,ge.I7)(dt))===null||ye===void 0?void 0:ye.id,[s.Camera]:(He=(0,ge.Ls)(dt))===null||He===void 0?void 0:He.id,[s.Speakers]:(Qe=(0,ge.QM)(dt))===null||Qe===void 0?void 0:Qe.id}[Pe]!==this.preferredDevices[Pe]},this.propagateUpdateToExternalStores=(0,p.A)(Pe=>{_e(this.preferredDevices),this.logger.info("Propagating device selection history update"),this.dispatch((0,ue.Fb)(void 0)),this.updateDevicesInHuddle(Pe)},300),this.updateDevicesInHuddle=Pe=>{const ye=_(He=>{var Qe;const dt=(Qe=this.getPreferredDeviceOfType(He))===null||Qe===void 0?void 0:Qe.deviceId;dt&&((0,fe.dispatchForClientStore)((0,ae.HC)({id:dt,type:r(He)})),this.logger.info(`Setting preferred ${He} device in huddle`,dt))},"maybeApplyPreference");Pe?ye(Pe):(ye(s.Microphone),ye(s.Speakers),ye(s.Camera))}}}_(ke,"manager_exp_DevicePreferencesManager");const Ne=new ke,Re=_(()=>{try{d.A.info("Analyzing stored device records");const Pe=w().getAllRecordsForInitializationAnalyses(),ye={totalRecords:Object.keys(Pe).length,webAudioDevices:0,webAudioSelectedDevices:0,webAudioUsedDevices:0,microphoneCount:0,speakerCount:0,cameraCount:0};return Object.values(Pe).forEach(He=>{switch(He.deviceInfo.kind){case s.Microphone:ye.microphoneCount+=1;break;case s.Speakers:ye.speakerCount+=1;break;case s.Camera:ye.cameraCount+=1;break;default:break}He.deviceInfo.deviceId.startsWith("WebAudio-")&&(ye.webAudioDevices+=1,He.selected&&(ye.webAudioSelectedDevices+=1),He.used&&(ye.webAudioUsedDevices+=1))}),d.A.info("Device selection records analysis:",ye),ye.webAudioDevices>0&&d.A.warn(`Webaudio device records found: total=${ye.webAudioDevices}, selected=${ye.webAudioSelectedDevices}, used=${ye.webAudioUsedDevices}`),ye}catch(De){return d.A.warn("Error analyzing device records:",De),{totalRecords:0,webAudioDevices:0,webAudioSelectedDevices:0,webAudioUsedDevices:0,microphoneCount:0,speakerCount:0,cameraCount:0}}},"analyzeDeviceRecords");let xe=null,We=te,$=null;const ee=_(async De=>{let{teamId:Pe,useDevicesExp:ye}=De;!Pe||xe===Pe||(d.A.info(`Initializing device preferences manager with teamId: ${Pe} and useDevicesExp: ${ye}`),xe=Pe,ye?We=Ne:We=te,await We.init({teamId:Pe,useDevicesExp:ye}),$=Re(),d.A.info("Device preferences manager initialized"))},"initializeDevicePreferences"),Ve=_((De,Pe)=>{if(!xe)return;const ye=i(Pe);We.recordDeviceUsed(De,ye)},"reportDeviceUsed"),ze=_((De,Pe,ye)=>{if(!xe){d.A.warn("reportDeviceSelected called but teamId is not initialized");return}const He=i(Pe);(0,l.p)().trackDeviceChange(De,Pe,ye),We.recordDeviceSelected(De,He)},"reportDeviceSelected"),st=_(()=>{if(!xe)return;const De=We.getPrioritizedDeviceListOfType(s.Microphone)||[],Pe=We.getPrioritizedDeviceListOfType(s.Camera)||[],ye=We.getPrioritizedDeviceListOfType(s.Speakers)||[];return{[t.lW.Microphone]:De.map(a),[t.lW.Camera]:Pe.map(a),[t.Q4]:ye.map(a)}},"getPrioritizedDeviceLists"),Ge=_(async()=>{xe&&await We.refreshAvailableDevices()},"refreshDeviceListsOnDevicePermissionsUpdate"),be=_(De=>{if(!xe)return;const Pe=mapDeviceTypeToDeviceKind(De);return We.getPrioritizedDeviceListOfType(Pe).map(mapMediaDeviceInfoToDevice)},"getPrioritizedDeviceListOfType"),Se=_(De=>{if(!xe)return;const Pe=i(De),ye=We.getPreferredDeviceOfType(Pe);if(!ye){d.A.warn(`No preferred device found for type ${De}. Returning undefined. If this happens, the user will likely report that their device is not working. They may also have revoked or not given permission to use the device.`);return}return d.A.debug(`Returning preferred ${De} device`,ye.deviceId),a(ye)},"getPreferredDeviceOfType"),we=_(async()=>{xe&&await We.waitForDeviceListUpdate()},"waitForDeviceListUpdate"),Ce=_(()=>{var De;return((De=Se(t.Q4))===null||De===void 0?void 0:De.id)||"default"},"getPreferredAudioSinkId"),Te=_(()=>$,"getDeviceRecordStats"),Ye=_(()=>!!xe,"isDevicePreferencesManagerInitialized")},7424390592:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(337319621);const o=(0,t.Wo)({label:"DEVICE-PREFS"})},63202349:(N,g,e)=>{"use strict";e.d(g,{k:()=>i});var t=e(6664301844),s=e(2825968873),o=e(3812058736),n=e(2028988448);const c={debug:0,info:1,warn:2,error:3,action:0};class i{debug(a){if(!(this.level>t.$b.DEBUG||!i.debugLogsEnabled))if(typeof a=="string"){const l=a;this.consoleLogger.debug(l)}else{const l=a();this.consoleLogger.debug(l)}}info(a){this.level>t.$b.INFO||this.consoleLogger.info(a)}warn(a){this.level>t.$b.WARN||this.consoleLogger.warn(a)}error(a){this.level>t.$b.ERROR||this.callLogger.error(a)}setLogLevel(a){this.level=a}getLogLevel(){return this.level}getName(){return this.name}constructor(a,l){this.name=a,this.level=l||c[(0,o.XM)()],this.consoleLogger=(0,s.Cc)(a),this.callLogger=(0,s.Jt)(a)}}_(i,"FreeWillyLogger"),i.debugLogsEnabled=!1,(0,n.ul)("toggleChimeDebugLogs",()=>{i.debugLogsEnabled=!i.debugLogsEnabled})},9563426960:(N,g,e)=>{"use strict";e.d(g,{Y:()=>Gt});var t=e(1649982175),s=e(6664301844),o=e(1890776492),n=e(7344959578),c=e(2825968873),i=e(8736071954),r=e(7561130599),a=e(4708000837),l=e(462591818),d=e(2003990933),u=e(9268023148),f=e(3078252698),m=e(4094753332),h=e(6815073048),v=e(2709531527),p=e(6246464105),T=e(9853754481);let A=_(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),(0,T.n2)(this.data)/T.Ep}constructor(oe){this.analyserNode=oe,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var C=e(9009528296);const I=300;class D{stop(){this.previewAudioAnalyser=void 0,clearTimeout(this.timeoutId)}setPreviewAudioAnalyser(oe){this.previewAudioAnalyser=oe}constructor(){this.timeoutId=-1,this.monitorAudioLevel=()=>{this.previewAudioAnalyser&&C.A.subscriberCount>0&&C.A.publish(this.previewAudioAnalyser.getLevel()),this.timeoutId=window.setTimeout(this.monitorAudioLevel,I)},this.monitorAudioLevel()}}_(D,"AudioLevelMonitor");function y($e,oe){let{skipIntermediatePendingRuns:Ae=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Oe=!1,Fe=[];const Ze=_(async function(){for(var rt=arguments.length,Tt=new Array(rt),Vt=0;Vt<rt;Vt++)Tt[Vt]=arguments[Vt];if(Oe){Ae&&(Fe=[]);const an=(0,o.u)();return Fe.push({args:Tt,deferred:an}),an}Oe=!0;const cn=await oe.call($e,...Tt);Oe=!1;const $t=Fe.shift();return $t&&Ze(...$t.args).then($t.deferred.resolve).catch($t.deferred.reject),cn},"run");return Ze}_(y,"serialGuard");var P=e(3496486794),E=e(1917379822),M=e(6148781344);class S{initialize(oe){let{preferredDeviceId:Ae}=oe;var Oe,Fe,Ze,rt,Tt,Vt,cn,$t,an,mn,hn,Ln,dn,Fn;if(!(!((Oe=this.defaultDeviceController)===null||Oe===void 0||(Fe=Oe.activeDevices)===null||Fe===void 0||(Ze=Fe.audio)===null||Ze===void 0||(rt=Ze.stream)===null||rt===void 0)&&rt.getAudioTracks))return;const ts=this.defaultDeviceController;if(!(!((Tt=this.defaultDeviceController)===null||Tt===void 0||(Vt=Tt.activeDevices)===null||Vt===void 0||(cn=Vt.audio)===null||cn===void 0||($t=cn.stream)===null||$t===void 0)&&$t.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const zn=ts.activeDevices.audio.stream.getAudioTracks();if(zn.length===1)this.audioInputTrack=zn[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(an=this.audioInputTrack)===null||an===void 0||an.addEventListener("mute",this.onMute),(mn=this.audioInputTrack)===null||mn===void 0||mn.addEventListener("unmute",this.onUnmute),(hn=this.audioInputTrack)===null||hn===void 0||hn.addEventListener("ended",this.onEnded),!((Ln=this.audioInputTrack)===null||Ln===void 0)&&Ln.muted?this.onMute():this.onUnmute();const as=(Fn=(dn=this.audioInputTrack)===null||dn===void 0?void 0:dn.getSettings())===null||Fn===void 0?void 0:Fn.deviceId;if(!as){this.logger.warn("No deviceId found for audio input track");return}as!==Ae?this.logger.warn(`Used audio input track device id (${as}) does not match the preferred device id (${Ae}). 
				Preferred device is unavailable. User may report issues with other participants hearing them.`):this.logger.info(`Used audio input track device id matches the preferred device id (${Ae})`),(0,E.cT)(as,i.lW.Microphone,M.S.InputTrackHandler)}tearDown(){var oe,Ae,Oe;(oe=this.audioInputTrack)===null||oe===void 0||oe.removeEventListener("mute",this.onMute),(Ae=this.audioInputTrack)===null||Ae===void 0||Ae.removeEventListener("unmute",this.onUnmute),(Oe=this.audioInputTrack)===null||Oe===void 0||Oe.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(oe,Ae,Oe){this.defaultDeviceController=oe,this.observer=Ae,this.logger=Oe,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}_(S,"AudioInputTrackHandler");var R;(function($e){$e.Blur="BLUR",$e.Image="IMAGE",$e.None="NONE"})(R||(R={}));class k{constructor({backgroundEffect:oe}){this.filterCPUUtilizationHigh=Ae=>{const{cpuUtilization:Oe,filterMillis:Fe,periodMillis:Ze}=Ae;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${Oe} - spent ${Fe}ms of last ${Ze}ms processing video background`)},this.filterFrameDurationHigh=Ae=>{const{framesDropped:Oe,avgFilterDurationMillis:Fe,framerate:Ze,periodMillis:rt}=Ae;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${Ze}, frames dropped: ${Oe}, spent ${Fe}ms of last ${rt}ms processing video background`)},this.callLogger=(0,c.Jt)(`VIDEO-BACKGROUND-${oe}`)}}_(k,"VideoBackgroundObserver");const O=k;var U=e(5071086688),W=e(5470425448),x=e(1473609332),L=e(9195837907),b=e(416787925),F=e(7149946954);class B{async intrinsicDevice(){return this.device}cleanup(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isCleaned||(window.removeEventListener("beforeunload",this.cleanupHandler),this.generatorVideoTrack&&(this.generatorVideoTrack.stop(),this.generatorVideoTrack=null),oe&&this.inputMediaStream&&(this.inputMediaStream.getTracks().forEach(Ae=>Ae.stop()),this.inputMediaStream=void 0),this.worker&&(this.worker.postMessage({type:"cleanup"}),this.worker.removeEventListener("error",this.handleWorkerError),this.worker.terminate(),this.worker=null),this.bgImg&&(this.bgImg=void 0),this.isCleaned=!0)}async stop(){this.cleanup()}onOutputStreamDisconnect(){const oe=!(this.device instanceof MediaStream);this.cleanup(oe)}async transformStream(oe){if(this.isCleaned||!this.worker||!this.generatorVideoTrack)throw this.workerError||new Error("Device has been cleaned up");if(this.inputMediaStream=oe,oe)try{const Ae=oe.getVideoTracks()[0];if(!Ae)throw new Error("No video track found in input stream");const Oe=new MediaStreamTrackProcessor({track:Ae}),Fe=[Oe.readable,this.generatorVideoTrack.writable];this.bgImg&&Fe.push(this.bgImg),this.worker.postMessage({type:"init",input:Oe.readable,output:this.generatorVideoTrack.writable,width:Ae.getSettings().width,height:Ae.getSettings().height,bgImg:this.bgImg},Fe),this.bgImg&&(this.bgImg=void 0)}catch(Ae){throw this.cleanup(),Ae}return this.outputMediaStream}constructor(oe,Ae){this.worker=null,this.generatorVideoTrack=null,this.isCleaned=!1,this.workerError=null,this.handleWorkerError=Oe=>{this.workerError=new Error(`Worker error: ${Oe.message}`),this.cleanup(!1)},this.device=oe,this.bgImg=Ae,this.cleanupHandler=()=>this.cleanup(!1);try{this.worker=new Worker(new URL(e.p+e.u("js_modern_app_free-willy_free-willy-sdk_filter-worker_background-worker_ts"),e.b)),this.worker.addEventListener("error",this.handleWorkerError),this.generatorVideoTrack=new MediaStreamTrackGenerator({kind:"video"}),this.outputMediaStream=new MediaStream([this.generatorVideoTrack]),window.addEventListener("beforeunload",this.cleanupHandler)}catch(Oe){this.workerError=Oe instanceof Error?Oe:new Error(String(Oe)),this.cleanup(!1)}}}_(B,"BackgroundWorkerVideoTransformDevice");var K=e(5221945366),H;(function($e){$e.PERMISSION="permission",$e.HARDWARE="hardware",$e.CONSTRAINT="constraint",$e.NOT_FOUND="not_found",$e.UNKNOWN="unknown"})(H||(H={}));var Y;(function($e){$e.RECOVERABLE="recoverable",$e.TEMPORARY="temporary",$e.PERMANENT="permanent"})(Y||(Y={}));function Z($e){switch($e.name){case"NotReadableError":return{category:H.HARDWARE,severity:Y.TEMPORARY};case"NotFoundError":return{category:H.NOT_FOUND,severity:Y.RECOVERABLE};case"OverconstrainedError":return{category:H.CONSTRAINT,severity:Y.RECOVERABLE};case"PermissionDeniedError":case"NotAllowedError":return{category:H.PERMISSION,severity:Y.PERMANENT};default:return{category:H.UNKNOWN,severity:Y.PERMANENT}}}_(Z,"classifyError");function V($e,oe,Ae){oe===i.lW.Microphone?$e.onAudioDeviceError(Ae):$e.onVideoDeviceError(Ae)}_(V,"reportDeviceError");async function ne($e){let{callLogger:oe,error:Ae,deviceType:Oe,observer:Fe}=$e;const Ze=Z(Ae),rt=`Device error for ${Oe}: ${Ae.name} (${Ae.message}). Category: ${Ze.category}, Severity: ${Ze.severity}`;if(oe.error(rt),Ze.category===H.PERMISSION)return Fe.onSelfPermissionUpdated(!0,Oe),{success:!1,errorName:Ae.name,shouldTerminate:!0};const Tt=Ze.category===H.UNKNOWN?"DeviceUnknownError":Ae.name;return V(Fe,Oe,Tt),{success:!1,errorName:Tt,shouldTerminate:!0}}_(ne,"handleDeviceInitError");var q;(function($e){$e.START_PREVIEW="start-preview",$e.STOP_PREVIEW="stop-preview",$e.ENABLE="enable",$e.DISABLE="disable"})(q||(q={}));const me=1e4,ue=30,ae=5e3,le=15e3,fe="medium",he=!0,ie=50;let X=_(class{async shutdown(){var oe,Ae,Oe;if(this.isShuttingDown=!0,this.voiceFocusDevice){var Fe;await this.voiceFocusDevice.stop(),await((Fe=this.voiceFocusManager)===null||Fe===void 0?void 0:Fe.tearDown()),this.voiceFocusDevice=void 0}this.pendingAudioDevice=void 0,this.pendingCameraDevice=void 0,this.observer.onClearAllAlerts(),this.audioVideoFacade.removeDeviceChangeObserver(this),this.audioVideoFacade.stopLocalVideoTile(),await this.audioVideoFacade.stopVideoInput(),await this.audioVideoFacade.stopAudioInput(),this.audioVideoFacade.unbindAudioElement(),this.removeAudioElementErrorHandler(),await this.clearVideoTransformDeviceRefs(),this.audioInputDeviceRefreshTimer&&(clearTimeout(this.audioInputDeviceRefreshTimer),this.audioInputDeviceRefreshTimer=null),this.videoInputDeviceRefreshTimer&&(clearTimeout(this.videoInputDeviceRefreshTimer),this.videoInputDeviceRefreshTimer=null),this.cameraMetricsTimeout&&(clearTimeout(this.cameraMetricsTimeout),this.cameraMetricsTimeout=null),await((Ae=(oe=(0,s._R)())===null||oe===void 0?void 0:oe.getAudioContext())===null||Ae===void 0?void 0:Ae.suspend()),this.callLogger.info("Audio context suspended"),(Oe=this.audioLevelMonitor)===null||Oe===void 0||Oe.stop(),delete this.audioLevelMonitor,this.callLogger.info("Device manager shutdown complete")}async init(){this.options.useHuddlesSignalStartDelay||this.enumerateDevices(),await this.determineInitialMicrophonePermissionState(),this.enumerateDevices(),this.logDevices(),await this.updateMicrophone(),await this.updateSpeaker(),this.isCameraEnabled&&await this.updateCamera()}async determineInitialMicrophonePermissionState(){if((0,m.y3)()){await this.determineInitialMicrophonePermissionStateForDesktop();return}await this.determineInitialMicrophonePermissionStateForBrowser()}async determineInitialMicrophonePermissionStateForBrowser(){const{status:oe}=F.Ay.canAccessMediaResource(l.mT.MICROPHONE);let Ae;(oe===i.eJ.Prompt||oe===i.eJ.NotDetermined||oe===i.eJ.Unknown)&&(await this.audioVideoFacade.listAudioInputDevices(!0),Ae=F.Ay.canAccessMediaResource(l.mT.MICROPHONE).status),(oe===i.eJ.Denied||Ae===i.eJ.Denied)&&(this.observer.onBrowserMediaDeviceAccessDenied(l.mT.MICROPHONE),this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async determineInitialMicrophonePermissionStateForDesktop(){const oe=await this.maybeCheckSystemMediaAccess(l.mT.MICROPHONE);(0,m.j9)()||(0,m.uF)()||oe&&(oe==null?void 0:oe.status)===i.eJ.Denied&&(this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async setAGC(oe){this.prefs.audio&&this.prefs.audio.enableAGC!==oe&&(this.callLogger.info(`AGC setting changed: ${oe}`),this.prefs.audio.enableAGC=oe,(0,x.i4)(this.prefs),await this.updateMicrophone())}async setPreferredDevice(oe,Ae){switch(Ae){case i.lW.Microphone:await this.updateMicrophone();break;case i.Q4:await this.updateSpeaker();break;case i.lW.Camera:this.isCameraEnabled&&await this.updateCamera();break;default:break}}async setPreferredCameraDeviceForPreview(oe){this.enumerateDevices(),await this.updateCamera()}async setVideoBackgroundEffect(oe){let{effect:Ae,effectBgKey:Oe}=oe;this.prefs.video&&(this.callLogger.info(`Video background effect changed: ${Ae}`),this.prefs.video.effect=Ae,this.prefs.video.effectBgKey=Oe,(0,x.i4)(this.prefs),this.isCameraEnabled&&await this.updateCamera())}async setNoiseSuppression(oe){this.prefs.audio&&this.prefs.audio.enableNoiseSuppression!==oe&&(this.callLogger.info(`Noise suppression setting changed: ${oe}`),this.prefs.audio.enableNoiseSuppression=oe,(0,x.i4)(this.prefs),await this.updateMicrophone())}async setStartMutedBarrier(oe){!this.isStartMutedBarrierActive&&oe?this.callLogger.warn("ALERT: Audio input will be muted until the start muted barrier is released"):this.isStartMutedBarrierActive&&!oe&&this.callLogger.info("Start muted barrier released"),this.isStartMutedBarrierActive=oe}async setMicrophone(oe){var Ae;if(this.voiceFocusManager&&await this.voiceFocusManager.setMute(oe),!oe){var Oe;this.audioVideoFacade.realtimeMuteLocalAudio(),(Oe=this.huddleEventsTrace)===null||Oe===void 0||Oe.update({name:v.p.MICROPHONE,type:v.G.STOP});return}this.isStartMutedBarrierActive&&this.setStartMutedBarrier(!1),this.audioVideoFacade.realtimeUnmuteLocalAudio(),(Ae=this.huddleEventsTrace)===null||Ae===void 0||Ae.update({name:v.p.MICROPHONE,type:v.G.START})}requestPreviewStreamForDeviceId(oe,Ae,Oe){Ae===i.lW.Camera&&this.handleCameraChanges({type:q.START_PREVIEW,deviceId:oe,videoElement:Oe})}stopVideoPreviewForVideoInput(oe){this.handleCameraChanges({type:q.STOP_PREVIEW,videoElement:oe||this.cameraPreviewVideoElement})}setCamera(oe){oe!==this.isCameraEnabled&&(this.isCameraEnabled=oe,this.isCameraEnabled?(this.handleCameraChanges({type:q.ENABLE}),this.maybeCheckSystemMediaAccess(l.mT.CAMERA)):this.handleCameraChanges({type:q.DISABLE}))}setCameraQuality(oe,Ae,Oe,Fe){this.callLogger.info(`Camera quality settings changed: ${oe}x${Ae}@${Oe}fps ${Fe}kbps`),this.audioVideoFacade.chooseVideoInputQuality(oe,Ae,Oe),this.audioVideoFacade.setVideoMaxBandwidthKbps(Fe)}async audioVideoDidStart(){this.meetingReady=!0,this.options.useHuddlesSignalStartDelay&&this.pendingAudioDevice&&(this.callLogger.info(`Setting audio to pending device ${this.pendingAudioDevice}`),await this.initAudioInput(this.pendingAudioDevice),this.pendingAudioDevice=void 0)}validatePendingDevice(oe,Ae){const Oe=this.getPreferredDevice(Ae),Fe=(Oe==null?void 0:Oe.id)===oe;return Fe||this.callLogger.warn(`Pending ${Ae} device ${oe} is no longer available, skipping setup`),Fe}async setCanStartLocalVideo(oe){if(this.options.useHuddlesSignalStartDelay){this.canStartLocalVideo=oe;const Ae=(0,d.A)(this.pendingCameraDevice,"device",this.pendingCameraDevice);this.pendingCameraDevice&&oe&&(this.validatePendingDevice(Ae,i.lW.Camera)&&(this.callLogger.info(`Setting camera to pending device ${Ae}`),await this.initVideoInput(this.pendingCameraDevice),await this.runCameraActivityEnable()),this.pendingCameraDevice=void 0)}}localVideoTileDidUpdate(oe){(!oe.boundVideoStream||!oe.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${oe.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!oe.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}async maybeBindAudioOutputElement(){if(!this.isAudioOutputElementBound&&this.audioOutputElement){try{await this.audioVideoFacade.bindAudioElement(this.audioOutputElement)}catch(oe){this.callLogger.info(`bindAudioElement failed: error: ${oe.name}, message: ${oe.message}`);return}this.isAudioOutputElementBound=!0}}async maybeCheckSystemMediaAccess(oe){if(!(0,m.y3)()){const{status:Ae}=F.Ay.canAccessMediaResource(oe);if(Ae===i.eJ.Granted)return{isAvailable:!1,status:i.eJ.Granted}}if((0,m.cX)())try{const Ae=F.Ay.canAccessMediaResource(oe);if(this.callLogger.info(`DeviceManager::getMediaAccessStatus ${oe} electron API available: ${Ae.isAvailable} and status: ${Ae.status}`),!Ae.isAvailable)return{isAvailable:!1,status:i.eJ.NotDetermined};if(Ae.status===i.eJ.Granted)return this.observer.onDeviceAccessApproved(oe),Ae;let Oe;return(!Ae.status||Ae.status===i.eJ.NotDetermined)&&(Ae.status||this.callLogger.info(`DeviceManager::getMediaAccessStatus ${oe} status is missing. Re-requesting media access`),Oe=oe==="screen"?null:await F.Ay.requestMediaAccess(oe),this.callLogger.info(`DeviceManager::askForMediaAccess ${oe} electron API available: ${!!(Oe!=null&&Oe.isAvailable)} and isConsentGranted: ${Oe==null?void 0:Oe.isGranted}`),oe!=="screen"&&(Oe!=null&&Oe.isGranted))?(this.observer.onDeviceAccessApproved(oe),{status:i.eJ.Granted,isAvailable:!0}):((Ae.status===i.eJ.Denied||Oe&&!Oe.isGranted)&&(this.micPermissionDenied=!0,this.observer.onCheckSystemMediaAccess(oe)),Ae)}catch(Ae){this.callLogger.info(`DeviceManager::Error retrieving system access for ${oe}: ${Ae}`)}return{isAvailable:!1,status:i.eJ.NotDetermined}}audioInputMuteStateChanged(oe,Ae){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${oe}, ${Ae?"muted":"unmuted"}`)}audioInputStreamEnded(oe){var Ae;oe&&(this.callLogger.info("DeviceManager::audioInputStreamEnded"),((Ae=(0,E.Nj)(i.lW.Microphone))===null||Ae===void 0?void 0:Ae.id)===oe&&(this.callLogger.warn("Call audio stream ended unexpectedly"),this.observer.onSetNoMediaInput(l.mT.MICROPHONE)))}async videoInputStreamEnded(oe){oe&&(this.callLogger.info("DeviceManager::videoInputStreamEnded"),this.observer.onSetNoMediaInput(l.mT.CAMERA))}logDevices(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.LL;const Ae=(0,E.T5)();if(!Ae){this.callLogger.error("No devices found");return}(0,b.my)(this.callLogger,Ae,oe)}getPreferredDevice(oe){return(0,E.Nj)(oe)}enumerateDevices(){const oe=(0,E.T5)();if(!oe){this.callLogger.error("No devices found in v2 device manager");return}this.callLogger.info("V2 devices found. Updating device store"),this.observer.onDevicesUpdated(oe)}async handleCameraChanges(oe){switch(oe.type){case q.START_PREVIEW:await this.runCameraActivityStartPreview(oe);break;case q.STOP_PREVIEW:await this.runCameraActivityStopPreview(oe);break;case q.ENABLE:await this.runCameraActivityEnable();break;case q.DISABLE:await this.runCameraActivityDisable();break;default:break}}checkDeviceStillAvailable(oe,Ae,Oe){if(!this.options.useHuddlesSignalStartDelay)return!0;const Fe=this.getPreferredDevice(Ae),Ze=(Fe==null?void 0:Fe.id)===oe;return Ze||this.callLogger.warn(`Device was removed during ${Oe}, aborting`),Ze}async updateMicrophone(){const oe=this.getPreferredDevice(i.lW.Microphone);if(!oe){this.callLogger.info("No audio input device found");return}const{id:Ae,label:Oe}=oe;this.micPermissionDenied&&this.callLogger.error("Microphone permission is denied. The user must grant permissions and fully quit and restart Slack to join the Huddle"),this.callLogger.info(`Selected audio input device: ${oe.label||oe.id}, deviceId: ${Ae}, deviceLabel: ${Oe}`);const Ze={autoGainControl:this.prefs.audio?this.prefs.audio.enableAGC:!0,deviceId:Ae};let rt=!0;if(this.voiceFocusManager&&this.voiceFocusManager.isAvailable()&&(this.prefs.audio&&this.prefs.audio.enableNoiseSuppression)){if(this.voiceFocusDevice||(this.voiceFocusDevice=await this.voiceFocusManager.getTransformDevice()),this.voiceFocusDevice){if(!this.checkDeviceStillAvailable(Ae,i.lW.Microphone,"voice focus setup"))return;const Tt=await this.voiceFocusDevice.chooseNewInnerDevice(Ze);if(!this.checkDeviceStillAvailable(Ae,i.lW.Microphone,"voice focus device creation"))return;this.voiceFocusDevice=Tt}this.voiceFocusDevice||(rt=!1)}else rt=!1;this.voiceFocusDevice&&(0,p.Y)({name:p.R1.VoiceFocusDevice,ref:this.voiceFocusDevice}),this.callLogger.info("Noise suppression:",rt?"enabled":"disabled");try{if(this.isStartMutedBarrierActive&&(this.callLogger.info("Start muted barrier active"),this.audioVideoFacade.realtimeMuteLocalAudio()),!this.checkDeviceStillAvailable(Ae,i.lW.Microphone,"audio input initialization"))return;if(rt)if(this.voiceFocusDevice)await this.initAudioInput(this.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(Ze.noiseSuppression=!0),await this.initAudioInput(Ze)}catch(Tt){this.callLogger.error(`chooseAudioInputDevice failed: error: ${Tt.name}, message: ${Tt.message}`),this.options.useHuddlesDeviceErrorHandler?await ne({callLogger:this.callLogger,error:Tt,deviceType:i.lW.Microphone,observer:this.observer}):await this.handleAudioInitError(Tt);return}this.observer.onClearAudioDeviceErrors(),this.initAudioAnalyserForPreview(),this.setupAudioInputTrackHandler({preferredDeviceId:Ae}),this.observer.onSelfPermissionUpdated(this.micPermissionDenied,i.lW.Microphone),this.attemptToInitMicrophoneNative(oe.label)}async updateSpeaker(){const oe=this.getPreferredDevice(i.Q4);if(!oe){this.callLogger.info("No audio output device found");return}const{id:Ae,label:Oe}=oe;this.callLogger.info(`Selected audio output device id: ${oe.label||oe.id}, deviceId: ${Ae}, deviceLabel: ${Oe}`),await this.audioVideoFacade.chooseAudioOutput(Ae),this.observer.onOutputDeviceChanged({id:oe.id,type:i.Q4}),(0,E.i_)(Ae,i.Q4)}async updateCamera(){const oe=this.getPreferredDevice(i.lW.Camera);if(!oe){this.callLogger.info("No video input device found");return}this.callLogger.info(`Selected video input device id: ${oe.label||oe.id}`);try{await this.setCameraVideoInputDevice(oe)}catch(Ae){this.options.useHuddlesDeviceErrorHandler?await ne({callLogger:this.callLogger,error:Ae,deviceType:i.lW.Camera,observer:this.observer}):(this.callLogger.info(`chooseVideoInputDevice failed: error: ${Ae.name}, message: ${Ae.message}`),Ae instanceof s.Ll?this.observer.onSelfPermissionUpdated(!0,i.lW.Camera):this.observer.onSelfPermissionUpdated(!1,i.lW.Camera));return}this.observer.onClearVideoDeviceErrors(),this.observer.onSelfPermissionUpdated(!1,i.lW.Camera)}async setCameraVideoInputDevice(oe){if(await this.clearVideoTransformDeviceRefs(),this.options.backgroundVideoFilteringSetting===i.uT.NONE){await this.initVideoInput(oe.id);return}switch(this.prefs.video.effect){case L.t.Blur:{await this.setCameraVideoInputDeviceWithBackgroundBlurFilter(oe);break}case L.t.Background:{this.options.backgroundVideoFilteringSetting!==i.uT.Both?await this.initVideoInput(oe.id):await this.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:oe,selectedBackgroundImageKey:this.prefs.video.effectBgKey});break}default:{await this.initVideoInput(oe.id);break}}}async setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(oe){let{videoDevice:Ae,selectedBackgroundImageKey:Oe}=oe;const Fe=Ae.label||Ae.id;if(Oe===void 0){this.callLogger.info(`No background image key provided id: ${Fe}`),await this.initVideoInput(Ae.id);return}const rt=P.g.find(Ln=>Ln.key===Oe);if(rt===void 0)return this.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",Ae);this.callLogger.info(`Enabling video input device with background image filter id: ${Fe}`);const Vt=await(await fetch(rt.url)).blob();if(this.options.useHuddlesFilterWorker){const Ln=await createImageBitmap(Vt),dn=new B(Ae.id,Ln);this.setVideoTransformDeviceRefs({transformDevice:dn,processors:[]}),await this.initVideoInput(dn),await this.cleanupTransformDevicesAndCameraIfShuttingdown();return}const cn=(0,s.jq)(),$t=(0,s.px)(),an=[];if(!await s.i3.isSupported(this.chimeLogger)&&he)return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",Ae);if(!await $t.isSupported()&&!he)return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",Ae);if(this.isShuttingDown)return;const mn={...this.defaultVideoProcessorOptions,imageBlob:Vt};if(he){if(this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:fe},backgroundReplacement:{isEnabled:!0,backgroundImageURL:rt.url,defaultColor:void 0}},this.videoFxProcessor=await s.i3.create(this.chimeLogger,this.videoFxConfig,ie),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",Ae);this.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${Fe}`),an.push(this.videoFxProcessor)}else{const Ln=await $t.create(void 0,mn);if(Ln)this.setupVideoBackgroundFrameProcessor({processor:Ln,backgroundEffect:R.Image}),an.push(Ln);else return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",Ae)}this.callLogger.info(`Enabling video input device with background image replacement id: ${Fe}`);const hn=new cn(this.chimeLogger,Ae.id,an);this.setVideoTransformDeviceRefs({transformDevice:hn,processors:an}),await this.initVideoInput(hn),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async handleErrorApplyVideoEffects(oe,Ae){const Oe=Ae.label||Ae.id;this.callLogger.info(`${oe}: ${Oe}`),await this.initVideoInput(Ae.id)}async setCameraVideoInputDeviceWithBackgroundBlurFilter(oe){const Ae=(0,s.jq)(),Oe=(0,s.kM)(),Fe=oe.label||oe.id;if(this.callLogger.info(`Enabling video input device with background blur filter id: ${Fe}`),this.options.useHuddlesFilterWorker){const Tt=new B(oe.id);this.setVideoTransformDeviceRefs({transformDevice:Tt,processors:[]}),await this.initVideoInput(Tt),await this.cleanupTransformDevicesAndCameraIfShuttingdown();return}const Ze=[];if(he){if(!await s.i3.isSupported(this.chimeLogger))return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",oe);if(this.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:fe},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.videoFxProcessor=await s.i3.create(this.chimeLogger,this.videoFxConfig,ie),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",oe);this.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${Fe}`),Ze.push(this.videoFxProcessor)}else{if(!await Oe.isSupported())return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",oe);const Tt={...this.defaultVideoProcessorOptions,blurStrength:15},Vt=await Oe.create(void 0,Tt);if(!Vt)return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",oe);this.setupVideoBackgroundFrameProcessor({processor:Vt,backgroundEffect:R.Blur}),Ze.push(Vt)}this.callLogger.info(`Enabling video input device with background blur filter id: ${Fe}`);const rt=new Ae(this.chimeLogger,oe.id,Ze);this.setVideoTransformDeviceRefs({transformDevice:rt,processors:Ze}),await this.initVideoInput(rt),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async cleanupTransformDevicesAndCameraIfShuttingdown(){this.isShuttingDown&&(this.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),await this.audioVideoFacade.stopVideoInput(),await this.clearVideoTransformDeviceRefs())}async initVideoInputDevices(){const Ae=(await this.audioVideoFacade.listVideoInputDevices()).length>0;return Ae||this.observer.onSelfPermissionUpdated(!0,i.lW.Camera),this.prefs=(0,x.Bh)(),this.enumerateDevices(),Ae}async runCameraActivityStartPreview(oe){const Ae=oe.deviceId,Oe=oe.videoElement;!Ae||!Oe||(this.cameraPreviewVideoElement=Oe,await this.setPreferredCameraDeviceForPreview(Ae),await this.startCameraPreview())}async runCameraActivityStopPreview(oe){const Ae=oe.videoElement;Ae&&(Ae!==this.cameraPreviewVideoElement&&this.callLogger.warn("Mismatch in preview video element"),this.audioVideoFacade.hasStartedLocalVideoTile()?this.detachStreamFromCameraPreview():this.stopCameraPreview(),delete this.cameraPreviewVideoElement)}async runCameraActivityEnable(){var oe;!this.audioVideoFacade.hasStartedLocalVideoTile()&&this.cameraPreviewVideoElement&&this.stopCameraPreview(),await this.updateCamera(),this.audioVideoFacade.hasStartedLocalVideoTile()||(this.waitForCameraReady=(0,o.u)(),this.audioVideoFacade.startLocalVideoTile(),await this.waitForCameraReady.catch(()=>{this.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),this.runCameraActivityDisable()})),this.attachStreamToCameraPreview(),(oe=this.huddleEventsTrace)===null||oe===void 0||oe.update({name:v.p.VIDEO,type:v.G.START})}async runCameraActivityDisable(){var oe;this.detachStreamFromCameraPreview(),this.options.useHuddlesSignalStartDelay?(this.audioVideoFacade.stopLocalVideoTile(),await this.audioVideoFacade.stopVideoInput()):(await this.audioVideoFacade.stopVideoInput(),this.audioVideoFacade.stopLocalVideoTile()),(oe=this.huddleEventsTrace)===null||oe===void 0||oe.update({name:v.p.VIDEO,type:v.G.STOP}),this.cameraPreviewVideoElement&&(!this.isShuttingDown||!this.options.useHuddlesSignalStartDelay)&&(await this.updateCamera(),await this.startCameraPreview())}async startCameraPreview(){this.cameraPreviewVideoElement&&(this.waitForCameraReady=(0,o.u)(),this.audioVideoFacade.startVideoPreviewForVideoInput(this.cameraPreviewVideoElement),this.cameraPreviewVideoElement.addEventListener("canplay",oe=>{this.waitForCameraReady.resolve()}),await this.waitForCameraReady)}async stopCameraPreview(){this.cameraPreviewVideoElement&&(this.audioVideoFacade.stopVideoPreviewForVideoInput(this.cameraPreviewVideoElement),await this.audioVideoFacade.stopVideoInput())}attachStreamToCameraPreview(){var oe;if(!this.cameraPreviewVideoElement)return;const Ae=(oe=this.audioVideoFacade.getLocalVideoTile())===null||oe===void 0?void 0:oe.state();Ae&&Ae.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(Ae.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&s.xc.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(oe){var Ae,Oe,Fe,Ze;const rt=((Ae=oe.target)===null||Ae===void 0||(Oe=Ae.error)===null||Oe===void 0?void 0:Oe.code)||"unavailable",Tt=((Fe=oe.target)===null||Fe===void 0||(Ze=Fe.error)===null||Ze===void 0?void 0:Ze.message)||oe.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${rt}, message: ${Tt}`),this.observer.onSetNoAudioOutput(l.NS.AUDIO_ELEMENT_ERROR)}initAudioAnalyserForPreview(){const oe=(0,s._R)().getAudioContext();if(!oe){this.callLogger.warn("Unable to get AudioContext");return}oe.resume();const Ae=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(Ae){var Oe;const Fe=new A(Ae);(Oe=this.audioLevelMonitor)===null||Oe===void 0||Oe.setPreviewAudioAnalyser(Fe)}}setupAudioInputTrackHandler(oe){let{preferredDeviceId:Ae}=oe;this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new S(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize({preferredDeviceId:Ae})}constructor(oe,Ae,Oe,Fe,Ze=!1,rt,Tt,Vt){this.audioVideoFacade=oe,this.audioOutputElement=Ae,this.observer=Oe,this.options=Fe,this.isStartMutedBarrierActive=Ze,this.chimeLogger=rt,this.defaultDeviceController=Tt,this.voiceFocusManager=Vt,this.callLogger=(0,c.Jt)("DEVICES"),this.waitForCameraReady=(0,o.u)(),this.isAudioOutputElementBound=!1,this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:fe},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.micPermissionDenied=!1,this.meetingReady=!1,this.canStartLocalVideo=!1,this.audioInputsChanged=async()=>{this.callLogger.info("DeviceManager::audioInputsChanged"),await(0,E.es)(),this.logDevices([i.lW.Microphone]),this.observer.onClearNoMediaInput(l.mT.MICROPHONE)},this.audioOutputsChanged=async()=>{this.callLogger.info("DeviceManager::audioOutputsChanged"),await(0,E.es)(),this.logDevices([i.Q4]),this.observer.onClearNoAudioOutput(l.NS.AUDIO_ELEMENT_ERROR)},this.videoInputsChanged=async()=>{this.callLogger.info("DeviceManager::videoInputsChanged"),await(0,E.es)(),this.logDevices([i.lW.Camera])},this.attemptToInitMicrophoneNative=(0,u.A)(async $t=>{try{if(!$t||!this.options.useDevicesExp)return;if(this.options.useHuddlesSignalStartDelay&&!this.meetingReady){this.validatePendingDevice($t,i.lW.Microphone)?(this.callLogger.info("Skipping microphone init test because meeting is not ready"),this.pendingAudioDevice=$t):this.callLogger.warn("Device is no longer available, not storing as pending");return}const an=await(0,K.Lh)($t),{error:mn,canInit:hn}=an;(0,f.A)(mn)?mn.includes("Method not available")||mn.includes("only supported on Windows")?this.callLogger.info("Microphone init test not supported on this client"):hn||this.callLogger.warn(`ALERT! Possible init failure for microphone with device: ${$t}: ${mn}`):this.callLogger.info(`Successfully initialized microphone with device: ${$t}`)}catch(an){this.callLogger.error("Error attempting to init audio device",an)}},1e3),this.handleAudioInitError=async $t=>{switch($t.name){case"NotReadableError":this.callLogger.warn("Either a hardware error (such as an OS/program/webpage lock) is preventing access to the microphone or the selected device is no longer available. Trying again");break;case"NotFoundError":this.callLogger.warn("No audio input devices are available. Trying again");break;case"OverconstrainedError":this.callLogger.warn("The specified constraints resulted in no devices being found. Trying again");break;case"PermissionDeniedError":this.callLogger.error("User denied permission to access microphone.");break;case"TypeError":this.callLogger.error("An unexpected TypeError occurred during audio input initialization",$t);break;case"GetUserMediaError":this.callLogger.error("An unexpected GetUserMediaError occurred during audio input initialization",$t);break;default:this.callLogger.error("Unknown error during audio input initialization")}const an=$t instanceof s.Ll;this.observer.onSelfPermissionUpdated(!!an,i.lW.Microphone)},this.setVideoTransformDeviceRefs=$t=>{let{transformDevice:an,processors:mn}=$t;this.currentVideoTransformDevice=an,this.currentVideoFrameProcessors=mn,(0,p.Y)({name:p.R1.VideoTransformDevice,ref:an})},this.setupVideoBackgroundFrameProcessor=$t=>{let{processor:an,backgroundEffect:mn}=$t;var hn;this.clearVideoBackgroundFrameProcessor(),!he&&(this.currentVideoFrameProcessor=an,this.currentVideoFrameProcessorObserver=new O({backgroundEffect:mn}),(hn=this.currentVideoFrameProcessor)===null||hn===void 0||hn.addObserver(this.currentVideoFrameProcessorObserver),(0,p.Y)({name:p.R1.VideoFrameProcessor,ref:an}))},this.clearVideoBackgroundFrameProcessor=()=>{he||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)},this.clearVideoTransformDeviceRefs=async()=>{this.clearVideoBackgroundFrameProcessor(),this.currentVideoFrameProcessors&&(this.currentVideoFrameProcessors.forEach($t=>{$t.destroy()}),this.currentVideoFrameProcessors.length=0,this.currentVideoFrameProcessors=void 0),this.currentVideoTransformDevice&&(await this.currentVideoTransformDevice.stop(),this.currentVideoTransformDevice=void 0)},this.initAudioInput=async $t=>{if(!$t){this.callLogger.info("initAudioInput no audio input device was provided");return}const an=performance.now(),mn=setTimeout(()=>{this.callLogger.warn(`startAudioInput took longer than ${ae}ms`)},ae),hn=setTimeout(()=>{this.callLogger.warn(`startAudioInput possibly failed took longer than ${le}ms`),this.observer.onAudioInitPossiblyFailed()},le);try{await this.audioVideoFacade.startAudioInput($t),this.callLogger.info("startAudioInput completed")}catch(Ln){throw this.callLogger.error("startAudioInput failed",Ln),Ln}finally{clearTimeout(mn),clearTimeout(hn);const dn=performance.now()-an;this.observer.onAudioInitTimeTaken(dn)}},this.initVideoInput=async $t=>{if(this.options.useHuddlesSignalStartDelay&&!this.canStartLocalVideo){this.callLogger.info("Skipping video input initialization because canStartLocalVideo is false"),this.pendingCameraDevice=$t;return}if(!$t)return;await this.audioVideoFacade.startVideoInput($t),this.recordCameraResolution();const an=(0,d.A)($t,"device",$t);typeof an=="string"&&(0,E.i_)(an,i.lW.Camera)},this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var $t,an,mn,hn,Ln;if(this.isShuttingDown||!(($t=this.audioVideoFacade)===null||$t===void 0?void 0:$t.hasStartedLocalVideoTile()))return;const Fn=this.audioVideoFacade.getLocalVideoTile(),ts=(an=Fn==null?void 0:Fn.state())===null||an===void 0?void 0:an.boundVideoStream,zn=ts==null?void 0:ts.getVideoTracks()[0];if(zn instanceof CanvasCaptureMediaStreamTrack){U.A.publish({type:W.lx.CameraResolution,update:{isCanvasStream:!0}});return}const as=zn==null?void 0:zn.getSettings(),us=zn==null?void 0:zn.getCapabilities(),fs=as==null?void 0:as.width,Ls=as==null?void 0:as.height,Ns=as==null?void 0:as.frameRate,ys=us==null||(mn=us.width)===null||mn===void 0?void 0:mn.max,Ss=us==null||(hn=us.height)===null||hn===void 0?void 0:hn.max,xn=us==null||(Ln=us.frameRate)===null||Ln===void 0?void 0:Ln.max;ys&&Ss&&U.A.publish({type:W.lx.CameraResolution,update:{cameraWidth:fs,cameraHeight:Ls,cameraFrameRate:Ns,cameraMaxWidth:ys,cameraMaxHeight:Ss,cameraMaxFrameRate:xn,isCanvasStream:!1}})}catch{}},5e3)},this.updateMicrophone=y(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=y(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=y(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=y(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=(0,x.Bh)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new D,this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:ue,reportingPeriodMillis:me,logger:this.chimeLogger};const{huddleEventsTrace:cn}=(0,h.A)().getAllTraceHandlers();this.huddleEventsTrace=cn}},"DeviceManager");var j=e(63202349),w=e(3390261877),Q=e(3320454392);let G=_(class{constructor(oe,Ae,Oe){this.sequenceNumber=oe,this.message=Ae,this.timestampMs=Oe}},"MeetingEvent"),J=_(class Ja{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(oe){this.intervalScheduler.start(async()=>{if(this.getEventCaptureSize()===0)return;const Ae=this.eventCapture.slice(0,oe);try{this.postEvents(Ae),this.eventCapture=this.eventCapture.slice(Ae.length)}catch(Oe){this.log.error(Oe.message)}})}stop(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,oe,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(oe,Ae){const{meetingHistory:Oe,...Fe}=Ae;try{const Ze=JSON.stringify({name:oe,attributes:Fe});this.eventCapture.push(new G(this.sequenceNumber,Ze,Date.now())),this.sequenceNumber+=1}catch(Ze){this.log.error(Ze.message)}}postEvents(oe){let Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Fe;oe.length===0&&!Ae&&!Oe||(Fe=this.observer)===null||Fe===void 0||Fe.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,oe,Ae,Oe)}constructor(oe,Ae,Oe,Fe,Ze,rt=Ja.DEFAULT_BATCH_SIZE,Tt=Ja.DEFAULT_INTERVAL_MS){this.observer=oe,this.meetingId=Ae,this.mediaRegion=Oe,this.attendeeId=Fe,this.callId=Ze,this.batchSize=rt,this.intervalMs=Tt,this.eventCapture=[],this.sequenceNumber=0,this.log=(0,c.tZ)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new w.A(this.intervalMs),this.startEventPublishScheduler(this.batchSize),(0,Q.A)(async()=>{this.stop(!0)})}},"MeetingEventLogger");J.DEFAULT_BATCH_SIZE=100,J.DEFAULT_INTERVAL_MS=65*60*1e3;var te=e(9323322135),se=e(1033764764),ce=e(9372409576),Ee=e(7299481592);const de=1e4,re=3e4;class _e{observe(oe){this.connections.push(oe),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(oe){remove(this.connections,oe),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){this.connections.forEach(async oe=>{const Ae=oe.getPeerConnection();if(!Ae)return;const Oe=ve(await Ae.getStats());Le(oe,Oe);const Fe={...Ne(Oe),send:Oe.sendTracks.map(Ze=>Re(Ze,Oe)),recv:Oe.recvTracks.map(Ze=>({...xe(Ze,Oe),peerId:oe.getPeerIdFromRemoteStreamId(Oe.trackIdToStreamId[Ze.id])}))};this.observer.onStats(Fe)})}constructor(oe,Ae=de){this.observer=oe,this.collectionIntervalMs=Ae,this.connections=[]}}_(_e,"StatsManager");function ve($e){const oe=Array.from($e.entries()),Ae=reduce(oe,(Oe,Fe)=>{let[Ze,rt]=Fe;return ze(rt)?rt.remoteSource===!0?Oe.recvTracks.push(rt):Oe.sendTracks.push(rt):Ve(rt)||ee(rt)?rt.trackId&&(Oe.rtpStats[rt.trackId]=rt):st(rt)?Oe.transports[rt.id]=rt:Ge(rt)?Oe.candidates[rt.id]=rt:be(rt)?Oe.candidatePairs[rt.id]=rt:Se(rt)?Oe.codecs[rt.id]=rt:we(rt)?rt.trackIds&&rt.trackIds.forEach(Tt=>{Oe.trackIdToStreamId[Tt]=rt.streamIdentifier}):Ce(rt)&&rt.trackIdentifier&&(Oe.mediaSources[rt.trackIdentifier]=rt),Oe},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return Ae.recvTracks=Ae.recvTracks.filter(Oe=>Ae.trackIdToStreamId[Oe.id]!==void 0),Ae}_(ve,"groupStatsByType");function ge($e){const oe=filter($e.candidatePairs,Tt=>!!Tt.nominated),Ae=maxBy(oe,Tt=>Tt.priority);if(!Ae)return;const Oe=find($e.candidates,(Tt,Vt)=>Vt===Ae.localCandidateId);if(!Oe)return;let Fe=Oe.candidateType==="relay"?Oe.relayProtocol:Oe.protocol;Oe.candidateType==="prflx"&&(Fe+=" (unreliable)");const Ze="unknown";return{candidateType:Oe.candidateType||Ze,networkType:Oe.networkType||Ze,transportType:Fe||Ze}}_(ge,"getConnectionNetworkInfo");function Le($e,oe){const Ae=ge(oe);Ae&&$e.maybeLogNetworkInfo(Ae)}_(Le,"reportConnectionNetworkInfo");const ke={nominal:1,fair:2,serious:3,critical:4};async function Ke(){var $e;if(!(0,m.y3)())return;let oe,Ae,Oe;if(te.vkf.isAvailable()){var Fe;const cn=await(0,te.vkf)();if(!cn)return;oe=cn.processMetrics,Ae=ke[cn.thermalState],Oe=(Fe=cn.speedLimit)===null||Fe===void 0?void 0:Fe.limit}else oe=await(0,te.rc_)();if(!oe)return;let Ze=null;const rt=oe.reduce((cn,$t)=>{var an,mn,hn;return $t.type==="GPU"&&(Ze=$t),{cpu:cn.cpu+(($t==null||(an=$t.cpu)===null||an===void 0?void 0:an.percentCPUUsage)||0),memory:{workingSetSize:cn.memory.workingSetSize+(0,se.UK)(($t==null||(mn=$t.memory)===null||mn===void 0?void 0:mn.workingSetSize)||0),peakWorkingSetSize:cn.memory.peakWorkingSetSize+(0,se.UK)(($t==null||(hn=$t.memory)===null||hn===void 0?void 0:hn.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),Tt=Ze==null||($e=Ze.cpu)===null||$e===void 0?void 0:$e.percentCPUUsage,Vt=Tt?rt.cpu-Ze.cpu.percentCPUUsage:rt.cpu;return{...rt,cpuWithoutGpu:Vt,gpu:Tt,thermalState:Ae,speedLimit:Oe}}_(Ke,"makeAppMetricsStats");function Ne($e){const[oe,...Ae]=Object.values($e.transports);debugCheck(!Ae.length,"Can there be more than one transport stat in a report?");const Oe=oe&&oe.selectedCandidatePairId,Fe=$e.candidatePairs[Oe];if(!Oe||!Fe)return;const Ze=$e.candidates[Fe.remoteCandidateId]||{};return{availableOutgoingBitrate:Fe.availableOutgoingBitrate||0,availableIncomingBitrate:Fe.availableIncomingBitrate||0,totalBytesSent:Fe.bytesSent,totalBytesReceived:Fe.bytesReceived,currentRoundTripTime:Fe.currentRoundTripTime,totalRoundTripTime:Fe.totalRoundTripTime,protocol:Ze.protocol==="udp"?slack.calls.analytics.Protocol.UDP:slack.calls.analytics.Protocol.TCP,pathType:Ze.candidateType==="host"?slack.calls.analytics.PathType.DIRECT:slack.calls.analytics.PathType.RELAY,clientTime:Date.now()}}_(Ne,"makeConnectionStats");function Re($e,oe){const Ae=oe.rtpStats[$e.id]||{},Oe={codec:We(Ae,oe),bytesSent:Ae.bytesSent,packetsSent:Ae.packetsSent};if($e.kind==="audio"){const Fe=$e.trackIdentifier?oe.mediaSources[$e.trackIdentifier]:null;return Fe?{...Oe,audioStats:{audioLevel:Fe.audioLevel,totalAudioEnergy:Fe.totalAudioEnergy,totalSamplesDuration:Fe.totalSamplesDuration,echoReturnLoss:Fe.echoReturnLoss,echoReturnLossEnhancement:Fe.echoReturnLossEnhancement}}:{...Oe,audioStats:{audioLevel:$e.audioLevel,echoReturnLoss:$e.echoReturnLoss,echoReturnLossEnhancement:$e.echoReturnLossEnhancement}}}return{...Oe,videoStats:{frameHeight:$e.frameHeight,frameWidth:$e.frameWidth,framesSent:$e.framesSent,hugeFramesSent:$e.hugeFramesSent,framesPerSecond:Ae.framesPerSecond,framesEncoded:Ae.framesEncoded}}}_(Re,"makeOutboundMediaStats");function xe($e,oe){const Ae=oe.rtpStats[$e.id]||{},Oe={codec:We(Ae,oe),bytesReceived:Ae.bytesReceived,packetsReceived:Ae.packetsReceived,packetsLost:Ae.packetsLost,fractionLost:Ae.fractionLost,jitter:Ae.jitter};return $e.kind==="audio"?{...Oe,audioStats:{audioLevel:$e.audioLevel,jitterBufferDelay:$e.jitterBufferDelay,concealedSamples:$e.concealedSamples,concealmentEvents:$e.concealmentEvents}}:{...Oe,videoStats:{firCount:Ae.firCount,nackCount:Ae.nackCount,pliCount:Ae.pliCount,sliCount:Ae.sliCount,frameHeight:$e.frameHeight,frameWidth:$e.frameWidth,framesPerSecond:$e.framesPerSecond,framesCorrupted:$e.framesCorrupted,framesDecoded:$e.framesDecoded,framesDropped:$e.framesDropped,framesReceived:$e.framesReceived}}}_(xe,"makeInboundMediaStats");function We($e,oe){const Ae=$e.codecId,Oe=get(oe.codecs,Ae),Fe=get(Oe,"mimeType");return $(Fe)}_(We,"getCodecForRtpStat");function $($e){switch($e){case"video/VP8":return slack.calls.analytics.Codec.VP8;case"video/VP9":return slack.calls.analytics.Codec.VP9;case"video/H264":return slack.calls.analytics.Codec.H264;case"audio/opus":return slack.calls.analytics.Codec.OPUS;default:return slack.calls.analytics.Codec.UNKNOWN}}_($,"parseCodec");function ee($e){return $e.type==="inbound-rtp"}_(ee,"isRecvRtpStat");function Ve($e){return $e.type==="outbound-rtp"}_(Ve,"isSendRtpStat");function ze($e){return $e.type==="track"}_(ze,"isTrackStat");function st($e){return $e.type==="transport"}_(st,"isTransportStat");function Ge($e){return $e.type==="local-candidate"||$e.type==="remote-candidate"}_(Ge,"isIceCandidateStat");function be($e){return $e.type==="candidate-pair"}_(be,"isIceCandidatePairStat");function Se($e){return $e.type==="codec"}_(Se,"isCodecStat");function we($e){return $e.type==="stream"}_(we,"isStreamStat");function Ce($e){return $e.type==="media-source"}_(Ce,"isMediaSourceStat");const Te=5e3;let Ye=_(class{constructor(oe,Ae){var Oe=this;this.audioVideoFacade=oe,this.observer=Ae,this.callLogger=(0,c.Jt)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1,this.onMetricsDidReceive=async Fe=>{if(!Fe)return;const Ze=await this.collectScreenshareStats();this.reportAppMetrics({clientMetricReport:Fe,screenshareRtcStats:Ze})},this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const Fe=setInterval(()=>{if(!this.isDisconnected){clearInterval(Fe);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},Te)},this.cleanup=()=>{},this.collectScreenshareStats=async()=>{let Fe;try{var Ze;const rt=(Ze=this.audioVideoFacade.contentShareController.contentAudioVideo)===null||Ze===void 0?void 0:Ze.rtcPeerConnection;return rt?(Fe=await rt.getStats(),Fe):void 0}catch(rt){this.callLogger.error("Failed to collect screenshare stats",rt)}},this.reportAppMetrics=async function(){let{clientMetricReport:Fe,screenshareRtcStats:Ze}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Fe&&!Oe.isDisconnected)return;Oe.isDisconnected&&Fe&&(Oe.isDisconnected=!1);const rt=await Oe.collectAppMetrics();Oe.observer.onAppMetrics({appMetrics:rt,clientMetricReport:Fe,screenshareRtcStats:Ze})},this.collectAppMetrics=async()=>{const Fe=await Ke();if(!Fe)return;let Ze=Fe;return Fe&&(Ze=(0,t.A)({...Fe,cpu:Fe.cpuWithoutGpu},"cpuWithoutGpu")),Ze}}},"HuddlesStatsManager"),De=_(class{start(){var oe;this.isSignallingOnly=!1,(oe=this.videoDownlinkManager)===null||oe===void 0||oe.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}async stop(){this.isSignallingOnly?(this.waitForStart.resolve(),this.waitForStop.resolve(!0)):await this.waitForStart,this.isStopRequested=!0,this.audioVideoFacade.stop()}audioVideoDidStartConnecting(oe){var Ae;if(!oe)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var Oe,Fe,Ze;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(Oe=this.statsManager)===null||Oe===void 0||(Fe=Oe.reportDisconnect)===null||Fe===void 0||Fe.call(Oe),(Ze=this.huddleReconnectTracer)===null||Ze===void 0||Ze.traceReconnectAttempt(),this.isReconnecting=!0}(Ae=this.disconnectObserver)===null||Ae===void 0||Ae.onConnectionUpdate(this.audioVideoFacade)}async audioVideoDidStart(){var oe,Ae,Oe;if(this.callLogger.info("Chime audio video session started"),(oe=this.disconnectObserver)===null||oe===void 0||oe.onConnectionUpdate((Ae=this.audioVideoFacade)===null||Ae===void 0||(Oe=Ae.audioVideoController)===null||Oe===void 0?void 0:Oe.meetingSessionContext,this.isReconnecting),this.isReconnecting){var Fe;this.callLogger.info("Successfully re-connected to Huddle"),(Fe=this.huddleReconnectTracer)===null||Fe===void 0||Fe.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(Ze=>Ze.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(oe){var Ae,Oe,Fe,Ze;const rt=s.b9[oe.statusCode()],Tt=`Chime session stopped. StatusCode: ${rt}`;if(this.callLogger.info(Tt),this.isReconnecting&&oe.isFailure()){var Vt;this.callLogger.info("Failed to re-connect to Huddle"),(Vt=this.huddleReconnectTracer)===null||Vt===void 0||Vt.traceReconnectAttemptOutcome({isSuccess:!1})}delete this.disconnectObserver,this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(Ae=this.videoDownlinkManager)===null||Ae===void 0||Ae.removeObserver(this),(Oe=this.meetingEventLogger)===null||Oe===void 0||Oe.stop(),delete this.meetingEventLogger,(Ze=(Fe=this.statsManager).cleanup)===null||Ze===void 0||Ze.call(Fe),delete this.statsManager,this.dataChannelSubscribers.forEach(cn=>cn.onDisconnectDataChannel()),!this.isStopRequested&&oe.isTerminal()&&(this.observer.onClogError(Tt),this.observer.onError(l.uZ.CallEnded,rt)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(oe){if(!oe.boundVideoStream||!oe.boundAttendeeId){oe.tileId&&this.observer.onVideoTileRemoved(oe.tileId);return}const Ae=new s.jp(oe.boundAttendeeId).base();this.selfAttendeeId===Ae?(this.deviceManager.localVideoTileDidUpdate(oe),this.observer.onSelfVideoTileUpdate(oe)):this.observer.onPeerVideoTileUpdate(Ae,oe)}videoTileWasRemoved(oe){this.consoleLog.info(`Video tile removed: tileId=${oe}`),this.observer.onVideoTileRemoved(oe)}videoAvailabilityDidChange(oe){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${oe.remoteVideoAvailable}, CanStartLocalVideo=${oe.canStartLocalVideo}`),this.deviceManager.setCanStartLocalVideo(oe.canStartLocalVideo)}async metricsDidReceive(oe){var Ae;(Ae=this.statsManager)===null||Ae===void 0||Ae.onMetricsDidReceive(oe)}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){var oe;this.callLogger.warn("SDK suggested stop video, maybe poor connection"),(oe=this.videoUplinkManager)===null||oe===void 0||oe.shouldRestrictVideoQuality(!0)}connectionDidBecomeGood(){var oe;this.callLogger.info("SDK detected good connection"),(oe=this.videoUplinkManager)===null||oe===void 0||oe.shouldRestrictVideoQuality(!1)}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(oe){var Ae,Oe;(Ae=this.videoDownlinkManager)===null||Ae===void 0||Ae.remoteVideoSourcesDidChange(oe),(Oe=this.videoUplinkManager)===null||Oe===void 0||Oe.remoteVideoSourcesDidChange(oe)}tileWillBePausedByDownlinkPolicy(oe){this.observer.onVideoTileWillPause(oe)}tileWillBeUnpausedByDownlinkPolicy(oe){this.observer.onVideoTileWillUnpause(oe)}constructor(oe,Ae,Oe,Fe,Ze,rt,Tt,Vt,cn,$t,an,mn=[],hn){this.selfAttendeeId=oe,this.meetingId=Ae,this.mediaRegion=Oe,this.callId=Fe,this.audioVideoFacade=Ze,this.observer=rt,this.deviceManager=Tt,this.videoDownlinkManager=Vt,this.disconnectObserver=cn,this.dataChannelSubscribers=mn,this.videoUplinkManager=hn,this.callLogger=(0,c.tZ)("FREE-WILLY-AV"),this.consoleLog=(0,c.Cc)("FREE-WILLY-AV"),this.waitForStart=(0,o.u)(),this.waitForStop=(0,o.u)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,$t&&(this.waitForStart=$t),an&&(this.waitForStop=an),this.statsManager=new Ye(Ze,rt),this.meetingEventLogger=new J(rt,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=(0,h.A)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var Pe=e(8571983633),ye=e(489015593),He=e(2671711178),Qe=e(5954792826),dt=e(9240258658),Ot=e(5082930587),yt=e(1990810649);function Dt(){switch((0,te.IXB)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}_(Dt,"getScaleFactorForCurrentZoomLevel");function Ct($e,oe){const[Ae,Oe]=$e;return[Ae*oe,Oe*oe]}_(Ct,"getScaledCoordinates");function kt($e,oe){var Ae;const Fe=(0,m.y3)()&&!(0,m.dY)("4.18.0")?1/Dt():1,Ze=((Ae=$e.itemId)===null||Ae===void 0?void 0:Ae.toString())||null,rt=$e.itemId==="self"?oe:Ze;switch($e.type){case l.Sl.New:case l.Sl.Edit:{const[Tt,Vt]=Ct($e.segment.a,Fe),[cn,$t]=Ct($e.segment.b,Fe),[an,mn]=Ct($e.segment.c,Fe),[hn,Ln]=Ct($e.segment.d,Fe);return{itemId:rt,type:$e.type===l.Sl.New?dt.Y.Draw.Type.NEW:dt.Y.Draw.Type.EDIT,segment:{a:{x:Tt,y:Vt},b:{x:cn,y:$t},c:{x:an,y:mn},d:{x:hn,y:Ln}}}}case l.Sl.End:return{itemId:rt,type:dt.Y.Draw.Type.END};case l.Sl.ChangeHue:return{itemId:rt,type:dt.Y.Draw.Type.CHANGE_HUE,hue:$e.hue};case l.Sl.Position:return{itemId:rt,type:dt.Y.Draw.Type.POSITION,x:$e.x,y:$e.y};default:return(0,Ot.Kh)($e)}}_(kt,"convertDrawMessageToPeerMessage");function vt($e,oe){const Ae=$e.itemId===oe?"self":$e.itemId;switch($e.type){case dt.Y.Draw.Type.NEW:case dt.Y.Draw.Type.EDIT:{const Fe=(0,m.y3)()&&!(0,m.dY)("4.18.0")?Dt():1;return{itemId:Ae,type:$e.type===dt.Y.Draw.Type.NEW?l.Sl.New:l.Sl.Edit,segment:{a:[($e.segment.a.x||0)*Fe,($e.segment.a.y||0)*Fe],b:[($e.segment.b.x||0)*Fe,($e.segment.b.y||0)*Fe],c:[($e.segment.c.x||0)*Fe,($e.segment.c.y||0)*Fe],d:[($e.segment.d.x||0)*Fe,($e.segment.d.y||0)*Fe]}}}case dt.Y.Draw.Type.END:return{itemId:Ae,type:l.Sl.End};case dt.Y.Draw.Type.CHANGE_HUE:return{itemId:Ae,type:l.Sl.ChangeHue,hue:$e.hue};case dt.Y.Draw.Type.POSITION:return{itemId:Ae,type:l.Sl.Position,x:$e.x,y:$e.y};default:(0,Ee.M)("Unhandled draw message case");return}}_(vt,"convertPeerMessageToDrawMessage");function Nt($e){let oe=yt.o.Standard;return $e.type&&$e.type===dt.Y.Reacji.Type.Effect&&(oe=yt.o.Effect),$e.type&&$e.type===dt.Y.Reacji.Type.Gif&&(oe=yt.o.Gif),oe}_(Nt,"convertFromPeerReactionType");function It($e){let oe=dt.Y.Reacji.Type.Standard;return $e===yt.o.Effect&&(oe=dt.Y.Reacji.Type.Effect),$e===yt.o.Gif&&(oe=dt.Y.Reacji.Type.Gif),oe}_(It,"convertToPeerReactionType");var At=e(1975685771);let Zt=_(class Yo{updatePresence(oe,Ae){Ae?this.attendeesStates.set(oe,this.initializeState()):this.attendeesStates.delete(oe)}calculateScore(oe,Ae,Oe){const Fe=this.attendeesStates.get(oe);if(!Fe||(Oe!==null&&(Fe.muted=Oe),Fe.muted))return 0;const Ze=Date.now();if(Ae){Fe.noiseFloor=this.updateNoiseFloor(Fe,Ae);const rt={timestamp:Ze,volume:Ae};Fe.volumeSamples.push(rt)}return this.pruneVolumeSamples(Fe),this.getScore(Fe,Ze)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(oe,Ae){let Oe=oe.noiseFloor;return Ae>Oe?Oe=(1-this.params.slowAttackFactor)*Oe+this.params.slowAttackFactor*Ae:Oe=(1-this.params.fastDecayFactor)*Oe+this.params.fastDecayFactor*Ae,Math.min(Oe,this.params.noiseFloorMax)}pruneVolumeSamples(oe){const Ae=Date.now()-this.params.analysisWindowMs,Oe=oe.volumeSamples;for(;Oe.length&&Oe[0].timestamp<Ae;)Oe.shift()}getScore(oe,Ae){return oe.volumeSamples.reduce((Oe,Fe)=>{const Ze=Math.max(1,Math.ceil((Ae-Fe.timestamp)/1e3));return Oe+Math.max(0,Fe.volume-oe.noiseFloor)/Ze},0)}constructor(){this.attendeesStates=new Map,this.params=Yo.FAST_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");Zt.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},Zt.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let jt=_(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(oe){new s.jp(oe).hasModality(s.jp.MODALITY_CONTENT)||this.disconnectedAttendees.has(oe)||(this.disconnectedAttendees.set(oe,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(oe){this.disconnectedAttendees.delete(oe),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(oe){return this.disconnectedAttendees.has(oe)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const oe=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);oe&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(oe-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const oe=[],Ae=Date.now();this.disconnectedAttendees.forEach((Oe,Fe)=>{Ae>Oe&&(this.observer.onStalePeer(Fe),oe.push(Fe))}),oe.forEach(Oe=>{this.disconnectedAttendees.delete(Oe)}),this.maybeStartTimer()}constructor(oe,Ae){this.timeoutMs=oe,this.observer=Ae,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var Ht=e(4075246222),Pt=e(2208015175),Ft=e(8403493408),En=e(2604971659),Rt=e(2462761869);let rn=_(class{addSelf(oe){this.selfId=oe,this.addPeer(oe)}removeSelf(oe){(0,Ee.M)(oe===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(oe)}addPeer(oe){this.ids=(0,Ht.A)(this.ids,[oe]),(0,Pt.A)(this.cachedPeerStates[oe],(Oe,Fe)=>{this.peerStateForwarder[Fe]&&!(0,Pe.A)(Oe)&&this.peerStateForwarder[Fe](oe,Oe)}),delete this.cachedPeerStates[oe];const Ae=[];(0,Pt.A)(this.cachedCallState,(Oe,Fe)=>{this.callStateForwarder[Fe]&&!(0,Pe.A)(Oe)&&this.callStateForwarder[Fe].getPeerIdFn(Oe)===oe&&(this.callStateForwarder[Fe].forwardFn(Oe),this.callStateForwarder[Fe].isCached||Ae.push(Fe))}),this.cachedCallState=(0,t.A)(this.cachedCallState,Ae)}removePeer(oe){(0,Ft.A)(this.ids,oe),(0,Pt.A)((0,En.A)(this.cachedCallState),Ae=>{if(this.callStateForwarder[Ae]){const Oe=this.callStateForwarder[Ae].removeFn(this.cachedCallState[Ae],oe);if(!Oe){delete this.cachedCallState[Ae];return}this.cachedCallState[Ae]=Oe}})}getPeers(){return this.ids}hasPeer(oe){return this.ids.includes(oe)}hasAttendee(oe){return this.hasPeer(oe)||oe===this.selfId}updateCallState(oe){const Ae=oe;(0,Pt.A)(oe,(Oe,Fe)=>{this.callStateForwarder[Fe]&&(Ae[Fe]=this.callStateForwarder[Fe].updateFn(this.cachedCallState[Fe],Oe))}),(0,Pt.A)(this.callStateForwarder,(Oe,Fe)=>{this.forwardOrCacheCallState([Ae],Fe,Oe)})}updatePeerStates(oe){(0,Pt.A)(this.peerStateForwarder,(Ae,Oe)=>{this.forwardOrCachePeerState(oe,Oe,Ae)})}setIncludeSelfAndNoneActiveSpeaker(oe,Ae){oe===this.includeSelf&&Ae===this.includeNone||(this.includeSelf=oe,this.includeNone=Ae,(0,Pt.A)(this.cachedCallState,(Oe,Fe)=>{this.callStateForwarder[Fe]&&!(0,Pe.A)(Oe)&&this.callStateForwarder[Fe].forwardFn(Oe)}))}forwardOrCachePeerState(oe,Ae,Oe){oe.filter(Ze=>!(0,Pe.A)(Ze.state[Ae])).map(Ze=>({id:Ze.peerId,value:Ze.state[Ae]})).forEach(Ze=>{let{id:rt,value:Tt}=Ze;this.ids.includes(rt)?Oe(rt,Tt):this.cachedPeerStates[rt]={...this.cachedPeerStates[rt],[Ae]:Tt}})}forwardOrCacheCallState(oe,Ae,Oe){oe.filter(Ze=>!(0,Pe.A)(Ze[Ae])).map(Ze=>({value:Ze[Ae]})).forEach(Ze=>{let{value:rt}=Ze;const Tt=Oe.getPeerIdFn(rt);let Vt=!1;Tt&&(this.ids.includes(Tt)||Tt===this.NO_ACTIVE_SPEAKER)?Oe.forwardFn(rt):Vt=!0,(Vt||Oe.isCached)&&(this.cachedCallState={...this.cachedCallState,[Ae]:rt})})}getAttendeeId(oe){return new s.jp(oe).base()}constructor(oe){this.observer=oe,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(Ae,Oe)=>{const Fe=Ae||[],Ze=Oe&&Oe.length?Oe[0]:this.NO_ACTIVE_SPEAKER;return(0,Rt.A)(Fe,[Ze,this.NO_ACTIVE_SPEAKER]),Fe.unshift(Ze),Fe},removeFn:(Ae,Oe)=>{if(Ae)return(0,Ft.A)(Ae,Oe),Ae},getPeerIdFn:Ae=>{const Oe=Ae.filter(Fe=>Fe===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(Fe));if(Oe.length)return Oe[0]},forwardFn:Ae=>{const Oe=Ae.filter(Fe=>Fe===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(Fe));!Oe.length||Oe[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===Oe[0]?"self":Oe[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(Ae,Oe)=>{this.observer.onPeerDrawEnabled(Ae,Oe)}}}},"PeerCache");var nn=e(252549317),at=e(1183664059);let tt=_(class{destroy(){var oe,Ae,Oe;(oe=this.peerCache)===null||oe===void 0||oe.getPeers().forEach(Fe=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(Fe)),delete this.peerCache,(Ae=this.staleAttendeeChecker)===null||Ae===void 0||Ae.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(Oe=this.audioVideoFacade.transcriptionController)===null||Oe===void 0||Oe.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(oe){this.sendPeerMessageOverDataChannel(new dt.Y({capabilities:{isDrawEnabled:oe},fromPeerIdString:this.selfAttendeeId}))}sendReacji(oe,Ae,Oe){const Fe={emoji:oe,...Ae?{type:It(Ae)}:{},...Oe?{emojiUrl:Oe}:{}};this.sendPeerMessageOverDataChannel(new dt.Y({reacji:Fe,fromPeerIdString:this.selfAttendeeId}))}sendBackground(oe){this.sendPeerMessageOverDataChannel(new dt.Y({background:{url:oe},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(oe){this.sendPeerMessageOverDataChannel(new dt.Y({muteRequest:{peerId:oe},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(oe){this.sendPeerMessageOverDataChannel(new dt.Y({jukeboxRequest:{songKey:oe},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new dt.Y({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(oe){this.sendPeerMessageOverDataChannel(new dt.Y({draw:kt(oe,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(oe){this.sendPeerMessageOverDataChannel(new dt.Y({contentShareDetails:{sourceType:oe,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}sendRecordingStartNotification(){this.sendPeerMessageOverDataChannel(new dt.Y({recordingStartNotification:{type:dt.Y.RecordingStartNotification.Type.SUMMARY},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(oe){this.callLogger.info(`Removing stale peer: ${oe}`),this.attendeeLeft(oe),this.observer.onPeerDisconnected(oe),this.observer.onPeerLeft(oe)}setIncludeSelfAndNoneActiveSpeaker(oe,Ae){var Oe;(Oe=this.peerCache)===null||Oe===void 0||Oe.setIncludeSelfAndNoneActiveSpeaker(oe,Ae)}attendeeJoined(oe){if(oe===this.selfAttendeeId){var Ae;(Ae=this.peerCache)===null||Ae===void 0||Ae.addSelf(oe)}else{var Oe;(Oe=this.peerCache)===null||Oe===void 0||Oe.addPeer(oe)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(oe,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${oe} volume indicator`)}attendeeLeft(oe){if(oe===this.selfAttendeeId){var Ae;(Ae=this.peerCache)===null||Ae===void 0||Ae.removeSelf(oe)}else{var Oe;(Oe=this.peerCache)===null||Oe===void 0||Oe.removePeer(oe)}this.audioVideoFacade.removeVideoTilesByAttendeeId(oe),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(oe),this.consoleLog.info(`Unsubscribed from attendee=${oe} volume indicator`)}sendPeerMessageOverDataChannel(oe){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,dt.Y.encode(oe).finish()):this.logFailureToSendPeerMessage(oe)}isAttendeeOfTypeContent(oe){return new s.jp(oe).hasModality(s.jp.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(oe,Ae,Oe,Fe){var Ze;if(this.consoleLog.info(`Attendee presence: attendeeId=${oe}, isSelf=${this.selfAttendeeId===new s.jp(oe).base()}, present=${Ae}, externalUserId=${Oe}, dropped=${Fe}`),(Ze=this.windowedActiveSpeakerPolicy)===null||Ze===void 0||Ze.updatePresence(oe,Ae),this.isAttendeeOfTypeContent(oe)){Ae||this.audioVideoFacade.removeVideoTilesByAttendeeId(oe);return}if(!Oe){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${oe}`),this.observer.onClogError("MissingExternalUserId");return}let rt=null;if(Ae){var Tt;Fe===!1&&!(!((Tt=this.peerCache)===null||Tt===void 0)&&Tt.hasAttendee(oe))?rt="joined":rt="reconnected"}else Fe===!0?rt="disconnected":rt="left";if(rt===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===oe)switch(rt){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${rt}`);return}else{const an=(0,Qe.l)(Oe);if(!an){this.callLogger.error(`No externalUserId for ${oe}`);return}switch(rt){case"joined":{var Vt;(Vt=this.staleAttendeeChecker)===null||Vt===void 0||Vt.deleteDisconnectedAttendee(oe),this.observer.onPeerJoined(oe,an),this.observer.onPeerConnected(oe),this.updatePeerVideoTile(oe);break}case"left":this.observer.onPeerDisconnected(oe),this.observer.onPeerLeft(oe);break;case"disconnected":var cn;(cn=this.staleAttendeeChecker)===null||cn===void 0||cn.addDisconnectedAttendee(oe),this.observer.onPeerDisconnected(oe);break;case"reconnected":{var $t;($t=this.staleAttendeeChecker)===null||$t===void 0||$t.deleteDisconnectedAttendee(oe),this.observer.onPeerConnected(oe),this.updatePeerVideoTile(oe);break}default:this.callLogger.error(`unknown peer event ${rt}`);return}}rt==="joined"&&this.attendeeJoined(oe),rt==="left"&&this.attendeeLeft(oe)}realtimeFatalErrorCallback(oe){this.callLogger.error(`Chime session fatal error: name=${oe.name}, message=${oe.message}`),this.observer.onClogError(`FatalError: ${oe.name} - ${oe.message}`)}realtimeLocalSignalStrengthChangeCallback(oe){this.consoleLog.debug(`Local attendee signalStrength=${oe}`)}realtimeMuteAndUnmuteLocalAudioCallback(oe){this.callLogger.debug(`Local attendee mute=${oe}`),this.observer.onPeerMuted("self",oe)}realtimeSetCanUnmuteLocalAudioCallback(oe){this.consoleLog.debug(`Local attendee can unmute = ${oe}`)}realtimeVolumeIndicatorCallback(oe,Ae,Oe,Fe,Ze){this.consoleLog.debug(`Attendee volume indicator: attendeeId=${oe}, volume=${Ae}, muted=${Oe}, signalStrength=${Fe}, externalUserId=${Ze}`);const rt=this.selfAttendeeId===oe;(0,at._)().trackVolumeIndicator(rt,Ae),this.selfAttendeeId!==oe&&(Oe?this.observer.onPeerMuted(oe,!0):Oe!==null&&Oe===!1&&this.observer.onPeerMuted(oe,!1)),Fe!==null&&(this.selfAttendeeId===oe?this.observer.onSelfConnectionQualityChanged("uplink",(0,l.MK)(Fe)):this.observer.onPeerConnectionQualityChanged(oe,"uplink",(0,l.MK)(Fe)))}activeSpeakerDetectorCallback(oe){var Ae,Oe;(Ae=this.peerCache)===null||Ae===void 0||Ae.updateCallState({activeSpeakerList:oe}),(Oe=this.videoUplinkManager)===null||Oe===void 0||Oe.reportActiveSpeakerChange(this.selfAttendeeId===oe[0])}realtimeReceiveDataMessageCallback(oe){if(this.selfAttendeeId===oe.senderAttendeeId){if(!oe.throttled)return;this.callLogger.info(`Data message throttled: size=${oe.data.length} bytes`);return}let Ae;try{Ae=dt.Y.decode(oe.data)}catch(Oe){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${Oe}
				| Data Sender Attendee ID: ${oe.senderAttendeeId}
				| Data Sender External Attendee ID: ${oe.senderExternalUserId}
				| Topic: ${oe.topic}`);return}this.handlePeerMessageFromDataMessage(Ae,oe.senderAttendeeId)}handlePeerMessageFromDataMessage(oe,Ae){const Oe=Ae;if(oe.jukeboxRequest){var Fe;if(!(0,At.Z)(Oe,"senderAttendeeId is not populated")||!(0,At.Z)(oe.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((Fe=this.peerCache)===null||Fe===void 0)&&Fe.hasPeer(Oe))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${Oe}`);return}oe.jukeboxRequest.songKey&&!oe.jukeboxRequest.stop&&this.observer.onJukeboxRequest(oe.jukeboxRequest.songKey),oe.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(oe.reacji){var Ze;if(!(0,At.Z)(Oe,"senderAttendeeId is not populated")||!(0,At.Z)(oe.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((Ze=this.peerCache)===null||Ze===void 0)&&Ze.hasPeer(Oe)){const an=Nt(oe.reacji);var rt;this.observer.onPeerReacji(Oe,oe.reacji.emoji,!0,an,(rt=oe.reacji.emojiUrl)!==null&&rt!==void 0?rt:void 0)}else this.callLogger.info(`Dropping reacji from unknown peer: ${Oe}`)}else if(oe.draw){var Tt;const an=vt(oe.draw,this.selfAttendeeId);if(!(0,At.Z)(Oe,"senderAttendeeId is not populated")||!(0,At.Z)(an,"Draw message must be correctly formed"))return;!((Tt=this.peerCache)===null||Tt===void 0)&&Tt.hasPeer(Oe)?this.observer.onPeerDrawMessage(Oe,an):this.callLogger.info(`Dropping draw message from unknown peer: ${Oe}`)}else if(oe.capabilities){if(!(0,At.Z)(Oe,"senderAttendeeId is not populated"))return;if(!(0,Pe.A)(oe.capabilities.isDrawEnabled)){var Vt;(Vt=this.peerCache)===null||Vt===void 0||Vt.updatePeerStates([{peerId:Oe,state:{isDrawEnabled:oe.capabilities.isDrawEnabled}}])}}else if(oe.muteRequest){var cn;if(!(0,At.Z)(Oe,"senderAttendeeId is not populated")||!(0,At.Z)(oe.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((cn=this.peerCache)===null||cn===void 0)&&cn.hasPeer(Oe)){if(oe.muteRequest.peerId===this.selfAttendeeId){var $t;const an=this.attendeeMuteRequests[Ae],mn=an==null?void 0:an.lastRequestTime,hn=Date.now();if(an?(an.lastRequestTime=hn,an.count+=1):this.attendeeMuteRequests[Ae]={lastRequestTime:hn,count:1},mn&&hn-mn<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${Ae} peer: ${Oe}`);return}if((($t=this.attendeeMuteRequests[Ae])===null||$t===void 0?void 0:$t.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${Ae} peer: ${Oe}`);return}}this.observer.onPeerMuteRequest(Oe,oe.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${Oe}`)}else if(oe.contentShareDetails){if(!(0,At.Z)(Oe,"senderAttendeeId is not populated")||!(0,At.Z)(oe.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!(0,At.Z)(oe.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${oe.contentShareDetails.itemId}, type: ${oe.contentShareDetails.sourceType}`);const an=(0,nn.Vd)(oe.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(Oe,an,oe.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(oe){this.observer.onTranscriptionEvent(oe)}updatePeerVideoTile(oe){this.audioVideoFacade.getAllVideoTiles().filter(Fe=>{const Ze=Fe.state();return!Ze||!Ze.boundAttendeeId?!1:new s.jp(Ze.boundAttendeeId).base()===new s.jp(oe).base()}).forEach(Fe=>{const Ze=(Fe==null?void 0:Fe.state())||null;Ze&&this.observer.onPeerVideoTileUpdate(oe,Ze)})}constructor(oe,Ae,Oe,Fe){var Ze;this.selfAttendeeId=oe,this.audioVideoFacade=Ae,this.observer=Oe,this.videoUplinkManager=Fe,this.callLogger=(0,c.Jt)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=(0,c.Cc)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var rt,Tt,Vt;return(rt=this.audioVideoFacade.audioVideoController)===null||rt===void 0||(Tt=rt.meetingSessionContext)===null||Tt===void 0||(Vt=Tt.signalingClient)===null||Vt===void 0?void 0:Vt.ready()},this.logFailureToSendPeerMessage=rt=>{const Tt=rt.draw?"draw":"reacji",Vt=_(()=>this.callLogger.error(`Failed to send ${Tt} peer message. Data channel is not ready to use.`),"logError");return(0,He.A)(Tt,Vt)},(0,ye.A)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new Zt,this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(Ze=this.audioVideoFacade.transcriptionController)===null||Ze===void 0||Ze.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new rn(this.observer),this.staleAttendeeChecker=new jt(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var ft=e(3867135795),wt=e(6696292586);const Jt=15,sn=2560,z=1e3,Me="text";let Be=_(class{stopMusic(oe){let{cleanObserver:Ae}=oe;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),Ae&&this.audioVideoFacade.removeContentShareObserver(this))}async stop(){this.isScreenshareEnabled&&(this.isStopRequested=await this.stopContentShare()),this.huddlesJukeboxEnabled&&this.stopMusic({cleanObserver:!0}),this.isStopRequested||(this.observer.onScreenShareStopped(),this.audioVideoFacade.removeContentShareObserver(this))}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}async setSongStream(oe){this.huddlesJukeboxEnabled&&(this.waitForStart=(0,o.u)(),await this.audioVideoFacade.startContentShare(oe),this.isMusicEnabled=!0)}async setScreenshare(oe,Ae,Oe){if(oe===this.isScreenshareEnabled)return;const{huddleEventsTrace:Fe}=(0,h.A)().getAllTraceHandlers();if(oe){let Ze=Ae;if(Ae){const Tt=Ae.split(":");Tt.length===3&&Tt[2]!=="0"&&(Tt[2]="0",Ze=Tt.join(":"),this.log.warn(`Munging screen share media source id, before: ${Ae}, after: ${Ze}`))}let rt;try{this.waitForStart=(0,o.u)();const Tt=_(Vt=>{throw this.log.error(`getUserMedia error during huddle screenshare attempt: ${Vt.name} ${Vt.message}`),Vt},"logGetUserMediaError");if((0,te.g9M)()&&this.log.info(`Starting screen share with zoomLevel = ${(0,te.IXB)()}`),(0,te.g9M)()&&Oe){const{screenHeight:Vt,screenWidth:cn,selectedDisplayId:$t}=Oe;if(rt={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:Ze,maxFrameRate:Jt}}},cn&&Vt){const hn=rt.video.mandatory,Ln=cn/Vt,dn=sn;hn.maxWidth=cn<dn?cn:dn,hn.maxHeight=Vt<dn?Vt:dn;const Fn=navigator.mediaDevices.getSupportedConstraints();(0,ft.A)(Fn,"aspectRatio")&&!!Fn.aspectRatio&&(0,wt.A)(Ln)&&(hn.minAspectRatio=Ln,hn.maxAspectRatio=Ln),this.log.info(`Starting screen share with resolution constraints: ${hn.maxWidth} x ${hn.maxHeight} | resolution provided: ${cn} x ${Vt}`)}else this.log.info("Starting application window share without proposed resolution");const mn=await navigator.mediaDevices.getUserMedia(rt).catch(Tt);(mn==null?void 0:mn.getVideoTracks().length)>0?(this.log.debug(`Applying content hint to content share stream. Content Hint ${Me}`),mn.getVideoTracks()[0].contentHint=Me):this.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const hn=mn.getVideoTracks()[0].getSettings(),Ln=(0,nn.MS)(hn==null?void 0:hn.deviceId);U.A.publish({type:W.lx.ScreenshareContentType,update:{screenshareContentType:Ln}}),this.log.info(`Created video track with resolution: ${hn.width} x ${hn.height} framerate: ${hn.frameRate} aspect ratio: ${hn.aspectRatio}`),$t&&this.log.info(`Sharing from selected display: ${$t}`)},500),await this.audioVideoFacade.startContentShare(mn),setTimeout(()=>this.applyContentShareConstraints(mn),z),Fe==null||Fe.update({name:v.p.SCREENSHARE,type:v.G.START})}else{this.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const Vt=await this.audioVideoFacade.startContentShareFromScreenCapture(Ze).catch(Tt);if(Fe==null||Fe.update({name:v.p.SCREENSHARE,type:v.G.START}),setTimeout(()=>this.applyContentShareConstraints(Vt),z),(Vt==null?void 0:Vt.getVideoTracks().length)>0){this.log.debug(`Applying content hint to content share stream. Content Hint ${Me}`),Vt.getVideoTracks()[0].contentHint=Me;const cn=Vt.getVideoTracks()[0].getSettings(),$t=(0,nn.MS)(cn==null?void 0:cn.deviceId);U.A.publish({type:W.lx.ScreenshareContentType,update:{screenshareContentType:$t}})}else this.log.warn("No video tracks where available when starting unconstrained content share")}}catch(Tt){const Vt=_(()=>{delete this.waitForStart,this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped()},"exitScreenshare");if(Tt.name==="NotAllowedError"){Vt(),Tt.message==="Permission denied by system"&&this.observer.onCheckSystemMediaAccess(l.mT.SCREEN);return}if(Tt.name==="OverconstrainedError"){Vt(),rt&&this.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(rt)}`);return}if(["TypeError","AbortError","Error"].includes(Tt.name)){Vt(),this.observer.onScreenShareError(l.lD.ERROR);return}if(Tt.name==="NotReadableError"){Vt(),this.observer.onScreenShareError(l.lD.NOT_READABLE_ERROR);return}throw Tt.name==="NotFoundError"&&(Vt(),this.observer.onScreenShareError(l.lD.NOT_FOUND_ERROR)),this.log.error(`Encountered an uncaught error attempting to start screen share: ${Tt.name} ${Tt.message}`),this.waitForStart.resolve(!1),Vt(),Tt}this.lastEnableTimeMs=Date.now(),this.isScreenshareEnabled=oe}else this.isScreenshareEnabled&&await this.stopContentShare()}async applyContentShareConstraints(oe){if(!this.isExperimentalSDK)return;const Ae=oe.getVideoTracks()[0];if(!Ae){this.log.info("Constraints not re-applied no video track available");return}Ae.getSettings()||this.log.info("Constraints not re-applied no video track settings available");const Fe={width:{ideal:sn},height:{ideal:sn},frameRate:{ideal:Jt}};await Ae.applyConstraints(Fe),this.log.info("Constraints re-applied to content share (resolution overwrite applied)")}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}async stopContentShare(){let oe=!1;if(this.waitForStart.isPending()?Date.now()-this.lastEnableTimeMs>1e4?(oe=!0,this.log.info(`Stop screen share, force: ${Date.now()-this.lastEnableTimeMs} ms since start`)):(this.log.info("Stop screen share, waiting for content share start to resolve"),oe=await this.waitForStart,this.log.info(`Stop screen share, wait for content share start resolve finished: ${oe}`)):(oe=this.waitForStart.value(),this.log.info(`Stop screen share, promise resolved: ${oe}`)),oe){this.audioVideoFacade.stopContentShare(),this.isScreenshareEnabled=!1;const{huddleEventsTrace:Ae}=(0,h.A)().getAllTraceHandlers();Ae==null||Ae.update({name:v.p.SCREENSHARE,type:v.G.STOP}),U.A.publish({type:W.lx.ScreenshareContentType,update:null})}else this.log.warn("Screen share disable ignored as screen share was not started successfully");return oe}constructor(oe,Ae,Oe,Fe){this.audioVideoFacade=oe,this.observer=Ae,this.huddlesJukeboxEnabled=Oe,this.isExperimentalSDK=Fe,this.log=(0,c.tZ)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=y(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),nt=_(class{addObserver(oe){var Ae,Oe;(Ae=this.videoDownlinkPolicy)===null||Ae===void 0||(Oe=Ae.addObserver)===null||Oe===void 0||Oe.call(Ae,oe)}removeObserver(oe){var Ae,Oe;(Ae=this.videoDownlinkPolicy)===null||Ae===void 0||(Oe=Ae.removeObserver)===null||Oe===void 0||Oe.call(Ae,oe)}remoteVideoSourcesDidChange(oe){this.videoSources=oe,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const oe=[];this.videoSources.forEach(Ae=>{var Oe;const Fe=(Oe=Ae.attendee)===null||Oe===void 0?void 0:Oe.attendeeId;Fe===this.selfAttendeeId||!Fe||(Fe.includes("#content")||!this.isAudioOnlyMode)&&oe.push(Ae)}),this.sendChimeVideoPreferences(oe)}constructor({selfAttendeeId:oe,videoDownlinkPolicy:Ae}){this.logger=new j.k("Huddles Video Downlink Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=Oe=>{this.isAudioOnlyMode=Oe,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=Oe=>{var Fe;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(Oe)}`)}catch{}(Fe=this.videoDownlinkPolicy)===null||Fe===void 0||Fe.chooseRemoteVideoSources(Oe)},this.videoDownlinkPolicy=Ae,this.selfAttendeeId=oe}},"VideoDownlinkManager");const Lt=null;var Bt=e(337319621),Yt=e(2240330919);const on=30,An=720;class Sn{get videoParticipantCount(){const oe=this.audioVideoFacade.hasStartedLocalVideoTile()?1:0;return(this.remoteVideoParticipantCount||0)+oe}constructor(oe,Ae){var Oe=this;this.observer=oe,this.audioVideoFacade=Ae,this.logger=(0,Bt.Wo)({label:"VIDEO-UPLINK"}),this.remoteVideoParticipantCount=0,this.maxIdealBitrate=1200,this.minimumBitrate=240,this.useMinimumBitrate=!1,this.currentBitrate=this.maxIdealBitrate,this.isActiveSpeaker=!1,this.bitrateUpdateDelayMs=5e3,this.remoteVideoSourcesDidChange=Fe=>{this.logger.info("remote video sources changed",Fe),this.remoteVideoParticipantCount=Fe.length,this.updateVideoQualitySettings()},this.reportActiveSpeakerChange=Fe=>{this.logger.debug(`user is active speaker: ${Fe}`);const Ze=this.isActiveSpeaker;this.isActiveSpeaker=Fe,Ze===this.isActiveSpeaker?this.logger.debug(`Active speaker status unchanged ${this.isActiveSpeaker}.`):(this.logger.info(`Active speaker status changed to ${this.isActiveSpeaker}. Updating video quality settings.`),this.updateVideoQualitySettings())},this.updateVideoQualitySettings=()=>{const Fe=this.maxIdealBitrate;if(!this.videoParticipantCount){this.logger.debug("Video not active in Huddle. Returning.");return}const Ze=this.currentBitrate;if(this.useMinimumBitrate?this.currentBitrate=this.minimumBitrate:this.isActiveSpeaker?this.currentBitrate=Fe:this.remoteVideoParticipantCount<=2?this.currentBitrate=Fe:this.remoteVideoParticipantCount<=4?this.currentBitrate=Fe*2/3:this.currentBitrate=Fe*2/this.remoteVideoParticipantCount,this.currentBitrate=(0,Yt.A)([this.currentBitrate,this.minimumBitrate])||Ze,Ze===this.currentBitrate){this.logger.info(`Target video bitrate unchanged (${this.currentBitrate} kbps). Not updating max bitrate`);return}const rt=Ze>this.currentBitrate;this.applyNextVideoSettings(rt)},this.shouldRestrictVideoQuality=Fe=>{this.logger.info(`should restrict video quality due to connection quality: ${Fe}`),this.useMinimumBitrate=Fe,this.updateVideoQualitySettings()},this.applyBitrate=()=>{var Fe;!this.currentBitrate||!(!((Fe=this.audioVideoFacade)===null||Fe===void 0)&&Fe.setVideoMaxBandwidthKbps)||(this.logger.info(`applying new video max bitrate to local video stream ${this.currentBitrate}`),this.audioVideoFacade.setVideoMaxBandwidthKbps(Math.trunc(this.currentBitrate)))},this.applyBitrateDelayed=(0,u.A)(this.applyBitrate,this.bitrateUpdateDelayMs,{leading:!1}),this.applyNextVideoSettings=function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?Oe.applyBitrateDelayed():Oe.applyBitrate()},this.logger.info("Initializing video uplink manager"),this.audioVideoFacade.chooseVideoInputQuality(An,An,on),this.observer.onMaxTileSizeUpdated(An),this.applyNextVideoSettings()}}_(Sn,"VideoUplinkManager");var In=e(3146858537),Pn=e(3398586081),bn=e(1829947126);let wn=_(class{initialize(oe,Ae){this.gainNode=Ae,this.audioContext=oe}onAudioLevelUpdated(oe){isNaN(oe.value)||oe.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const oe=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(oe,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var oe;this.gainNode&&this.audioContext&&((oe=this.gainNode)===null||oe===void 0||oe.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(oe){this.defaultVolume=oe,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),bn.A.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const qn="HUDDLE-JUKEBOX";let kn=_(class{async startLocalJukebox(oe){let{song:Ae,volume:Oe}=oe;var Fe;const Ze=this.getSongUrl({song:Ae});if(Ze===this.localAudioUrl)return;this.callLogger.info(`Starting local jukebox song key: ${Ae.key}.`),this.audioContext||(this.audioContext=new AudioContext),this.cleanup(),this.localAudioUrl=Ze;const Tt=await(await window.fetch(Ze)).arrayBuffer(),Vt=await this.audioContext.decodeAudioData(Tt);this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=Vt,this.localAudio=new Audio,this.localAudio.volume=Oe,await this.localAudio.setSinkId((0,E._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(Fe=this.jukeboxDucker)===null||Fe===void 0||Fe.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play()}async startContentShareJukebox(oe){let{song:Ae}=oe;var Oe,Fe;this.audioContext||(this.audioContext=new AudioContext),this.audioDestination||(this.audioDestination=this.audioContext.createMediaStreamDestination()),this.callLogger.info(`Starting jukebox song key: ${Ae.key}`),this.cleanup();const Ze=this.getSongUrl({song:Ae}),Tt=await(await window.fetch(Ze)).arrayBuffer(),Vt=await this.audioContext.decodeAudioData(Tt);return this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=Vt,this.localAudio=new Audio,await this.localAudio.setSinkId((0,E._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(Oe=this.jukeboxDucker)===null||Oe===void 0||Oe.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.audioDestination),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play(),(Fe=this.audioDestination)===null||Fe===void 0?void 0:Fe.stream}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var oe,Ae,Oe,Fe;(oe=this.audioBufferSourceNode)===null||oe===void 0||oe.stop(),this.audioBufferSourceNode=void 0,(Ae=this.localAudio)===null||Ae===void 0||Ae.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(Oe=this.gainNode)===null||Oe===void 0||Oe.disconnect(),this.gainNode=void 0,(Fe=this.audioDestination)===null||Fe===void 0||Fe.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var oe;return(oe=this.localAudio)===null||oe===void 0?void 0:oe.volume}getSongUrl(oe){let{song:Ae}=oe;return Ae.url}constructor(){this.defaultVolume=.3,this.callLogger=(0,c.Jt)(qn),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new wn(this.defaultVolume)}},"JukeboxManager");const Un=(0,Pn.A)(()=>new kn);var Hn=e(7164668892);const jn=new Hn.ConnectionHealthPolicyConfiguration,Jn={connectionWaitTimeMs:15*1e3,connectionUnhealthyThreshold:5,sendingAudioFailureSamplesToConsider:3,sendingAudioFailureInitialWaitTimeMs:15*1e3,missedPongsLowerThreshold:1,missedPongsUpperThreshold:3,consecutiveVideoEncodingFailureThreshold:5},ss=_(class{constructor(oe=!1){this.expectAv1EncoderFreeze=oe,this.getConfiguration=()=>{const Ae={...jn,...Jn};return this.expectAv1EncoderFreeze&&(Ae.consecutiveVideoEncodingFailureThreshold=20),Ae}}},"ConnectionHealthPolicyManager");var vs=e(610288365),ls=e(1921074781),Zn;(function($e){$e.Control="control",$e.Vp8="vp8",$e.Vp8Svc="vp8_svc",$e.Vp9="vp9",$e.Vp9Svc="vp9_svc",$e.Av1="av1",$e.Av1Svc="av1_svc"})(Zn||(Zn={}));const Rn=(0,Bt.Wo)({label:"HUDDLE-VIDEO-CODECS"}),Wn=_(async $e=>{let{audioVideoFacade:oe,h264BaselineProfileEnabled:Ae,disableVp9:Oe}=$e;var Fe,Ze;const rt=[];!(0,m.gm)()&&!Oe&&rt.push(s.KK.vp9()),Ae&&rt.push(s.KK.h264BaselineProfile()),rt.push(s.KK.h264()),Rn.info(`Setting preferred camera video codec to ${(Fe=rt[0])===null||Fe===void 0?void 0:Fe.codecName}`),Rn.debug("Setting camera video codec preferences",rt),(Ze=oe.setVideoCodecSendPreferences)===null||Ze===void 0||Ze.call(oe,rt)},"setCameraVideoCodec"),es=_(async $e=>{let{useAv1:oe,audioVideoFacade:Ae,h264BaselineProfileEnabled:Oe}=$e;var Fe,Ze;const rt=[];oe&&rt.push(s.KK.av1()),Oe&&rt.push(s.KK.h264BaselineProfile()),rt.push(s.KK.h264()),Rn.info(`Setting preferred content share video codec to ${(Fe=rt[0])===null||Fe===void 0?void 0:Fe.codecName}`),Rn.debug("Setting content share video codec preferences",rt),(Ze=Ae.setContentShareVideoCodecPreferences)===null||Ze===void 0||Ze.call(Ae,rt)},"setScreenshareVideoCodec");var Gn=e(2028988448),_s;(function($e){$e.CONNECTION_STATE_CHANGE="connectionstatechange",$e.ICE_CONNECTION_STATE_CHANGE="iceconnectionstatechange"})(_s||(_s={}));var ds;(function($e){$e.CLOSE="close",$e.ERROR="error"})(ds||(ds={}));var Wt;(function($e){$e.DISCONNECTED="disconnected",$e.FAILED="failed",$e.CONNECTED="connected",$e.CLOSED="closed"})(Wt||(Wt={}));const et=5*1e3,ot=1*1e3;let ut=null;class pt{constructor(oe){var Ae=this;this.observer=oe,this.callLogger=(0,c.Jt)("DISCONNECT-OBSERVER"),this.genericLogger=(0,Bt.Wo)({label:"DISCONNECT-OBSERVER"}),this.peerConnection=null,this.webSocket=null,this.shouldIgnoreDisconnectEvents=!1,this.getPeerConnectionRef=Oe=>{var Fe,Ze;const rt=(Fe=Oe)===null||Fe===void 0||(Ze=Fe.audioVideoController)===null||Ze===void 0?void 0:Ze.meetingSessionContext;return rt==null?void 0:rt.peer},this.getWebSocketRef=Oe=>{var Fe,Ze,rt,Tt;const Vt=(Fe=Oe)===null||Fe===void 0||(Ze=Fe.audioVideoController)===null||Ze===void 0?void 0:Ze.meetingSessionContext;return Vt==null||(rt=Vt.signalingClient)===null||rt===void 0||(Tt=rt.webSocket)===null||Tt===void 0?void 0:Tt.connection},this.onConnectionUpdate=function(Oe){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&(Ae.brieflyIgnoreDisconnectEvents(),Ae.genericLogger.debug("Connection restored. Ignoring disconnection events for 5 seconds."));try{Ae.resetConnectionRefs(Oe),Ae.registerAllEventHandlers(),Ae.genericLogger.debug("Reconnected and monitoring for future disconnections.")}catch(Ze){Ae.callLogger.error("Error updating connection references on reconnection:",Ze)}},this.brieflyIgnoreDisconnectEvents=()=>{this.shouldIgnoreDisconnectEvents=!0,setTimeout(()=>{this.shouldIgnoreDisconnectEvents=!1,this.genericLogger.debug("Reconnection delay over. Now responding to disconnection events.")},et)},this.resetConnectionRefs=Oe=>{this.unregisterAllEventHandlers(),this.peerConnection=this.getPeerConnectionRef(Oe)||null,this.webSocket=this.getWebSocketRef(Oe)||null,this.webSocket?this.genericLogger.debug("WebSocket reference obtained successfully."):this.callLogger.error("WebSocket reference not available.")},this.broadcastDisconnection=(0,u.A)(()=>{var Oe;if(this.shouldIgnoreDisconnectEvents){this.genericLogger.debug("Disconnection event ignored due to recent reconnection.");return}this.genericLogger.info("Disconnection detected. Informing the user."),(Oe=this.observer)===null||Oe===void 0||Oe.onSelfDisconnected()},ot,{leading:!0,trailing:!1}),this.broadcastReconnection=()=>{var Oe;this.genericLogger.info("Peer connection successfully established. Informing the user."),(Oe=this.observer)===null||Oe===void 0||Oe.onSelfConnected()},this.onHuddleEnd=()=>{this.genericLogger.debug("Huddle ended. Cleaning up event handlers and connection references.");try{this.unregisterAllEventHandlers()}catch(Oe){this.callLogger.error(`Error during Huddle end cleanup: ${Oe}`)}this.webSocket=null,this.peerConnection=null,ut=null},this.testNetworkDrop=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ws:!0,pc:!0};if(Ae.genericLogger.info("Simulating network drop by closing WebSocket and PeerConnection."),Oe.ws){var Fe;(Fe=Ae.webSocket)===null||Fe===void 0||Fe.close()}if(Oe.pc){var Ze;(Ze=Ae.peerConnection)===null||Ze===void 0||Ze.close()}},this.registerAllEventHandlers=()=>{this.genericLogger.debug("Registering event handlers for WebSocket and PeerConnection."),this.registerPeerConnectionEventHandlers(),this.registerWebSocketEventHandlers()},this.unregisterAllEventHandlers=()=>{this.genericLogger.debug("Unregistering event handlers for WebSocket and PeerConnection."),this.unregisterPeerConnectionEventHandlers(),this.unregisterWebSocketEventHandlers()},this.registerPeerConnectionEventHandlers=()=>{var Oe,Fe;(Oe=this.peerConnection)===null||Oe===void 0||Oe.addEventListener(_s.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Fe=this.peerConnection)===null||Fe===void 0||Fe.addEventListener(_s.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.registerWebSocketEventHandlers=()=>{var Oe,Fe;(Oe=this.webSocket)===null||Oe===void 0||Oe.addEventListener(ds.CLOSE,this.handleWebSocketClose),(Fe=this.webSocket)===null||Fe===void 0||Fe.addEventListener(ds.ERROR,this.handleWebSocketError)},this.unregisterPeerConnectionEventHandlers=()=>{var Oe,Fe;(Oe=this.peerConnection)===null||Oe===void 0||Oe.removeEventListener(_s.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(Fe=this.peerConnection)===null||Fe===void 0||Fe.removeEventListener(_s.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.unregisterWebSocketEventHandlers=()=>{var Oe,Fe;(Oe=this.webSocket)===null||Oe===void 0||Oe.removeEventListener(ds.CLOSE,this.handleWebSocketClose),(Fe=this.webSocket)===null||Fe===void 0||Fe.removeEventListener(ds.ERROR,this.handleWebSocketError)},this.handleIceConnectionStateChange=()=>{var Oe,Fe;if(((Oe=this.peerConnection)===null||Oe===void 0?void 0:Oe.iceConnectionState)===Wt.DISCONNECTED||((Fe=this.peerConnection)===null||Fe===void 0?void 0:Fe.iceConnectionState)===Wt.FAILED)this.logDisconnectionWarning("ICE connection state is either disconnected or failed."),this.broadcastDisconnection();else{var Ze;this.callLogger.info(`ICE connection state changed to: ${(Ze=this.peerConnection)===null||Ze===void 0?void 0:Ze.iceConnectionState}.`)}},this.handlePeerConnectionStateChange=()=>{var Oe,Fe,Ze;if(((Oe=this.peerConnection)===null||Oe===void 0?void 0:Oe.connectionState)===Wt.DISCONNECTED||((Fe=this.peerConnection)===null||Fe===void 0?void 0:Fe.connectionState)===Wt.FAILED)this.logDisconnectionWarning("Peer connection has either disconnected or failed."),this.broadcastDisconnection();else if(((Ze=this.peerConnection)===null||Ze===void 0?void 0:Ze.connectionState)===Wt.CONNECTED)this.callLogger.info("Peer connection established."),this.broadcastReconnection();else{var rt;this.callLogger.info(`peer connection state changed: ${(rt=this.peerConnection)===null||rt===void 0?void 0:rt.connectionState}`)}},this.handleWebSocketClose=Oe=>{this.logDisconnectionWarning(`WebSocket connection closed unexpectedly (Code: ${Oe.code}, Reason: ${Oe.reason||"None provided"}).`),this.broadcastDisconnection()},this.handleWebSocketError=Oe=>{this.callLogger.error(`WebSocket encountered an error: ${Oe}.`)},this.logDisconnectionWarning=Oe=>{this.callLogger.warn(`ALERT! ${Oe} This may result in temporary audio/video disruption. Possible causes include network instability, network congestion, and security software (like VPNs, firewalls, or proxies) blocking or dropping the connection. If the issue persists, users should check their network or security settings and contact their IT team if necessary.`)},this.callLogger.info("Disconnection observer initialized. Monitoring for disconnections..."),ut=_(Oe=>this.testNetworkDrop(Oe),"testNetworkDropFn")}}_(pt,"HuddleDisconnectObserver");const Et=null;(0,Gn.ul)("huddleDisconnectObserver",{dropNetwork:()=>ut==null?void 0:ut(),dropWebsocket:()=>ut==null?void 0:ut({ws:!0,pc:!1}),dropPeerConnection:()=>ut==null?void 0:ut({ws:!1,pc:!0})});class Gt{async initialize(oe,Ae,Oe,Fe,Ze,rt){var Tt,Vt,cn,$t,an,mn,hn,Ln;Ze&&(this.waitForStop=Ze),rt&&(this.dataChannelSubscribers=rt),this.observer.onInit(),this.options=oe;const{serverConfig:dn,useChimeSdkExp:Fn,useSimulcast:ts,useHuddlesFilterWorker:zn}=this.options;await(0,s.ZT)(Fn),this.chimeLogger=new j.k(this.loggerName),this.callLogger=(0,c.Jt)(this.loggerName),(Tt=this.callLogger)===null||Tt===void 0||Tt.info(`user agent: ${navigator.userAgent}`);const as=(0,n.HF)();(Vt=this.callLogger)===null||Vt===void 0||Vt.info(`Version TS: ${as}`);const us=(document==null||(cn=document.documentElement)===null||cn===void 0||($t=cn.dataset)===null||$t===void 0?void 0:$t.versionHash)||"unknown";(an=this.callLogger)===null||an===void 0||an.info(`Version Hash: ${us}`),(mn=this.callLogger)===null||mn===void 0||mn.info(`Chime SDK Version: ${s.zF.sdkVersion}${Fn?" (Experimental)":""}`),this.meeting=dn.meeting,this.attendee=dn.attendee,this.selfAttendeeId=this.attendee.AttendeeId;const fs=(0,a.Y)(dn.attendee.ExternalUserId);try{var Ls;const mt=JSON.stringify((0,t.A)(oe,"serverConfig"),null,2);(Ls=this.callLogger)===null||Ls===void 0||Ls.debug(`Huddle SDK [${fs}] initialized with options: ${mt}`)}catch(mt){var Ns;(Ns=this.callLogger)===null||Ns===void 0||Ns.error("Error stringifying options",mt)}if(this.transportProtocols=dn.transportProtocols,this.isPrejoin=this.options.isPrejoin,this.meetingSessionConfiguration=new s.QJ(this.meeting,this.attendee),ts&&this.meetingSessionConfiguration){var ys;(ys=this.callLogger)===null||ys===void 0||ys.info("Simulcast enabled"),this.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if(this.options.usePriorityDownlinkPolicy&&(this.videoDownlinkPolicy=new s.gi(this.selfAttendeeId),this.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=this.videoDownlinkPolicy,this.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,this.videoDownlinkManager=new nt({selfAttendeeId:this.selfAttendeeId,videoDownlinkPolicy:this.videoDownlinkPolicy})),this.meetingSessionConfiguration.urls&&(this.meetingSessionConfiguration.urls.urlRewriter=this.urlRewriter.bind(this)),this.meetingSessionConfiguration&&this.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const mt=this.options.expectAv1EncoderFreeze||!1,Mt=new ss(mt);Object.assign(this.meetingSessionConfiguration.connectionHealthPolicyConfiguration,Mt.getConfiguration())}this.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0,await this.initVoiceFocus();const Ss={audio:Ae.includes(l.mT.MICROPHONE),video:Ae.includes(l.mT.CAMERA)};s.vB.disable();let xn;const Ds=!!(!((hn=this.voiceFocusManager)===null||hn===void 0)&&hn.isAvailable()),Bs=this.options.disableAudioRedundancy||!1;if(Fn){const mt=(0,s.Q_)(),Mt=(0,s.RM)();if(this.defaultDeviceController=new Mt(this.chimeLogger,{enableWebAudio:Ds}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Ss)),this.sessionExp=new mt(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),xn=this.sessionExp.audioVideo,Bs){const St=(0,s.Ls)();xn.setAudioProfile(new St(null,!1)),xn.setContentAudioProfile(new St(null,!1))}}else{const mt=(0,s.of)(),Mt=(0,s.zg)();if(this.defaultDeviceController=new Mt(this.chimeLogger,{enableWebAudio:Ds}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Ss)),this.session=new mt(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),xn=this.session.audioVideo,Bs){const St=(0,s.j3)();xn.setAudioProfile(new St(null,!1)),xn.setContentAudioProfile(new St(null,!1))}}if(this.options.useVideoUplinkPolicy){var Ms;(Ms=this.callLogger)===null||Ms===void 0||Ms.info("Video uplink policy enabled"),this.videoUplinkManager=new Sn(this.observer,xn)}await this.populateDeviceInfoCache();const Hs=this.options.useH264Baseline||!1;Wn({audioVideoFacade:xn,h264BaselineProfileEnabled:Hs,disableVp9:!!this.options.disableVp9});const ws=this.options.useH264BaselineScreenshare||!1,qe=this.options.useAv1Screenshare;es({useAv1:qe,audioVideoFacade:xn,h264BaselineProfileEnabled:ws});const Qt={useHuddlesFilterWorker:zn,backgroundVideoFilteringSetting:i.uT.Both,useDevicesExp:this.options.useDevicesExp,useVideoUplinkPolicy:this.options.useVideoUplinkPolicy,useHuddlesSignalStartDelay:this.options.useHuddlesSignalStartDelay,useHuddlesDeviceErrorHandler:this.options.useHuddlesDeviceErrorHandler};this.deviceManager=new X(xn,this.audioOutputElement,this.observer,Qt,Oe,this.chimeLogger,this.defaultDeviceController,this.voiceFocusManager),(Ln=this.dataChannelSubscribers)===null||Ln===void 0||Ln.forEach(mt=>mt.onInitializeDataChannelSubscriber()),this.disconnectObserver=new pt(this.observer),this.audioVideoObserver=new De(this.selfAttendeeId,this.meeting.MeetingId,this.meeting.MediaRegion,fs,xn,this.observer,this.deviceManager,this.videoDownlinkManager,this.disconnectObserver,Fe,this.waitForStop,this.dataChannelSubscribers,this.videoUplinkManager);const Kt=this.options.huddlesJukeboxEnabled;if(Kt){var it;(it=this.callLogger)===null||it===void 0||it.info("Huddles Jukebox experiment enabled (prototype)")}this.contentShareManager=new Be(xn,this.observer,!!Kt,Fn),this.audioVideoFacadeSubscriber=new tt(this.selfAttendeeId,xn,this.observer,this.videoUplinkManager),(0,vs.Ay)().initialize(),this.connect(),this.screenManager=new r.A,this.observer.onMeetingSessionInitialized(),this.setupMeetingEventObserver(),(0,M.p)().setHuddleStarted(),(0,at._)().setHuddleStarted(),this.waitForInit.resolve()}async shutdown(oe){var Ae,Oe,Fe,Ze,rt,Tt,Vt;if((Ae=this.callLogger)===null||Ae===void 0||Ae.info("Huddles SDK shutdown initiated"),(Oe=this.disconnectObserver)===null||Oe===void 0||Oe.onHuddleEnd(),delete this.disconnectObserver,await this.waitForInit,this.cleanupDataChannelSubscribers(),(Fe=this.contentShareManager)===null||Fe===void 0||Fe.stop(),(Ze=this.audioVideoObserver)===null||Ze===void 0||Ze.stop(),(0,M.p)().setHuddleEnded(),(0,at._)().setHuddleEnded(),await((rt=this.deviceManager)===null||rt===void 0?void 0:rt.shutdown()),ls.F.doesInstanceExist()){var cn;(cn=ls.F.getInstance())===null||cn===void 0||cn.release()}(Tt=this.audioVideoFacadeSubscriber)===null||Tt===void 0||Tt.destroy(),await this.waitForStop,delete this.session,delete this.sessionExp,delete this.meetingSessionConfiguration,await this.cleanupDefaultDeviceControllerRefs(),(Vt=this.callLogger)===null||Vt===void 0||Vt.info("Huddles SDK shutdown completed"),delete this.chimeLogger,delete this.callLogger,delete this.deviceManager,delete this.audioVideoFacadeSubscriber,delete this.audioVideoObserver,delete this.contentShareManager,delete this.screenManager,delete this.voiceFocusManager,delete this.videoDownlinkManager,delete this.videoDownlinkPolicy,delete this.videoUplinkManager,oe&&oe()}selfMicrophoneEnabled(oe){var Ae;(Ae=this.deviceManager)===null||Ae===void 0||Ae.setMicrophone(oe)}selfVideoEnabled(oe,Ae,Oe,Fe){var Ze,rt;(Ze=this.deviceManager)===null||Ze===void 0||Ze.setCamera(oe),(rt=this.contentShareManager)===null||rt===void 0||rt.setScreenshare(Ae,Oe,Fe)}async startContentShareJukebox(oe){let{song:Ae}=oe;var Oe;const Fe=await Un().startContentShareJukebox({song:Ae});Fe&&((Oe=this.contentShareManager)===null||Oe===void 0||Oe.setSongStream(Fe))}async selfStopJukebox(){var oe;Un().stopJukebox(),(oe=this.contentShareManager)===null||oe===void 0||oe.stopMusic({cleanObserver:!1})}setCameraQuality(oe,Ae,Oe,Fe){var Ze;if(!(!((Ze=this.options)===null||Ze===void 0)&&Ze.useVideoUplinkPolicy)){var rt;(rt=this.deviceManager)===null||rt===void 0||rt.setCameraQuality(oe,Ae,Oe,Fe)}}setAGC(oe){var Ae;(Ae=this.deviceManager)===null||Ae===void 0||Ae.setAGC(oe)}setNewPreferredDevice(oe,Ae){var Oe;(Oe=this.deviceManager)===null||Oe===void 0||Oe.setPreferredDevice(oe,Ae)}setNoiseSuppression(oe){var Ae;(Ae=this.deviceManager)===null||Ae===void 0||Ae.setNoiseSuppression(oe)}setVideoBackgroundEffect(oe){var Ae;(Ae=this.deviceManager)===null||Ae===void 0||Ae.setVideoBackgroundEffect(oe)}requestPreviewStreamForDeviceId(oe,Ae,Oe){var Fe;(Fe=this.deviceManager)===null||Fe===void 0||Fe.requestPreviewStreamForDeviceId(oe,Ae,Oe)}stopVideoPreviewForVideoInput(oe){var Ae;(Ae=this.deviceManager)===null||Ae===void 0||Ae.stopVideoPreviewForVideoInput(oe)}async getScreenThumbnails(oe){var Ae;return await((Ae=this.screenManager)===null||Ae===void 0?void 0:Ae.getScreenThumbnails(oe==null?void 0:oe.thumbnailDimensions,oe==null?void 0:oe.isRefetch))}selfDrawEnabled(oe){var Ae;(Ae=this.audioVideoFacadeSubscriber)===null||Ae===void 0||Ae.selfDrawEnabled(oe)}sendReacji(oe,Ae,Oe){var Fe;(Fe=this.audioVideoFacadeSubscriber)===null||Fe===void 0||Fe.sendReacji(oe,Ae,Oe)}sendBackground(oe){var Ae;(Ae=this.audioVideoFacadeSubscriber)===null||Ae===void 0||Ae.sendBackground(oe)}sendMuteRequest(oe){var Ae;(Ae=this.audioVideoFacadeSubscriber)===null||Ae===void 0||Ae.sendMuteRequest(oe)}sendJukeboxRequest(oe){var Ae;(Ae=this.audioVideoFacadeSubscriber)===null||Ae===void 0||Ae.sendJukeboxRequest(oe)}sendJukeboxStopRequest(){var oe;(oe=this.audioVideoFacadeSubscriber)===null||oe===void 0||oe.sendJukeboxStopRequest()}sendDrawMessage(oe){var Ae;(Ae=this.audioVideoFacadeSubscriber)===null||Ae===void 0||Ae.sendDrawMessage(oe)}sendContentShareDetails(oe){var Ae;(Ae=this.audioVideoFacadeSubscriber)===null||Ae===void 0||Ae.sendContentShareDetails(oe)}sendRecordingStartNotification(){var oe;(oe=this.audioVideoFacadeSubscriber)===null||oe===void 0||oe.sendRecordingStartNotification()}maybeBindAudioOutputElement(){var oe;(oe=this.deviceManager)===null||oe===void 0||oe.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(oe){var Ae;return(Ae=this.deviceManager)===null||Ae===void 0?void 0:Ae.maybeCheckSystemMediaAccess(oe)}setIncludeSelfAndNoneActiveSpeaker(oe,Ae){var Oe;(Oe=this.audioVideoFacadeSubscriber)===null||Oe===void 0||Oe.setIncludeSelfAndNoneActiveSpeaker(oe,Ae)}bindVideo(oe,Ae,Oe){var Fe;const Ze=this.session||this.sessionExp;if(!Ze)return;const rt=(Fe=Ze.audioVideo.getVideoTile(oe))===null||Fe===void 0?void 0:Fe.state();Oe?rt!=null&&rt.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(rt.boundVideoStream,Ae,!1):(this.videoDownlinkPolicy&&(rt!=null&&rt.paused)&&Ze.audioVideo.unpauseVideoTile(oe),Ze.audioVideo.bindVideoElement(oe,Ae))}unbindVideo(oe,Ae,Oe){const Fe=this.session||this.sessionExp;Fe&&(Oe?s.xc.disconnectVideoStreamFromVideoElement(Ae,!0):Fe.audioVideo.getVideoTile(oe)&&Fe.audioVideo.unbindVideoElement(oe))}pauseVideo(oe){const Ae=this.session||this.sessionExp;if(!Ae)return;const Oe=Ae.audioVideo.getVideoTile(oe),Fe=Oe==null?void 0:Oe.state();!(Fe!=null&&Fe.isContent)&&(Fe!=null&&Fe.active)&&(Oe==null||Oe.pause())}unpauseVideo(oe){const Ae=this.session||this.sessionExp;if(!Ae)return;const Oe=Ae.audioVideo.getVideoTile(oe),Fe=Oe==null?void 0:Oe.state();Fe!=null&&Fe.paused&&(Oe==null||Oe.unpause())}videoTileHasStream(oe){const Ae=this.session||this.sessionExp;if(!Ae)return!1;const Oe=Ae.audioVideo.getVideoTile(oe);if(!Oe)return!1;const Fe=Oe.state();return Fe?!!Fe.boundVideoStream:!1}getMeetingMediaRegion(){var oe;return(oe=this.meeting)===null||oe===void 0?void 0:oe.MediaRegion}async completePrejoin(oe){const{isStartMuted:Ae}=oe;if(this.isPrejoin){var Oe,Fe;return Ae&&((Oe=this.deviceManager)===null||Oe===void 0||Oe.setStartMutedBarrier(Ae)),(Fe=this.audioVideoObserver)===null||Fe===void 0||Fe.start(),this.maybeBindAudioOutputElement(),this.setIncludeSelfAndNoneActiveSpeaker(!0,!0),this.isPrejoin=!1,!0}return!1}urlRewriter(oe){if(!oe)return oe;if(this.transportProtocols){const Ze=this.transportProtocols;if(oe.includes("?transport=udp")&&!Ze.includes("udp")){var Ae;return(Ae=this.callLogger)===null||Ae===void 0||Ae.info("Dropping UDP transport"),""}if(oe.includes("?transport=tcp")){if(oe.includes("turns:")){if(!Ze.includes("tls")){var Oe;return(Oe=this.callLogger)===null||Oe===void 0||Oe.info("Dropping TLS transport"),""}}else if(!Ze.includes("tcp")){var Fe;return(Fe=this.callLogger)===null||Fe===void 0||Fe.info("Dropping TCP transport"),""}}}return oe.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var oe;const Ae=_(async()=>{try{var Oe;this.videoDevicePermissionStatus="IN_PROGRESS";const Ze=await navigator.mediaDevices.getUserMedia({video:!0});return(Oe=this.callLogger)===null||Oe===void 0||Oe.info("Video device permissions granted"),this.videoDevicePermissionStatus="GRANTED",Ze}catch(Ze){var Fe;throw this.videoDevicePermissionStatus="DENIED",this.observer.onSetNoMediaInput(l.mT.CAMERA),(Fe=this.callLogger)===null||Fe===void 0||Fe.info("Video device permissions denied"),Ze}},"callback");(oe=this.defaultDeviceController)===null||oe===void 0||oe.setDeviceLabelTrigger(Ae)}async maybeEnableSelfCamera(){let{isScreenshareEnabled:oe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(await this.initVideoPermission()&&(this.videoDevicePermissionStatus==="INITIAL"||this.videoDevicePermissionStatus==="GRANTED")){var Oe;this.selfVideoEnabled(!0,!!oe),this.observer.onPeerCameraActive("self",!0),(Oe=this.callLogger)===null||Oe===void 0||Oe.info("maybeEnableSelfCamera:: enabling camera function executed")}}async initVideoPermission(){var oe;return this.setupVideoDeviceLabelTrigger(),await((oe=this.deviceManager)===null||oe===void 0?void 0:oe.initVideoInputDevices())}getSelfAttendeeId(){return this.selfAttendeeId}getAttributesString(oe){try{return JSON.stringify(oe)}catch(Oe){var Ae;return(Ae=this.callLogger)===null||Ae===void 0||Ae.warn("Failed to stringify attributes",Oe),"[Unable to stringify attributes]"}}setupMeetingEventObserver(){var oe;!((oe=this.defaultDeviceController)===null||oe===void 0)&&oe.eventController&&(this.meetingEventObserver={eventDidReceive:(Ae,Oe)=>{var Fe;(Fe=this.callLogger)===null||Fe===void 0||Fe.info(`Received meeting event: ${Ae}`);const Ze=this.getAttributesString(Oe),rt=(0,h.A)(),{huddleMeetingEventsTrace:Tt}=rt.getAllTraceHandlers();Tt==null||Tt.recordMeetingEvent(Ae);const Vt=_((zn,as)=>{Tt==null||Tt.recordMeetingEvent(zn);const us=["NotAllowedError","NotReadableError","NotFoundError","AbortError","OverconstrainedError"];for(const fs of us)if(zn.includes(fs)){Tt==null||Tt.recordInputErrorEvent(fs,as);break}},"processInputError");switch(Ae){case"audioInputFailed":var cn;(cn=this.callLogger)===null||cn===void 0||cn.error(`Failed to choose microphone: ${Oe.audioInputErrorMessage} ${Ze}`),Oe.audioInputErrorMessage&&Vt(Oe.audioInputErrorMessage,"audio");break;case"videoInputFailed":var $t;($t=this.callLogger)===null||$t===void 0||$t.error(`Failed to choose camera: ${Oe.videoInputErrorMessage} ${Ze}`),Oe.videoInputErrorMessage&&Vt(Oe.videoInputErrorMessage,"video");break;case"meetingStartFailed":var an;(an=this.callLogger)===null||an===void 0||an.error(`Failed to start a meeting: ${Oe.meetingErrorMessage} ${Ze}`);break;case"meetingFailed":var mn;(mn=this.callLogger)===null||mn===void 0||mn.error(`Failed during a meeting: ${Oe.meetingErrorMessage} ${Ze}`);break;case"deviceLabelTriggerFailed":var hn;(hn=this.callLogger)===null||hn===void 0||hn.error(`Device label trigger failed ${Ze}`);break;case"signalingDropped":var Ln;(Ln=this.callLogger)===null||Ln===void 0||Ln.error(`Signaling connection dropped ${Ze}`);break;case"receivingAudioDropped":var dn;(dn=this.callLogger)===null||dn===void 0||dn.warn(`Receiving audio packets dropped significantly ${Ze}`);break;case"sendingAudioFailed":var Fn;(Fn=this.callLogger)===null||Fn===void 0||Fn.error(`Sending audio failed ${Ze}`);break;default:var ts;(ts=this.callLogger)===null||ts===void 0||ts.info(`Meeting event: ${Ae} ${Ze}`);break}}},this.defaultDeviceController.eventController.addObserver(this.meetingEventObserver))}constructor(oe,Ae,Oe="FREE-WILLY-SDK"){this.observer=oe,this.audioOutputElement=Ae,this.loggerName=Oe,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=(0,o.u)(),this.waitForStop=(0,o.u)(),this.initVoiceFocus=async()=>{let Fe=0;const Ze=Date.now();this.voiceFocusManager=new In.A(this.chimeLogger),await this.voiceFocusManager.init({configOnly:!1}),Fe=Date.now()-Ze,this.observer.onMaybeVoiceFocusInitialized(Fe)},this.populateDeviceInfoCache=async()=>{var Fe,Ze,rt,Tt;const Vt=Date.now(),cn=await((Fe=this.defaultDeviceController)===null||Fe===void 0?void 0:Fe.listAudioInputDevices()),$t=await((Ze=this.defaultDeviceController)===null||Ze===void 0?void 0:Ze.listAudioOutputDevices()),an=await((rt=this.defaultDeviceController)===null||rt===void 0?void 0:rt.listVideoInputDevices()),mn=F.Ay.canAccessMediaResource(l.mT.MICROPHONE).status===i.eJ.Granted&&!(cn!=null&&cn.length),hn=F.Ay.canAccessMediaResource(l.mT.CAMERA).status===i.eJ.Granted&&!(an!=null&&an.length);if(mn){var Ln;(Ln=this.callLogger)===null||Ln===void 0||Ln.error("No microphone devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}if(hn){var dn;(dn=this.callLogger)===null||dn===void 0||dn.error("No camera devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}const Fn=Date.now()-Vt;(Tt=this.callLogger)===null||Tt===void 0||Tt.info(`Populated device info cache in ${Fn}ms with ${cn==null?void 0:cn.length} microphones, ${$t==null?void 0:$t.length} speakers, and ${an==null?void 0:an.length} cameras`)},this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(Fe=>Fe.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)},this.cleanupDefaultDeviceControllerRefs=async()=>{var Fe;if(!this.defaultDeviceController)return;await this.defaultDeviceController.destroy();const Ze=(Fe=this.defaultDeviceController)===null||Fe===void 0?void 0:Fe.eventController;if(Ze){var rt;this.meetingEventObserver&&(Ze.removeObserver(this.meetingEventObserver),this.meetingEventObserver=void 0);const Tt=(rt=Ze.configuration)===null||rt===void 0?void 0:rt.urls;Tt&&(Tt.urlRewriter=void 0)}this.defaultDeviceController.deviceLabelTrigger=void 0,delete this.defaultDeviceController},this.handleClientOffline=()=>{var Fe;(Fe=this.audioVideoObserver)===null||Fe===void 0||Fe.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=Fe=>{var Ze;(Ze=this.videoDownlinkManager)===null||Ze===void 0||Ze.toggleAllIncomingVideo(Fe)},this.connect=async()=>{var Fe,Ze,rt;if((Fe=this.callLogger)===null||Fe===void 0||Fe.info(`FreeWilly connect called isPreJoin: ${this.isPrejoin}`),(Ze=this.audioVideoObserver)===null||Ze===void 0||Ze.startWithSignalingOnly(),await((rt=this.deviceManager)===null||rt===void 0?void 0:rt.init()),!this.isPrejoin){var Tt;if(!F.Ay.canAccessMediaResource(l.mT.MICROPHONE)){var Vt;(Vt=this.callLogger)===null||Vt===void 0||Vt.error("Missing microphone permissions. Not connecting to huddle");return}(Tt=this.audioVideoObserver)===null||Tt===void 0||Tt.start()}},this.videoDevicePermissionStatus="INITIAL"}}_(Gt,"FreeWillySdk")},5016574668:(N,g,e)=>{"use strict";e.d(g,{Kp:()=>a,Nb:()=>o,RN:()=>l,Sq:()=>r,ZT:()=>t,jt:()=>d,yz:()=>s});const t=10*1e3,s=1e3,o="2.6",n=null,c=25,i=15,r="huddles_perf",a="app_metrics",l="client_metrics",d=5},2205899741:(N,g,e)=>{"use strict";e.d(g,{$c:()=>M,h7:()=>S,t5:()=>A,KG:()=>k,q4:()=>C,_N:()=>p,sI:()=>x,Ap:()=>v,kq:()=>F,ik:()=>P,No:()=>W,fB:()=>b,Ye:()=>I,RI:()=>u,Fq:()=>U,oj:()=>h,qf:()=>O,Fu:()=>T,Tg:()=>D});const t=30,s=300,o=300,n=30,c=10,i=30,r=1,a=100,l=15,d=_(B=>function(K){for(var H=arguments.length,Y=new Array(H>1?H-1:0),Z=1;Z<H;Z++)Y[Z-1]=arguments[Z];if(!(typeof K!="string"&&typeof K!="number"))return B(K,...Y)},"makeDeduction"),u=d(B=>B>n?B/5:void 0),f=d(B=>B>400?B/20:void 0),m=d(B=>B>1?B:void 0),h=d(B=>B>o?B/7.5:void 0),v=d(B=>B>1?B*10:void 0),p=d(B=>B>t?B/2:void 0),T=d(B=>B>a?B/2:void 0),A=d(B=>B>i?B*1.25:void 0),C=d(B=>B>s?B/10:void 0),I=d(B=>B>i?B*1.5:void 0),D=d(B=>B>c?B*1.5:void 0),y=d(B=>B*2),P=d(B=>B&&B!=="udp"?40:void 0),E=d(B=>B&&B>500?B/100:void 0),M=d(B=>B>150?B/5:void 0),S=d(B=>B>15?B*2:void 0),R=d(B=>B>5?B:void 0),k=d(B=>B>20?B/5:void 0),O=d(B=>{const K=l-B;return K>1?K*2.5:void 0}),U=d(B=>!B||B==="none"?void 0:25),W=d(B=>B>0?B*20:void 0),x=d(B=>B>1?B*1.25:void 0),L=d(B=>B>300?B/10:void 0),b=d(B=>B&&B>i?B*1.5:void 0),F=d(B=>B>r?Math.round(B*7.5):void 0)},415910655:(N,g,e)=>{"use strict";e.d(g,{ZR:()=>n,jm:()=>s,s2:()=>o});let t;const s=_(c=>{t||(t={}),Object.assign(t,c)},"updateJoinTimingMetrics"),o=_(()=>t,"getJoinTimingMetrics"),n=_(()=>{t=void 0},"resetJoinTimingMetrics")},5470425448:(N,g,e)=>{"use strict";e.d(g,{lx:()=>a,zu:()=>r});var t;(function(l){l.UDP="udp",l.TCP="tcp"})(t||(t={}));var s;(function(l){l.RELAY="relay",l.DIRECT="direct"})(s||(s={}));var o;(function(l){l.UPLINK="uplink",l.DOWNLINK="downlink"})(o||(o={}));var n;(function(l){l.GOOD="good",l.FAIR="fair",l.BAD="bad",l.WORST="worst"})(n||(n={}));var c;(function(l){l.GOOD="good",l.FAIR="fair",l.BAD="bad",l.WORST="worst"})(c||(c={}));var i;(function(l){l[l.UPSTREAM=0]="UPSTREAM",l[l.DOWNSTREAM=1]="DOWNSTREAM"})(i||(i={}));var r;(function(l){l[l.AUDIO=0]="AUDIO",l[l.VIDEO=1]="VIDEO"})(r||(r={}));var a;(function(l){l.RtmMetrics="rtm-metrics",l.RenderTiming="render-timing",l.BluetoothDevices="bluetooth-devices",l.MemoryLeaks="memory-leaks",l.SelectedMediaRegion="selected-media-region",l.PreferredMediaRegion="preferred-media-region",l.VoiceFocusConfig="voice-focus-config",l.NetworkDisconnect="network-disconnect",l.CallId="call-id",l.ScreenshareContentType="screenshare-content-type",l.AppMetrics="app-metrics",l.NoAudio="no-audio",l.CameraResolution="max-camera-resolution",l.SetIsDebugApp="set-is-debug-app",l.TroubleshootingContactUsClicked="troubleshooting-contact-us-clicked",l.TroubleshootingEntryPoint="troubleshooting-entry-point",l.TroubleshootingExitHealthSnapshot="troubleshooting-exit-health-snapshot"})(a||(a={}))},5071086688:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(6267571562);const s=new t.G},5403856613:(N,g,e)=>{"use strict";e.d(g,{U:()=>n,p:()=>i});var t=e(7091646278),s=e(2205899741);const o=20,n=80,c=60,i=_(r=>{const{audioDownstreamQualityScore:a,networkQualityScore:l,networkType:d,networkProtocol:u,networkRelayProtocol:f,networkAvailableOutgoingBitrate:m,networkJitterMs:h,audioDownstreamJitterBufferDelay:v,networkCurrentRoundTripTimeMs:p,mediaRegionSelected:T,mediaRegionPreferred:A,cpuUse:C,cpuUseRelative:I,cpuCompetitionScore:D,gpuUse:y,batteryIsUsing:P,selectedMicrophone:E,selectedCamera:M,selectedSpeakers:S,cameraIsBlocked:R,cameraIsAvailable:k,microphoneIsBlocked:O,microphoneIsAvailable:U,isMicrophoneBluetooth:W,isSpeakerBluetooth:x,isMicrophoneAndSpeakerOnSameDevice:L,isHardwareAccelerationEnabled:b,isDisconnected:F,noAudioInput:B,osIsThrottlingCpu:K,networkPacketLossPercent:H,powerThrottlingActive:Y}=r;let Z;switch(!0){case l<=0:Z=t.bz.Bad;break;case l<=n:Z=t.bz.Warn;break;default:Z=t.bz.Good}return{metrics:{stable:{mediaRegionSelected:T,mediaRegionPreferred:A,selectedMicrophone:E,selectedCamera:M,selectedSpeakers:S},unstable:{cpuCompetitionScore:D,cpuUse:C,gpuUse:y,cpuUseRelative:I,audioQualityScore:a,jitterMs:h,audioDelayMs:v,roundTripTimeMs:p,packetLossPercent:H,incomingBandwidth:m,networkQualityScore:l}},warnings:{stable:{isVpnEnabled:d==="vpn",isSuboptimalProtocol:!!(0,s.ik)(u)||!!(0,s.ik)(f),isMediaRegionSuboptimal:!!T&&!!A&&T!==A,isUsingBatteryPower:P,isMicrophoneBluetooth:W,isMicrophoneAndSpeakerOnSameDevice:L,isSpeakerBluetooth:x,isCameraProbablyIphone:/iphone/.test(M==null?void 0:M.toLowerCase()),isHardwareAccelerationDisabled:b===!1,isOSThrottlingCpu:!!K},unstable:{isCpuUsePoor:!!(0,s.$c)(C),isCpuUseRelativePoor:!!(0,s.h7)(I),isGpuUsePoor:!!(0,s.KG)(y),isJitterPoor:!!(0,s._N)(h),isRTTPoor:!!(0,s.oj)(p),isAudioDelayPoor:!!(0,s.q4)(v),isPacketLossPoor:!!(0,s.kq)(H)}},alerts:{stable:{isCameraBlocked:R||!k,isMicrophoneBlocked:O||!U,isMicrophoneNotSendingAudio:!!B,isDisconnected:F,isPowerThrottlingActive:!!Y},unstable:{networkQualityHealth:Z,isNetworkQualityPoor:l<=n,isAudioQualityPoor:a<=o,isCpuCompetitionPoor:D<=c}}}},"getTroubleshootingMetricsFromTags")},6246464105:(N,g,e)=>{"use strict";e.d(g,{N5:()=>l,R1:()=>c,Y:()=>a});var t=e(3147021447),s=e(2825968873),o=e(5470425448),n=e(5071086688),c;(function(d){d.HuddlesSdk="huddles-sdk",d.ChimeChannelListener="chime-channel-listener",d.ChimeChannelBroadcaster="chime-channel-broadcaster",d.VoiceFocusDevice="voice-focus-device",d.VideoTransformDevice="video-transform-device",d.VideoFrameProcessor="video-frame-processor"})(c||(c={}));const i=new Map([[c.HuddlesSdk,t.Y.create({name:c.HuddlesSdk})],[c.ChimeChannelListener,t.Y.create({name:c.ChimeChannelListener})],[c.ChimeChannelBroadcaster,t.Y.create({name:c.ChimeChannelBroadcaster})],[c.VoiceFocusDevice,t.Y.create({name:c.VoiceFocusDevice})],[c.VideoTransformDevice,t.Y.create({name:c.VideoTransformDevice})],[c.VideoFrameProcessor,t.Y.create({name:c.VideoFrameProcessor})]]),r=(0,s.Jt)("HUDDLE-LEAK-MONITOR"),a=_(d=>{let{name:u,ref:f}=d;const m=i.get(u);if(!m)return;const h=m.getMetrics();if(h){const{numberOfObjects:v,numberOfExpiredObjects:p}=h,T=v-p;p>3&&(r.warn(`Detected ${p} memory leak(s) for ${u}${T?` (with another ${T} instances in memory)`:""}`),n.A.publish({type:o.lx.MemoryLeaks,update:{name:u,leakCount:p}}))}m.watch(f)},"monitorObjectForMemoryLeaks"),l=_(()=>{for(const[,d]of i)d.expectGCAll()},"detectMemoryLeaks")},6815073048:(N,g,e)=>{"use strict";e.d(g,{A:()=>ds});var t=e(3398586081),s=e(2878685908),o=e(337319621),n=e(3855029223),c=e(8851980998),i=e(9680914051);let r=_(class{initializeHuddleReconnectTracer(){var et,ot,ut;this.reconnectSpan=(et=this.trace)===null||et===void 0?void 0:et.startSpan(i.xN),this.reconnectSuccessSpan=(ot=this.trace)===null||ot===void 0?void 0:ot.startSpan(i.xx),this.reconnectFailureSpan=(ut=this.trace)===null||ut===void 0?void 0:ut.startSpan(i.cJ)}traceReconnectAttemptOutcome(et){let{isSuccess:ot}=et;var ut;ot?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(ut=this.logger)===null||ut===void 0||ut.info(`Registered huddle reconnect attempt outcome - isSuccess: ${ot}`)}traceReconnectAttempt(){var et;this.reconnectCount+=1,(et=this.logger)===null||et===void 0||et.info("Counted huddle reconnect attempt")}report(){var et,ot,ut,pt,Et;(et=this.reconnectSpan)===null||et===void 0||et.addTags({metric_value:this.reconnectCount}).close(),(ot=this.reconnectSuccessSpan)===null||ot===void 0||ot.addTags({metric_value:this.reconnectSuccessCount}).close(),(ut=this.reconnectFailureSpan)===null||ut===void 0||ut.addTags({metric_value:this.reconnectFailureCount}).close(),(pt=this.tracer)===null||pt===void 0||pt.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(Et=this.logger)===null||Et===void 0||Et.info("Reported reconnect attempt metric trace")}constructor({tracer:et,trace:ot,logger:ut}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=et,this.trace=ot,this.logger=ut,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),a=_(class{addTTIMetaTags(et){let{entryPoint:ot,preferredMediaRegion:ut,isPrejoin:pt,isCreate:Et}=et;var Gt;(Gt=this.trace)===null||Gt===void 0||Gt.addTags({entry_point:ot,preferred_media_region:ut,is_prejoin:pt,is_create:Et,success:!1})}createFetchCredentialsSpan(){var et;this.fetchCredentialsSpan=(et=this.trace)===null||et===void 0?void 0:et.startSpan(i.xl)}setCachedTag(et){let{cached:ot}=et;var ut;(ut=this.trace)===null||ut===void 0||ut.addTags({cached:ot})}closeFetchCredentialsSpan(){var et;(et=this.fetchCredentialsSpan)===null||et===void 0||et.close()}createConnectToMediaServiceSpan(){var et;this.connectToMediaServiceSpan=(et=this.trace)===null||et===void 0?void 0:et.startSpan(i.xA)}closeConnectToMediaServiceSpan(){var et,ot,ut,pt;(et=this.connectToMediaServiceSpan)===null||et===void 0||et.close(),(ot=this.trace)===null||ot===void 0||ot.addTags({success:!0}),(ut=this.tracer)===null||ut===void 0||ut.reportTrace(this.trace),this.traceReported=!0,(pt=this.logger)===null||pt===void 0||pt.info("Reported TTI metric trace")}getTTITraceId(){var et;return(et=this.trace)===null||et===void 0?void 0:et.getTraceId()}getFetchCredentialsSpanId(){var et;return(et=this.fetchCredentialsSpan)===null||et===void 0?void 0:et.getId()}setMediaRegionTag(et){var ot,ut;const pt=(ot=this.trace)===null||ot===void 0?void 0:ot.getTags().preferred_media_region;(ut=this.trace)===null||ut===void 0||ut.addTags({media_region:et,media_region_matches:et===pt})}report(){var et,ot;if(!this.traceReported){var ut,pt;(ut=this.tracer)===null||ut===void 0||ut.reportTrace(this.trace),this.traceReported=!0,(pt=this.logger)===null||pt===void 0||pt.info("Reported TTI metric trace in final clean up")}(et=this.tracer)===null||et===void 0||et.clearTrace(this.trace),(ot=this.logger)===null||ot===void 0||ot.info("Cleaned up TTI metric trace")}constructor({teamId:et,logger:ot}){this.traceReported=!1,this.tracer=(0,n.E)({teamOrEnterpriseId:et}),this.trace=this.tracer.createTrace({traceName:i.bQ,samplingOptions:{sampleRate:(0,s.Cu)()?1:.05,sampleType:c.tS.SESSION}}),this.logger=ot}},"HuddleTTITracer");var l=e(5470425448),d=e(5016574668),u=e(1616072515),f=e(6313685253),m=e(5797466484),h=e(2208015175),v=e(4103274853),p=e(3605769895),T=e(2048121586),A=e(6696292586),C=e(6890312250),I=e(3750057149),D=e(3078252698);const y=(0,o.Wo)({label:"HUDDLE-METRICS-CACHE"}),P=[],E=_(Wt=>{try{if(!Wt.length)return{};const et=Date.now(),ot=(0,f.A)(Wt,(Et,Gt)=>{if(!(0,m.A)(Gt))throw new Error(`metrics cache reports are not correctly formatted. Expected object, got ${typeof Gt}`);return(0,h.A)(Gt,($e,oe)=>{oe in Et?Et[oe].push($e):Et[oe]=[$e]}),Et},{}),ut=(0,v.A)(ot,Et=>{const Gt=Et.find(oe=>typeof oe<"u"&&oe!==null),$e=_(oe=>{var Ae;const Oe=(0,p.A)(oe);return(Ae=(0,T.A)(Object.entries(Oe),Ze=>{let[rt,Tt]=Ze;return Tt}))===null||Ae===void 0?void 0:Ae[0]},"getMostCommon");return(0,A.A)(Gt)?(0,C.A)(Et.filter(A.A)):(0,I.A)(Gt)?$e(Et)==="true":(0,D.A)(Gt)?$e(Et):Et[0]});y.info(`Aggregating huddle metric reports took ${Date.now()-et}ms for reports ${Wt.length}`);const pt=Object.keys(Wt[0]).filter(Et=>!(Et in ut));return pt.length&&y.warn(`Keys missing from summary: ${pt.length}`),ut}catch(et){return y.error("Error merging reports into summary",et),Wt[0]||{}}},"mergeReports"),M=_(Wt=>{P.push(Wt)},"cacheMetricsReport"),S=_(()=>{const Wt=E(P);return P.length=0,Wt},"getMetricsSummary");var R=e(1703559452),k=e(9268023148);const O=10*1e3;let U=_(class{async recordAppMetrics(et){const ot=Date.now(),ut=ot-this.lastRecordedSpanTs,pt=(0,u.tT)(et);if(this.metricsAveragesEnabled&&M(pt),this.logQualityScoreWarnings(et),ut<this.reportingInterval)return;this.logger.debug(`Adding new ${d.Sq}:${d.Kp} span`);const Et=this.trace.startSpan(d.Kp),Gt=Object.keys(pt).length;if(Et.addTags(pt),Et.close(),this.logger.debug(`Added new ${d.Sq}:${d.Kp} span with ${Gt} tags`),this.getSpanCount()>d.jt){if(this.metricsAveragesEnabled){const $e=S();Et.addTags($e)}this.report()}this.lastRecordedSpanTs=ot}constructor({teamId:et,logger:ot,callLogger:ut,enableMaxReportingFrequency:pt,metricsAveragesEnabled:Et}){var Gt=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.perfDataStartTimestamp=Date.now(),this.getMetricsCollectionInterval=()=>(0,s.Cu)()||this.enableMaxReportingFrequency?d.yz:d.ZT,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:d.Sq,tags:{__dataset:d.RN},samplingOptions:{sampleType:c.tS.ALWAYS}}),this.trace),this.getSpanCount=()=>{var $e;const oe=($e=this.trace)===null||$e===void 0?void 0:$e.getSpans();return oe?Object.keys(oe).length:0},this.maybeRecordLeftEarly=$e=>{if(!$e)return;const oe=30;if(Date.now()-this.perfDataStartTimestamp<oe*1e3){var Ae;this.callLogger.warn(`Leaving huddle less than ${oe} seconds after joining.`),(Ae=this.trace)===null||Ae===void 0||Ae.addTags({left_early:!0})}},this.report=function(){let $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if($e&&(Gt.callLogger.debug(`Huddle ${Gt.callId} is ending. Reporting ${Gt.getSpanCount()} remaining spans`),Gt.maybeRecordLeftEarly($e)),!Gt.traceReported&&Gt.getSpanCount()>0){var oe,Ae;(oe=Gt.tracer)===null||oe===void 0||oe.reportTrace(Gt.trace),(Ae=Gt.tracer)===null||Ae===void 0||Ae.clearTrace(Gt.trace),Gt.logger.debug(`Cleared ${d.Sq}:${d.Kp} event trace`),$e?Gt.traceReported=!0:Gt.createNewTrace()}else Gt.logger.debug(`Attempted to report ${d.Sq}:${d.Kp} trace but there was nothing to report`)},this.logQualityScoreWarnings=$e=>{let{audioDownstreamQualityScore:oe,audioUpstreamQualityScore:Ae,selfVideoQualityScore:Oe,videoDownstreamQualityScore:Fe,screenshareUpstreamQualityScore:Ze,screenshareDownstreamQualityScore:rt,networkQualityScore:Tt,cpuCompetitionScore:Vt}=$e;const cn=50,$t={"audio-incoming":oe,"audio-outgoing":Ae,network:Tt,cpu:Vt,"video-outgoing":Oe,"video-incoming":Fe,"screenshare-outgoing":Ze,"screenshare-incoming":rt},an=_(mn=>Object.entries(mn).filter(hn=>{let[,Ln]=hn;return(0,A.A)(Ln)}).map(hn=>{let[Ln,dn]=hn;return`${Ln}=${dn}`}).join(" "),"makeLogString");(0,R.A)($t,mn=>(0,A.A)(mn)&&mn<=cn)?this.logger.warn(`quality scores: ${an($t)}`):this.debouncedInfoLog(an($t))},this.debouncedInfoLog=(0,k.A)($e=>{this.logger.info(`quality scores: ${$e}`)},O,{leading:!0,trailing:!1,maxWait:O}),this.tracer=(0,n.E)({teamOrEnterpriseId:et}),this.enableMaxReportingFrequency=!!pt,this.metricsAveragesEnabled=!!Et,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=ot,this.callLogger=ut}},"HuddlePerfTracer");const W=null;var x=e(166097325),L=e(8478954380),b=e(5403856613);const F=10*1e3,B=30*1e3;class K{constructor(et){this.logger=et,this.currentUnstableAlerts={},this.currentAlerts={networkQualityHealth:[],isNetworkQualityPoor:[],isAudioQualityPoor:[],isCpuCompetitionPoor:[]},this.updateInterval=F,this.updateIntervalIncrements=0,this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(B,this.updateInterval+1e3))},this.getStableAlerts=(ot,ut)=>{const pt=_(Et=>{const Gt=ot[Et];let $e=this.currentAlerts[Et];const oe=Date.now();$e.push({timestamp:oe,value:Gt}),$e=$e.filter(rt=>{let{timestamp:Tt}=rt;return oe-Tt<=B}),this.currentAlerts[Et]=$e,$e=$e.filter(rt=>{let{timestamp:Tt}=rt;return oe-Tt<=ut.interval});const Ae=new Map;for(const rt of $e)Ae.has(rt.value)||Ae.set(rt.value,0),Ae.set(rt.value,Ae.get(rt.value)+1);const Oe=Array.from(Ae.entries());let[Fe,Ze]=Oe[0];for(const[rt,Tt]of Oe.slice(1))Tt>Ze&&(Ze=Tt,Fe=rt);return Oe.length?Fe:this.currentUnstableAlerts[Et]},"nextAlert");return{isAudioQualityPoor:pt("isAudioQualityPoor"),isCpuCompetitionPoor:pt("isCpuCompetitionPoor"),isNetworkQualityPoor:pt("isNetworkQualityPoor"),networkQualityHealth:pt("networkQualityHealth")}},this.getStabilityConfig=()=>({interval:this.updateInterval}),this.getAlertUpdates=ot=>{let{alerts:ut}=ot;const pt=this.getStableAlerts(ut,this.getStabilityConfig()),Et=!(0,x.A)(pt,this.currentUnstableAlerts);if(this.maybeIncrementUpdateInterval(),Et)return this.currentUnstableAlerts=pt,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),pt}}}_(K,"AlertUpdater");const H=null,Y="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",Z={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Y}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Y}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network.",isOSThrottlingCpu:"The operating system is throttling CPU to manage heat or conserve battery power, which could lead to degraded audio or video quality and/or a general sense that Slack is slow or unresponsive. This might manifest as video freezing frequently, audio cutting out frequently, or audio-video sync issues. In more extreme cases, it can even trigger disconnections from the Chime media server. To mitigate this, ensure the user's device is well-ventilated, that they avoid running unnecessary applications during the call, and, if they are on a laptop, they should connect it to a power source. Adjusting power settings to prefer maximum performance (even when battery is being used) can also help. For detailed steps, please refer to your device's power management settings."},q={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...Z},me={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class ue{constructor({callLogger:et,logger:ot,dispatch:ut}){this.isDev=(0,s.Cu)(),this.isJsPath=(0,s.b3)(),this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=pt=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:Et,isUnifiedGrid:Gt,visibleSidebarItemCount:$e,networkType:oe,networkProtocol:Ae,networkRelayProtocol:Oe,isHardwareAccelerationEnabled:Fe,batteryIsUsing:Ze}=pt;this.callLogger.info(`Initial Huddle Config: Network Type=${oe}; Network Protocol=${Ae}; Network Relay Protocol=${Oe}; IA4=${Et}; Unified Grid=${Gt}; Hardware Acceleration=${Fe??"unknown (browser)"}; Using Battery Power=${Ze}; Sidebar Size=${$e};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(pt,Et)=>{Object.entries(pt).forEach(Gt=>{let[$e,oe]=Gt;if(oe&&this.isRelevantWarning($e,pt)&&q[$e]){let Ae;if($e in me){const Fe=me[$e];Fe&&(Et!=null&&Et[Fe])&&(Ae=Et[Fe])}this.logger.warn(`\u{1F6A8} WARNING! ${q[$e]}${Ae?` reasons: (${Ae})`:""}`)}})},this.isRelevantWarning=(pt,Et)=>pt==="isNetworkQualityPoor"||pt==="isCpuCompetitionPoor"?"isAudioQualityPoor"in Et&&!!Et.isAudioQualityPoor:!0,this.logTags=pt=>{const Et=Date.now();this.isJsPath||this.isDev?this.logger.info(`Recorded ${d.Sq}:${d.Kp} event span tags`,pt):Et-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${d.Sq}:${d.Kp} event span tags`,pt),this.lastLoggedTagsTs=Et)},this.getStatsDiff=pt=>{const Et=this.lastProcessedStats;return(0,v.A)(pt,(Gt,$e)=>{var oe,Ae;return{stable:Et?!(0,x.A)((oe=Et[$e])===null||oe===void 0?void 0:oe.stable,Gt==null?void 0:Gt.stable):null,unstable:Et?!(0,x.A)((Ae=Et[$e])===null||Ae===void 0?void 0:Ae.unstable,Gt==null?void 0:Gt.unstable):null}})},this.maybeUpdateTroubleshootingPanel=pt=>{var Et,Gt,$e,oe,Ae,Oe,Fe,Ze,rt;const Tt=Date.now(),Vt=(0,b.p)(pt),cn=this.getStatsDiff(Vt);if(this.lastProcessedStats=Vt,(!((Et=cn.alerts)===null||Et===void 0)&&Et.stable||((Gt=cn.alerts)===null||Gt===void 0?void 0:Gt.stable)===null)&&Vt.alerts.stable&&(this.dispatch((0,L._6)(Vt.alerts.stable)),cn.alerts.stable&&this.logWarningAndAlertUpdates(Vt.alerts.stable)),(!(($e=cn.metrics)===null||$e===void 0)&&$e.stable||((oe=cn.metrics)===null||oe===void 0?void 0:oe.stable)===null)&&Vt.metrics.stable&&this.dispatch((0,L.qO)(Vt.metrics.stable)),(!((Ae=cn.warnings)===null||Ae===void 0)&&Ae.stable||((Oe=cn.warnings)===null||Oe===void 0?void 0:Oe.stable)===null)&&Vt.warnings.stable&&(this.dispatch((0,L.it)(Vt.warnings.stable)),this.logWarningAndAlertUpdates(Vt.warnings.stable)),!((Fe=Vt.alerts)===null||Fe===void 0)&&Fe.unstable){const $t=this.alertUpdater.getAlertUpdates({alerts:Vt.alerts.unstable});$t&&(this.dispatch((0,L.Li)($t)),this.logWarningAndAlertUpdates($t,pt))}Vt.metrics.unstable&&Vt.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||Tt-this.lastUnstableMetricsUpdateTs>1e4&&(!((Ze=cn.warnings)===null||Ze===void 0)&&Ze.unstable||!((rt=cn.metrics)===null||rt===void 0)&&rt.unstable))&&(this.dispatch((0,L.bW)({metrics:Vt.metrics.unstable,warnings:Vt.warnings.unstable})),this.lastUnstableMetricsUpdateTs=Tt)},this.processTags=pt=>{this.maybeUpdateTroubleshootingPanel(pt),this.logHuddleConfigInfo(pt),this.logTags(pt),this.lastProcessedTagsTs=Date.now()},this.callLogger=et,this.logger=ot,this.dispatch=ut,this.alertUpdater=new K(ot),this.callLogger.info("huddle perf observer initialized")}}_(ue,"HuddlePerfObserver");const ae=null,le=ue;var fe=e(2825968873),he=e(5238395322),ie=e(9137897911),X=e(9113979368),j=e(8872403767),w=e(1687672245);const Q=_(Wt=>{if((0,X.A)(Wt))return;const et=(0,f.A)(Wt,(ot,ut)=>(0,w.A)(ot,ut,(pt,Et)=>(pt||0)+Et),{});return(0,v.A)(et,ot=>ot/Wt.length)},"calculateIncomingVideoStatsAverages"),G=_(Wt=>{if(typeof Wt=="string"||typeof Wt=="boolean")return Wt;if(!isNaN(Wt)&&!(typeof Wt>"u"||Wt===null))return Math.round(Wt)},"getScrubbedMetricValue"),J=_(Wt=>{let{clientMetricReport:et,direction:ot}=Wt;const ut=Object.keys(et.streamMetricReports);let pt;return ut.forEach(Et=>{const Gt=Number(Et),$e=et.streamMetricReports[Gt];$e.direction===ot&&$e.mediaType===l.zu.AUDIO&&(pt=Gt)}),pt},"getAudioSsrcId"),te=_((Wt,et,ot,ut,pt)=>{const Et=Wt==null?void 0:Wt.getMetricMap(et,ot)[ut];if(Et!=null&&Et.transform)return Et.transform(ut,pt)},"getNonObservedMetric"),se=_((Wt,et)=>{const ot=et?Wt.replace(et,""):Wt;return ot.charAt(0).toUpperCase()+ot.slice(1)},"removeSubstringAndCapitalize"),ce=_(function(Wt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(0,A.A)(et)||!(0,A.A)(Wt))return 0;const ut=isNaN(ot)?0:ot;if(Wt===et||Wt>et)return 0;const Et=(et-Wt)/et*100-ut;return Math.round(Et)},"calculateNonNetworkPacketLoss");var Ee=e(5057176955),de;(function(Wt){Wt[Wt.UPSTREAM=0]="UPSTREAM",Wt[Wt.DOWNSTREAM=1]="DOWNSTREAM"})(de||(de={}));var re;(function(Wt){Wt[Wt.AUDIO=0]="AUDIO",Wt[Wt.VIDEO=1]="VIDEO"})(re||(re={}));let _e,ve;const ge=_(function(Wt,et,ot){let ut=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Wt||!et)return;const pt=(et.timestamp-Wt.timestamp)/1e3,Et=et[ot]-Wt[ot];return ut?Et/pt:Et},"getNextStat"),Le=_(Wt=>{let{clientMetricReport:et,selfAttendeeId:ot}=Wt;const ut=et.getObservableVideoMetrics();if(!ut||!ot)return;let pt=0;const Et={},Gt=[];return(0,h.A)(ut,($e,oe)=>{var Ae;const Oe=Number((Ae=Object.keys($e))===null||Ae===void 0?void 0:Ae[0]);if(!Oe)return;const Fe=$e[Oe];if(oe.endsWith("#content")){var Ze,rt;pt+=1,(0,h.A)(Fe,(mn,hn)=>{Et[(0,ie.A)(`screenshare_${(0,u._3)(hn)}${pt>1?`${pt}_`:""}`)]=G(mn)}),Object.assign(Et,{screenshareVideoDownstreamDecoderImplementation:(Ze=et.streamMetricReports[Oe])===null||Ze===void 0||(rt=Ze.currentStringMetrics)===null||rt===void 0?void 0:rt.decoderImplementation,screenshareVideoDownstreamFramesReceivedPerSecond:et.countPerSecond("framesReceived",Oe),screenshareVideoDownstreamFramesDroppedPerSecond:te(et,re.VIDEO,de.DOWNSTREAM,"framesDropped",Oe),screenshareVideoDownstreamFreezeCount:te(et,re.VIDEO,de.DOWNSTREAM,"freezeCount",Oe),screenshareVideoDownstreamTotalDecodeTime:te(et,re.VIDEO,de.DOWNSTREAM,"totalDecodeTime",Oe),screenshareVideoDownstreamTotalFreezesDuration:te(et,re.VIDEO,de.DOWNSTREAM,"totalFreezesDuration",Oe)});return}if(ot===oe){if(Fe.videoUpstreamBitrate!==0){var Tt,Vt;(0,h.A)(Fe,(mn,hn)=>{Et[`self${se(hn,"Upstream")}`]=G(mn)}),Object.assign(Et,{selfVideoHardwareEncoder:te(et,re.VIDEO,de.UPSTREAM,"encoderImplementation",Oe),selfVideoEncoderImplementation:(Tt=et.streamMetricReports[Oe])===null||Tt===void 0||(Vt=Tt.currentStringMetrics)===null||Vt===void 0?void 0:Vt.encoderImplementation,selfVideoTotalEncodeTime:te(et,re.VIDEO,de.UPSTREAM,"totalEncodeTime",Oe)})}}else{var cn,$t;const mn=te(et,re.VIDEO,de.DOWNSTREAM,"totalDecodeTime",Oe);if(mn){var an;Et.videoDownstreamTotalDecodeTime=((an=Et.videoDownstreamTotalDecodeTime)!==null&&an!==void 0?an:0)+mn}Object.assign(Et,{videoDownstreamDecoderImplementation:(cn=et.streamMetricReports[Oe])===null||cn===void 0||($t=cn.currentStringMetrics)===null||$t===void 0?void 0:$t.decoderImplementation}),Gt.push({...Fe,videoDownstreamFramesReceivedPerSecond:et.countPerSecond("framesReceived",Oe),videoDownstreamFramesDroppedPerSecond:te(et,re.VIDEO,de.DOWNSTREAM,"framesDropped",Oe)})}}),(0,X.A)(Gt)||Object.assign(Et,Q(Gt)),Et},"getVideoMetricTags"),ke=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],Ke=_(Wt=>{let{clientMetricReport:et}=Wt;const{audioDecoderLoss:ot,audioPacketLossPercent:ut,audioPacketsReceived:pt,audioPacketsReceivedFractionLoss:Et,audioPacketsSent:Gt,audioSpeakerDelayMs:$e,audioDownstreamJitterMs:oe,videoUpstreamBitrate:Ae,videoPacketSentPerSecond:Oe,currentRoundTripTimeMs:Fe,availableIncomingBitrate:Ze,availableOutgoingBitrate:rt,nackCountReceivedPerSecond:Tt,audioUpstreamRoundTripTimeMs:Vt,audioUpstreamJitterMs:cn}=et.getObservableMetrics(),$t=50,an=ce(pt,$t,Et),mn=ce(Gt,$t,ut),hn={audioDownstreamDecoderLoss:ot,audioUpstreamPacketLossPercent:ut,audioDownstreamPacketsReceived:pt,audioDownstreamPacketLossPercent:Et,audioDownstreamJitterMs:oe,audioUpstreamPacketsSent:Gt,audioDownstreamNonNetworkPacketLossPercent:an,audioUpstreamNonNetworkPacketLossPercent:mn,audioDownstreamJitterBufferDelay:$e,selfVideoBitrate:Ae,selfVideoPacketsSentPerSecond:Oe,audioUpstreamRoundTripTimeMs:Vt,audioUpstreamJitterMs:cn,networkCurrentRoundTripTimeMs:Fe,networkAvailableIncomingBitrate:Ze,networkAvailableOutgoingBitrate:rt,networkNackCountReceivedPerSecond:Tt},Ln=(0,j.A)(hn,(us,fs)=>ke.indexOf(fs)>-1?(0,ie.A)(`network_${fs}`):fs),Fn={networkSocketPacketsDiscardedOnSend:et.globalMetricReport.currentMetrics.packetsDiscardedOnSend},ts=J({clientMetricReport:et,direction:de.DOWNSTREAM});let zn;if(ts){const us=te(et,re.AUDIO,de.DOWNSTREAM,"concealedSamples",ts);zn={audioDownstreamTotalSamplesReceived:te(et,re.AUDIO,de.DOWNSTREAM,"totalSamplesReceived",ts),audioDownstreamConcealedSamples:us}}return(0,v.A)({...Ln,...Fn,...zn},us=>G(us))},"getAudioMetricTags"),Ne=_(Wt=>{const et={},ot=[];let ut;if(!Wt)return _e=void 0,et;Wt.forEach(Et=>{Et.type==="local-candidate"&&ot.push(Et),Et.type==="media-source"&&Et.kind==="audio"&&(et.audioUpstreamTotalSamplesDuration=Et.totalSamplesDuration,et.audioUpstreamAudioLevel=Et.audioLevel,et.audioUpstreamTotalAudioEnergy=Et.totalAudioEnergy),Et.type==="candidate-pair"&&Et.state==="succeeded"&&Et.nominated&&Et.localCandidateId&&(ut=Et.localCandidateId,et.networkBytesSent=Et.bytesSent,et.networkBytesReceived=Et.bytesReceived,et.networkBytesDiscardedOnSend=Et.bytesDiscardedOnSend),Et.type==="inbound-rtp"&&Et.kind==="audio"&&(et.audioDownstreamLevel=Et.audioLevel),Et.type==="outbound-rtp"&&Et.kind==="video"&&(et.selfVideoQualityLimitationDurations=Et.qualityLimitationDurations&&(0,Ee.Zf)(Et.qualityLimitationDurations),et.selfVideoOutboundFramesPerSecond=Et.framesPerSecond,et.selfVideoPacketSendDelay=ge(_e,Et,"totalPacketSendDelay"),_e=Et),Et.type==="media-source"&&Et.kind==="video"&&(et.selfVideoSourceFramesPerSecond=Et.framesPerSecond)});const pt=ot.find(Et=>Et.id===ut);if(pt){const{networkType:Et,protocol:Gt,relayProtocol:$e}=pt;et.networkType=Et,et.networkProtocol=Gt,et.networkRelayProtocol=$e}return et},"getRtcStatsTags"),Re=_(Wt=>{if(!Wt){ve=void 0;return}const et={};return Wt.forEach(ot=>{if(ot.type==="remote-inbound-rtp"&&ot.kind==="video"){const{fractionLost:ut,jitter:pt,roundTripTime:Et}=ot;Object.assign(et,{screenshareUpstreamJitter:pt*1e3,screenshareUpstreamPacketLossPercent:ut*100,screenshareUpstreamRoundTripTime:Et*1e3})}if(ot.type==="outbound-rtp"&&ot.kind==="video"){const{frameHeight:ut,frameWidth:pt,framesPerSecond:Et,targetBitrate:Gt,encoderImplementation:$e,scalabilityMode:oe,powerEfficientEncoder:Ae}=ot;if(Object.assign(et,{screenshareUpstreamTargetBitrate:Gt,screenshareUpstreamFrameWidth:pt,screenshareUpstreamFrameHeight:ut,screenshareUpstreamFramesPerSecond:Et,screenshareUpstreamEncoderImplementation:$e,screenshareUpstreamPowerEfficientEncoder:Ae,screenshareUpstreamScalabilityMode:oe}),!ve){ve=ot;return}const Oe=ge(ve,ot,"totalEncodeTime",!0),Fe=Oe&&Oe*1e3;Object.assign(et,{screenshareUpstreamPacketsSent:ge(ve,ot,"packetsSent"),screenshareUpstreamPacketSendDelay:ge(ve,ot,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:ge(ve,ot,"keyFramesEncoded"),screenshareUpstreamBitrate:ge(ve,ot,"bytesSent",!0),screenshareUpstreamTotalEncodeTime:Fe}),ve=ot}}),(0,v.A)(et,ot=>G(ot))},"getScreenshareRtcStatsTags"),xe=_(Wt=>{let{clientMetricReport:et,selfAttendeeId:ot}=Wt;const ut=Le({clientMetricReport:et,selfAttendeeId:ot}),pt=Ke({clientMetricReport:et});return{...ut,...pt}},"getClientMetricReportTags"),We={getVideoMetricTags:Le,getAudioMetricTags:Ke,getClientMetricReportTags:xe,getScreenshareRtcStatsTags:Re,getRtcStatsTags:Ne};var $=e(4404059078),ee=e(2205899741);const Ve=0,ze=100;function st(Wt){return Wt.endsWith(",")?Wt.slice(0,-1):Wt}_(st,"trimComma");const Ge=_(()=>{let Wt=100,et="";return{deductFromScoreForReason:(ot,ut)=>{ot&&(Wt-=ot,et+=`${ut},`)},getScore:()=>(0,$.A)(Wt,Ve,ze),getReasons:()=>st(et)}},"trackScoreAndReasons"),be=_(Wt=>{const{deductFromScoreForReason:et,getScore:ot,getReasons:ut}=Ge(),{screenshareUpstreamBitrate:pt,screenshareUpstreamPacketLossPercent:Et,screenshareUpstreamJitter:Gt,screenshareUpstreamPacketSendDelay:$e,screenshareUpstreamQualityLimitationReason:oe}=Wt;if(pt)return et((0,ee.Tg)(Et),"screenshareUpstreamPacketLossPercent"),et((0,ee.Fu)(Gt),"screenshareUpstreamJitter"),et((0,ee.RI)($e),"screenshareUpstreamPacketSendDelay"),et((0,ee.Fq)(oe),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:ot(),screenshareUpstreamQualityScoreReasons:ut()}},"getScreenshareUpstreamQualityScore"),Se=_(Wt=>{const{selfVideoPacketLossPercent:et,selfVideoJitterMs:ot,isSelfVideoEnabled:ut,selfVideoOutboundFramesPerSecond:pt,selfVideoBitrate:Et}=Wt;if(!ut||!Et)return;const{deductFromScoreForReason:Gt,getScore:$e,getReasons:oe}=Ge();return Gt((0,ee.Tg)(et),"selfVideoPacketLossPercent"),Gt((0,ee.Fu)(ot),"selfVideoJitterMs"),Gt((0,ee.qf)(pt),"selfVideoOutboundFramesPerSecond"),{selfVideoQualityScore:$e(),selfVideoQualityScoreReasons:oe()}},"getSelfVideoQualityScore"),we=_(Wt=>{const{videoDownstreamPacketLossPercent:et,videoDownstreamFramesDecodedPerSecond:ot,videoDownstreamBitrate:ut,videoDownstreamJitterMs:pt,videoDownstreamDelayMs:Et}=Wt;if(!ut)return;const{deductFromScoreForReason:Gt,getScore:$e,getReasons:oe}=Ge();return Gt((0,ee.Tg)(et),"videoDownstreamPacketLossPercent"),Gt((0,ee.q4)(Et),"videoDownstreamDelayMs"),Gt((0,ee.Fu)(pt),"videoDownstreamJitterMs"),Gt((0,ee.qf)(ot),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:$e(),videoDownstreamQualityScoreReasons:oe()}},"getVideoDownstreamQualityScore"),Ce=_(function(Wt){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:ot,getScore:ut,getReasons:pt}=Ge();if(et){const{screenshareVideoDownstreamPacketLossPercent2:Ae,screenshareVideoDownstreamJitterMs2:Oe,screenshareVideoDownstreamDelayMs2:Fe,screenshareVideoDownstreamFrameHeight2:Ze}=Wt;return Ze?(ot((0,ee.Tg)(Ae),"screenshareVideoDownstreamPacketLossPercent2"),ot((0,ee.Fu)(Oe),"screenshareVideoDownstreamJitterMs2"),ot((0,ee.q4)(Fe),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:ut(),screenshareVideoDownstreamQualityScoreReasons2:pt()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:Et,screenshareVideoDownstreamJitterMs:Gt,screenshareVideoDownstreamDelayMs:$e,screenshareVideoDownstreamFrameHeight:oe}=Wt;if(oe)return ot((0,ee.Tg)(Et),"screenshareVideoDownstreamPacketLossPercent"),ot((0,ee.Fu)(Gt),"screenshareVideoDownstreamJitterMs"),ot((0,ee.q4)($e),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:ut(),screenshareVideoDownstreamQualityScoreReasons:pt()}},"getScreenshareDownstreamQualityScore"),Te=_(Wt=>{const{audioUpstreamPacketLossPercent:et,audioUpstreamRoundTripTimeMs:ot,audioUpstreamJitterMs:ut,audioUpstreamNonNetworkPacketLossPercent:pt}=Wt;if(!ot)return;const{deductFromScoreForReason:Et,getScore:Gt,getReasons:$e}=Ge();return Et((0,ee.Ye)(et),"audioUpstreamPacketLossPercent"),Et((0,ee.oj)(ot),"audioUpstreamRoundTripTimeMs"),Et((0,ee._N)(ut),"audioUpstreamJitterMs"),Et((0,ee.fB)(pt),"audioUpstreamNonNetworkPacketLossPercent"),{audioUpstreamQualityScore:Gt(),audioUpstreamQualityScoreReasons:$e()}},"getAudioUpstreamQualityScore"),Ye=_(Wt=>{const et={};return Wt.screenshareVideoDownstreamFrameHeight2&&Object.assign(et,Ce(Wt,!0)),{...Ce(Wt),...et}},"getScreenshareDownstreamQualityScores"),De=_(Wt=>{const{cpuUse:et,gpuUse:ot,cpuUseRelative:ut,longTasksPercentage:pt}=Wt,{deductFromScoreForReason:Et,getScore:Gt,getReasons:$e}=Ge();return Et((0,ee.sI)(pt),"longTasksPercentage"),Et((0,ee.$c)(et),"cpuUse"),Et((0,ee.KG)(ot),"gpuUse"),Et((0,ee.h7)(ut),"cpuUseRelative"),{cpuCompetitionScore:Gt(),cpuCompetitionScoreReasons:$e()}},"getCpuCompetitionScoreTags"),Pe=_(function(){for(var Wt=arguments.length,et=new Array(Wt),ot=0;ot<Wt;ot++)et[ot]=arguments[ot];const ut=et.filter(A.A);return ut.length?Math.round((0,C.A)(ut)):0},"getMetricAverage"),ye=_(Wt=>{const{networkCurrentRoundTripTimeMs:et,networkNackCountReceivedPerSecond:ot,networkSocketPacketsDiscardedOnSend:ut,networkProtocol:pt,networkRelayProtocol:Et,audioDownstreamJitterMs:Gt,audioDownstreamPacketLossPercent:$e,audioUpstreamPacketLossPercent:oe,audioUpstreamJitterMs:Ae,videoDownstreamPacketLossPercent:Oe,screenshareDownstreamPacketLossPercent:Fe,screenshareUpstreamPacketLossPercent:Ze,selfVideoPacketLossPercent:rt}=Wt,{deductFromScoreForReason:Tt,getScore:Vt,getReasons:cn}=Ge();Tt((0,ee.ik)(pt),"networkProtocol"),Tt((0,ee.ik)(Et),"networkRelayProtocol"),Tt((0,ee.No)(ut),"networkSocketPacketsDiscardedOnSend"),Tt((0,ee.oj)(et),"networkCurrentRoundTripTimeMs");const $t=Pe(Gt,Ae);Tt((0,ee._N)($t),"networkJitterMs"),Tt((0,ee.Ap)(ot),"networkNackCountReceivedPerSecond");const an=Pe($e,Oe,Fe,oe,rt,Ze);return Tt((0,ee.kq)(an),"networkPacketLossPercent"),{networkJitterMs:$t,networkPacketLossPercent:an,networkQualityScore:Vt(),networkQualityScoreReasons:cn()}},"getNetworkQualityScoreTags"),He=_(Wt=>{const{audioDownstreamDecoderLoss:et,audioDownstreamJitterBufferDelay:ot,audioDownstreamPacketLossPercent:ut}=Wt,{deductFromScoreForReason:pt,getScore:Et,getReasons:Gt}=Ge();return pt((0,ee.t5)(et),"audioDownstreamDecoderLoss"),pt((0,ee.q4)(ot),"audioDownstreamJitterBufferDelay"),pt((0,ee.Ye)(ut),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:Et(),audioDownstreamQualityScoreReasons:Gt()}},"getAudioDownstreamQualityTags"),dt=_(Wt=>({...He(Wt),...ye(Wt),...Te(Wt),...Se(Wt),...Ye(Wt),...be(Wt),...De(Wt),...we(Wt),qualityScoringVersion:d.Nb}),"getQualityScoreTags"),Ot=_((Wt,et)=>{let{type:ot,update:ut}=Wt;switch(ot){case l.lx.BluetoothDevices:case l.lx.PreferredMediaRegion:case l.lx.CameraResolution:case l.lx.CallId:case l.lx.ScreenshareContentType:Object.assign(et.sharedTags,ut);break;case l.lx.MemoryLeaks:{const pt=et.sharedTags.memoryLeakCount;Object.assign(et.sharedTags,{type:"shared",tags:{[`memoryLeaks-${ut.name}`]:ut.leakCount,memoryLeakCount:pt?pt+ut.leakCount:ut.leakCount}});break}case l.lx.SelectedMediaRegion:{const{mediaRegionPreferred:pt}=et.sharedTags,Et=pt&&ut.mediaRegionSelected?pt===ut.mediaRegionSelected:!0;Object.assign(et.sharedTags,{mediaRegionSelected:ut.mediaRegionSelected,mediaRegionMatchesPreference:Et});break}case l.lx.VoiceFocusConfig:Object.assign(et.sharedTags,{vfSimdSupported:ut.model.simd,vfModelVariant:ut.model.variant,vfSupported:ut.supported});break;case l.lx.NetworkDisconnect:ut.peerId==="self"&&Object.assign(et.transientTags,{selfDisconnectCount:(et.transientTags.selfDisconnectCount||0)+1});break;case l.lx.NoAudio:{const pt=ut.direction==="send"?{noAudioInput:ut.noAudio}:{noAudioOutput:ut.noAudio};Object.assign(et.sharedTags,pt);break}case l.lx.SetIsDebugApp:Object.assign(et.sharedTags,{isDebugApp:!0});break;default:{(0,fe.tZ)("HUDDLES-PERF").error(new Error(`Unexpected type: ${ot}`));break}}},"updateState"),yt=null;var Dt=e(6267571562);const Ct=(0,o.Wo)({label:"COMPUTE-PRESSURE"}),kt={nominal:1,fair:2,serious:3,critical:4};class vt{constructor(){this.defaultSampleRate=.5,this.pubSub=new Dt.G,this.isObserving=!1,this.currentLevel=null,this.startObserving=async()=>{if(!this.isObserving){try{var et;this.isObserving=!0,await((et=this.pressureObserver)===null||et===void 0?void 0:et.observe("cpu"))}catch(ot){this.isObserving=!1,Ct.error("An error occurred while attempting to observe compute pressure",ot)}Ct.info("Observing compute pressure")}},this.getPressureLevelFromRecord=et=>et?kt[et.state]:void 0,this.pressureObserverCallback=et=>{const ot=et.pop();if(!ot)return;const ut=this.getPressureLevelFromRecord(ot);ut&&(this.currentLevel=ut,ut===1?Ct.debug(`Compute pressure updated to ${ot.state} (${ut} of 4)`):Ct.warn(`Compute pressure updated to ${ot.state} (${ut} of 4)`),this.pubSub.publish(ut))},this.subscribe=async et=>{this.pubSub.subscribe(et),await this.startObserving()},this.unsubscribe=et=>{if(this.pubSub.unsubscribe(et),!this.pubSub.subscriberCount)try{var ot;(ot=this.pressureObserver)===null||ot===void 0||ot.disconnect(),Ct.debug("No longer observing compute pressure.")}catch(ut){Ct.error("An error occurred attempted to disconnect from the compute pressure observer",ut)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let et;try{var ot;et=(ot=this.pressureObserver)===null||ot===void 0?void 0:ot.takeRecords()}catch(pt){Ct.error("An error occurred attempting to get latest compute pressure reports",pt)}const ut=et?this.getPressureLevelFromRecord(et.pop()):void 0;return ut&&(this.currentLevel=ut),ut},Ct.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(et){Ct.error("An error occurred creating a new instance of the PressureObserver",et)}if(!this.pressureObserver){Ct.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}_(vt,"ComputePressureObserver"),vt.isSupported=()=>"PressureObserver"in globalThis;let Nt;const It=_(()=>{if(Nt)return Nt;if(!vt.isSupported()){Ct.info("Compute Pressure API is not supported.");return}try{Nt=new vt}catch(Wt){Ct.error("An error occurred while attempting to create compute pressure observer",Wt);return}return Nt},"getComputePressureObserver"),At=null,Zt=null,jt=It,Ht={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let Pt=_(class{initializeReport(){this.report={...Ht},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const ot=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/ot*100));const ut={...this.report};return this.initializeReport(),ut}constructor(){this.report={...Ht},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=et=>{const ot=et.getEntries();let ut=0,pt=0;ot.forEach(Et=>{const Gt=Et.duration;ut+=Gt,Gt>pt&&(pt=Gt)}),this.report.longTasksTotalDuration+=ut,this.report.longTasksCount+=ot.length,pt>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=pt)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const Ft=null,En=Pt;let Rt=0;const rn={traceName:d.Sq},nn="HUDDLES-PERF",at={troubleshootingEntryPoint:null,troubleshootingContactUsClicked:!1};let tt=_(class{constructor(){var et;this.callLogger=(0,fe.tZ)(nn),this.logger=(0,o.Wo)({label:nn}),this.sharedTags=rn,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.troubleshootingTags={...at},this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new En,this.initSharedTags=()=>{Rt+=1,this.updateSharedTags({huddlesCountSinceRefresh:Rt})},this.initComputePressureObserver=()=>{this.computePressureObserver=jt(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var ot;const ut=(ot=this.computePressureObserver)===null||ot===void 0?void 0:ot.getCurrentLevel();this.computePressure=ut})},this.updateSharedTags=ot=>{this.sharedTags={...this.sharedTags,...ot}},this.updateTransientTags=ot=>{this.transientTags={...this.transientTags,...ot}},this.updateComputePressure=ot=>{const ut=this.computePressure;this.computePressure=ot;let pt;switch(ot){case 1:pt="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:pt="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:pt="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:pt="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:pt="Unknown system workload condition."}ot>2?this.callLogger.warn(`Compute pressure updated to level ${ot} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${ot} suggests that: ${pt}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):ut&&ut>2&&this.logger.debug(`Compute pressure updated to level ${ot} of 4 from ${ut}. ${pt}`)},this.updateState=ot=>{switch(ot.type){case l.lx.RenderTiming:this.renderTimings.push(ot.update);break;case l.lx.RtmMetrics:this.rtmProcessingTimings.push(ot.update);break;case l.lx.AppMetrics:this.updateMetrics(ot.update);break;case l.lx.TroubleshootingEntryPoint:this.troubleshootingTags.troubleshootingEntryPoint=ot.update;break;case l.lx.TroubleshootingContactUsClicked:this.troubleshootingTags.troubleshootingContactUsClicked=!0;break;default:Ot(ot,{sharedTags:this.sharedTags,transientTags:this.transientTags})}},this.updateMetrics=ot=>{let{huddleStateSnapshot:ut,clientMetricReport:pt,screenshareRtcStats:Et}=ot;const Gt=pt?xe({clientMetricReport:pt,selfAttendeeId:pt.selfAttendeeId}):{},$e=pt?Ne(pt.getRTCStatsReport()):{},oe=Re(Et),Ae={...ut,...Gt,...oe,...$e,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags(),...this.getTroubleshootingTags()},Oe=dt(Ae);this.currentTags={...Ae,...Oe},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var ot;return(ot=this.longTaskObserver)===null||ot===void 0?void 0:ot.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:ot}=this.currentTags;return ot?{secondsSinceJoining:Math.floor((Date.now()-ot)/1e3)}:{}},this.getRtmMetricTags=()=>{const ot=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:ot}},this.getTroubleshootingTags=()=>{const ot={...this.troubleshootingTags};return this.troubleshootingTags={...at},ot},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const ot=Date.now()-this.lastAppMetricsRecordingTs,ut=(0,he.A)(this.renderTimings),pt=this.renderTimings.length;return!ut||!ot?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((ut/ot*100).toFixed(1)),uiRenderCount:pt})},this.cleanup=()=>{var ot,ut;(ot=this.computePressureObserver)===null||ot===void 0||ot.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(ut=this.longTaskObserver)===null||ut===void 0||ut.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(et=this.longTaskObserver)===null||et===void 0||et.start()}},"HuddlePerfStateInternal");const ft=null,wt=tt;var Jt=e(5071086688),sn=e(5387083734),z=e(415910655),Me=e(5332875232);const Be="HUDDLES-PERF",nt=5e3,Lt=1e3;let Bt=_(class{constructor({teamId:et,logger:ot,dispatch:ut,getState:pt}){this.logger=(0,o.Wo)({label:Be}),this.callLogger=(0,fe.tZ)(Be),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.reportUpdate=Gt=>{Gt.type===l.lx.AppMetrics?this.recordAppMetrics(Gt):this.huddlePerfState.updateState(Gt)},this.recordAppMetrics=Gt=>{(0,sn.IE)("huddle-perf-metrics",()=>{var $e,oe;if(!this.shouldRecordAppMetrics({nextReportTimestamp:($e=Gt.update)===null||$e===void 0||(oe=$e.clientMetricReport)===null||oe===void 0?void 0:oe.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateState(Gt);const Ae=this.huddlePerfState.getCurrentTags();this.huddlePerfTrace.recordAppMetrics(Ae);try{this.huddlePerfObserver.processTags(Ae)}catch(Oe){this.errorReported||(this.callLogger.error("An error occurred while processing tags",Oe),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=Gt=>{let{nextReportTimestamp:$e}=Gt;if(!$e)return!1;const oe=Date.now(),Ae=oe-this.lastRecordedMetricsTs;if(Ae<Lt)return this.logger.debug(`Not enough time has passed since last report was recorded (${Ae}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const Fe=oe-$e;return Fe>nt?(this.logger.debug(`Too much time has passed since the current report was made (${Fe}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.report=Gt=>{this.huddlePerfTrace.report(Gt),Jt.A.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),(0,z.ZR)()};const Et=pt();this.huddlePerfTrace=new U({teamId:et,logger:ot,callLogger:this.callLogger,enableMaxReportingFrequency:(0,Me.CN)(Et),metricsAveragesEnabled:(0,Me.Ml)(Et)}),this.huddlePerfObserver=new le({logger:ot,callLogger:this.callLogger,dispatch:ut}),this.huddlePerfState=new wt,Jt.A.subscribe(this.reportUpdate)}},"HuddlePerfManager");const Yt=null,on=Bt;var An=e(6533394955),Sn=e(2141441167),In=e(2709531527),Pn=e(7384121809),bn=e(8276911661),wn=e(5795074931),qn=e(5286203919),kn=e(8847766420),Dn=e(7606781622),Un=e(6251210828),Hn=e(3792998666);const jn=_(Wt=>{let{teamId:et}=Wt;var ot,ut;const pt=(0,An.oK)(et).getState(),Et=(0,Pn.en)().getState(),Gt=(0,qn.E9)(Et),$e=(0,qn.hc)(Et),oe=(0,kn.jV)(pt),Ae=(0,Un.ok)(pt,{huddleId:Gt}),Oe=(0,Un.Zg)(pt,{huddleId:Gt}),Fe=(0,wn.WR)(pt),Ze=Oe?((Oe==null?void 0:Oe.timestamps)||[]).map(an=>$e?(0,Dn.Ld)(pt,$e,an):void 0).filter(an=>(an==null?void 0:an.user)===Fe):[],rt=(ot=Ze[0])===null||ot===void 0?void 0:ot.ts,Tt=(ut=Ze.slice(-1)[0])===null||ut===void 0?void 0:ut.ts,Vt=Ze.length,cn=(0,bn.nv)(pt,Fe),$t=(0,Hn.P)(cn);return{huddleId:Gt,channelId:$e,enterpriseId:oe,threadId:Ae,threadReplyCnt:Vt,threadFirstReplyTs:rt,threadLastReplyTs:Tt,isGuest:$t}},"getHuddleEventsStateSnapshot"),Jn="huddle_events",ln="huddle",ss="vhq",vs={topicName:ln,userAgent:navigator.userAgent,family:ss};let ls=_(class{get spansList(){var et;return(0,Sn.A)((et=this.trace)===null||et===void 0?void 0:et.getSpans())||[]}report(){var et;let ot;try{ot=(0,u.tT)({...this.sharedTags,...jn({teamId:this.teamId})})}catch(pt){var ut;this.logger.error(`Error while reporting huddle_events trace: ${pt}`),(ut=this.tracer)===null||ut===void 0||ut.clearTrace(this.trace);return}!this.traceReported&&this.trace&&(this.trace.addTags(ot),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",ot)),(et=this.tracer)===null||et===void 0||et.clearTrace(this.trace)}constructor({teamId:et,logger:ot}){this.sharedTags=vs,this.traceReported=!1,this.getSpanByName=ut=>this.spansList.find(pt=>ut===pt.getOperationName()),this.getDataSet=()=>{if(!(0,s.Cu)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:In.p.JOIN,type:In.G.START,tags:{}}),this.update({name:In.p.MINIPLAYER_VIEW,type:In.G.START})},this.isSurfaceChange=ut=>ut===In.p.MINIPLAYER_VIEW||ut===In.p.WINDOW_COMPACT_VIEW||ut===In.p.WINDOW_FULL_VIEW,this.handleSurfaceChange=ut=>{let{name:pt,type:Et}=ut;Et===In.G.START&&this.isSurfaceChange(pt)&&this.spansList.filter(Gt=>this.isSurfaceChange(Gt.getOperationName())).forEach(Gt=>{Gt.getOperationName()!==pt&&this.closeSpan(Gt)})},this.update=ut=>{let{name:pt,type:Et,tags:Gt}=ut;if(this.trace)if(Et===In.G.START||Et===In.G.ONCE){const $e=this.trace.startSpan(pt,{parentSpanId:this.joinSpanId});Gt&&$e.addTags(Gt),pt===In.p.JOIN&&(this.joinSpanId=$e.getId()),this.isSurfaceChange(pt)&&this.handleSurfaceChange({name:pt,type:Et}),this.logger.debug(`started new span for huddle_events trace: ${pt}`),Et===In.G.ONCE&&this.closeSpan($e)}else{const $e=this.getSpanByName(pt);this.closeSpan($e),this.logger.debug(`closed span for huddle_events trace: ${pt}`)}},this.closeSpan=ut=>{ut&&(ut.getCloseTimeMs()||ut.close())},this.recordEntryPoint=ut=>{Object.assign(this.sharedTags,{entryPoint:ut})},this.tracer=(0,n.E)({teamOrEnterpriseId:et}),this.trace=this.tracer.createTrace({traceName:Jn,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:c.tS.SESSION}}),this.teamId=et,this.logger=ot,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");var Zn=e(8052062794);class Rn{capatalizeFirstLetter(et){return(0,Zn.Z)(et,!1)}incrementEventCount(et){this.eventCounts[et]=(this.eventCounts[et]||0)+1}recordMeetingEvent(et){const ot=this.capatalizeFirstLetter(et);this.incrementEventCount(`meetingEvents${ot}Count`)}recordInputErrorEvent(et,ot){const ut=this.capatalizeFirstLetter(ot),pt=this.capatalizeFirstLetter(et),Et=`meetingEvents${ut}InputFailed${pt}`;this.incrementEventCount(Et)}getTeamId(){return this.teamId}report(){var et;const ot=this.trace.startSpan(d.Kp);try{const pt=(0,u.tT)(this.eventCounts);ot.addTags(pt)}catch(pt){var ut;this.logger.error(`Error while reporting huddle_meeting_events trace: ${pt}`),ot.close(),(ut=this.tracer)===null||ut===void 0||ut.clearTrace(this.trace);return}ot.close(),this.tracer.reportTrace(this.trace),(et=this.tracer)===null||et===void 0||et.clearTrace(this.trace),this.eventCounts={}}constructor({logger:et,teamId:ot}){this.eventCounts={},this.teamId=ot,this.logger=et,this.tracer=(0,n.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:d.Sq,tags:{__dataset:d.RN},samplingOptions:{sampleType:c.tS.ALWAYS}}),this.logger.info(`Initialized meeting events tracer for huddle (teamId: ${this.teamId})`)}}_(Rn,"HuddleMeetingEventsTracer");const Wn="HUDDLE-TRACE-MANAGER",es=(0,o.Wo)({label:Wn});let Gn=_(class{initializeTraces(et){let{teamId:ot,isTinySpeck:ut,isDebugApp:pt}=et;const Et=(0,An.oK)(ot);this.teamId=ot,this.tracer=(0,n.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:i.ne,samplingOptions:{sampleRate:(0,s.Cu)()||ut?1:.05,sampleType:c.tS.SESSION},tags:{__dataset:"client_metrics"}}),pt||(this.reconnectTrace=new r({tracer:this.tracer,trace:this.trace,logger:es}),this.ttiTrace=new a({teamId:this.teamId,logger:es}),this.huddleEventsTrace=new ls({teamId:this.teamId,logger:es}),this.huddleMeetingEventsTrace=new Rn({logger:es,teamId:this.teamId})),this.huddlePerfTraceManager=new on({teamId:this.teamId,logger:es,dispatch:Et.dispatch,getState:Et.getState})}setCallId(et){var ot;this.callId=et,(ot=this.trace)===null||ot===void 0||ot.addTags({callId:this.callId}),et&&Jt.A.publish({type:l.lx.CallId,update:{callId:et}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace,huddleMeetingEventsTrace:this.huddleMeetingEventsTrace}}cleanup(){var et,ot,ut,pt,Et;if((et=this.reconnectTrace)===null||et===void 0||et.report(),(ot=this.ttiTrace)===null||ot===void 0||ot.report(),(ut=this.huddlePerfTraceManager)===null||ut===void 0||ut.report(!0),(pt=this.huddleEventsTrace)===null||pt===void 0||pt.report(),(Et=this.huddleMeetingEventsTrace)===null||Et===void 0||Et.report(),this.trace){var Gt,$e;(Gt=this.tracer)===null||Gt===void 0||Gt.reportTrace(this.trace),($e=this.tracer)===null||$e===void 0||$e.clearTrace(this.trace)}es.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,delete this.huddleMeetingEventsTrace,this.callId=null}constructor(){es.info("Huddle Trace Manager created")}},"HuddleTraceManager");const ds=(0,t.A)(()=>new Gn)},2709531527:(N,g,e)=>{"use strict";e.d(g,{G:()=>t,p:()=>s});var t;(function(o){o.START="start",o.STOP="stop",o.ONCE="once"})(t||(t={}));var s;(function(o){o.JOIN="session_join",o.VIDEO="video",o.SCREENSHARE="screenshare",o.REACTION="reaction_posted",o.MESSAGE="message_posted",o.MICROPHONE="microphone",o.MINIPLAYER_VIEW="mini_player_view",o.WINDOW_COMPACT_VIEW="window_compact_view",o.WINDOW_FULL_VIEW="window_full_view",o.THREAD_VIEW="thread_flexpane_view",o.TRANSCRIPT="trxn"})(s||(s={}))},1616072515:(N,g,e)=>{"use strict";e.d(g,{_3:()=>n,tT:()=>c});var t=e(4178261413),s=e(8872403767),o=e(1545824888);const n=_(r=>(0,t.A)(r),"formatTag"),c=_(function(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return(0,s.A)(r,(l,d)=>d.indexOf(a)>-1?d:n(d))},"formatTags"),i=_(()=>new Bluebird(r=>{setTimeout(r,0)}),"waitForNextTick")},3146858537:(N,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(8958249318),s=e(1545824888),o=e(56548687),n=e(8668318456),c=e(6664301844),i=e(2825968873);function r(){return 2}_(r,"getVoiceFocusCacheVersion");var a;const l="voiceFocusCache";function d(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}_(d,"createDefaultVoiceFocusCapability");function u(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}_(u,"createDefaultVoiceFocusCachedConfig");function f(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(a=window.navigator)===null||a===void 0?void 0:a.userAgent,I=arguments.length>1?arguments[1]:void 0;const D=localStorage.getItem(l),y={version:r(),voiceFocusCapability:d(),voiceFocusCachedConfig:u()};if(!D)return y;let P;try{P=JSON.parse(D)}catch(E){return(0,i.tZ)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",E.message),y}return P.version!==r()?y:(P.voiceFocusCapability&&(P.voiceFocusCapability.userAgent!==C||P.voiceFocusCapability.sdkVersion!==I)&&(P.voiceFocusCapability=y.voiceFocusCapability,P.voiceFocusCachedConfig=y.voiceFocusCachedConfig),{...y,...P})}_(f,"readVoiceFocusCache");function m(C){try{localStorage.setItem(l,JSON.stringify(C))}catch(I){(0,i.tZ)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",I.message)}}_(m,"writeVoiceFocusCache");var h=e(5470425448),v=e(5071086688);const p=1657647210615,T=1686248081659;let A=_(class{async init(I){let{configOnly:D}=I;D||this.callLogger.info(`VF cache: ${!!this.cache}`),this.isSupported=await this.isCapable(!!D),this.isSupported&&this.prepare(D)}isAvailable(){return this.isSupported}async getTransformDevice(){if(this.isSupported&&(this.voiceFocusConfigPromise&&await this.voiceFocusConfigPromise,!!this.voiceFocusDeviceTransformerPromise)){try{await this.voiceFocusDeviceTransformerPromise}catch{this.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(this.voiceFocusTransformDevicePromise)try{return await this.voiceFocusTransformDevicePromise}catch{this.callLogger.error("Could not get VoiceFocusTransformDevice")}}}shouldDisable(){return!1}async setMute(I){const D=await this.getTransformDevice();D&&await D.mute(I)}async isCapable(I){if(this.isIFramed())return I||this.callLogger.warn("not supported due to IFrame"),!1;let D=!1;switch(this.cache.voiceFocusCapability.isSupported){case"yes":I||this.callLogger.info("cache says supported"),D=!0;break;case"no":I||this.callLogger.info("cache says not supported"),D=!1;break;case"unknown":{I||this.callLogger.info("cache says unknown, determining support..."),this.cache.voiceFocusCapability.userAgent=(0,t.A)(),this.cache.voiceFocusCapability.sdkVersion=c.zF.sdkVersion,D=await(0,c.w2)().isSupported(),D?this.cache.voiceFocusCapability.isSupported="yes":this.cache.voiceFocusCapability.isSupported="no",m(this.cache),I||this.callLogger.info(`determined supported=${this.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:this.callLogger.warn(`Voice Focus capability pref bad: ${this.cache.voiceFocusCapability.isSupported}`);break}return D}isIFramed(){try{var I;return((I=window.frameElement)===null||I===void 0?void 0:I.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(I){const y=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,P=this.allowMaxModelsToBeUsed?T:p;return y===0||I-y>6048e5||y<P}prepare(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const D=Date.now(),y=this.cache.voiceFocusCachedConfig.vfConfig,P=this.isStale(D),E={},M={logger:this.chimeLogger};if(y!=="unknown"&&!P){if(I)return;if(!y.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(E,M,y);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=s.S.resolve((0,c.w2)().configure(E,M)),this.voiceFocusConfigPromise.then(S=>{var R;if(!S.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${S.reason}`);return}if(!(!(S==null||(R=S.model)===null||R===void 0)&&R.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const O=S;this.callLogger.info(`Got new config, variant: ${O.model.variant}, simd: ${O.model.simd}, executionQuanta: ${O.executionQuanta}`),this.storeVfConfig(D,O),I||this.setupDevice(E,M,O)}).catch(S=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${S.name}: ${S.message}`),I||this.setupDevice(E,M)}))}storeVfConfig(I,D){this.cache.voiceFocusCachedConfig.vfConfig=D,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=I,m(this.cache)}async updateCacheWithUpdatedConfig(I){this.callLogger.info("Updating VF cache with new modified model");const D={logger:this.chimeLogger},y={variant:I},P=await(0,c.w2)().configure(y,D);P.supported&&this.storeVfConfig(Date.now(),P)}setupDevice(I,D,y){const P=I;let E=y,M,S;y?(M=y.model.variant,S=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),M="c10",S=!1);let R=!0;this.allowMaxModelsToBeUsed&&(R=!1);const k=this.chooseModelVariant(M,S,R);if(k.modelWasAdjusted&&(P.variant=k.chosenModel,E=void 0,this.callLogger.info(`VF Model was adjusted from ${y==null?void 0:y.model.variant} to ${k.chosenModel} Reason: ${k.adjustmentReason}`),this.updateCacheWithUpdatedConfig(k.chosenModel)),y){(0,o.e)().track(n.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:y.model.variant,model_variant_override:P.variant,simd:y.model.simd,execution_quanta:y.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const O={...y};O.model.variant=k.chosenModel,v.A.publish({type:h.lx.VoiceFocusConfig,update:O}),this.callLogger.info(`model_variant_determined: ${y.model.variant}, model_variant_override: ${k.chosenModel}, simd: ${y.model.simd}, execution_quanta: ${y.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=s.S.resolve((0,c.w2)().create(P,D,E)),this.voiceFocusDeviceTransformerPromise.then(async O=>{this.voiceFocusTransformDevicePromise=s.S.resolve(O.createTransformDevice(null))}).catch(O=>{this.callLogger.info(`Could not create voice device transformer exp: ${O.name}: ${O.message}`)})}chooseModelVariant(I,D,y){const P={c10:1,c20:2,c50:3,c100:4},E=navigator==null?void 0:navigator.hardwareConcurrency;if(!E)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${I}`),{modelWasAdjusted:!1,chosenModel:I,adjustmentReason:""};let M;return E<=4?M="c10":E<=6?M="c20":E<=8?M="c50":M="c100",P[M]<P[I]&&!y?{modelWasAdjusted:this.wasModelAdjusted(M,I,D),chosenModel:M,adjustmentReason:"Using CPU restricted model variant which is weaker"}:P[M]>P[I]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${I}`),M=I,!y)?{modelWasAdjusted:!1,chosenModel:I,adjustmentReason:""}:M==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",I,D),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",I,D),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(I,D,y){return I===D&&!y||I!==D}async tearDown(){const I=await this.getTransformDevice();I&&(this.callLogger.info("Attempting to destroyVoiceFocus"),c.wV.destroyVoiceFocus(I))}constructor(I,D){this.chimeLogger=I,this.allowMaxModelsToBeUsed=D,this.callLogger=(0,i.Jt)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cache=f((0,t.A)(),c.zF.sdkVersion)}},"VoiceFocusManager")},8558782493:(N,g,e)=>{"use strict";e.d(g,{k:()=>c});var t=e(56548687),s=e(5795074931),o=e(3395259576),n=e(7439555287);function c(i,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var d;const u=(d=(0,n.KA)())===null||d===void 0?void 0:d.getState();if(!u)return;const f=(0,t.e)({state:u}).setUser((0,s.WR)(u));if(a){const m={...r,room_id:(0,o.G0)(u)};f.track(i,m,{sendImmediately:l})}else f.track(i,r,{sendImmediately:l})}_(c,"trackCallsClog")},164795489:(N,g,e)=>{"use strict";e.d(g,{w:()=>T});var t=e(6680093304),s=e(1545824888),o=e(6304789565),n=e(8276911661),c=e(1670069836),i=e(6439846314),r=e(7344959578),a=e(5046160032),l=e(4914127094),d=e(7299481592);const u="screenhero.rooms.proxyLogs",f=(0,o.Ay)("Send call logs to the server",(A,C,I)=>{let{logs:D,useSendBeacon:y=!1,callId:P}=I;const E=C();let M;if(P?M=P:E.activeCall&&E.activeCall.id&&(M=E.activeCall.id),!M)return(0,d.M)(!1,"There should be an active call in progress in order to send logs."),s.S.reject(new Error("SendLogs: no call"));const S=(0,n.cA)(E),R=(0,c.H7)(E);if(!R)return s.S.reject(new Error("SendLogs: no current team"));const k={data:{room_id:M,user_id:S.id,team_id:R.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:D}},O={data:JSON.stringify(k.data)};return y?(0,a.A)({apiUrl:"/api/",method:u,token:(0,l.F)(E),versionTs:(0,r.HF)(),versionUid:(0,r.X3)(),args:O})?s.S.resolve():s.S.reject(new Error("SendLogs: beacon failed")):A((0,i.apiCall)({method:u,reason:"calls-logging",args:O}))});f.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var m=e(7439555287),h=e(337319621),v=e(4518410378);const p=60*1e3;class T{start(C){(0,d.M)(!this.intervalHandle,"Log reporter already started."),this.callId=C,this.intervalHandle=v.J.setInterval(()=>this.report(!1),p),v.J.addEventListener("beforeunload",this.unloadHandler)}joinLogs(C){return C.map(I=>I.join(" ")).join(`
`)}constructor(C=t.tt){var I=this;this.buffer=C,this.unloadHandler=()=>{v.J.Cypress||this.report(!0)},this.stop=async function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;I.intervalHandle&&v.J.clearInterval(I.intervalHandle),I.intervalHandle=void 0,v.J.removeEventListener("beforeunload",I.unloadHandler),await I.emptyBuffer(y),I.callId=void 0},this.emptyBuffer=async function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;I.buffer.hasItems()&&(await I.report(D),await I.emptyBuffer(D))},this.report=async function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{dispatch:y}=(0,m.KA)(),P=I.buffer.flush();if(!P.length)return;const E=I.joinLogs(P);await y(f({logs:E,useSendBeacon:D,callId:I.callId})).catch(()=>{(0,h.Wo)().error("Failed to send Huddle logs")})}}}_(T,"LogReporter")},3300324857:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(6267571562);const s=new t.G},6839101721:(N,g,e)=>{"use strict";e.d(g,{D8:()=>u,WY:()=>d,cn:()=>f,d2:()=>a,gJ:()=>l});var t=e(2140362605);const s=(0,t.Ay)("connect to free willy media server");s.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const o=(0,t.Ay)("Set flag to indicate if experimental Chime SDK should be used");o.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const n=(0,t.Ay)("Set flag to indicate if simulcast should be used in a Chime call");n.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const c=(0,t.Ay)("Set flag to indicate if priority based downlink policy should be used in a Chime call");c.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const i=(0,t.Ay)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");i.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const r=(0,t.Ay)("Set flag to determine if a call is a readiness test call");r.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const a=(0,t.Ay)("Binds video tile to a video element");a.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const l=(0,t.Ay)("Unbinds video tile from a video element");l.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const d=(0,t.Ay)("Pauses video tile");d.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const u=(0,t.Ay)("Unpauses video tile");u.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const f=(0,t.Ay)("Returns if there in a stream associated with the tileId");f.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},3094144240:(N,g,e)=>{"use strict";e.d(g,{P:()=>t});const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function s(o){return!!has(o,"activeCall")}_(s,"isCallWindowContextState")},5156662944:(N,g,e)=>{"use strict";e.d(g,{Rv:()=>W,Xk:()=>U,hL:()=>O,j7:()=>K,lp:()=>x,tO:()=>q,tw:()=>L,uI:()=>V,vf:()=>Z});var t=e(5597672932),s=e(6007206761),o=e(4630136761),n=e(3929724715),c=e(8920264989),i=e(8798294025),r=e(1407713935),a=e(2350349607),l=e(6839188756),d=e(4827886670),u=e(8276911661),f=e(6728717861),m=e(8921478798),h=e(8170643398),v=e(3534324375),p=e(1670069836),T=e(6471059816),A=e(8374895239),C=e(9101533895),I=e(5670315214),D=e(8767621462),y=e(462591818),P=e(340763958),E=e(6470070112);const M="Slack",S=new T.Ay("calls");function R(ue){return!!(0,t.xp)(ue,"allow_calls")}_(R,"isCallsAllowedByAdmin");function k(ue,ae){return(0,E.pt)(ue)&&(0,E.Bn)(ue,ae)}_(k,"isHuddlesAllowed");function O(ue,ae,le){const fe=(0,C.Pu)(ue,ae.id);return!(!R(ue)&&!k(ue,fe)||(0,h.fy)(ae)&&!le||!(0,h._W)(ae)||!(0,D.S)(ue,ae.id)||(0,n.Mi)(fe))}_(O,"canCallMember");function U(ue,ae){let le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const fe=(0,u.nv)(ue,(0,i.e)(ae)),he=le&&Y(ue);return!R(ue)&&!k(ue,ae)&&!he||(0,o.Zz)(ae)||(0,r.LI)(ae)&&(!fe||!O(ue,fe))||!(0,n.Ez)(ae)?!1:(0,d.c)(ue,ae)}_(U,"isCallButtonVisibleForChannel");function W(ue,ae){return(0,f.Pb)(ue)?((0,n.bU)(ae)||(0,s.F)(ae))&&!me(ae):!0}_(W,"isCallButtonDisabledForChannel");function x(ue,ae){const le=(0,C.OL)(ue,ae);return le&&!W(ue,le)&&U(ue,le)}_(x,"canStartCallInChannel");function L(ue,ae,le){const fe=(0,a.V)(ae),he=(0,I.q8)(ue,fe),ie=(0,u.nv)(ue,le,{preferNonExistentToNull:!1,fetchIfMissing:!0}),X=(0,h.v8)(ie),j=(0,I.OJ)({callsApp:he,memberPhoneNumber:X,hideVideoApps:!1}),w=j.length,Q=k(ue,ae);let G=w;return Q&&(G+=1),G>1?S.t("{numCallApps} calling options",{numCallApps:G}):G===1?w===0?"":S.t("using {appName}",{appName:j[0].name}):""}_(L,"getTipSubtitleForStartCall");function b(ue,ae,le){const fe=(0,m.I)(ue,(0,i.e)(ae));return le?S.rt("Huddle with {name}",{name:fe,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {name}",{name:fe})}_(b,"getTipForIm");function F(ue,ae,le){const fe=(0,n.d3)(ue,ae).map(ie=>(0,v.sE)(ue,ie)),he=(0,A.A)(fe,{noEscape:!0}).join("");return le?S.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:he,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:he})}_(F,"getTipForMpim");function B(ue,ae,le){return(0,r.LI)(ae)?b(ue,ae,le):(0,r.yz)(ae)?F(ue,ae,le):le?S.t("Huddle in {channelName}",{channelName:(0,c.SB)(ue,ae),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):S.t("Start a call")}_(B,"getTipForChannel");function K(ue,ae){const le=(0,p.H7)(ue),fe=(0,l.qR)(le),he=Y(ue),ie=fe||he,X=k(ue,ae)&&!Z(ue);return(0,f.Pb)(ue)?ie&&(0,s.F)(ae)?S.t("Unarchive this channel to start a huddle"):ie&&(0,n.bU)(ae)?S.t("Join this channel to start a huddle"):(he||me(ae),B(ue,ae,X)):S.t("Go online to start a huddle")}_(K,"getTipForStartCall");function H(ue,ae){const le=getCurrentTeam(ue),fe=isPaidTeamRule(le),he=isMpimRule(ae),ie=Y(ue),X=fe||ie;return!isClientOnline(ue)||X&&isArchived(ae)||X&&isPreview(ae)||ie?!1:!!(!fe&&he||!fe&&isNonImOrMpimChannel(ae))}_(H,"isFreeTeamAndInChannelOrMpim");function Y(ue){const ae=(0,I.wZ)(ue);for(let le=0;le<ae.length;le++)if(ae[le].id!==y.rq)return!0;return!1}_(Y,"isThirdPartyCallEnabled");function Z(ue){return(0,I.wZ)(ue).length>0}_(Z,"isAnyCallAppEnabled");function V(ue){const ae=S.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),le=S.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:ue,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),fe=S.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:ae,description:le,confirm:fe,cancel:S.t("Cancel")}}_(V,"getCallConfirmationStrings");function ne(){return!1}_(ne,"isNativeSlackCallEnabled");function q(){return!0}_(q,"isSlackCallSlashCommandDisabled");function me(ue){return(0,P.ju)(ue)&&!(0,r.LI)(ue)}_(me,"shouldEnableForSponsoredConnections")},7561130599:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(2825968873),s=e(9323322135),o=e(7299481592),n=e(4094753332),c=e(8558782493),i=e(8668318456),r=e(336376314);const a=window.RTCPeerConnection,l=window.MediaStream,d=window.RTCIceCandidate,u=window.navigator,f={height:116,width:168};let m=_(class{async getScreenThumbnails(p){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const A=await(0,s.zxd)();T||h(this.log,A);const C=["screen"];C.push("window"),f.width=(p==null?void 0:p.width)||200,f.height=(p==null?void 0:p.height)||150;let I;try{I=await(0,s.Yx3)(f,C)}catch(y){this.log.error(`Could not get screen thumbnails: ${y.message}`)}return I?I.map((y,P)=>{var E;const M=A.find(R=>parseInt(y.display_id,10)===R.id);!M&&!(0,n.tR)()&&!(0,n.cX)()&&!(!((E=y.id)===null||E===void 0)&&E.startsWith("window:"))&&this.log.error(`Could not find matching display for screen ${P} with id ${y.display_id}`);const S=M||((0,n.tR)()||(0,n.cX)()?A[P]:void 0);return{mediaSourceId:y.id,thumbnail:y.thumbnail,displayId:S&&S.id,bounds:S&&S.bounds,name:y.name}}):[]}getCurrentlyActiveScreenTrack(){return this.screenTrack}async startCapturingScreen(p){if((0,o.M)(!this.screenTrack,"Screen track should not already be active"),!p){if(!u.mediaDevices.getDisplayMedia)throw this.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const T={audio:!1,video:{frameRate:{max:15}}},A=await u.mediaDevices.getDisplayMedia(T);return this.screenTrack=A.getVideoTracks()[0],this.log.info(`Start screen sharing with track id: ${this.screenTrack.id} in browser`),this.screenTrack}catch(T){if(T.name!=="NotAllowedError")throw this.log.error(`Error: ${T.name} while trying to screen share in browser`),(0,c.k)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:T.name}),T;return null}}try{const T={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:p,maxFrameRate:15}}};if(!(0,n.uF)()){const C=await this.getScreenDetailsByMediaSourceId(p);C&&C.bounds&&(T.video.mandatory.maxWidth=C.bounds.width,T.video.mandatory.maxHeight=C.bounds.height)}const A=await u.mediaDevices.getUserMedia(T);return this.screenTrack=A.getTracks()[0],this.log.info("Start screen sharing with track id:",this.screenTrack.id,"and mediaSourceId:",p),this.screenTrack}catch(T){throw this.log.error(`Error: ${T.name} for screen ${p}`),(0,c.k)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:T.name}),T}}stopCapturingScreen(){if(!this.screenTrack){(0,o.M)("No screenTrack to stop.");return}this.screenTrack.stop();const p=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",p),p}clearScreenTrack(){delete this.screenTrack}async getScreenDetailsByMediaSourceId(p){let T;const A=await this.getScreenThumbnails();return A&&(T=A.find(C=>C.mediaSourceId===p,A)),T}constructor(){this.log=(0,t.tZ)("SCREENS")}},"ScreenManager");function h(v,p){if(!p.length){v.error("No screens available");return}const T=new r.M(["id","width","height","x","y","scaleFactor","rotation"]);p.forEach(A=>{T.add([A.id,A.bounds.width,A.bounds.height,A.bounds.x,A.bounds.y,A.scaleFactor,A.rotation].map(String))}),v.info(`Available screens:
${T.report()}`)}_(h,"logDisplays")},4708000837:(N,g,e)=>{"use strict";e.d(g,{Y:()=>t});function t(s){const o=(s||"").split("-");return o&&(o.length===3||o.length===4)?o[1]:null}_(t,"getCallIdFromExternalId")},8405076696:(N,g,e)=>{"use strict";e.d(g,{n:()=>t});function t(s){let{width:o,height:n,top:c,left:i}=s;return{position:"absolute",width:`${o}px`,height:`${n}px`,top:`${c}px`,left:`${i}px`}}_(t,"cssForRect")},6117529990:(N,g,e)=>{"use strict";e.d(g,{BD:()=>o,OV:()=>s,XY:()=>i,kx:()=>c,wn:()=>n,zq:()=>r});var t=e(4761125736);function s(a){return(0,t._Z)(a,"calls_chime_sdk_exp")==="enabled"}_(s,"isCallsChimeSdkExpEnabled");const o=_(a=>(0,t._Z)(a,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),n=_(a=>(0,t._Z)(a,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),c=_(a=>(0,t._Z)(a,"call_button_suppress_window")==="treatment","isCallsWindowSuppressed"),i=_(a=>(0,t._Z)(a,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),r=_(a=>(0,t._Z)(a,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled")},2004048777:(N,g,e)=>{"use strict";e.d(g,{$:()=>c,Y:()=>n});var t=e(2615100822),s=e(2825968873),o=e(337319621);function n(i){let{direction:r,type:a,payload:l}=i;const d=(0,t.A)()?"slack":"call",u="INTER-WINDOW-MESSAGE";((0,t.A)()?(0,s.tZ)(u):(0,o.Wo)({label:u})).info(`${r==="send"?"Sending":"Received"} ${a} ${r==="send"?"to":"from"} the ${d} window${l?`, with payload: ${JSON.stringify(l)}`:""}`)}_(n,"logInterWindowMessage");function c(i){function r(a,l,d){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;i(l,d,u),a.sendData({type:l,payload:d})}return _(r,"sendMessage"),r}_(c,"createInterWindowMessageSender")},1371073900:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(4094753332);function s(){return!(0,t.j9)()&&(0,t.y3)()}_(s,"isDrawSupported")},6267571562:(N,g,e)=>{"use strict";e.d(g,{G:()=>s});var t=e(8403493408);class s{get subscriberCount(){return this.subscribers.length}subscribe(n){this.subscribers.push(n)}unsubscribe(n){(0,t.A)(this.subscribers,n)}publish(n){this.subscribers.forEach(c=>{c(n)})}constructor(){this.subscribers=[]}}_(s,"PubSub")},6155974509:(N,g,e)=>{"use strict";e.d(g,{X:()=>h,a:()=>v});var t=e(4094753332),s=e(4387298515),o=e(2825968873),n=e(2615100822),c=e(337319621),i=e(6117529990);const r=2e3,a=6,l=0/265,d=255/265,u=53/265,f=1,m="SCREEN-SHARE",h=_((p,T)=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&!(0,i.zq)(T)&&((0,s.$m)(p,r),(0,s.VR)(p),(0,s.D0)(a),(0,s.Mh)(l,d,u,f),(0,s.Ac)(),((0,n.A)()?(0,o.tZ)(m):(0,c.Wo)({label:m})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),v=_(()=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&((0,s.th)(),((0,n.A)()?(0,o.tZ)(m):(0,c.Wo)({label:m})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},7304871158:(N,g,e)=>{"use strict";e.d(g,{R:()=>n});var t=e(7299481592),s=e(2615100822),o=e(2004048777);const n=(0,o.$)(function(c,i){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;(0,t.M)(!(0,s.A)(),"Expected to send message from the slack window"),(0,o.Y)({direction:"send",type:c,payload:r?i:"REDACTED"})})},336376314:(N,g,e)=>{"use strict";e.d(g,{M:()=>s});var t=e(9118672869);class s{add(n){this.rows.push(n),this.adjustPadding(n)}report(){const n=this.padding.map(i=>"-".repeat(i));return(this.columnNames?[n,this.columnNames,n]:[]).concat(this.rows).reduce((i,r)=>i+r.reduce((a,l,d)=>a+(0,t.A)(l,this.padding[d])+(d!==r.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(n){this.padding=n.map((c,i)=>Math.max(c.length,this.padding[i]||0))}constructor(n,c="|"){this.columnNames=n,this.separator=c,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}_(s,"StringTable")},5954792826:(N,g,e)=>{"use strict";e.d(g,{l:()=>t});function t(s){const o=(s||"").split("-");return o&&(o.length===3||o.length===4)?o[2]:null}_(t,"getUserIdFromExternalId")},5075331445:(N,g,e)=>{"use strict";e.d(g,{i:()=>o});var t=e(1473609332),s=e(9195837907);function o(){var n,c;const i=(0,t.Bh)(),r=(i==null||(n=i.video)===null||n===void 0?void 0:n.effect)===s.t.Blur;return{backgroundEffectBgKey:i==null||(c=i.video)===null||c===void 0?void 0:c.effectBgKey,blurEffectIsEnabled:r}}_(o,"getVideoDeviceBackgroundPrefs")},771196083:(N,g,e)=>{"use strict";e.d(g,{uM:()=>me,Gf:()=>q,lQ:()=>ue});var t=e(5731337714),s=e(9733150292),o=e(8289899277),n=e(4748556159),c=e(5881327370),i=e(3202757386),r=e(2664504268),a=e(6188550760),l=e(337319621),d=e(6533394955),u=e(2567914105),f=e(7384121809),m=e(4529239752),h=e(8628205589),v=e(3193155968),p=e(9108490430),T=e(4096483543),A=e(7612514702),C=e(109860581),I=e(3034856104),D=e(8172368937),y=e(8616133451),P=e(6304789565),E=e(8720458890);const M=(0,P.Ay)("Determine if fullscreen mode is enabled",(ae,le)=>{const fe=le();return(0,E.V)(fe)});M.meta={name:"createThunk",key:"createThunkgetIsFullscreenEnabled",description:"Determine if fullscreen mode is enabled"};var S=e(9553287e3),R=e(3875705815),k=e(8854307618),O=e(7606925238),U=e(5223893135),W=e(5925742547),x=e(9012396182);const L=_((ae,le)=>!((0,R.V)(ae)||le[v.jf]!==v.k6.BBM),"shouldPreventBBMHistory"),b=_((ae,le,fe)=>{if((0,U.V)(ae))return!1;const he=(0,f.Ry)();if((x.getFocusedWorkspace===null||x.getFocusedWorkspace===void 0?void 0:(0,x.getFocusedWorkspace)(he))!==fe)return!1;const ie=(0,m.jo)(he),X=le[v.jf],j=ie[v.jf];if(X!==j)return!1;const w=le[X],Q=ie[j];return!!(0,W.A)(w,Q)},"shouldPreventDuplicateHistory"),F=(0,P.Ay)("Maybe prevent default handling of history on pop state",(ae,le,fe)=>{let{current:he,index:ie,teamId:X}=fe;const j=le();if(!L(j,he)&&!b(j,he,X))return!1;const w=(0,f.Ry)(),Q=(0,m.XG)(w),G=ie>Q;if(G){if((0,m.yS)(w))return!0}else if((0,m.m6)(w))return!0;return ae((G?k.r:O.h)()),!0});F.meta={name:"createThunk",key:"createThunkmaybePreventHistoryOnPopState",description:"Maybe prevent default handling of history on pop state"};var B=e(5250801180),K=e(2554594353);async function H(ae){const le=ae.state;if(!(le!=null&&le.teamId)||!(le!=null&&le.id))return;const fe=(0,f.en)();if(!fe)return;const he=fe.getState,ie=fe.dispatch;if(!he||!ie)return;const X=(0,m.jR)(he()),j=X.findIndex(ve=>ve.id===le.id);if(j<0)return;const w=(0,m.XG)(he()),Q=X[w],G=le.state[v.jf];if((0,d.Qw)(le.teamId,F({current:le.state,index:j,teamId:le.teamId})))return;var te;const se=(te=le.state[G])!==null&&te!==void 0?te:(0,v.DP)(G),ce=(0,I.H)(Q)?Q[v.jf]:void 0,Ee=(0,I.H)(Q)&&ce?Q[ce]:void 0,{viewSet:de}=await(0,d.Qw)(le.teamId,(0,y.F)({context:D.b.HistoryStack,prevViewSet:Ee,prevTab:ce,nextViewSet:se,nextTab:G,windowId:v.N2}));(0,d.Qw)(le.teamId,(0,B.I)()),le.state[G]=de??se,ie((0,h.cM)({windowId:v.N2,index:j,previousIndex:w})),(0,d.Qw)(le.teamId,(0,p.cQ)(le.state)),(x.getFocusedWorkspace===null||x.getFocusedWorkspace===void 0?void 0:(0,x.getFocusedWorkspace)(he()))!==le.teamId&&ie(K.b===null||K.b===void 0?void 0:(0,K.b)({teamId:le.teamId,fromNavigation:!0}));const _e=(0,d.Qw)(le.teamId,M())?(0,d.Qw)(le.teamId,(0,S.n)({id:le.id})):void 0;(0,d.Qw)(le.teamId,(0,A.C)({prevViewSet:Ee,prevTab:ce,nextViewSet:se,nextTab:G,windowId:v.N2,navigateParams:{destinationContainer:_e},triggerType:C.w.HISTORY_NAVIGATION}))}_(H,"onPopState");function Y(ae){if(!isSonic())return;const le=ae.state;if(!(le!=null&&le.id))return;const fe=getClientStoreInstance();if(!fe)return;const he=fe.getState,ie=fe.dispatch;if(!he||!ie)return;const j=getHistoryForMainWindow(he()).findIndex(Q=>Q.id===le.id);if(j<0)return;const w=getHistoryIndexForMainWindow(he());ie(updateIndexForMainWindow({windowId:MainWindowId,index:j,previousIndex:w}))}_(Y,"onIA3PopState");async function Z(ae){var le;if(!(0,i.A)())return;if(!(ae==null||(le=ae.state)===null||le===void 0)&&le.isIA4){n.p.prevNavigatedTeamOrEnterpriseId=ae.state.teamId,H(ae);return}const fe=(0,c.oI)(),he=(0,o.f)(),ie=(0,a.A_)(),X=(0,d.oK)(n.p.prevNavigatedTeamOrEnterpriseId),j=X?(0,u.oY)(X.getState()):!1,w=(0,r.A)().slice(0,8);if((0,l.Wo)().info("ROUTES",`[${w}]`,`[${he.routeName}]`,"Attempting to popstate navigate to new route",he.params),await(0,a.$C)({prevTeamOrEnterpriseId:n.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:fe,prevRouteInfo:n.p.popstatePrevRouteInfo,routeName:he.routeName,params:he.params,reason:a.GB,uuid:w})===!1||j===!0){(0,l.Wo)().info("ROUTES",`[${w}]`,`[${he.routeName}]`,"willNavigateListener caused early exit"),window.history.forward();return}if((0,a.OX)({prevTeamOrEnterpriseId:n.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:fe,prevRouteInfo:n.p.popstatePrevRouteInfo,routeName:he.routeName,params:he.params,reason:a.GB,uuid:w}),(0,l.Wo)().info("ROUTES",`[${w}]`,`[${he.routeName}]`,"Navigated to new route"),n.p.prevNavigatedTeamOrEnterpriseId=fe,ie&&typeof ie.onEnter=="function"){const G=(0,d.oK)(fe);ie.onEnter.call(null,G.getState,null,window.location.pathname)}}_(Z,"navigateAfterPopState");const V=_(()=>{window.addEventListener("popstate",Z)},"addPopStateListener");var ne=e(210422728);V();function q(){let{shouldSetFocus:ae}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const le=(0,o.f)(window.location.pathname,{throwOnNoRoute:!1});return le&&ae&&le.routeName!==t.o?le:null}_(q,"determineCurrentView");function me(){(0,a.Dd)(ae=>{let{nextTeamId:le,routeName:fe,params:he}=ae;(0,d.oK)(le)&&(0,d.Qw)(le,(0,ne.w)({routeName:fe,params:he}))})}_(me,"configureUpdateCurrentRoute");function ue(ae){const le=(0,s._z)(ae,"lastRoute");return(0,a.EB)(le)?le??null:null}_(ue,"getLastRouteFromLocalConfig")},210422728:(N,g,e)=>{"use strict";e.d(g,{T:()=>o,w:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Navigate to a route");s.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const o=(0,t.Ay)("Set a value that represents whether the user navigated during a warm boot");o.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},5820791302:(N,g,e)=>{"use strict";e.d(g,{RG:()=>S,f1:()=>O,fp:()=>k});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(6471059816),i=e(8622068040),r;(function(U){U.BaseHeart="mask__base-heart",U.SmallHeart="mask__small-heart",U.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",U.BaseSingleChannelGuest="mask__base-single-channel-guest",U.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",U.SmallSingleChannelGuest="mask__small-single-channel-guest",U.BaseGuestDnd="mask__base-guest-dnd",U.BaseGuest="mask__base-guest",U.SmallGuestDnd="mask__small-guest-dnd",U.SmallGuest="mask__small-guest",U.BaseMemberDnd="mask__base-member-dnd",U.BaseMember="mask__base-member",U.SmallMemberDnd="mask__small-member-dnd",U.SmallMember="mask__small-member",U.NoAccess="mask__base-no-access"})(r||(r={}));function a(U){let{size:W="base",userType:x="member",isDnd:L=!1,hasNoAccess:b=!1}=U;return b?t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:r.NoAccess,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.542 V0.825 C0.542,0.745,0.587,0.676,0.653,0.642 C0.662,0.481,0.795,0.353,0.958,0.353 C0.972,0.353,0.986,0.354,1,0.356 V0"}))):t.createElement("svg",{className:"sr-only"},x==="slackbot"&&(W==="base"?t.createElement("clipPath",{id:r.BaseHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.createElement("clipPath",{id:r.SmallHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),x==="ura"&&(W==="base"?L?t.createElement("clipPath",{id:r.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:r.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):L?t.createElement("clipPath",{id:r.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:r.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(x==="ra"||x==="external")&&(W==="base"?L?t.createElement("clipPath",{id:r.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:r.BaseGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):L?t.createElement("clipPath",{id:r.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.createElement("clipPath",{id:r.SmallGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),x==="member"&&(W==="base"?L?t.createElement("clipPath",{id:r.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:r.BaseMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):L?t.createElement("clipPath",{id:r.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:r.SmallMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}_(a,"AvatarMasks");var l=e(9843753818),d=e(9656781090),u=e(5622140641),f=e(1030162945),m=e(8822892075),h=e(9332393661),v=e(2036354333),p=e(1610251172),T=e(9742374352),A=e(8181621268),C=e(82287009),I=e(1060768686),D=e.n(I),y=e(2979422297),P=e.n(y);function E(){return E=Object.assign||function(U){for(var W=1;W<arguments.length;W++){var x=arguments[W];for(var L in x)Object.prototype.hasOwnProperty.call(x,L)&&(U[L]=x[L])}return U},E.apply(this,arguments)}_(E,"_extends");const M=new c.Ay("avatar"),S={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},R=t.memo(U=>{let{botEmoji:W,canRenderEmoji:x}=U;return W?x?t.createElement(f.Ay,{className:"c-avatar__emoji",text:W,emojiSize:f.lw.LARGE,stopAnimations:!0,forceDisplay:!0}):t.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:D(),srcSet:`${P()} 2x`,alt:""}):null});function k(U){let{isExternal:W,teamId:x,team:L,showTooltip:b,badgeIconType:F,badgeIconClassName:B,allowTeamInitials:K=!0}=U;if(F){const H=B?{[B]:!!B}:{};return()=>t.createElement(p.A,{className:o()("c-avatar__icon c-avatar__nonteam_icon",{...H}),type:F})}return W&&x?()=>t.createElement(u.A,{className:"c-avatar__icon c-avatar__team_icon",id:x,team:L,size:16,showTooltip:b,allowTeamInitials:K,ariaHidden:!0}):()=>null}_(k,"getCustomBadgeIconRenderer"),k.displayName="getCustomBadgeIconRenderer";const O=_(U=>{let{size:W,userId:x,isAdHocMember:L,botId:b,botProfile:F=void 0,imageUrl:B,imageUrl2x:K,additionalOverlay:H,onClick:Y=void 0,className:Z,teamId:V,isExternal:ne=!1,isRestricted:q=!1,isUltraRestricted:me=!1,isInToken:ue=!1,isDeleted:ae=!1,tokenSize:le=void 0,memberOrBotName:fe=void 0,showTooltip:he=!1,showCard:ie=!1,showBadge:X=!0,showPresence:j=!1,badgeIconType:w=void 0,badgeIconClassName:Q=void 0,isInteractive:G=!0,clogLinkClick:J=n.A,tabIndex:te=0,ariaHidden:se=void 0,team:ce=void 0,botEmoji:Ee=void 0,canRenderEmoji:de=void 0,renderCustomBadge:re=void 0,autoClogProps:_e=void 0,openProfile:ve=n.A,propagateClickEvent:ge=!1,fromQuipDoc:Le=!1,allowTeamInitials:ke=!0,disableLink:Ke=!1,isUserHidden:Ne=!1,onLoad:Re=n.A,onError:xe=n.A,navigate:We,resetIA:$,userType:ee,isDnd:Ve,isSlackbot:ze,hasNoAccess:st,"data-qa":Ge,"data-stringify-ignore":be,triggerId:Se,alwaysUseOpenProfile:we,maybeOpenInSurface:Ce}=U;const Te=(0,t.useCallback)(async nn=>{if(nn.preventDefault(),!G)return null;if(ge||nn.stopPropagation(),J(),!Le){if(x&&Ce&&await Ce({e:nn,navProps:(0,m.Fo)({memberId:x})}))return;!we&&We&&x?We((0,m.Fo)({memberId:x})):ve({memberId:x,serviceId:b,botProfile:F,triggerId:Se})}return Y?Y(nn):null},[G,ge,J,Le,Y,Ce,x,we,We,ve,b,F,Se]),Ye=_(()=>x?`/team/${x}`:b&&!Ke?`/services/${b}`:"","getHrefAttr"),De=_(()=>K?`${K} 2x`:"","getSrcSetAttribute"),Pe=_(()=>{if(H){const nn=H>9?"9+":`+${H}`;return t.createElement("div",{className:"c-avatar__additional_overlay"},nn)}return null},"renderAdditionalOverlay");Pe.displayName="renderAdditionalOverlay";const ye=_(nn=>{let{tooltipText:at,className:tt}=nn,ft=t.createElement("span",{className:"c-avatar__badge_inner"});he&&(ft=t.createElement(A.Ay,{tip:at},ft));const wt=o()("c-avatar__badge",tt);return t.createElement("span",{className:wt},ft)},"renderBadgeElement");ye.displayName="renderBadgeElement";const He=_(()=>{const nn=le?i.n[le]:W;if(re!==void 0&&nn>=32){const at=re();if(at)return at}if(re===void 0&&nn>=32){const at=k({isExternal:ne,teamId:V,team:ce,showTooltip:he,badgeIconType:w,badgeIconClassName:Q,allowTeamInitials:ke})();if(at)return at}return j?t.createElement(d.A,{memberId:x,inline:!1,className:"c-avatar__presence",inheritIconSize:!0,hasNoAccess:st}):me&&nn>=32?ye({tooltipText:_(()=>M.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,tt=>{let{text:ft}=tt;return t.createElement("span",{className:"c-avatar__tooltip_detail"},ft)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):q&&nn>=32?ye({tooltipText:_(()=>M.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,tt=>{let{text:ft}=tt;return t.createElement("span",{className:"c-avatar__tooltip_detail"},ft)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");He.displayName="renderBadgeOrPresence";const Qe=_(()=>{let nn=B||K;return le?(le==="large"&&K&&(nn=K),t.createElement(h.A,{image:nn,classes:"c-base_icon--token",srcSet:De(),size:i.n[le],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:Re,onError:xe,resetIA:$})):null},"renderTokenAvatar");Qe.displayName="renderTokenAvatar";const dt=_(()=>B||K?le||ue?Qe():t.createElement(h.A,{image:B||K,size:W,srcSet:De(),ariaHidden:!0,widthOnly:!0,onLoad:Re,onError:xe,resetIA:$}):null,"renderImageTag");dt.displayName="renderImageTag";const Ot=_(nn=>{let{fallback:at=null}=nn,tt=at;return(B||K)&&(tt=dt()),tt},"renderImageOrFallback"),yt=Ee?t.createElement(R,{botEmoji:Ee,canRenderEmoji:de}):null,Dt=W>26?"base":"small",Ct=ee==="member",kt=ee==="ra"||ee==="external",vt=ee==="ura",Nt=t.useMemo(()=>j?st?r.NoAccess:ze&&Dt==="base"?r.BaseHeart:ze&&Dt==="small"?r.SmallHeart:Ct&&Dt==="base"&&Ve?r.BaseMemberDnd:Ct&&Dt==="base"?r.BaseMember:Ct&&Dt==="small"&&Ve?r.SmallMemberDnd:Ct&&Dt==="small"?r.SmallMember:kt&&Dt==="base"&&Ve?r.BaseGuestDnd:kt&&Dt==="base"?r.BaseGuest:kt&&Dt==="small"&&Ve?r.SmallGuestDnd:kt&&Dt==="small"?r.SmallGuest:vt&&Dt==="base"&&Ve?r.BaseSingleChannelGuestDnd:vt&&Dt==="base"?r.BaseSingleChannelGuest:vt&&Dt==="small"&&Ve?r.SmallSingleChannelGuestDnd:vt&&Dt==="small"?r.SmallSingleChannelGuest:"":"",[j,Ve,Dt,kt,Ct,vt,ze,st]),It=o()(Z,"c-avatar",{"c-avatar--no_image":!(B||K||yt),"c-avatar--interactive":G&&!L&&!Ke,"c-avatar--ad_hoc_member":L,"c-avatar--deleted_member":ae,"c-avatar--resetIA":$}),At=le?i.n[le]:W,Zt={height:`${At}px`,width:`${At}px`};let jt;b&&(jt=G&&Ye());const Ht=fe&&(G||jt)?M.t("View {name}\u2019s Profile",{name:fe}):void 0,Pt=Ot({fallback:yt}),Ft={...Zt,"--avatar-image-size":`${At}px`},En=ze?"slackbot":ee,Rt=j||X;let rn=t.createElement(t.Fragment,null,j&&ee&&t.createElement(a,{isDnd:Ve,userType:En,hasNoAccess:st,size:Dt}),Ne?t.createElement(l.A,{className:Z,size:At}):Pt,Rt&&He(),Pe());return jt?rn=t.createElement(T.A,{href:jt,target:"_blank",rel:"noopener noreferrer",style:Zt,className:It,onClick:Te,tabIndex:te,"aria-hidden":se,"aria-label":Ht,autoClogProps:_e,"data-qa":Ge,"data-stringify-ignore":be},rn):G&&!Ke?rn=t.createElement(v.A,{style:Zt,className:It,"data-qa":Ge,"data-stringify-ignore":be,"aria-hidden":se,"aria-label":Ht,tabIndex:te,onClick:Te,autoClogProps:_e},rn):rn=t.createElement("span",E({style:Ft,className:It},Nt?{"data-mask":Nt}:{},{"data-qa":Ge,"data-stringify-ignore":be,"aria-hidden":se}),rn),G&&ie&&W>=S.medium?(0,C.yN)({memberId:x,serviceId:b,botProfile:F,children:rn}):rn},"BaseAvatar");O.displayName="BaseAvatar"},3208600556:(N,g,e)=>{"use strict";e.d(g,{A:()=>b});var t=e(3134334389),s=e(6122756707),o=e(7582939986),n=e(2878685908),c=e(5820791302),i=e(2973590371),r=e(2615727366),a=e(1335022929),l=e(4117634716),d=e(8822892075),u=e(5519146941),f=e(3244118357),m=e(6052448919),h=e(8170643398),v=e(3534324375),p=e(4562579337),T=e(6536982570),A=e(6415587347),C=e(92812954),I=e(8847766420),D=e(9786721596),y=e(9506008067),P=e(8677230210),E=e(6273556946),M=e(1844213939),S=e(3829348308),R=e(4761125736),k=e(5761207079),O=e(1670069836),U=e(3193155968);function W(){return W=Object.assign||function(F){for(var B=1;B<arguments.length;B++){var K=arguments[B];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(F[H]=K[H])}return F},W.apply(this,arguments)}_(W,"_extends");const x=(0,t.forwardRef)((F,B)=>{const K=(0,s.wA)();t.useImperativeHandle(B,()=>({props:F}),[F]);const{user:H,userId:Y,botId:Z,botProfile:V,triggerId:ne,size:q,icons:me,emoji:ue,team:ae,slackbotFeels:le,isUnknown:fe,showPresence:he,isExternal:ie,hasNoAccess:X}=F;let j=null,w=null,Q,G,J,te,se,ce=ue,Ee,de;const{member:re,bot:_e,memberIsHuman:ve}=(0,y.Z2)(Pe=>(0,P.Od)(Pe,{userId:Y,botId:Z,botProfile:V})),{channelId:ge}=(0,t.useContext)(a.d),Le=(0,r.u)(),{container:ke}=(0,t.useContext)(u.A),Ke=H||Y||fe,Ne=Ke?H||re:void 0,Re=Ne&&!Ne.isUnknown&&!Ne.is_unknown,xe=(0,y.d4)(Pe=>(0,R._Z)(Pe,"bot_team_id_from_member")==="on"),We=(0,y.d4)(Pe=>(0,R._Z)(Pe,"app_flexpane")==="on");if(Re){var $;Z||(Ee=_e==null?void 0:_e.id);let Pe;xe?Pe=(0,T.dQ)(Ne):Pe=(0,p.A)(Ne)?(0,T.D5)(Ne):(0,T.dQ)(Ne);const ye=(0,A.Ay)({size:q,teamOrEnterpriseId:Pe,memberId:Ne==null?void 0:Ne.id,avatarHash:Ne==null||($=Ne.profile)===null||$===void 0?void 0:$.avatar_hash,slackbotFeels:le});j=ye==null?void 0:ye.imageUrl,w=ye==null?void 0:ye.imageUrl2x,Q=ie||(Ne==null?void 0:Ne.isExternal),G=Ne==null?void 0:Ne.is_restricted,J=Ne.is_ultra_restricted,te=Ne.id,se=(0,h.oy)(Ne)}de=(0,y.d4)(Pe=>Re&&Q?(0,T.Ux)(Pe,Ne):void 0);let ee=Ke?void 0:me||V&&V.icons;if(!Ke){if(_e){ee=ee||_e.icons;const Pe=(0,n.Cu)()?E.O:E.U;(_e==null?void 0:_e.app_id)===Pe&&(ee=(_e==null?void 0:_e.icons)||ee)}if(!ce&&ee&&(ce=ee.emoji),!ce){const Pe=(0,A.Ay)({size:q,botImages:ee,isBot:!0});j=Pe.imageUrl,w=Pe.imageUrl2x}}de=(0,y.d4)(Pe=>Ke?de:(ae==null?void 0:ae.id)||(0,m.s)(Pe,{bot:_e,botProfile:V,botId:Z})||void 0),Q=(0,y.d4)(Pe=>Ke?Q:de?de!==(0,I.Kc)(Pe):!1);const Ve=(0,y.d4)(Pe=>{if(Re)return(0,v.sE)(Pe,Ne);if(!Ke)return(0,f.Hg)(_e)}),ze=(0,y.d4)(Pe=>{let ye=ce&&de&&(0,S.ux)(Pe,{text:ce,teamId:de});if(!ye&&ce&&de===(0,I.Kc)(Pe)){const He=(0,O.H7)(Pe),Qe=He&&He.id;Qe&&Qe!==de&&(ye=(0,S.ux)(Pe,{text:ce,teamId:Qe}))}return ye}),st=(0,y.d4)(Pe=>he?(0,C.d)(Pe,Y):void 0),Ge=(0,y.d4)(Pe=>he?(0,M.z)(Pe,Y):!1);var be;const Se=(be=Y??te)!==null&&be!==void 0?be:"",we=(0,y.d4)(Pe=>Se?(0,k.a)(Pe,Se):!1),Ce=(0,t.useCallback)(Pe=>K((0,D.U)(Pe)),[K]),Te=(0,t.useCallback)(Pe=>Le&&ge&&ke!==U.mq.Split?K((0,l.o)((0,d.sL)(Pe,ge,Le.id))):K((0,l.o)(Pe)),[K,Le,ge,ke]),Ye=(0,t.useCallback)(Pe=>K((0,i.d)(Pe)),[K]),De=ve||_e&&!(0,h.v3)(_e)||ne;return t.createElement(c.f1,W({},F,{userId:Y,imageUrl:j||void 0,imageUrl2x:w||void 0,botEmoji:ce,canRenderEmoji:!!ze,teamId:de,isRestricted:G,isUltraRestricted:J,isDeleted:se,memberOrBotName:Ve,botId:Ee||Z,disableLink:!De,isExternal:Q,isUserHidden:we,userType:st,isDnd:Ge,isSlackbot:Y===o.Q$,size:q,openProfile:Ce,navigate:Te,hasNoAccess:X,showPresence:he,triggerId:ne,alwaysUseOpenProfile:We,maybeOpenInSurface:Ye}))}),L=t.memo(x);L.displayName="ConnectedAvatar";const b=L},3150724727:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>o,RG:()=>s.RG,f1:()=>s.f1,fp:()=>s.fp});var t=e(3208600556),s=e(5820791302);const o=t.A},9843753818:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8683010724);function c(r){let{className:a="",size:l,"data-qa":d}=r;return t.createElement("span",{className:o()(a,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":l===16}),style:{width:`${l}px`,height:`${l}px`},"data-qa":d},t.createElement("span",{className:"c-hidden_user_avatar--icon"},t.createElement(n.A,{size:l<=24?"16":"24",name:"user-hide"})))}_(c,"HiddenUserAvatar"),c.displayName="HiddenUserAvatar";const i=t.memo(c)},6968234170:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(8683010724),o=e(6471059816);const n=new o.Ay("members");function c(){return t.createElement("span",{className:"c-hidden_user_icon_and_name "},t.createElement(s.A,{name:"user-hide",inline:!0}),"\xA0",n.t("Name hidden"))}_(c,"HiddenUserIconAndName"),c.displayName="HiddenUserIconAndName";const i=t.memo(c)},2068755951:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(1030162945),o=e(8170643398),n=e(6818330210),c=e(9506008067),i=e(8276911661);function r(l){let{memberId:d,className:u,emoji:f,emojiSize:m=s.lw.SMALL,showTooltips:h=!1,stopAnimations:v=!1}=l;const p=(0,c.d4)(C=>(0,i.nv)(C,d));if(!p||!f)return;const T=(0,o.q4)(p),A=(0,n.H)(f,T);return t.createElement(s.Ay,{className:u,emojiSize:m,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:h,stopAnimations:v,text:A.name,url:A.url})}_(r,"CustomStatusEmoji"),r.displayName="CustomStatusEmoji";const a=t.memo(r)},5420562392:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(6471059816),o=e(1961463505),n=e(9391594207),c=e(1345620242),i=e(2047021170);const r=new s.Ay("current_status");function a(u){let{className:f,expiration:m,time24:h}=u;if(!m)return null;const v=m*1e3,p=r.t("Until {expirationDate}",{expirationDate:(0,o.A)(v,"{status_expiration}",{do24hrTime:h,shouldCapitalize:!1})});return t.createElement("span",{className:f,"data-qa-status-expiration":m},p)}_(a,"CustomStatusExpiration"),a.displayName="CustomStatusExpiration";function l(u,f){let{memberId:m}=f;return{expiration:(0,c.A)(u,m||"")||0,time24:!!(0,i.ty)(u,"time24")}}_(l,"mapStateToProps");const d=(0,n.N)(l)(a)},6849520570:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(1030162945),o=e(7969928607),n=e(8170643398),c=e(9506008067),i=e(8276911661);function r(l){let{memberId:d,className:u,emojiSize:f,showTooltips:m,stopAnimations:h,text:v}=l;const p=(0,c.d4)(A=>(0,i.nv)(A,d));if(!v)return;const T=(0,n.q4)(p);return t.createElement("span",{className:u,"data-qa":"custom_status_text"},t.createElement(o.A,{text:v,inputIsEscaped:!0,emojiSize:f||s.lw.MEDIUM,showTooltips:!!m,stopAnimations:!!h,emojiDisplayInfo:T}))}_(r,"CustomStatusText"),r.displayName="CustomStatusText";const a=t.memo(r)},4743059565:(N,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2068755951),c=e(5420562392),i=e(6849520570),r=e(1030162945),a=e(8170643398),l=e(6818330210),d=e(9506008067),u=e(8276911661),f=e(2072540560);const m=_(C=>{let{stopAnimations:I=!1,noText:D=!1,className:y,memberId:P="",showEmojiTooltip:E=!1,insertTextSpacing:M=!1,displayInMemberProfile:S=!1,displayEmojiTextAsFallbackIfNoText:R=!1,emoji:k}=C;const O=(0,d.d4)(L=>(0,f.A)(L,P)),U=(0,d.d4)(L=>(0,u.nv)(L,P)),W=R&&!O&&!D&&!S;let x=k;if(W){const L=(0,a.q4)(U),b=(0,l.H)(k,L);b&&(x=b.name)}if(S){const L=(0,a.fy)(U);return t.createElement("span",{className:y},t.createElement(n.A,{memberId:P,emoji:k,stopAnimations:I,showTooltips:E,emojiSize:r.lw.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),O&&t.createElement(i.A,{memberId:P,className:o()("margin_left_50","padding_right_50",{margin_right_100:L}),emojiSize:r.lw.SMALL,stopAnimations:I,text:D?"":O}))}return t.createElement("span",{className:y},t.createElement(n.A,{memberId:P,showTooltips:E,emojiSize:r.lw.SMALL,emoji:k,stopAnimations:I}),O&&t.createElement(i.A,{memberId:P,className:M?"margin_left_50":"margin_left_25",emojiSize:r.lw.SMALL,stopAnimations:I,text:D?"":O}),W&&x&&t.createElement("span",{className:M?"margin_left_50":"margin_left_25"},x))},"CustomStatusTooltipContent");m.displayName="CustomStatusTooltipContent";const h=t.memo(m);var v=e(2312625946),p=e(193084903);const T=_(C=>{let{animated:I=!1,tooltip:D=!0,tipPosition:y,noText:P=!1,className:E,memberId:M="",showEmojiTooltip:S=!1,insertTextSpacing:R=!1,displayInMemberProfile:k=!1,fallback:O}=C;const U=(0,d.d4)(x=>(0,p.A)(x,M)),W=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement(h,{className:"c-custom_status__tooltip",noText:P,memberId:M,showEmojiTooltip:S,insertTextSpacing:R,displayInMemberProfile:k,emoji:U,displayEmojiTextAsFallbackIfNoText:!0}),t.createElement(c.A,{className:"c-custom_status__expiration c-tooltip__subtitle",memberId:M})),[M,P,S,R,k,U]);return U?D?t.createElement(v.Ay,{tip:W,position:y,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.createElement("span",{className:o()("c-custom_status",E),"data-qa":"custom_status"},t.createElement(n.A,{memberId:M,showTooltips:!1,emojiSize:r.lw.SMALL,emoji:U,stopAnimations:!I}))):t.createElement(h,{className:o()(E,"c-custom_status","c-custom_status--inline",{display_flex:k}),stopAnimations:!I,noText:P,memberId:M,showEmojiTooltip:S,insertTextSpacing:R,displayInMemberProfile:k,emoji:U}):O||null},"CustomStatus");T.displayName="CustomStatus";const A=t.memo(T)},605958036:(N,g,e)=>{"use strict";e.d(g,{A:()=>o,j:()=>s.A});var t=e(4743059565),s=e(5420562392);const o=t.A},2805783620:(N,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(3134334389),s=e(1649982175),o=e(3297051565),n=e.n(o),c=e(9262712126),i=e(8921478798),r=e(3534324375),a=e(6471059816),l=e(9391594207),d=e(5761207079);function u(){return u=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(A[D]=I[D])}return A},u.apply(this,arguments)}_(u,"_extends");const f=new a.Ay("files"),m={name:n().string.isRequired,isChannelFiles:n().bool,showMemberNameIfHidden:n().bool},h={isChannelFiles:!1,showMemberNameIfHidden:!1},v=_(A=>{const C=(0,s.A)(A,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let I=A.name;if(A.isChannelFiles){const D=A.name;I=f.t("Shared by {memberName}",{memberName:D})}return t.createElement("span",u({},C),I)},"MemberName");v.displayName="MemberName",v.propTypes=m,v.defaultProps=h;const p=_((A,C)=>{const{id:I,member:D,skipPrefCompliance:y,showMemberNameIfHidden:P}=C;if(y)return{name:(0,c.wg)(D)};let E;return!P&&(0,d.a)(A,I)?E=f.t("Name hidden"):E=D?(0,r.sE)(A,D,!1,!1,y,!1):(0,i.I)(A,I,!1,!1,!1,!1),{name:E}},"mapStateToProps"),T=(0,l.N)(p)(v)},8064950432:(N,g,e)=>{"use strict";e.d(g,{I:()=>a,a:()=>l});var t=e(3134334389),s=e(7969928607),o=e(1407713935),n=e(8920264989),c=e(6163112184),i=e(9506008067),r=e(9101533895);const a=t.memo(d=>{let{name:u}=d;return t.createElement(s.A,{text:u,showTooltips:!1,inputIsEscaped:!0})}),l=t.memo(d=>{let{channel:u,channelId:f,name:m,displayNameOptions:h}=d;const v=(0,i.d4)(c.h),p=(0,i.d4)(I=>u??(0,r.OL)(I,f)),T=(0,o.yz)(p),A=(0,i.d4)(I=>m??(0,n.SB)(I,p,h));return v&&T?t.createElement(a,{name:A}):A})},6818173548:(N,g,e)=>{"use strict";e.d(g,{A:()=>P,k:()=>A});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4757466470),c=e(7435117457),i=e(531406119),r=e(1588480853),a=e(9991962665),l=e(516467206),d=e(1407713935),u=e(4559887502),f=e(6007206761),m=e(2671211451),h=e(337319621),v=e(9391594207),p=e(9101533895);function T(){return T=Object.assign||function(E){for(var M=1;M<arguments.length;M++){var S=arguments[M];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(E[R]=S[R])}return E},T.apply(this,arguments)}_(T,"_extends");function A(E){return!(0,d.LI)(E)&&!(0,d.yz)(E)}_(A,"shouldUseInlineChannelEntity");const C="INLINE-CHANNEL-ENTITY";function I(E){let{className:M,channel:S,bestFormerName:R,displayFormerNames:k=c.P.false,logger:O,boldIcon:U=!1,showTeam:W=!0,truncate:x=!1,truncateWidth:L,overrideHiddenName:b,overrideHiddenIcon:F,withTruncationTooltip:B,channelNameClassName:K,omitNonExistentTooltip:H,channelHasNonUniqueName:Y=!1,showDisambiguatingTeamName:Z=!1,readChannelIcon:V=!1}=E;const ne=(0,d.t8)(S),q=(0,d.QR)(S||null),me=(0,t.useCallback)(X=>{let{className:j,...w}=X;return(!q||F)&&t.createElement(a.A,T({},w,{bold:U,className:j,channel:S,overrideHiddenIcon:F,readChannelIcon:V}))},[S,U,q,F,V]);if(!A(S||null))return O==null||O.warn(C,"InlineChannelEntity should not display IMs or MPIMs"),null;const ue=o()(M,"c-inline_channel_entity"),ae=(0,f.F)(S)?c.pI.dim:void 0,le=S&&b?{...S,name:b}:S||void 0,fe=o()(K,"c-inline_channel_entity__content"),he=Y&&Z,ie=(ne||q)&&!b?t.createElement(l.A,{"data-qa":"inline_channel_entity__missing",type:ne?"unknown":"non-existent",size:"small",width:L,omitNonExistentTooltip:H}):t.createElement("span",{className:fe},t.createElement(i.A,{bold:U,channel:le,bestFormerName:R,displayFormerNames:k,showTeam:W,showTeamForLocalChannel:he,width:L,"data-qa":"inline_channel_entity__name",overrideHiddenName:b}));return t.createElement(m.A,{avatar:me,className:ue,"data-qa":"inline_channel_entity","data-channel-id":S&&S.id,style:ae,truncate:x,truncateWidth:L,withTruncationTooltip:B,primaryContent:ie,secondaryContent:L&&t.createElement(t.Fragment,null,W&&t.createElement(r.A,{className:"c-inline_channel_entity__team",iconSize:14,channel:le,"data-qa":"inline_channel_entity__team"}))})}_(I,"InlineChannelEntity"),I.displayName="InlineChannelEntity";function D(E){return Object.prototype.hasOwnProperty.call(E,"channel")}_(D,"propsContainsChannel");function y(E,M){const S=D(M)?M.channel:(0,p.OL)(E,M.channelId);let R;return M.showDisambiguatingTeamName&&(R=(0,u.i)((0,p.MS)(E),S)),{channel:S,channelHasNonUniqueName:R,logger:(0,h.Ay)({state:E})}}_(y,"mapStateToProps");const P=(0,v.N)(y,null,null,{areStatePropsEqual:n.kt})(I)},2768501508:(N,g,e)=>{"use strict";e.d(g,{A:()=>R});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6696292586),c=e(6471059816),i=e(7435117457),r=e(1253757845),a=e(531406119),l=e(516467206),d=e(3929724715),u=e(1407713935),f=e(4559887502),m=e(6007206761),h=e(6495946979),v=e(5273017660),p=e(337319621),T=e(9391594207),A=e(9101533895),C=e(4761125736),I=e(8286248123);function D(){return D=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},D.apply(this,arguments)}_(D,"_extends");const y=new c.Ay("channel_entity"),P="SMALL-CHANNEL-ENTITY";function E(k){let{className:O,channel:U,bestFormerName:W,inlineNameSuffix:x,invert:L=!1,logger:b,displayFormerNames:F=i.P.false,showTeamForLocalChannel:B,showDraftIcon:K=!1,showFilledIcon:H=!1,showTeam:Y,memberCount:Z,onlyBoldIfUnread:V=!1,showTruncatedChannelNameTooltip:ne=!1,"data-qa":q="small_channel_entity",channelHasNonUniqueName:me=!1,showDisambiguatingTeamName:ue=!1,useIconOutline:ae=!1,removeArchivedSuffix:le=!1,experimentOmniPolishGroupOn:fe=!1}=k;const he=(0,t.useCallback)(Ee=>t.createElement(r.A,D({},Ee,{className:o()({"c-small_channel_entity__icon":!ae}),channel:U,size:ae?i.RG.smallListVariantOutline:i.RG.small,showDraftIcon:K,showFilledIcon:H})),[U,K,H,ae]);if((0,u.LI)(U)||(0,u.yz)(U))return b==null||b.warn(P,"SmallChannelEntity should not display IMs or MPIMs"),null;const ie=o()(O,"c-small_channel_entity"),X=!V||(0,d.KJ)(U),j=(0,u.t8)(U),w=(0,u.QR)(U);let Q=(0,m.F)(U)||fe&&!(0,h.bl)(U)?i.pI.dim:void 0;L&&(Q=i.pI.highlightDark);let G=null;if((0,n.A)(Z)){const Ee=y.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:Z,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});G=t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":Ee},"(",Z,")")}const J=me&&ue,te=t.createElement(a.A,{channel:U,bestFormerName:W,inlineNameSuffix:x,displayFormerNames:F,showTeamForLocalChannel:B||J,showTeam:Y,removeArchivedSuffix:le,bold:!!X}),se=ne?t.createElement(v.CG,{withTruncationTooltip:!0},te):te,ce=o()("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":ne});return t.createElement(v.Ay,{avatar:he,className:ie,"data-qa":q,size:"small",style:Q,text:t.createElement(v.CG,null,j||w?t.createElement(l.A,{type:j?"unknown":"non-existent",invert:L,size:"small"}):t.createElement("span",{className:ce},se,x&&t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},x),G)),useAvatarOutline:ae})}_(E,"SmallChannelEntity"),E.displayName="SmallChannelEntity";function M(k){return Object.prototype.hasOwnProperty.call(k,"channel")}_(M,"propsContainsChannel");function S(k,O){let U;if(O.showMemberCounts){const b=(0,I.q8)(k,M(O)?(0,d.FB)(O.channel):O.channelId);U=b==null?void 0:b.counts.member_count}const W=M(O)?O.channel:(0,A.OL)(k,O.channelId);let x;O.showDisambiguatingTeamName&&(x=(0,f.i)((0,A.MS)(k),W));const L=(0,C._Z)(k,"omni_polish")==="on";return{memberCount:U,channel:W,logger:(0,p.Ay)({state:k,label:P}),channelHasNonUniqueName:x,experimentOmniPolishGroupOn:L}}_(S,"mapStateToProps");const R=(0,T.N)(S)(E)},8099711795:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(7435117457),o=e(2768501508),n=e(2828836153),c=e(9163962844),i=e(9391594207),r=e(9101533895);function a(){return a=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var p=arguments[v];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(h[T]=p[T])}return h},a.apply(this,arguments)}_(a,"_extends");function l(h,v,p){if(h)return v||p?s.pI.highlightDim:s.pI.highlightDark;if(v||p)return s.pI.dim}_(l,"getBaseStyle");function d(h){let{className:v,secondaryContent:p,isActive:T=!1,isDeactivated:A=!1,isDisabled:C=!1,showUnreadBadge:I=!1,badgeCount:D=0,onlyBoldIfUnread:y=!1,useIconOutline:P=!1,...E}=h,M=p;I&&(M=t.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},p,t.createElement(c.A,{count:D,className:"c-channel_entity__mentions",style:T?c.r.white:c.r.red})));const S=l(T,C,A);return t.createElement(n.A,{className:v,primaryContent:t.createElement(o.A,a({invert:S===s.pI.highlightDark,onlyBoldIfUnread:y,useIconOutline:P},E)),secondaryContent:M,size:"small",style:S})}_(d,"SmallChannelListEntity"),d.displayName="SmallChannelListEntity";function u(h){return Object.prototype.hasOwnProperty.call(h,"channel")}_(u,"propsContainsChannel");function f(h,v){const p=u(v)?v.channel:(0,r.OL)(h,v.channelId),T=v.showUnreadBadge?v.badgeCount||(0,r.TJ)(h,p):0;return{channel:p,badgeCount:T}}_(f,"mapStateToProps");const m=(0,i.N)(f)(d)},1253757845:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7435117457),c=e(2150442287),i=e(1407713935),r=e(8683010724),a=e(9506008067);function l(){return l=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])}return f},l.apply(this,arguments)}_(l,"_extends");function d(f){let{size:m=n.RG.medium,className:h,channel:v,showDraftIcon:p=!1,showFilledIcon:T=!1}=f;const A=(0,i.t8)(v),C=(0,a.d4)(D=>(0,c.Ay)(D,v,{filled:T,showDraftIcon:p})),I=(0,t.useMemo)(()=>{const D={...C};return m===n.RG.small&&(D.size="18"),m===n.RG.smallListVariantOutline&&(D.size="16"),D},[m,C]);return t.createElement("span",{className:o()("c-channel_icon",{"c-channel_icon--unknown":A,"c-channel_icon--with-background":m===n.RG.medium},h),"data-channel-type-icon":(I==null?void 0:I.name)||"unknown"},!A&&t.createElement(r.A,l({},I)))}_(d,"ChannelIcon"),d.displayName="ChannelIcon";const u=d},531406119:(N,g,e)=>{"use strict";e.d(g,{A:()=>k});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9113979368),c=e(4518138713),i=e(6471059816),r=e(7435117457),a=e(1588480853),l=e(9991962665),d=e(6159136815),u=e(3929724715),f=e(8920264989),m=e(6007206761),h=e(395285811),v=e(4630136761),p=e(2647703359),T=e(3634593162),A=e(6839188756),C=e(82287009),I=e(8374895239),D=e(9391594207),y=e(937317117),P=e(1670069836);function E(){return E=Object.assign||function(O){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var x in W)Object.prototype.hasOwnProperty.call(W,x)&&(O[x]=W[x])}return O},E.apply(this,arguments)}_(E,"_extends");const M=new i.Ay("search");function S(O){const{bestFormerName:U,bold:W=!0,channel:x,channelName:L,overrideHiddenName:b,width:F,displayFormerNames:B=r.P.true,isChannelFrozenAndInGracePeriod:K,showTeam:H=!0,showTeamForLocalChannel:Y=!1,showTeamName:Z,titleBlocks:V,removeArchivedSuffix:ne}=O,q=(0,m.F)(x)&&!K&&!ne;let me=`${b??L}${q?` ${M.t("(archived)")}`:""}`,ue;if(B)if(U){const le=t.createElement(l.A,{bold:W,className:"c-channel_name__former_channel_icon",channel:x}),fe=t.createElement("span",{className:"c-channel_name__former_name_text"},t.createElement(d.A,{text:U,showTooltips:!1}));ue=U&&t.createElement("span",{className:"c-channel_name__suffix"},M.rt(" (formerly {icon}{name})",{icon:le,name:fe}))}else{let le;const fe=(0,u.Hx)(x);if(fe&&!(0,n.A)(fe)){const he=fe.map(X=>`#${X}`);le=(0,I.A)(he,{noConj:!0}).join("")}le&&(me+=` ${M.t("(formerly {names})",{names:le})}`)}const ae=o()("c-channel_entity__name",{"c-channel_entity__name--bold":W});return t.createElement(t.Fragment,null,t.createElement("span",E({className:ae},(0,c.A)(O)),V??t.createElement(t.Fragment,null,t.createElement(d.A,{text:me,showTooltips:!1}),B&&ue)),!F&&t.createElement(t.Fragment,null,H&&t.createElement(a.A,{className:"c-channel_entity__team",iconSize:r.RG.inline,channel:x,"data-qa":"channel_entity__team",shouldRender:Y,showTeamName:Z})))}_(S,"ChannelName"),S.displayName="ChannelName";function R(O,U){let{channel:W,includeChannelPrefix:x}=U;const L=(0,P.H7)(O)||(0,P.lp)(O),b=(0,A.ZT)(L),F=W&&(0,h.jT)(W)&&(0,T.l)(W.id),B=F?(0,y.Lp)(O,F):void 0,K=B&&(0,p.U9)(B)?(0,C.GU)({id:F,fileId:F,size:"caption",truncate:!1}):null;var H;return{channelName:(H=(0,f.SB)(O,W,{publicChannelIncludeHashSign:!!x,imIncludeAtSign:!1}))!==null&&H!==void 0?H:void 0,titleBlocks:K,isChannelFrozenAndInGracePeriod:(0,v.sP)(b,W)}}_(R,"mapStateToProps");const k=(0,D.N)(R)(S)},1588480853:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3929724715),c=e(5373179915),i=e(6839188756),r=e(9391594207),a=e(9101533895),l=e(1670069836);let d=_(class extends t.Component{render(){const{shouldRender:h,team:v,className:p}=this.props;return!h||!v?null:t.createElement("div",{className:o()("c-channel_team","c-channel_team--xws",p),"data-qa":"channel_team"},t.createElement("span",{className:"c-channel_team__name"},(0,i.F1)(v)))}},"ChannelTeam");d.displayName="ChannelTeam";const u=_((m,h)=>{let{channel:v,channelId:p,shouldRender:T}=h;const A=v||(0,a.OL)(m,p),C=(0,c.R)(m,A);let I;if((0,n.lo)(A))I=(0,l._J)(m,(0,n.bK)(m,A));else if(T||C){const D=(0,n.ne)(m,A);I=(D?(0,l._J)(m,D):void 0)||(0,l.H7)(m)}return{shouldRender:T||C||!!(0,n.lo)(A),team:I??void 0}},"mapStateToProps"),f=(0,r.N)(u)(d)},9991962665:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2150442287),c=e(1407713935),i=e(8683010724),r=e(6471059816),a=e(9506008067);function l(){return l=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},l.apply(this,arguments)}_(l,"_extends");const d=new r.Ay("channels"),u=_(m=>{let{className:h,filled:v,bold:p,channel:T,disableArchived:A,overrideHiddenIcon:C,readChannelIcon:I}=m;const D=(0,a.d4)(M=>C||(0,n.Ay)(M,T,{filled:v||(0,c.Zp)(T),bold:p,disableArchived:A})),y=o()(h,{"c-inline_channel_icon c-inline_channel_icon--space":!0}),P=(0,c.Zp)(T),E=(0,t.useMemo)(()=>P?d.t("private channel ",{fallbackHash:"943992d03db8cad462814c3650217ac329a26742",fallbackHashNs:"channel_sidebar"}):d.t("channel ",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf",fallbackHashNs:"huddles"}),[P]);return t.createElement(t.Fragment,null,I&&t.createElement("span",{className:"offscreen"},E),t.createElement("span",{className:y,"data-inline-channel-type-icon":D.name},t.createElement(i.A,l({inline:!0},D))))},"InlineChannelIcon");u.displayName="InlineChannelIcon";const f=t.memo(u)},2150442287:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>E,PR:()=>y,pH:()=>I});var t=e(5892132962),s=e(3929724715),o=e(1407713935),n=e(6007206761),c=e(395285811),i=e(4630136761),r=e(2647703359),a=e(3634593162),l=e(6839188756),d=e(9101533895),u=e(937317117),f=e(1670069836);const m={name:"archive"},h={name:"archive-filled"},v={name:"edit"},p={name:"edit-filled"},T={name:"file"},A={name:"lists"},C={name:"lock"},I={name:"lock-filled"},D={name:"channel"},y={name:"channel-filled"},P={name:"canvas"};function E(M,S){let{filled:R,bold:k,disableArchived:O,showDraftIcon:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const W=(0,f.H7)(M)||(0,f.lp)(M),x=(0,l.ZT)(W);if(!(0,i.sP)(x,S)&&((0,n.F)(S)&&!O||(0,i.Zz)(S)))return R?h:m;if(U&&(0,s.yc)(M,S.id))return R?p:v;if((0,c.jT)(S)){const b=(0,u.Lp)(M,(0,a.l)(S.id));if((0,r.wL)(b))return P;if((0,r.aD)(b)){const F=(0,d.Pf)(M,b.id),B=(0,d.OL)(M,F);return(0,o.Zp)(B)||(0,o.JM)(B)?R?I:C:P}return(0,r.l7)(b)?A:T}const L=(0,t.sc)(S);return L||((0,o.Zp)(S)?R?I:C:k?y:D)}_(E,"getChannelIconType")},7577304499:(N,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),s=e(7958934443),o=e(4541034515),n=e(2647703359),c=e(7747467459),i=e(8921478798),r=e(6954805277),a=e(6471059816),l=e(9391594207),d=e(9506008067),u=e(5795074931),f=e(2047021170);const m=new a.Ay("files");function h(T){let{file:A,time24:C,isChannelFiles:I,useSeparator:D,customSeparator:y,excludeTime:P,displaySharedBy:E,documentUnfurlTs:M=void 0,name:S,showYou:R,isCreator:k=!1}=T;const O=I||E;let U;const W=y??"\xB7",x="\xA0\xA0";O?U=null:D||y||M?U=[x,W,x]:U=x;const L=k&&(A!=null&&A.created)?A.created:(0,n.VP)(A);let b,F;if(L){const q=(0,r.Od)(L,{shortenMonth:!0});b=q;let me;if(O)if(q==="Today"||q==="Yesterday"){const ae=q.toLowerCase();me=m.t("{newDate}",{newDate:ae})}else me=m.t("on {date}",{date:q});else me=q;const ue=P?me:m.t("{date} at {time}",{date:q,time:(0,r.Yq)(L,"{time}",{do24hrTime:C})});F=t.createElement(t.Fragment,null,U,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-timestamp"},ue))}const K=(0,d.d4)(u.WR)===A.user;let H=A.bot_id?t.createElement(o.A,{id:A.bot_id,isChannelFiles:O,isWorkflow:!1,"data-qa":"file-entity-metadata-user",className:"margin_right_0"}):t.createElement(s.A,{name:S,isChannelFiles:O,"data-qa":"file-entity-metadata-user",inline:!0,isBold:!1,isCreator:k,className:"margin_right_0",isSelf:R?K:!1});(0,n.aD)(A)&&A.user==="USLACKBOT"&&(H=t.createElement("span",{className:"margin_right_25"},m.t("Shared")));const Y=M&&(0,r.Od)(M,{shortenMonth:!0});let Z=!1,V;Y&&(Y.includes("Today")||Y.includes("Yesterday")?V=m.t("Added {readableTs}",{readableTs:Y}):V=m.t("Added on {readableTs}",{readableTs:Y}),b&&(Z=b===Y));let ne;return V&&(ne=t.createElement(t.Fragment,null,U,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-unfurl-in-canvas-timestamp"},V))),(0,c.A)(A)||(0,n.aK)(A)||(0,n.c4)(A)?null:t.createElement(t.Fragment,null,H,Z?t.createElement(t.Fragment,null," ",ne):t.createElement(t.Fragment,null," ",F,ne))}_(h,"FileEntityUserTimestamp"),h.displayName="FileEntityUserTimestamp";const v=_((T,A)=>({time24:(0,f.ty)(T,"time24"),name:(0,i.I)(T,A.file.user||"",!1,!1,!1,!1)}),"mapStateToProps"),p=(0,l.N)(v)(h)},7563272258:(N,g,e)=>{"use strict";e.d(g,{I:()=>S,A:()=>O});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(9113979368),i=e(413105706),r=e(5250235443),a=e(1152360252),l=e(1030162945),d=e(1662399599),u=e(2238535162),f=e(9866150923),m=e(2647703359),h=e(5273017660),v=e(7435117457),p=e(1610251172),T=e(8683010724),A=e(6471059816),C=e(8509961938);function I(U){var W;const x=(0,C.A)(),L=(W=U.match(x))===null||W===void 0?void 0:W[0];return L&&U.indexOf(L)===0?[L,U.slice(L.length).trim()]:[null,U]}_(I,"parseLeadingEmoji");var D=e(2960290117),y=e(9391594207),P=e(7929066846),E=e(937317117);const M=new A.Ay("files");var S;(function(U){U[U.NORMAL=0]="NORMAL",U[U.BLACK=1]="BLACK"})(S||(S={}));function R(U){let{className:W,"data-qa":x,"data-sk":L,fileFromPropsOrState:b,id:F,isDisabled:B,detailText:K,shouldShowHighlight:H=!0,shouldShowDetailText:Y=!0,fontWeight:Z,useLeadingEmojiAsIcon:V,shouldCheckForTemporaryFiles:ne,useLiveTitleForChannelCanvas:q,useMissingIconIfFileUnknown:me,hideRichTextEmojiTooltips:ue=!1,useIconOutline:ae=!1}=U;const le=(0,s.wA)(),fe=(b==null?void 0:b.filetype)||(b==null?void 0:b.highlight_type),he=(0,D.oH)(F)&&ne,ie=(0,t.useCallback)(()=>{if(!b)return null;const w=n()("c-file_entity__icon",{"c-file_entity__icon--contained":ae});if(he)return t.createElement("span",{className:w},t.createElement(T.A,{name:"canvas-content"}));if((0,m.uO)(b)||(0,m.aK)(b))return t.createElement(p.A,{className:w,type:"trash"});if((0,m.kn)(b)||(0,m.Bp)(b)||(0,m.Ki)(b)||(0,m.AL)(b))return t.createElement(p.A,{className:w,type:"eye-closed"});if(!(0,m.ZG)(b))return t.createElement(p.A,{className:w,type:"question"});if((0,m.Y8)(b))return t.createElement(f.A,{iconClassName:n()(w,"p-list_icon--search"),file:b,isFilled:!1});if((0,m.l7)(b)){const[Q,G]=I((0,m.V)(b)||"");return Q&&le((0,P.D)(Q))&&V?t.createElement("div",{className:n()(w,"c-file_entity_emoji_container")},t.createElement(l.Ay,{text:Q,emojiSize:l.lw.SMALL,showTooltip:!1,stopAnimations:!0})):t.createElement(u.A,{iconClassName:n()(w,"p-list_icon--search"),file:b,isFilled:!1,size:"inherit"})}if((0,m.DQ)(b)){const[Q,G]=I((0,m.V)(b)||"");return Q&&le((0,P.D)(Q))&&V?t.createElement("div",{className:n()(w,"c-file_entity_emoji_container")},t.createElement(l.Ay,{text:Q,emojiSize:l.lw.SMALL,showTooltip:!1,stopAnimations:!0})):t.createElement("span",{className:w},t.createElement(T.A,{name:"canvas-content"}))}return fe?t.createElement(p.A,{className:w,file:"tiny",type:fe}):me?t.createElement("span",{className:n()(w,"c-file_entity__missing_icon_container")},t.createElement(a.A,{size:16})):t.createElement(p.A,{className:w,file:"tiny",type:"file"})},[le,b,he,fe,V,me,ae]),X=(0,t.useMemo)(()=>{if(Y)return t.createElement(h.Q,{"data-qa":"file_detail_text"},K)},[K,Y]),j=B?v.pI.dim:void 0;return(0,c.A)(b)?null:t.createElement(h.Ay,{size:"small",className:n()("c-file_entity",W),"data-id":F||(b==null?void 0:b.id),"data-qa":x,"data-sk":(0,c.A)(L)?"small_file_entity":L,style:j,avatar:ie,text:t.createElement(h.CG,{className:n()("c-file_entity__text",{normal:Z===0,black:Z===1})},he?M.t("Untitled"):t.createElement(d.A,{file:b,shouldShowHighlight:H,useLeadingEmojiAsIcon:V,useLiveTitleForChannelCanvas:q,hideRichTextEmojiTooltips:ue})),metadata:X,useAvatarOutline:ae})}_(R,"SmallFileEntity"),R.displayName="SmallFileEntity";function k(U,W){let{id:x,file:L,detailType:b=i.s.FILETYPE}=W;const F=L||(0,E.Lp)(U,x),B=(0,r.A)(U,F,b);return{fileFromPropsOrState:F,detailText:B}}_(k,"mapStateToProps");const O=(0,y.N)(k)(R)},413105706:(N,g,e)=>{"use strict";e.d(g,{h:()=>s,s:()=>t});const t={NONE:"none",OWNER:"owner",OWNER_TIMESTAMP:"owner-timestamp",CHANNEL:"channel",SHARER:"sharer",FILETYPE:"filetype",LAST_UPDATED:"last-updated",LAST_VIEWED:"last-viewed",CREATED_TIMESTAMP:"created-timestamp",SHARED_TIMESTAMP:"shared-timestamp",ACTIVITY_MENTION:"mention",READ_TIME:"read-time"},s={Detail:"detail",View:"view",Download:"download",Window:"window",Remote:"remote",Reveal:"reveal",External:"external",Open:"open",Show:"show"}},5250235443:(N,g,e)=>{"use strict";e.d(g,{A:()=>R});var t=e(3134334389),s=e(7577304499),o=e(413105706),n=e(1677062231),c=e(2208015175),i=e(9101533895),r=e(3929724715),a=e(7582939986);const l=6,d=10,u=20,f=25,m=_((k,O)=>{const U=O==null?void 0:O.shares;if(!U)return null;let W=null,x=!1,L=!1;return(0,c.A)(U.private,(b,F)=>{L=!0;let B=b.find(H=>{let{share_user_id:Y}=H;return Y!==a.Q$});if(B)x=!0;else{if(x)return;B=b[0]}const K=B.ts;Number(K)>Number((W==null?void 0:W.ts)||0)&&(W={ts:K,channelId:F,shareUserId:b[0].share_user_id})}),(0,c.A)(U.public,(b,F)=>{const B=(0,i.OL)(k,F);if((0,r.Ez)(B))L||(W=void 0),L=!0;else if(L)return;let K=b.find(Y=>{let{share_user_id:Z}=Y;return Z!==a.Q$});if(K)x=!0;else{if(x)return;K=b[0]}const H=K.ts;Number(H)>Number((W==null?void 0:W.ts)||0)&&(W={ts:H,channelId:F,shareUserId:b[0].share_user_id})}),W},"getMostRelevantShare");function h(k,O){const U=m(k,O);if(!U)return null;const{channelId:W}=U;return t.createElement(n.A,{channelId:W,inline:!0})}_(h,"getFileChannel");var v=e(674932420),p=e(3534324375),T=e(6471059816),A=e(5795074931),C=e(8276911661);const I=new T.Ay("file");function D(k,O,U){if(!O||O===a.Q$)return(0,v.A)(k,U);const W=(0,C.nv)(k,O),x=(0,p.sE)(k,W);return O===(0,A.WR)(k)?I.rt("{name} (you)",{name:x,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):x}_(D,"getShareName");function y(k,O){const{shareUserId:U}=m(k,O)||{};return D(k,U,O)}_(y,"getFileSharer");var P=e(2332535469),E=e(8090839701),M=e(9670560261);function S(){return S=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},S.apply(this,arguments)}_(S,"_extends");function R(k,O,U,W,x){if(Array.isArray(U))return U.map(L=>R(k,O,L,W,x));switch(U){case o.s.NONE:return"";case o.s.OWNER:return(0,v.A)(k,O);case o.s.OWNER_TIMESTAMP:return t.createElement(s.A,S({file:O,documentUnfurlTs:x},W));case o.s.CHANNEL:return h(k,O);case o.s.SHARER:return y(k,O);case o.s.LAST_UPDATED:case o.s.LAST_VIEWED:return(0,M.N)(k,O,U);case o.s.READ_TIME:return(0,P.O)(k,O);case o.s.FILETYPE:default:return(0,E.A)(k,O)}}_(R,"getFileDetail")},674932420:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(9464746668),s=e(3534324375),o=e(6471059816),n=e(5795074931),c=e(8677230210),i=e(8276911661);const r=new o.Ay("file");function a(l,d){if(!d)return"";var u;const f=(u=d.canvas_creator_id)!==null&&u!==void 0?u:d.user,m=f?(0,i.nv)(l,f):null,h=m?(0,t.A)(l,m):null,v=d.bot_id||h;if(v){const p=(0,c.AF)(l,v);if(p&&p.name)return p.name}if(m){const p=(0,s.sE)(l,m);return f===(0,n.WR)(l)?r.rt("{name} (you)",{name:p,fallbackHash:"26d4d69c81b9ea155418f35cc46db79fdbb5e28b",fallbackHashNs:"channel_sidebar"}):p}return d.username||""}_(a,"getFileOwner")},506098956:(N,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3750057149),c=e(7435117457),i=e(7958934443),r=e(3037015781),a=e(8170643398),l=e(9262712126),d=e(4562579337),u=e(2671211451),f=e(9391594207),m=e(5761207079),h=e(8276911661),v=e(3146663623);function p(C){const{className:I,forceRealName:D=!1,id:y,member:P,truncate:E=!1,truncateWidth:M,withTruncationTooltip:S=!1,"data-qa":R="inline_member_entity",isBold:k=!0,showAppOrBotBadge:O,isUserHidden:U=!1}=C,W=o()(I,"c-inline_member_entity"),x=(0,d.A)(P),L=(0,a.v3)(P),b=(0,a.oy)(P),F=(0,r.lv)(P),B=(0,r.mX)(P),K=(0,l.wg)(P),H=(0,l.Fh)(P);let Y;D||!H?Y=K:Y=H;const Z=b?c.pI.dim:void 0;return t.createElement(u.A,{className:W,"data-qa":R,"data-member-id":y||(P==null?void 0:P.id),style:Z,truncate:E,truncateWidth:M,withTruncationTooltip:S,primaryContent:t.createElement("span",{className:"c-inline_member_entity__content"},t.createElement(i.A,{isBold:k,name:Y,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:x,isWorkflowBot:L,isDeleted:b,isNonExistent:F,isUnknown:B,showAppOrBotBadge:O,isUserHidden:U}))})}_(p,"InlineMemberEntity"),p.displayName="InlineMemberEntity";function T(C,I){let{forceRealName:D,member:y,id:P}=I;const E=y||(0,h.nv)(C,P);return{member:E??void 0,forceRealName:(0,n.A)(D)?D:(0,v.E)(C),isUserHidden:E&&(0,m.a)(C,E.id)}}_(T,"mapStateToProps");const A=(0,f.N)(T)(p)},5585462770:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>W,lP:()=>k});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7435117457),c=e(3150724727),i=e(605958036),r=e(7958934443),a=e(9283547879),l=e(6916052175),d=e(3037015781),u=e(3929724715),f=e(8170643398),m=e(9262712126),h=e(3534324375),v=e(4562579337),p=e(1464713483),T=e(51460783),A=e(161084047),C=e(3534100833),I=e(8683010724),D=e(2809903252),y=e(82287009),P=e(9391594207),E=e(9101533895),M=e(5761207079),S=e(8276911661);function R(){return R=Object.assign||function(x){for(var L=1;L<arguments.length;L++){var b=arguments[L];for(var F in b)Object.prototype.hasOwnProperty.call(b,F)&&(x[F]=b[F])}return x},R.apply(this,arguments)}_(R,"_extends");const k={right:"right",bottom:"bottom"};function O(x){const{className:L,id:b,invert:F=!1,member:B,memberPrimaryName:K,memberSecondaryName:H,secondaryContent:Y,secondaryContentPosition:Z=k.bottom,subtext:V,showSubtext:ne=!0,showAvatar:q=!0,showDraftIcon:me=!1,showPresence:ue=!0,showStatus:ae=!0,showTooltip:le=!0,showAppOrBotBadge:fe=!0,isDeactivated:he=!1,useShortMode:ie,showHoverCard:X=!1,forwardedRef:j,"data-sk":w="medium_member_entity","data-qa":Q="medium_member_entity",isUserHidden:G=!1,noStatusText:J=!1,showBadgeOnTextTruncation:te,description:se=""}=x,ce=(0,v.A)(B),Ee=(0,f.v3)(B),de=(0,f.oy)(B),re=(0,f.fy)(B),_e=(0,f.hh)(B),ve=(0,l.u)(B),ge=(0,d.lv)(B),Le=(0,d.mX)(B),ke=t.createElement(r.A,{"data-qa":"member-entity__primary-name",name:K,invert:F&&!he,isAppOrBot:ce,isWorkflowBot:Ee,showAppOrBotBadge:fe,isDeleted:de,isSelf:re,isNonExistent:ge,isUnknown:Le,isUserHidden:G,showBadgeOnTextTruncation:te,isAgent:ve}),Ke=(0,y.yN)({memberId:b,children:ke}),Ne=!G&&t.createElement(C.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},H),Re=B&&t.createElement(A.A,{className:"c-member__title","data-qa":"member-entity__title"},(0,f.rN)(B)),xe=!de&&!_e&&t.createElement(a.Ay,{memberId:b,className:"c-member__presence",invert:F&&!he,"data-qa":"member-entity__presence",inline:!1}),We=t.createElement(i.A,{memberId:b,tooltip:le,animated:ie,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:J}),$=Z===k.bottom&&Y?t.createElement(T.A,{"data-qa":"member-entity__metadata"},Y):null,ee=t.createElement("span",{className:"c-member__primary_content__description"},t.createElement(D.A,{lines:1,withTooltip:!0,breakWords:!1},se)),Ve=t.createElement("span",{className:"c-member__primary_content"},X?Ke:ke,ue&&xe,!ie&&Ne,ae&&We,se&&ee),ze=de||he?n.pI.dim:void 0,st=o()(L,"c-member","c-member--medium",{"c-member--with-presence":ue}),Ge=(0,t.useCallback)(be=>q?me?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(I.A,{name:"edit"})):t.createElement(c.Ay,R({},be,{size:n.RG.medium,userId:b,"data-qa":"member-entity__avatar",isInteractive:!1})):null,[q,me,b]);return t.createElement(p.A,{avatar:Ge,className:st,size:"medium",style:ze,text:Ve,subtext:ne&&(V||Re),metadata:!de&&$,"data-qa":Q,"data-sk":w,forwardedRef:j})}_(O,"MediumMemberEntity"),O.displayName="MediumMemberEntity";function U(x,L){let{id:b,isDraftContext:F,member:B,showStatus:K}=L;const H=B||(0,S.nv)(x,b);let Y=!1;if(F&&b){const V=(0,E.Pu)(x,b);Y=!!(V&&(0,u.yc)(x,V.id))}const Z=b||(H==null?void 0:H.id);return{id:Z,member:H??void 0,memberPrimaryName:(0,h.sE)(x,H,!1,!1),memberSecondaryName:(0,m.Mu)(x,H),showDraftIcon:Y,showStatus:K&&(0,f.aH)(H),isUserHidden:!!Z&&(0,M.a)(x,Z)}}_(U,"mapStateToProps");const W=(0,P.N)(U)(O)},5506656361:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7435117457),c=e(5585462770),i=e(9438480351),r=e(2828836153),a=e(2762351398),l=e(9391594207),d=e(8276911661);function u(){return u=Object.assign||function(v){for(var p=1;p<arguments.length;p++){var T=arguments[p];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(v[A]=T[A])}return v},u.apply(this,arguments)}_(u,"_extends");let f=_(class extends t.Component{render(){const{className:p,isActive:T=!1,isDeactivated:A=!1,isDisabled:C=!1,secondaryContent:I,secondaryContentPosition:D=c.lP.right,showUnreadCount:y=!1,showStatus:P,showPresence:E,useShortMode:M=!1,showHoverCard:S,forwardedRef:R,unreadCount:k,ariaLabel:O}=this.props,U=y&&k&&t.createElement(a.Ay,{className:"c-member__unread_count",count:k,style:a.rY.red}),W=I&&t.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},I),x=(D===c.lP.right&&W||U)&&t.createElement("span",{className:"c-member__secondary_content"},D===c.lP.right&&W,U),L=o()(p,"c-medium_member_list_entity");let b;return T?C||A?b=n.pI.highlightDim:b=n.pI.highlightLight:(C||A)&&(b=n.pI.dim),t.createElement(r.A,{"data-qa":"medium_member_list_entity",className:L,style:b,primaryContent:t.createElement(c.Ay,u({},this.props,{secondaryContent:D===c.lP.right?null:I,showStatus:P,showPresence:E,showHoverCard:S,useShortMode:M,forwardedRef:R})),secondaryContent:x,size:"medium",ariaLabel:O})}},"MediumMemberListEntity");f.displayName="MediumMemberListEntity";function m(v,p){let{id:T}=p;const A=(0,d.nv)(v,T);return{member:A??void 0,unreadCount:(0,i.A)(v,A)}}_(m,"mapStateToProps");const h=(0,l.N)(m,null,null,{forwardRef:!0})(f)},6228854066:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>Y,Cg:()=>F});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3750057149),c=e(6471059816),i=e(7435117457),r=e(3150724727),a=e(4743059565),l=e(7958934443),d=e(2326217668),u=e(9283547879),f=e(5537045526),m=e(6916052175),h=e(5624319675),v=e(3037015781),p=e(3929724715),T=e(8170643398),A=e(9438480351),C=e(9262712126),I=e(4562579337),D=e(5096647761),y=e(6536982570),P=e(5273017660),E=e(3534100833),M=e(2762351398),S=e(8683010724),R=e(9391594207),k=e(9101533895),O=e(4761125736),U=e(5761207079),W=e(8276911661),x=e(3146663623);function L(){return L=Object.assign||function(Z){for(var V=1;V<arguments.length;V++){var ne=arguments[V];for(var q in ne)Object.prototype.hasOwnProperty.call(ne,q)&&(Z[q]=ne[q])}return Z},L.apply(this,arguments)}_(L,"_extends");const b=20,F=16,B=new c.Ay("members");function K(Z){const{className:V,id:ne,invert:q=!1,member:me,teamId:ue,showAvatar:ae=!0,showDraftIcon:le=!1,showPresence:fe=!0,showBadge:he=!0,showStatus:ie=!0,showTooltip:X=!0,showUnreadCount:j=!1,showDeactivated:w=!0,showAppOrBotBadge:Q=!0,isDeactivated:G=!1,unreadCount:J,useShortMode:te=!1,forceRealName:se=!1,tokenSize:ce,truncateStatus:Ee=!1,withTruncationTooltip:de,"data-sk":re="small_member_entity","data-qa":_e="small_member_entity",isBold:ve,experimentSidebarPrefsApplyToMenusGroupOn:ge=!1,isUserHidden:Le=!1,hasNoAccess:ke=!1,forceAvatarPresenceIndicator:Ke=!1,experimentAgentforceGroupOn:Ne=!1,avatarSize:Re=i.RG.small,useAtSymbolForDisplayName:xe=!1,useSmallerDisplayName:We=!1,isSearchSuggestion:$}=Z,ee=(0,I.A)(me),Ve=(0,T.v3)(me),ze=(0,T.oy)(me),st=(0,D.g)(me),Ge=(0,T.fy)(me),be=(0,T.hh)(me),Se=(0,m.u)(me),we=(0,v.lv)(me),Ce=(0,v.mX)(me),Te=we||Ce,Ye=q&&!G,De=w&&ze,Pe=(0,C.wg)(me),ye=(0,C.Fh)(me);let He,Qe;Le?(He=B.t("Name hidden"),Qe=B.t("Name hidden")):se||!ye?(He=Pe,Qe=ye?`${xe?"@":""}${ye}`:void 0):(He=ye,Qe=Pe);const dt=t.createElement(l.A,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:He,invert:Ye,isAppOrBot:ee,isWorkflowBot:Ve,isDeleted:De,isSelf:Ge,isNonExistent:we,isUnknown:Ce,withTruncationTooltip:de,isBold:ve,isAgent:Ne&&Se,showAppOrBotBadge:Q}),Ot=!Le&&!be&&t.createElement(E.A,{className:o()("c-member__secondary-name",{"c-member__secondary-name--smaller":We,"c-member__secondary-name--interpunct":$}),"data-qa":"member-entity__secondary-name"},Qe),yt=(0,t.useMemo)(()=>Le||ze||be?null:t.createElement(u.Ay,{memberId:ne||(me==null?void 0:me.id),className:"c-member__presence",invert:Ye,inline:!1}),[Le,ze,be,ne,Ye,me]),Dt=(0,t.useCallback)(jt=>ae?Le?t.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.createElement(S.A,{size:"20",name:"user-hide"})):Te?t.createElement(d.A,L({},jt,{"data-qa":"member-entity__missing",isNonExistent:we,size:b})):le?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(S.A,{name:"edit"})):t.createElement(r.Ay,L({},jt,{"data-qa":"member-entity__avatar",size:Re,userId:ne,user:me,showBadge:he,tabIndex:-1,isInteractive:!1,tokenSize:ce,hasNoAccess:ke,showPresence:Ke})):fe&&ge?yt:null,[ae,ne,we,Te,me,ce,le,Le,yt,fe,he,ge,ke,Ke,Re]),Ct=st&&t.createElement(f.A,L({},Z,{"data-qa":"member-entity__team-icon",id:ue,size:F,className:"c-member__team_icon"})),kt=t.createElement(a.A,{memberId:ne||"",tooltip:X,animated:te,className:o()("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:Ee}),"data-qa":"member-entity__status"}),vt=j&&!!J&&t.createElement(M.Ay,{className:"c-member__unread_count",count:J,style:Ye?M.rY.white:M.rY.red,"data-qa":"member-entity__mention-badge"}),Nt=t.createElement("span",{className:"c-member__primary_content"},dt,fe&&!Te&&ae&&yt,!te&&Ot,ie&&kt),It=(Ct||vt)&&t.createElement("span",{className:"c-member__secondary_content"},Ct,vt),At=ze&&!q?i.pI.dim:void 0,Zt=o()(V,"c-member","c-member--small",{"c-member--with-presence":fe,"c-member--deleted":ze,"c-base_entity--dim":Le});return t.createElement(P.Ay,{avatar:Dt,className:Zt,text:Nt,size:"small",style:At,subtext:It,"data-qa":_e,"data-sk":re})}_(K,"SmallMemberEntity"),K.displayName="SmallMemberEntity";function H(Z,V){let{forceRealName:ne,member:q,id:me,isDraftContext:ue,showStatus:ae,onlyBoldIfUnread:le,useShortMode:fe,neverBold:he}=V;const ie=q||(0,W.nv)(Z,me);let X;const j=me||(ie==null?void 0:ie.id);j&&(ue||le)&&(X=(0,k.Pu)(Z,j));const w=(0,U.a)(Z,j);let Q=!0;w?Q=!!fe:le?Q=!!(X&&(0,p.KJ)(X)):he&&(Q=!1);let G;return ue&&(G=!!(X&&(0,p.yc)(Z,X.id))),{id:me||(ie==null?void 0:ie.id),member:ie??void 0,teamId:(0,y.Ux)(Z,ie),forceRealName:(0,n.A)(ne)?ne:(0,x.E)(Z),unreadCount:(0,A.A)(Z,ie),showDraftIcon:G,showStatus:ae&&(0,T.aH)(ie),isBold:Q,experimentSidebarPrefsApplyToMenusGroupOn:(0,O._Z)(Z,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:w,experimentAgentforceGroupOn:(0,h.mr)(Z)}}_(H,"mapStateToProps");const Y=(0,R.N)(H)(K)},5727180841:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7435117457),c=e(6228854066),i=e(2828836153);function r(){return r=Object.assign||function(d){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},r.apply(this,arguments)}_(r,"_extends");let a=_(class extends t.Component{render(){const{className:u,id:f,isActive:m=!1,isDeactivated:h=!1,isDisabled:v=!1,isDraftContext:p,showAvatar:T,showBadge:A,showPresence:C,showAppOrBotBadge:I,showStatus:D,showTooltip:y,withTruncationTooltip:P,showUnreadCount:E,useShortMode:M,secondaryContent:S,onlyBoldIfUnread:R=!1,forceRealName:k,hasNoAccess:O,forceAvatarPresenceIndicator:U,removePadding:W,avatarSize:x,useAtSymbolForDisplayName:L,useSmallerDisplayName:b,showDeactivated:F,isSearchSuggestion:B}=this.props;let K;return m?v||h?K=n.pI.highlightDim:K=n.pI.highlightDark:(v||h)&&(K=n.pI.dim),t.createElement(i.A,{className:o()(u,"c-small_member_list_entity"),primaryContent:t.createElement(c.Ay,r({id:f,invert:K===n.pI.highlightDark,isDeactivated:h,truncateStatus:!!S,showAvatar:T,showPresence:C,showBadge:A,showAppOrBotBadge:I,useShortMode:M,showStatus:D,showTooltip:y,withTruncationTooltip:P,showUnreadCount:E,isDraftContext:p,onlyBoldIfUnread:R,forceRealName:k,hasNoAccess:O,forceAvatarPresenceIndicator:U,avatarSize:x,useAtSymbolForDisplayName:L,useSmallerDisplayName:b,showDeactivated:F,isSearchSuggestion:B},this.props)),secondaryContent:S,size:"small",style:K,padding:W?n.FK.none:n.FK.normal})}},"SmallMemberListEntity");a.displayName="SmallMemberListEntity";const l=a},7958934443:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4518138713),c=e(6471059816),i=e(6916498058),r=e(9509635375),a=e(5273017660),l=e(9506008067),d=e(4761125736);function u(){return u=Object.assign||function(v){for(var p=1;p<arguments.length;p++){var T=arguments[p];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(v[A]=T[A])}return v},u.apply(this,arguments)}_(u,"_extends");const f=new c.Ay("inline_member");function m(v){const{className:p,multiline:T=!1,inline:A=!1,invert:C=!1,name:I,isSelf:D=!1,isAppOrBot:y=!1,isWorkflowBot:P=!1,showAppOrBotBadge:E=!0,isDeleted:M=!1,isUnknown:S=!1,isNonExistent:R=!1,withTruncationTooltip:k=!1,isBold:O=!0,isUserHidden:U=!1,isChannelFiles:W=!1,isCreator:x=!1,showMemberNameIfHidden:L=!1,showBadgeOnTextTruncation:b,isAgent:F=!1}=v,B=(0,l.d4)(V=>(0,d._Z)(V,"member_name_channel_files_view_two")==="on");let K;if(S||R)K=t.createElement(i.A,{type:R?"non-existent":"unknown","data-qa":"member_name__missing"});else if(U&&!L)K=f.t("Name hidden");else if(W){const V=B?f.rt("Created by {name}",{name:I}):`Created by ${I}`;K=x?V:f.rt("Shared by {name}",{name:I})}else K=I;const H=o()(p,"c-member_name",{"c-member_name--deactivated":M,"c-member_name--inverted":C}),Y=O?"strong":"span",Z=(y||P)&&E;return t.createElement(a.CG,u({className:H,multiline:T,inline:A,withTruncationTooltip:k},(0,n.A)(v)),t.createElement(Y,{className:o()({"c-member_name__container":Z&&b}),"data-qa":"member_name"},Z&&b?t.createElement("span",{className:"c-member_name__text"},K):K,D&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},f.t("(you)")),M&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},f.t("(deactivated)")),Z&&t.createElement(r.A,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:C,isWorkflow:P,isAgent:F})))}_(m,"MemberName"),m.displayName="MemberName";const h=m},7905172576:(N,g,e)=>{"use strict";e.d(g,{A:()=>Q});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3297051565),c=e.n(n),i=e(7435117457),r=e(3150724727),a=e(1962888617),l=e(7958934443),d=e(2326217668),u=e(3037015781),f=e(8170643398),m=e(3534324375),h=e(4562579337),v=e(9391594207),p=e(8276911661);const T=20,A={id:c().string.isRequired,invert:c().bool,isDeactivated:c().bool,isHidden:c().bool,member:c().object,memberPrimaryName:c().string},C={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},I=t.forwardRef((G,J)=>{const{id:te,invert:se,member:ce,memberPrimaryName:Ee,isDeactivated:de,isHidden:re}=G,_e=(0,h.A)(ce),ve=(0,f.v3)(ce),ge=(0,f.oy)(ce),Le=(0,u.lv)(ce),ke=(0,u.mX)(ce),Ke=Le||ke,Ne=se&&!de,Re=t.createElement(l.A,{"data-qa":"mpim-entity__name",name:Ee,invert:Ne,isAppOrBot:_e,isWorkflowBot:ve,isDeleted:ge,isNonExistent:Le,isUnknown:ke});let xe;Ke?xe=t.createElement(d.A,{isNonExistent:Le,size:T}):xe=t.createElement(r.Ay,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:i.RG.small,userId:te,tabIndex:-1,isInteractive:!1});const We=o()("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":ge,"c-small_mpim_entity__member--hidden":re});return t.createElement("div",{className:We,"data-id":te,ref:J},xe,Re)});I.propTypes=A,I.defaultProps=C;function D(G,J){let{id:te}=J;const se=(0,p.nv)(G,te);return{member:se,memberPrimaryName:(0,m.sE)(G,se,!1,!1)}}_(D,"mapStateToProps");const y=(0,v.N)(D,null,null,{forwardRef:!0})(I);var P=e(6072832722),E=e(1030162945),M=e(6471059816),S=e(6989432693),R=e(8374895239),k=e(9506008067),O=e(5795074931);const U=new M.Ay("channel_token"),W=10,x=_(G=>{let{memberIds:J}=G;var te;const se=(te=(0,k.d4)(O.WR))!==null&&te!==void 0?te:void 0;let ce=J.map((Ee,de)=>t.createElement(S.A,{key:Ee,userId:Ee,isFirst:de===0,isSelf:se===Ee}));return J.length>W+1&&(ce=ce.slice(0,W).concat(U.rt("{count} others",{count:J.length-W}))),t.createElement(t.Fragment,null,(0,R.A)(ce))},"TooltipMemberNames");x.displayName="TooltipMemberNames";const L=x;var b=e(3929724715),F=e(8920264989),B=e(5273017660),K=e(2762351398),H=e(2312625946),Y=e(2809903252),Z=e(4058658129),V=e(8584282426),ne=e(3852424459),q=e(9101533895),me=e(3328068409),ue=e(4761125736),ae=e(3998401757),le=e(832411022);function fe(){return fe=Object.assign||function(G){for(var J=1;J<arguments.length;J++){var te=arguments[J];for(var se in te)Object.prototype.hasOwnProperty.call(te,se)&&(G[se]=te[se])}return G},fe.apply(this,arguments)}_(fe,"_extends");const he=i.RG.small,ie={className:c().string,"data-qa":c().string,"data-sk":c().string,mpim:c().object,id:c().string,invert:c().bool,isDeactivated:c().bool,memberIds:c().array,isActive:c().bool,clientTheme:c().oneOf(["light","dark"]),matchData:c().array,onlyBoldIfUnread:c().bool,showUnreadBadge:c().bool,unreadCount:c().number,shortenTooltipContents:c().bool,showAvatar:c().bool,showMemberList:c().bool,memberList:c().string,experimentSidebarPrefsApplyToMenusGroupOn:c().bool,tooltipPosition:c().string,disableTooltip:c().bool,experimentMpdmOmniswitcherDisplayTopicGroupOn:c().bool,isOmniswitcherContext:c().bool},X={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,memberList:null,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,showMemberList:!1,experimentSidebarPrefsApplyToMenusGroupOn:!1,tooltipPosition:"top-right",disableTooltip:!1,experimentMpdmOmniswitcherDisplayTopicGroupOn:!1,isOmniswitcherContext:!1};function j(G){let{className:J,"data-qa":te,"data-sk":se,memberList:ce,id:Ee,invert:de,isDeactivated:re,mpim:_e,memberIds:ve,isActive:ge,clientTheme:Le,matchData:ke,onlyBoldIfUnread:Ke,showUnreadBadge:Ne,showMemberList:Re,unreadCount:xe,shortenTooltipContents:We,showAvatar:$,experimentSidebarPrefsApplyToMenusGroupOn:ee,tooltipPosition:Ve,disableTooltip:ze,experimentMpdmOmniswitcherDisplayTopicGroupOn:st,isOmniswitcherContext:Ge}=G;const be=(0,u.lv)(_e),Se=(0,u.mX)(_e),we=(0,b.N4)(_e),Ce=Ee||(_e==null?void 0:_e.id),Te=(0,b.cU)(_e),Ye=st&&Te&&Ge,De=Te&&t.createElement(P.A,{text:Te,className:"c-medium_mpim_entity__topic",emojiSize:E.lw.SMALL,noJumbomoji:!0,noHighlights:!0}),Pe=de&&!re,ye=Ne&&!!xe&&t.createElement(K.Ay,{className:"c-member__unread_count",count:xe,style:Pe?"white":"red","data-qa":"member-entity__mention-badge"}),He=ye&&t.createElement("span",{className:"c-member__secondary_content"},ye),Qe=(0,t.useCallback)(Ct=>{if(be||Se)return t.createElement(d.A,fe({},Ct,{isNonExistent:be,size:he,invert:Pe}));const kt=ve==null?void 0:ve[0];return t.createElement("span",{className:o()("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",J,{"c-small_mpim_entity__mpim_avatars--inverted":Pe,[`c-small_mpim_entity__mpim_avatars--${Le}`]:Le!=="light"})},$&&t.createElement(r.Ay,{userId:kt,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.createElement("div",{className:o()("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!$&&ee}),"data-qa":"small-mpim-entity-mpim-counter"},t.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},we)))},[J,Le,be,Se,we,Pe,ve,$,ee]),dt=(0,t.useCallback)(()=>{let Ct;return We?Ct=t.createElement(L,{memberIds:ve}):Ct=ve.map(kt=>t.createElement(y,{id:kt,key:kt})),t.createElement(t.Fragment,null,Ct)},[ve,We]);let Ot=re?i.pI.dim:null;Pe&&(Ot=i.pI.highlightDark);const yt=o()(J,{"c-small_mpim_entity__with_member_list":Re}),Dt=t.createElement(B.Ay,{"data-id":Ce,"data-qa":te,"data-sk":se,avatar:Qe,className:yt,size:Ye?"medium":"small",style:Ot,subtext:Ye?De:He,text:t.createElement(t.Fragment,null,t.createElement(a.A,{mpim:_e,className:"c-small_mpim_entity__primary_name",invert:Pe,matchData:ke,onlyBoldIfUnread:Ke}),Re&&t.createElement("div",{className:"c-small_mpim_entity__member_list"},t.createElement(Y.A,{lines:1},ce)))});return ze?Dt:t.createElement(H.Ay,{tip:dt(),tipClassName:We?"":"c-small_mpim_entity__tooltip",position:Ve,shouldForceVisible:ge,shouldOnlyShowWhenTruncated:ge,zIndex:"above_fs"},t.createElement("div",null,Dt))}_(j,"SmallMpimEntity"),j.displayName="SmallMpimEntity",j.propTypes=ie,j.defaultProps=X;function w(G,J){let{id:te,mpim:se,matchData:ce}=J;const Ee=se||(0,q.OL)(G,te),de=(0,ne.B)(G,te),re=(0,ae.x)(G,le.Jx.OMNISWITCHER),_e=(0,ue._Z)(G,"sidebar_prefs_apply_to_menus")==="on",ve=(0,V.M)({state:G,mpim:Ee,matchData:ce}),ge=(0,me.to)(G),Le=(0,b.kR)(Ee,de),ke=(0,F.Xx)(G,Ee,ve,!0),Ke=(0,Z.z)(G);return{memberList:ke,mpim:Ee,experimentSidebarPrefsApplyToMenusGroupOn:_e,memberIds:ve,clientTheme:ge,unreadCount:Le,experimentMpdmOmniswitcherDisplayTopicGroupOn:Ke,isOmniswitcherContext:re}}_(w,"small_mpim_entity_mapStateToProps");const Q=(0,v.N)(w)(j)},1962888617:(N,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),s=e(9867500491),o=e(1703559452),n=e(8064950432),c=e(5000515034),i=e(3037015781),r=e(3929724715),a=e(8920264989),l=e(5273017660),d=e(8584282426),u=e(9391594207),f=e(8276911661);const m=4;function h(T){let{className:A,mpim:C,multiline:I=!1,name:D,invert:y=!1,isAnyMemberUnknown:P=!1,inline:E=!1,onlyBoldIfUnread:M=!1}=T;const S=(0,i.mX)(C),R=(0,i.lv)(C),k=(0,r.N4)(C),O=!M||(0,r.KJ)(C);let U=D;return S||R||P?U=(0,s.A)(k||m).map(W=>t.createElement(c.A,{key:W,className:"c-mpim_entity__missing_text",isNonExistent:R,size:"random",invert:y,dataQa:"mpim_name_missing"})):(U=t.createElement(n.a,{channel:C,name:D??""}),U=O?t.createElement("strong",{"data-qa":"mpim_name"},U):t.createElement("span",{"data-qa":"mpim_name"},U)),t.createElement(l.CG,{className:A,multiline:I,breakWords:!1,inline:E},U)}_(h,"MpimName"),h.displayName="MpimName";const v=_((T,A)=>{let{mpim:C,matchData:I,equalizeMembersListToMatchData:D=!1}=A;const y=(0,d.M)({state:T,mpim:C,matchData:I,equalizeMembersListToMatchData:D}),P=y&&y.map(E=>(0,f.nv)(T,E));return{name:(0,a.Xx)(T,C,y),isAnyMemberUnknown:(0,o.A)(P,i.GU)}},"mapStateToProps"),p=(0,u.N)(v)(h)},276274568:(N,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816),c=e(7435117457),i=e(4192943401),r=e(6839188756),a=e(2546018671),l=e(5273017660),d=e(8683010724),u=e(9391594207),f=e(8847766420),m=e(1670069836),h=e(1835177371);function v(){return v=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},v.apply(this,arguments)}_(v,"_extends");const p=new n.Ay("user_group_entity");function T(I){let{className:D,invert:y,showDescription:P=!0,userGroup:E,userGroupTeamName:M,isDeactivated:S}=I;const R=S||!(0,a.V1)(E),k=(0,t.useCallback)(F=>t.createElement("span",{className:"margin_right_50"},t.createElement(d.A,v({},F,{name:"user-groups",size:"18"}))),[]);if((0,a.t8)(E)||(0,a.QR)(E)){const F=o()("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":y});return t.createElement("div",{className:"c-small_user_group__missing"},t.createElement("div",{className:F},t.createElement(d.A,{name:"user-groups",size:"18"})),t.createElement(i.A,{type:(0,a.t8)(E)?"unknown":"non-existent",invert:y}))}const O=(0,a.ue)(E),U=t.createElement("span",{className:"c-user_group__name c-small_user_group__name"},O),W=(0,a.Br)(E),x=M&&t.createElement(t.Fragment,null,"\xA0\xA0",t.createElement("span",{className:"c-small_user_group__team"},M)),L=t.createElement(t.Fragment,null,t.createElement("span",{className:"c-small_user_group__count"},"(",p.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:W}),")"),x);let b;return R?b=c.pI.dim:y&&(b=c.pI.highlightDark),t.createElement(l.Ay,{avatar:k,className:D,size:"small",style:b,text:t.createElement(l.CG,null,U,P&&L),"data-usergroup-id":E.id})}_(T,"SmallUserGroupEntity"),T.displayName="SmallUserGroupEntity";const A=_((I,D)=>{let{id:y,userGroup:P}=D;const E=P||(0,h.lJ)(I,y),M=(0,f.ZT)(I),S=(0,a.$Q)(E),R=S!==M&&(0,r.F1)((0,m._J)(I,S));return{userGroup:E,userGroupTeamName:R}},"mapStateToProps"),C=(0,u.N)(A)(T)},7360333171:(N,g,e)=>{"use strict";e.d(g,{E:()=>c,a:()=>i});var t=e(8583036784),s=e(9936232041),o=e(6304789565),n=e(9609912577);const c=(0,o.Ay)("Opens the AddCustomEmojiModal for importing a custom emoji",(r,a,l)=>{let{emojiName:d,emojiUrl:u}=l;var f;r((0,n.A)({emojiNameSuggestion:d&&((f=(0,s.A)(d))===null||f===void 0?void 0:f.name),emojiUrl:u}))});c.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const i=(0,o.Ay)("Opens the AddCustomEmojiModal if an emoji can be imported",(r,a,l)=>{const d=a(),{event:u,emojiName:f,emojiUrl:m}=l;m&&(0,t.LU)(d,m,f)&&(u==null||u.preventDefault(),u==null||u.stopPropagation(),r(c(l)))});i.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},5371346921:(N,g,e)=>{"use strict";e.d(g,{K:()=>i});var t=e(3134334389),s=e(6471059816),o=e(8583036784),n=e(8683010724);const c=new s.Ay("import-external-emoji");function i(r){let{emojiUrl:a,emojiName:l}=r;return(0,o.tJ)(a,l)?t.createElement("div",{className:"margin_top_50"},t.createElement(n.A,{name:"right-click",inline:!0,size:"18"}),t.createElement("span",{className:"margin_left_25"},c.t("Right click to add to your organization"))):null}_(i,"ImportExternalEmojiTooltipInfo"),i.displayName="ImportExternalEmojiTooltipInfo"},8583036784:(N,g,e)=>{"use strict";e.d(g,{$N:()=>U,LU:()=>E,pg:()=>S,tJ:()=>M});var t=e(9392104102),s=e(3502457281),o=e(2757639362),n=e(6457401668),c=e(5757070316),i=e(6839188756),r=e(317660850),a=e(6783791506),l=e(4921059838),d=e(9936232041),u=e(2384831516),f=e(4813703725),m=e(6790819894),h=e(9506008067),v=e(5795074931),p=e(7606781622),T=e(9608713960),A=e(1670069836);const C=_(W=>{var x;return Array.isArray((x=W)===null||x===void 0?void 0:x.elements)},"hasElements"),I=_((W,x)=>(0,s.Ay)(W.emojiName,x.emojiName),"emojiNameSort"),D=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function y(W){var x;const L=(x=(0,d.A)(W))===null||x===void 0?void 0:x.name;return!!L&&D.has(L)}_(y,"isBuiltInEmoji");function P(W,x,L){return decodeURIComponent(x).includes((0,o.w)())?!1:!(L&&((0,l.A)(W,L)||y(L)))}_(P,"isCustomEmoji");const E=(0,u.Mz)((W,x,L)=>{if(!(x&&(0,v.TZ)(W)&&P(W,x,L)&&(0,r.D)(W)))return!1;const F=(0,A.Yc)(W);var B;const K=(B=F==null?void 0:F.id)!==null&&B!==void 0?B:"",H=(0,i.Ic)(F);return!!H&&x.indexOf((0,i.k7)(K,H))===-1&&x.indexOf(K.slice(1))===-1});E.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(W,x,L)=>{if(!(x&&(0,v.TZ)(W)&&P(W,x,L)&&(0,r.D)(W)))return!1;const F=(0,A.Yc)(W);var B;const K=(B=F==null?void 0:F.id)!==null&&B!==void 0?B:"",H=(0,i.Ic)(F);return!!H&&x.indexOf((0,i.k7)(K,H))===-1&&x.indexOf(K.slice(1))===-1}};function M(W,x){return(0,h.d4)(L=>E(L,W,x))}_(M,"useCanImportThisEmoji");function S(W){return(0,h.d4)(x=>W.find(L=>E(x,L==null?void 0:L.url,L==null?void 0:L.name)))}_(S,"useFindFirstImportEmojiFromArray");function R(W,x){for(const L of x||[])(0,a.E)(L)?L.display_url&&W.set(L.display_url,{emojiName:L.name,emojiUrl:L.display_url}):C(L)&&R(W,L.elements)}_(R,"collectMessageEmojis");function k(W,x){for(const{name:L,url:b}of x||[])b&&W.set(b,{emojiName:L,emojiUrl:b})}_(k,"collectMessageReactjis");const O=(0,m.F)((W,x)=>x,(W,x)=>(0,T.bk)(W,(0,c.J)(x)),(W,x)=>{const L=new Map;return k(L,x),R(L,W.blocks),[...L.values()].sort(I)}),U=(0,f.eI)((W,x)=>{let{channelId:L,ts:b}=x;if(!(0,r.D)(W)||!(0,v.TZ)(W))return t.Ml;const F=(0,p.Ld)(W,L,b);return!F||(0,n.aK)(F)?t.Ml:O(W,F).filter(B=>{let{emojiName:K,emojiUrl:H}=B;return E(W,H,K)})})},6828699058:(N,g,e)=>{"use strict";e.d(g,{A:()=>U});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(6968234170),i=e(6228854066),r=e(4031325387),a=e(6916052175),l=e(4088523593),d=e(4117634716),u=e(8822892075),f=e(8170643398),m=e(9464746668),h=e(9262712126),v=e(8739505998),p=e(2312625946),T=e(82287009),A=e(6471059816),C=e(4096483543),I=e(4327331459),D=e(9506008067),y=e(5795074931),P=e(3328068409),E=e(4761125736),M=e(5761207079),S=e(8276911661);function R(){return R=Object.assign||function(W){for(var x=1;x<arguments.length;x++){var L=arguments[x];for(var b in L)Object.prototype.hasOwnProperty.call(L,b)&&(W[b]=L[b])}return W},R.apply(this,arguments)}_(R,"_extends");const k=new A.Ay("members"),O=_(W=>{let{id:x,fallback:L,variableLabel:b,noHighlights:F,noLinking:B,onClick:K,showTooltip:H,clogLinkClick:Y,className:Z,tabIndex:V=0,ariaHidden:ne,supressLinkColors:q,supressMentionAtSymbol:me,forceRealNames:ue,alwaysDisplayAsLink:ae}=W;const le=(0,s.wA)(),fe=(0,D.d4)(P.to),he=(0,D.d4)(y.WR),ie=(0,D.d4)(Le=>(0,S.nv)(Le,x)),X=x===he;let j=ue?(0,h.wg)(ie):(0,h.Gt)(ie),w=(0,f.t8)(ie),Q=(0,f.QR)(ie),G=B;const J=(0,D.d4)(Le=>(0,m.A)(Le,ie)),te=(0,D.d4)(Le=>(0,E._Z)(Le,"app_flexpane")==="on"),se=(0,a.u)(ie);Q&&!(0,I.A)(x)&&!b?(j=x,w=!1,Q=!1,G=!0):b&&(j=b,w=!1,Q=!1,G=!1);const ce=(0,D.d4)(Le=>(0,M.a)(Le,ie.id)),Ee=(0,t.useCallback)(Le=>{Le.preventDefault(),Y==null||Y({link_type:"user"}),(0,p.Ws)(),le(te&&J&&!se?(0,d.o)((0,u.tp)({serviceId:J,memberId:ie.id})):(0,l.n)({e:Le,navProps:(0,u.Fo)({memberId:x})})),K&&K(Le,x)},[Y,J,K,le,x,te,ie,se]),de=`${me?"":"@"}${j||L}`,re=n()("c-member_slug",Z,`c-member_slug--${fe}`,{"c-member_slug--link":ae||!G,"c-member_slug--mention":X&&!F,"c-member_slug--grey":q}),_e=(0,t.useMemo)(()=>t.createElement(i.Ay,{id:x,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0}),[x]),ve=(0,t.useMemo)(()=>(0,C.A)()?{"data-stringify-type":"mention","data-stringify-id":x,"data-stringify-label":de}:{"data-stringify-text":`@${x}`},[x,de]),ge=t.useMemo(()=>t.createElement(v.A,R({className:re,href:`/team/${x}`,"data-member-id":x,"data-member-label":de},ve,{onClick:Ee,tabIndex:V,"aria-hidden":ne}),de),[re,de,x,ve,Ee,V,ne]);return x?w?t.createElement(r.A,{type:"unknown"}):Q?t.createElement(r.A,{type:"non-existent"}):ce?H?t.createElement(p.Ay,{tip:k.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",null,t.createElement(c.A,null))):t.createElement(c.A,null):G?t.createElement("span",{className:re},de):H?K?t.createElement(p.Ay,{tip:_e,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",{dir:"ltr"},ge)):(0,T.yN)({memberId:x,serviceId:J,children:ge}):ge:null},"MemberSlug");O.displayName="MemberSlug";const U=t.memo(O)},516467206:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(5113778506);const s=t.A},5113778506:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816),c=e(8076829876),i=e(5000515034),r=e(8683010724),a=e(2312625946);const l=new n.Ay("channel_token"),d=_(f=>{let{type:m=c.A.Unknown,subtler:h=!1,size:v=c.o.Small,width:p="random",invert:T=!1,showHash:A=!0,showTooltip:C=!0,omitNonExistentTooltip:I=!1}=f;const D=o()("c-missing_channel",{"c-missing_channel--unknown":m===c.A.Unknown,"c-missing_channel--nonexistent":m===c.A.Nonexistent,"c-missing_channel--subtler":h,"c-missing_channel--medium":v===c.o.Medium,"c-missing_channel--unknown_inverted":m===c.A.Unknown&&T,"c-missing_channel--non_existent_inverted":m===c.A.Nonexistent&&T}),y=o()("c-missing_channel--medium_hash",{"c-missing_channel--subtler":h});let P;if(C&&(m===c.A.Unknown?P=l.t("Loading\u2026",{fallbackHash:"b04ba49f848624bb97ab094a2631d2ad74913498",fallbackHashNs:"channel_token"}):m===c.A.Nonexistent&&(P=l.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"}))),m===c.A.Nonexistent){const E=t.createElement("span",{className:"c-missing_channel--private"},t.createElement(r.A,{inline:!0,name:"lock"}),l.t("private channel"));return I?E:t.createElement(a.Ay,{tip:P},E)}return v===c.o.Medium?t.createElement("div",null,t.createElement("div",{className:"c-missing_channel--medium-top"},A&&t.createElement("span",{className:y},t.createElement(r.A,{inline:!0,name:"channel"})),t.createElement(i.A,{tooltip:P,isNonExistent:!1,size:p,className:D})),t.createElement(i.A,{tooltip:P,isNonExistent:!1,size:p,className:D})):t.createElement(i.A,{tooltip:P,isNonExistent:!1,size:p,className:D})},"MissingChannel");d.displayName="MissingChannel";const u=t.memo(d)},1152360252:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(2326217668);const s=t.A},2326217668:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8076829876);const c=_(r=>{let{className:a,isNonExistent:l=!1,size:d,subtler:u=!1,invert:f=!1,dataQa:m}=r;const{Unknown:h,Nonexistent:v}=n.A,p=l?v:h,T=(0,t.useMemo)(()=>({height:d,width:d}),[d]);return t.createElement("span",{className:o()(a,"c-missing_icon",`c-missing_icon--${p}`,{"c-missing_icon--unknown_inverted":p===h&&f,"c-missing_icon--non_existent_inverted":p===v&&f,"c-missing_icon--subtler":u}),style:T,"data-qa":m})},"MissingIcon");c.displayName="MissingIcon";const i=c},4031325387:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(6916498058);const s=t.A},6916498058:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(6471059816),o=e(8076829876),n=e(5000515034);const c=new s.Ay("member_token"),{Unknown:i,Nonexistent:r}=o.A,a=_(d=>{let{type:u=i,subtler:f=!1,className:m,"data-qa":h}=d;const v=u===i?c.t("Loading\u2026"):c.t("Private user info");return t.createElement(n.A,{className:m??"",isNonExistent:u===r,subtler:f,tooltip:v,"data-qa":h})},"MissingMember");a.displayName="MissingMember";const l=t.memo(a)},4192943401:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(6471059816),o=e(8076829876),n=e(5000515034);const c=new s.Ay("user_group_token"),{Unknown:i,Nonexistent:r}=o.A,{Small:a,Medium:l}=o.o,d=_(m=>{let{invert:h=!1,size:v=a,type:p=i,subtler:T=!1}=m;const A=p===i?c.t("Loading\u2026",{fallbackHash:"b04ba49f848624bb97ab094a2631d2ad74913498"}):c.t("Private user group info");if(v===l){const C="\xA0\xA0\xB7\xA0\xA0";return t.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.createElement("div",null,t.createElement(n.A,{tooltip:A,isNonExistent:p===r,size:"small",invert:h})," ",t.createElement(n.A,{tooltip:A,isNonExistent:p===r,size:"small",invert:h})),t.createElement("div",null,t.createElement(n.A,{tooltip:A,isNonExistent:p===r,size:"small",invert:h}),C,t.createElement(n.A,{tooltip:A,isNonExistent:p===r,size:"large",invert:h})))}return t.createElement(n.A,{tooltip:A,isNonExistent:p===r,size:"random",subtler:T,invert:h})},"MissingUserGroup");d.displayName="MissingUserGroup";const f=d},3270738832:(N,g,e)=>{"use strict";e.d(g,{i:()=>l,m:()=>f});var t=e(3134334389),s=e(6471059816),o=e(4980558152),n=e(9236644324),c=e(9391594207);const i=new s.Ay("message"),r={code:"code",codeBlock:"codeBlock"};function a(m){let{children:h,blockType:v,...p}=m,T;const A=t.Children.only(h),C=t.cloneElement(A,{...p,ref:D=>{D&&(T=D)}}),I=(0,t.useCallback)(()=>[{label:v==="codeBlock"?i.t("Copy this code block"):i.t("Copy this code"),click:()=>T&&(0,n.x3)(T.innerText)}],[v,T]);return t.createElement(o.A,{getTemplate:I},C)}_(a,"BaseCopyCodeBlockContextMenuTrigger"),a.displayName="BaseCopyCodeBlockContextMenuTrigger";const l=(0,c.N)(()=>({}),()=>({}))(a),d=t.forwardRef((m,h)=>{let{children:v,...p}=m;const T=t.Children.only(v);return t.cloneElement(T,{...p,ref:h,onMouseDown:u})});function u(m){if(m.button!==0||m.detail<3)return;m.preventDefault();const h=window.getSelection(),v=document.createRange();h==null||h.removeAllRanges(),v.selectNodeContents(m.currentTarget),h==null||h.addRange(v)}_(u,"selectContentsOnTripleMouseDown");const f=(0,c.N)(()=>({}),()=>({}),null,{forwardRef:!0})(d)},3869429517:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(6122756707),o=e(3771536679),n=e(3098394427),c=e(6954805277),i=e(4841770661);function r(l){let{ts:d,format:u,fallback:f=void 0,link:m=void 0,noLinking:h=!1,do24hrTime:v=!1,timezone:p=void 0}=l;const T=(0,s.wA)(),A=(0,c.Yq)(d,u,{fallbackString:f,do24hrTime:v,timezone:p}),C=(0,t.useCallback)(I=>{m&&A&&(0,o.A)(A,m)&&(T((0,i.A)({text:A,url:m})),I.preventDefault())},[T,A,m]);return!A||A===u?null:!m||h?t.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},A):t.createElement(n.A,{"data-qa":"mrkdwn_date",href:m,maybeOpenSuspiciousLinkDialog:C},A)}_(r,"DateCommand"),r.displayName="DateCommand";const a=t.memo(r)},2836999160:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4173622771);let c=_(class extends t.PureComponent{render(){const{type:a,noHighlights:l,noLinking:d}=this.props,u=!l,f=(0,n.Y)({type:a,tsfMode:"NORMAL"}),m=f,h=o()("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!d,"c-mrkdwn__broadcast--mention":u});return t.createElement("span",{className:h,"data-broadcast-id":`BK${a}`,"data-stringify-text":f},m)}},"MrkdwnBroadcastCommand");c.defaultProps={noHighlights:!1,noLinking:!1},c.displayName="MrkdwnBroadcastCommand";const i=c},7048718168:(N,g,e)=>{"use strict";e.d(g,{A:()=>q});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(6818173548),i=e(516467206),r=e(6388117406),a=e(6889316748),l=e(4088523593),d=e(5083570322),u=e(5892132962),f=e(2233365467),m=e(8822892075),h=e(3275490582),v=e(3929724715),p=e(1407713935),T=e(4559887502),A=e(8920264989),C=e(6495946979),I=e(8739505998),D=e(8683010724),y=e(8181621268),P=e(82287009),E=e(5822647621),M=e(6471059816),S=e(9038222488),R=e(6904279885),k=e(5123689463),O=e(9391594207),U=e(3273285825),W=e(9101533895),x=e(8146089001),L=e(4761125736),b=e(1670069836);function F(){return F=Object.assign||function(me){for(var ue=1;ue<arguments.length;ue++){var ae=arguments[ue];for(var le in ae)Object.prototype.hasOwnProperty.call(ae,le)&&(me[le]=ae[le])}return me},F.apply(this,arguments)}_(F,"_extends");const B=new M.Ay("recordchannels"),K={channelName:void 0,className:void 0,fallbackName:void 0,showTooltip:!0,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isRecord:!1,recordChannelIconProps:null,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:n.A,mpimMemberNames:[],teamName:"",channelHasNonUniqueName:!1,noTabbableContent:!1,alwaysDisplayAsLink:!1};let H=_(class extends t.PureComponent{async onClick(ue){const{id:ae,tabId:le,experimentBkChannelTabsGroupOn:fe}=this.props;ue.preventDefault(),ue.stopPropagation();const he=fe&&le?(0,m.id)(ae,{tabId:le}):(0,m.pr)(ae);this.props.maybeOpenInSurfaceOrNavigate({e:ue,navProps:he})}getTooltipContent(){const{id:ue,isRecord:ae,isChannelImOrMpim:le,mpimMemberNames:fe,teamName:he,channelHasNonUniqueName:ie,recordLabel:X}=this.props;return le?fe.join(", "):ae?t.createElement("div",{className:"c-mrkdwn__record_channel--tooltip"},B.t("{recordLabel} channel ",{recordLabel:X,recordType:X}),t.createElement(d.r,{channelId:ue})):t.createElement(t.Fragment,null,t.createElement(c.A,{channelId:ue}),ie&&t.createElement("br",null),ie&&t.createElement("span",{className:"c-member_slug__tooltip_subheader"},he))}clogLinkClick(){var ue,ae;(ae=(ue=this.props).clogLinkClick)===null||ae===void 0||ae.call(ue,{item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}renderChannelHoverCard(){const{id:ue}=this.props;return(0,P.Q$)({channelId:ue,enableButtons:!0})}renderChannelHoverCardTrigger(ue){return t.createElement(a.d,{renderCard:this.renderChannelHoverCard},ue)}render(){const{channelName:ue,className:ae,fallbackName:le,showTooltip:fe,id:he,isPrivate:ie,isChannelImOrMpim:X,isRecord:j,recordChannelIconProps:w,isMember:Q,isNonExistent:G,isUnknown:J,noLinking:te,isFromAnotherTeam:se,team:ce,noTabbableContent:Ee,alwaysDisplayAsLink:de,experimentChannelHoverCardGroupOn:re}=this.props;if(J)return re&&fe?this.renderChannelHoverCardTrigger(t.createElement(i.A,{showTooltip:!1,type:"unknown"})):t.createElement(i.A,{showTooltip:fe,type:"unknown"});if(G&&!le)return re&&fe?this.renderChannelHoverCardTrigger(t.createElement(i.A,{showTooltip:!1,type:"non-existent"})):t.createElement(i.A,{showTooltip:fe,type:"non-existent"});const _e=!ie||Q||j;if(!_e)return re&&fe?this.renderChannelHoverCardTrigger(t.createElement(i.A,{showTooltip:!1,type:"non-existent"})):t.createElement(i.A,{showTooltip:fe,type:"non-existent"});const ve=(0,E.A)({channelName:ue,fallbackName:le,isUnknown:J,isNonExistent:G,includePrefix:!ie&&!X&&!w}),ge=ve;let Le,ke;Le=!te&&!G&&_e,ie&&(ke=(0,R.A)({channelName:ue,isPrivate:ie})),Le&&se&&(Le=!!ce);const Ke=o()("c-mrkdwn__channel c-member_slug",{internal_channel_link:Le,"c-member_slug--link":de||Le},ae);if(!Le)return t.createElement("span",{className:Ke},ie&&t.createElement(D.A,{name:"lock-filled",inline:!0}),ge);let Ne;w?Ne=t.createElement(D.A,F({inline:!0},w)):ie&&(Ne=t.createElement(D.A,{name:"lock-filled",inline:!0}));const Re=se&&ce?(0,k.Kk)({team:ce,channelId:he}):(0,k.iu)({channelId:he}),xe=Re?{href:Re,clogLinkClick:this.clogLinkClick}:{},We=t.createElement(I.A,F({className:Ke,"data-channel-name":ve,"data-channel-id":he,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":ke,onClick:this.onClick},xe,Ee&&{tabIndex:-1}),Ne,ge);return re?fe?t.createElement(r.A,{id:he},this.renderChannelHoverCardTrigger(We)):t.createElement(r.A,{id:he},We):fe?t.createElement(r.A,{id:he},t.createElement(y.Ay,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},We)):t.createElement(r.A,{id:he},We)}constructor(ue){super(ue),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this),this.renderChannelHoverCard=this.renderChannelHoverCard.bind(this),this.renderChannelHoverCardTrigger=this.renderChannelHoverCardTrigger.bind(this)}},"BaseMrkdwnChannel");H.defaultProps=K,H.displayName="BaseMrkdwnChannel";function Y(me,ue){let{id:ae}=ue,le,fe,he,ie,X,j,w=null;const Q=(0,W.OL)(me,ae);let G,J,te=null,se=[],ce,Ee,de;const re=(0,L._Z)(me,"bk_channel_tabs")==="on",_e=(0,S.V)(me);return Q?(le=(0,A.SB)(me,Q,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),X=(0,p.t8)(Q),fe=(0,p.Zp)(Q),ie=(0,C.bl)(Q),G=(0,p.JM)(Q),J=(0,p.rI)(Q),te=(0,u.sc)(Q),he=(0,p.QR)(Q),j=(0,v.lo)(Q),w=j?(0,b._J)(me,(0,v.bK)(me,Q)):null,se=(0,v.Zu)(me,ae),Ee=(0,T.i)((0,W.MS)(me),Q),de=(0,f.jT)(Q),Ee&&(ce=(0,x.a)(me,{channel:Q}))):he=!0,{channelName:le,isPrivate:fe,isChannelImOrMpim:G,isRecord:J,recordChannelIconProps:te,isNonExistent:he,isMember:ie,isUnknown:X,isFromAnotherTeam:j,team:w,mpimMemberNames:se,channelHasNonUniqueName:Ee,teamName:ce,recordLabel:de,experimentBkChannelTabsGroupOn:re,experimentChannelHoverCardGroupOn:_e}}_(Y,"mapStateToProps");const Z={updateChannelLastTrigger:U.Z,maybeOpenInSurfaceOrNavigate:l.n},V=(0,O.N)(Y,Z),q=(0,h.A)(V(H))},4839279329:(N,g,e)=>{"use strict";e.d(g,{A:()=>b});var t=e(3134334389),s=e(6818173548),o=e(7577304499),n=e(6072832722),c=e(6971099563);function i(F){let{href:B,entity:K}=F;const H=(0,c.Kr)(K);if(H){const Y=H.full(),Z=H.compact(),V=H.expanded();if(Y)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Y.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},Y.headerSubtitle()," | ",Y.headerTitle())),t.createElement("div",{className:"sk_foreground_high_solid break_all"},B));if(Z)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Z.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},Z.subtitle()," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},B));if(V)return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},V.title())),t.createElement("div",null,t.createElement("span",{className:"normal"},V.subtitle()," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},B))}return t.createElement("div",{className:"sk_foreground_high_solid break_all"},B)}_(i,"WorkObjectLinkTooltip"),i.displayName="WorkObjectLinkTooltip";var r=e(1191942715),a=e(897219217),l=e(1030162945),d=e(6658490498),u=e(3037015781),f=e(1407713935),m=e(8920264989),h=e(6007206761),v=e(2647703359),p=e(7334104107),T=e(1198382523),A=e(7980641),C=e(3787230964),I=e(7039120302),D=e(675958705),y=e(4138249182),P=e(6457401668),E=e(4821277680),M=e(6471059816),S=e(9391594207),R=e(9101533895),k=e(937317117),O=e(7606781622),U=e(7057004528);const W=new M.Ay("linkify_emails");function x(F){let{href:B,isMsgPermalink:K=!1,msg:H=void 0,channelDisplayName:Y,msgSenderName:Z,permalinkChannelId:V=void 0,channel:ne=void 0,isFilePermalink:q=!1,file:me=void 0,isWorkObject:ue,entity:ae}=F,le=B.length>500?`${B.substr(0,500)}\u2026`:B;if(le=K?le:le==null?void 0:le.toLowerCase(),ue&&ae)return t.createElement(i,{entity:ae,href:B});if(q&&me){const ie=me==null?void 0:me.title,X=(0,v.Hx)(me);return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},ie)),t.createElement("div",null,t.createElement("span",{className:"normal"},X," | "),t.createElement("span",{className:"normal"},t.createElement(o.A,{file:me,displaySharedBy:!0,excludeTime:!0}))),t.createElement("div",{className:"sk_foreground_high_solid break_all"},B))}if(!K||(0,u.lv)(H)||(0,p.ow)(H)||(0,h.F)(ne)||(0,C.A)(H==null?void 0:H.subtype)||(0,P.ys)(H)==="tombstone"||(0,P.s7)(H)||(0,P.Dv)(H)||(0,P.TD)(H)||(0,I.o)(H)||!(0,p.iM)(H)&&!(H!=null&&H.text)){if(B.startsWith("mailto:")){const X=B.split("mailto:")[1]?B.split("mailto:")[1]:B;return W.rt("Contact {emailAddress} in Slack",{emailAddress:X})}return t.createElement(t.Fragment,null,le)}let fe;if(H&&(0,D.A)(H,!0)&&(0,a.n)(H.blocks)&&!(0,y.A)(H))fe=t.createElement(r.A,{richTextBlock:(H==null?void 0:H.blocks)&&H.blocks[0],emojiSize:l.lw.SMALL,truncateLength:125});else{const ie=H&&(0,T.A)(H);ie&&(fe=t.createElement(n.A,{text:ie,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:l.lw.SMALL,maxCharacters:125}))}const he=(0,f.LI)(ne)||(0,f.yz)(ne)?Y:t.createElement(s.A,{className:"normal",channelId:V});return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Z),t.createElement("span",{className:"normal"}," | ",he)),fe&&t.createElement("div",{className:"normal"},fe),t.createElement("div",{className:"sk_foreground_high_solid break_all"},B))}_(x,"MrkdwnLinkTooltip"),x.displayName="MrkdwnLinkTooltip";function L(F,B){let{href:K}=B;const H=(0,E.$N)(F,K),Y=!!(H&&H.type==="message"&&H.ts),Z=Y?H.channelId:void 0,V=!!(H&&(H!=null&&H.fileId)),ne=H!=null&&H.fileId?(0,k.Lp)(F,H.fileId):void 0,q=Y&&H.channelId&&H.ts&&(0,O.Ld)(F,H.channelId,H.ts),me=q&&(0,A.A)(F,q),ue=!!(H&&H.type===E.im.WORK_OBJECT),ae=ue&&(0,U.Ne)(F,{recordId:H==null?void 0:H.entityId,lookupFunction:H==null?void 0:H.lookupFunction,entityUrl:H==null?void 0:H.entityUrl})||void 0;var le;return{isFilePermalink:V,file:ne,isMsgPermalink:Y,msg:q||void 0,permalinkChannelId:Z||void 0,channel:Z&&(le=(0,R.OL)(F,Z))!==null&&le!==void 0?le:void 0,channelDisplayName:Y?(0,m.SB)(F,(0,R.OL)(F,Z)):void 0,msgSenderName:me?(0,d.A)(F,{userId:me.userId,botId:me.botId,username:me.username,botProfile:q.bot_profile}):void 0,isWorkObject:ue,entity:ae}}_(L,"mapStateToProps");const b=(0,S.N)(L)(x)},4392539311:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>Z});var t=e(3134334389),s=e(2774532222),o=e(7715417323),n=e(5734673180),c=e(7582939986),i=e(3621443010),r=e(5783032341),a=e(7732872146),l=e(4839279329),d=e(5604079762),u=e(1650415028),f=e(8170244779),m=e(4116177835),h=e(6271402872),v=e(6536982570),p=e(4821277680),T=e(6044196829),A=e(3098394427),C=e(8181621268),I=e(82287009),D=e(8257102208),y=e(337319621),P=e(9899967630),E=e(6471059816),M=e(9391594207),S=e(7547876038),R=e(8677230210),k=e(4761125736),O=e(5492254797),U=e(8276911661),W=e(2047021170),x=e(8262898118);const L="javascript:";function b(ne){let{url:q,origin:me,botId:ue,urlIsSIWSLink:ae,experimentWebIdentityLinksGroupTreatment:le,isFileQuipAndNotAccessible:fe,isFileListAndNotAccessible:he}=ne;return ae&&le?"siws":fe?"quip-inaccessible":he?"list-inaccessible":ue?"bot":(0,s.A)(q,L)?"javascript":(0,s.A)(q,`${me}/messages`)?"messages":(0,s.A)(q,`${c.SQ}chat.help`)?"old-slack-action":(0,s.A)(q,`${c.Rw}`)?"slack-action":"external"}_(b,"getUrlType");const F=(0,r.A)();function B(ne){let{botId:q,botName:me,children:ue,origin:ae=F,doSlackAction:le,doSlackActionLinks:fe=!0,requestAccessModalThunk:he,noLinking:ie=!1,url:X,maybeOpenSuspiciousLinkDialog:j=o.A,clogLinkClick:w=o.A,urlIsSIWSLink:Q=!1,explicitlyRenameBotLink:G=!1,showTooltip:J=!1,suppressLinkWarningPref:te=!1,experimentWebIdentityLinksGroupTreatment:se=!1,isHermesLinkTrigger:ce=!1,triggerId:Ee,isFileQuipAndNotAccessible:de=!1,isFromAppHome:re=!1,permalinkType:_e=null,permalinkFileId:ve=void 0,isFileListAndNotAccessible:ge=!1,noTabbableContent:Le=!1,appId:ke}=ne;const Ke=(0,t.useCallback)(()=>{le(X)},[le,X]),Ne=(0,t.useCallback)(we=>{we.preventDefault(),he({url:X})},[he,X]),Re=(0,t.useCallback)(we=>{let Ce;_e===p.im.FILE&&ve&&(Ce={item_id:ve,item_type:"F",link_action:"file_preview_link"});let Te;_e===p.im.WORK_OBJECT&&(Te={appId:ke}),w({...we,...Ce,...Te,link_type:_e||"external"})},[_e,ve,w,ke]),xe=(0,t.useCallback)(()=>{const we=(0,n.A)(X);return t.createElement(l.A,{href:we})},[X]);if(ie)return t.createElement("span",null,ue);const We=b({url:X,origin:ae,botId:q,urlIsSIWSLink:Q,experimentWebIdentityLinksGroupTreatment:se,isFileQuipAndNotAccessible:de,isFileListAndNotAccessible:ge}),$=(0,n.A)(X);let ee,Ve=null,ze=!1,st=!1,Ge=ue,be=!1;if(We==="slack-action")st=!0,fe?Ve=Ke:(ze=!0,ee="(Disabled) ");else if(We==="old-slack-action")ze=!0,ee="(Disabled) ";else if(We==="quip-inaccessible"||We==="list-inaccessible"){const Ce=new E.Ay("request_access").t("Request access"),Te=t.createElement(A.A,{className:"c-mrkdwn__quip_and_list_file_request_access_link","data-stringify-link":$,"data-qa":"file-request-access-link",href:$,onClick:Ne,isFromAppHome:re,tabIndex:Le?-1:void 0},ue);return J?t.createElement(C.Ay,{tip:Ce,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},Te):Te}else if(We==="javascript")st=!0,Ve=o.A;else if(We==="bot"&&G)st=!0,Ge=me||ue,be=!0;else if(We==="siws"){const we=_((Te,Ye)=>t.createElement(A.A,{autoClogProps:Ye,clogLinkClick:Re,className:"c-mrkdwn__identity_trigger",onClick:Te,"data-stringify-link":$,href:$},Ge),"renderBaseLink");let Ce=we;return J&&(Ce=_((Te,Ye)=>t.createElement(C.Ay,{tip:xe,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},we(Te,Ye)),"renderSiwsLink")),t.createElement(u.A,{url:$},Ce)}if(st){let we=t.createElement(T.A,{onClick:Ve&&!ze?Ve:o.A,disabled:ze,renderAsSpan:!0},ee,Ge);return be&&(we=t.createElement(m.A,{botId:q,onClick:!ze&&Ve},we)),we}const Se=t.createElement(A.A,{"data-stringify-link":$,href:$,clogLinkClick:Re,maybeOpenSuspiciousLinkDialog:te?o.A:j,isFromAppHome:re,tabIndex:Le?-1:void 0},ue);return ce&&Ee?t.createElement(f.A.Consumer,null,we=>{let{...Ce}=we;const Te={triggerId:Ee,url:X},Ye=(0,O.P)(Ce),De=(0,O.S)(Ce,Te);return(0,I.sh)({shortcutInfo:Te,channelId:Ce.channelId,hermesLinkTriggerUIContext:Ye,autoClogEntryPoint:(De==null?void 0:De.entryPoint)||"other",children:t.createElement(A.A,{"data-stringify-link":$,href:$,clogLinkClick:Re,autoClogProps:De,hermesLinkTriggerUIContext:Ye,maybeOpenSuspiciousLinkDialog:te?o.A:j},ue)})}):J?t.createElement(C.Ay,{tip:xe,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Se):Se}_(B,"BaseMrkdwnLink"),B.displayName="BaseMrkdwnLink";const K=_((ne,q)=>{let{children:me,memberId:ue,url:ae}=q;const le=(0,k._Z)(ne,"web_identity_links")==="treatment",fe=(0,i.A)(ae),he=(0,a.Ay)(ae),ie=he?(0,p.XN)(ne,he):null;let X;if(fe&&(X=(0,R.vu)(ne,fe),!X&&ue)){const G=(0,U.nv)(ne,ue);(0,v.Ux)(ne,G)&&(X=me),X||(0,y.Ay)({state:ne}).warn(`MrkdwnLink: no bot name found for ${fe}`)}const j=(0,h.Wc)(ne)&&(ie==null?void 0:ie.type)===p.im.SHORTCUT_LINK_TRIGGER,w=he&&(0,P.dR)(ne,he)!==null,Q=he&&(0,D.W4)(ne,he)!==null;return{botId:fe??void 0,botName:X,appId:ie==null?void 0:ie.appId,experimentWebIdentityLinksGroupTreatment:le,suppressLinkWarningPref:!!(0,W.ty)(ne,"suppress_link_warning"),urlIsSIWSLink:he?(0,x.Ls)(ne,he):!1,isHermesLinkTrigger:j,triggerId:ie==null?void 0:ie.triggerId,permalinkType:ie==null?void 0:ie.type,permalinkFileId:ie==null?void 0:ie.fileId,isFileQuipAndNotAccessible:w,isFileListAndNotAccessible:Q}},"mapStateToProps"),H=_(ne=>({doSlackAction:q=>ne((0,S.A)(q)),requestAccessModalThunk:q=>ne((0,d.A)(q))}),"mapDispatchToProps"),Z=(0,M.N)(K,H)(B);Object.defineProperty({},"getUrlType",{get:()=>b,set:ne=>{b=ne}})},6072832722:(N,g,e)=>{"use strict";e.d(g,{A:()=>ae});var t=e(3134334389),s=e(1398359918),o=e(6696292586),n=e(8891672792),c=e(8840779375),i=e(9113979368),r=e(7715417323),a=e(6828699058),l=e(3270738832),d=e(3869429517),u=e(2836999160),f=e(7048718168),m=e(4392539311),h=e(6423046221),v=e(3771536679),p=e(1030162945),T=e(3043682041),A=e(8181621268),C=e(6818330210),I=e(2952777997),D=e(7285080585),y=e(1842363787),P=e(337319621),E=e(6471059816),M=e(9907843289),S=e(4096483543),R=e(5619542846),k=e(9391594207),O=e(6652001255),U=e(4841770661),W=e(4761125736),x=e(1021289374),L=e(1317368584),b=e(2047021170),F=e(3146663623);function B(){return B=Object.assign||function(le){for(var fe=1;fe<arguments.length;fe++){var he=arguments[fe];for(var ie in he)Object.prototype.hasOwnProperty.call(he,ie)&&(le[ie]=he[ie])}return le},B.apply(this,arguments)}_(B,"_extends");const K=void 0,H="\u2026.,_-",Y=/\ue000|\ue001/,Z=new E.Ay("message"),V=(0,P.Wo)();let ne=_(class extends t.PureComponent{componentDidMount(){const{onRender:fe}=this.props;fe==null||fe({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:fe}=this.props;fe==null||fe({isTruncated:this.isTruncated()})}render(){const{text:fe,className:he,noJumbomoji:ie,noSpecials:X,customContentHandler:j,addDirectionAttr:w,refToForward:Q,onMouseEnter:G,onMouseLeave:J,"data-qa":te,experimentTsfSnitchGroupOn:se}=this.props;if(!fe)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const ce=X?"NOMRKDWN":this.props.tsfMode,Ee=this.props.ariaAssertive?"assertive":void 0;let de=(0,y.sm)(fe,ce,{jumbomoji:!ie,allow_intra_word_formatting:!0});Y.test(fe)&&(de=(0,s.A)(de,ve=>ve.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let re=(0,D.A)(de);j&&(re=j(re));const _e=w?"auto":void 0;return t.createElement("span",{className:se?`c-mrkdwn__snitch ${he||""}`:he,ref:Q,"aria-live":Ee,dir:_e,"data-qa":te,onMouseEnter:G,onMouseLeave:J},this.renderMrkdwnFormatting(re,!0))}constructor(...fe){var he;super(...fe),he=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(ie,X)=>{const{onUserGroupClick:j}=this.props;ie.preventDefault(),j==null||j(X)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=ie=>{let{contents:X}=ie;const j=(0,M.Yp)()==="ja-JP"?"\uFF0A":"*",w=(0,S.A)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":j,"data-stringify-suffix":j,"data-stringify-requires-siblings":!0};return t.createElement("b",B({key:this.nextKey()},w),this.renderMrkdwnFormatting(X))},this.renderChannel=ie=>{let{id:X="",name:j=""}=ie;const{noLinking:w,clogLinkClick:Q,showTooltips:G}=this.props;return this.numCharactersUsed+=(j||X).length+1,t.createElement(f.A,{key:this.nextKey(),id:X,noLinking:w,clogLinkClick:Q,showTooltip:G})},this.renderCode=ie=>{let{contents:X}=ie;if(this.props.noCode)return t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(X));const j=(0,M.Yp)()==="ja-JP"?"\uFF40":"`",w=(0,S.A)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":j,"data-stringify-suffix":j,"data-stringify-requires-siblings":!0};return t.createElement(l.i,{blockType:"code",key:this.nextKey()},t.createElement(l.m,null,t.createElement("code",B({key:this.nextKey(),className:"c-mrkdwn__code"},w),this.renderMrkdwnFormatting(X))))},this.renderCommand=ie=>{let{data:X}=ie;const{type:j,label:w,...Q}=X,{noHighlights:G,noLinking:J,do24hrTime:te}=this.props;switch(j){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=j.length+1,t.createElement(u.A,B({},Q,{key:this.nextKey(),type:j,noHighlights:G,noLinking:J}));case"subteam":return this.numCharactersUsed+=(w||j).length,t.createElement(h.Ay,B({},Q,{key:this.nextKey(),fallback:w,noHighlights:G,noLinking:J,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(w||j).length,t.createElement(d.A,B({},Q,{key:this.nextKey(),fallback:w,do24hrTime:te}));default:return K}},this.renderEmoji=ie=>{let{name:X=""}=ie;const{showTooltips:j,stopAnimations:w,emojiDisplayInfo:Q,emojiSize:G=p.lw.MEDIUM,isEmojiInlineWithText:J,iconInTextMode:te,sourceTeamId:se}=this.props;this.numCharactersUsed+=1;const{name:ce=X,url:Ee=void 0}=(0,C.H)(X,Q);return t.createElement(p.Ay,{key:this.nextKey(),text:ce,emojiSize:G,showTooltip:j,stopAnimations:w,iconInTextMode:te,sourceTeamId:se,isEmojiInlineWithText:J,url:Ee})},this.renderHardSpace=ie=>this.props.customLineEnding?"\xA0":["\xA0",t.createElement("wbr",{key:this.nextKey()})],this.renderHex=ie=>{let{color:X=""}=ie;const{noHexColors:j}=this.props;return this.numCharactersUsed+=X.length,j?null:t.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:X}})},this.renderHighlight=ie=>t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},ie),this.renderHighlightMarkers=ie=>{let{contents:X}=ie;return t.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(X))},this.renderHighlights=(ie,X)=>{let{text:j=""}=ie;const{highlightWords:w,noHighlights:Q,maxCharacters:G}=this.props,{isLastItem:J}=X;if((0,o.A)(G)&&this.numCharactersUsed<G){const Ee=G-this.numCharactersUsed;if(Ee<j.length||Ee===j.length&&!J){const de=(0,n.A)((0,n.A)(j.slice(0,Ee)),H);return this.numCharactersUsed=G,[this.renderHighlights({text:de},X),"\u2026"]}this.numCharactersUsed+=j.length}if(!j||!w||Q)return(0,R.A)(j);const te=(0,I.Ay)(j,w),se=[];let ce=0;if(te.forEach(Ee=>{let{index:de,length:re}=Ee;const _e=(0,R.A)(j.slice(ce,de));se.push(_e);const ve=(0,R.A)(j.substr(de,re));se.push(this.renderHighlight(ve)),ce=de+re}),ce!==j.length){const Ee=(0,R.A)(j.slice(ce));se.push(Ee)}return se},this.renderItalic=ie=>{let{contents:X}=ie;const j=(0,M.Yp)()==="ja-JP"?"\uFF3F":"_",w=(0,S.A)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":j,"data-stringify-suffix":j,"data-stringify-requires-siblings":!0};return t.createElement("i",B({key:this.nextKey()},w),this.renderMrkdwnFormatting(X))},this.renderJumbomoji=ie=>{let{name:X}=ie;const{showTooltips:j,stopAnimations:w,sourceTeamId:Q}=this.props;return this.numCharactersUsed+=1,t.createElement(p.Ay,{key:this.nextKey(),text:X,emojiSize:p.lw.LARGE,showTooltip:j,stopAnimations:w,sourceTeamId:Q})},this.renderLineBreak=()=>{const{customLineEnding:ie}=this.props,X=t.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,ie?[t.createElement("span",{key:this.nextKey()},ie),X]:X},this.onMaybeOpenSuspiciousLinkDialog=(ie,X)=>{let{url:j="",contents:w=[]}=X;const{onOpenSuspiciousLinkDialog:Q,suppressLinkWarningPref:G}=this.props;if(G)return;const J=_(Ee=>Ee!=null&&Ee.text?Ee.text:Ee!=null&&Ee.name?Ee.name:Ee!=null&&Ee.contents?Ee.contents.map(J):"","textFromContents"),te=w.map(J).join(""),se=te.replace(/&amp;/g,"&"),ce=j.replace(/&amp;/g,"&");(0,v.A)(te,j)&&(Q==null||Q({text:se,url:ce}),ie.preventDefault())},this.renderLink=ie=>{let{url:X="",contents:j=[]}=ie;const{doSlackActionLinks:w,noLinking:Q,origin:G,memberId:J,clogLinkClick:te,explicitlyRenameBotLink:se,isFromAppHome:ce,showTooltips:Ee}=this.props;return t.createElement(m.Ay,{key:this.nextKey(),url:X,noLinking:Q,doSlackActionLinks:w,origin:G,memberId:J,clogLinkClick:te,explicitlyRenameBotLink:se,showTooltip:Ee,maybeOpenSuspiciousLinkDialog:de=>{this.onMaybeOpenSuspiciousLinkDialog(de,{url:X,contents:j})},isFromAppHome:ce},this.renderMrkdwnFormatting(j))},this.renderLongQuotePrefix=()=>(0,S.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=ie=>{let{id:X="",fallback:j}=ie;const{noHighlights:w,noLinking:Q,showTooltips:G,clogLinkClick:J,forceRealNames:te,supressMentionAtSymbol:se}=this.props;return this.numCharactersUsed+=X.length,t.createElement(a.A,{key:this.nextKey(),forceRealNames:te,id:X,fallback:j,showTooltip:G,noHighlights:w,noLinking:Q,clogLinkClick:J,supressMentionAtSymbol:se})},this.renderMrkdwnFormatting=function(ie){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:j}=he.props;return(0,c.A)(ie,(w,Q)=>{if(he.isTruncated())return!1;const G=w.type,J=G&&he.FORMAT_HANDLERS[G]||he.renderHighlights,te=_(()=>{const ce=Boolean(X&&ie&&Q===ie.length-1);return J(w,{index:Q,isLastItem:ce})},"getDefaultOutput");let se;try{j?(se=j({item:w,getDefaultOutput:te}),t.isValidElement(se)&&(se=t.cloneElement(se,{key:he.nextKey()}))):se=te()}catch(ce){V.error(ce)}return se===K&&(se=he.renderUnknownItem(w)),se})},this.renderParagraphBreak=()=>{const{customLineEnding:ie}=this.props;return ie?this.renderLineBreak():(0,S.A)()?t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.createElement("i",{className:"copy_only"},t.createElement("br",null)))},this.renderPre=(ie,X)=>{let{contents:j}=ie,{index:w}=X;if(this.props.noCode)return this.renderUnformattedBlock({contents:j,index:w});const Q=(0,M.Yp)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",G=(0,S.A)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":Q,"data-stringify-suffix":Q,"data-stringify-requires-siblings":!0};return t.createElement(l.i,{blockType:"codeBlock"},t.createElement(l.m,null,t.createElement("pre",B({key:this.nextKey(),className:"c-mrkdwn__pre"},G),this.renderMrkdwnFormatting(j))))},this.renderQuote=(ie,X)=>{let{contents:j}=ie,{index:w}=X;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:j,index:w});const Q={};if((0,S.A)()&&!(0,i.A)(j)){const G=(j==null?void 0:j[0].type)==="long_quote_prefix"?"blockquote":"quote";Q["data-stringify-type"]=G}return t.createElement("blockquote",B({key:this.nextKey(),className:"c-mrkdwn__quote"},Q),this.renderMrkdwnFormatting(j))},this.renderQuotePrefix=()=>(0,S.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=ie=>{let{contents:X}=ie;const j=(0,S.A)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.createElement("strike",B({key:this.nextKey()},j),this.renderMrkdwnFormatting(X))},this.renderUnformattedBlock=ie=>{let{contents:X,index:j}=ie;const w=t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(X));if(j===0)return w;const Q=this.renderLineBreak();return this.isTruncated()?Q:[Q,w]},this.renderUnknownItem=ie=>{let{token:X}=ie;const{showTooltips:j}=this.props;return j?t.createElement(A.Ay,{key:this.nextKey(),tip:Z.t("Sorry! This part didn\u2019t render correctly.")},t.createElement("code",{className:"sk_primary_foreground"},X)):t.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},X)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");ne.defaultProps={text:"",tsfMode:"NORMAL",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:r.A,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:r.A,onMouseEnter:r.A,onMouseLeave:r.A,explicitlyRenameBotLink:!1,onUserGroupClick:r.A,onOpenSuspiciousLinkDialog:r.A,refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1,forceRealNames:!1,supressMentionAtSymbol:!1,useUserNamePrefs:!1},ne.displayName="BaseMrkdwn";const q=_((le,fe)=>{const{emojiMode:he,noHexColors:ie,noJumbomoji:X,useUserNamePrefs:j}=fe,w=he||(0,T.w)(le),Q=(0,L.A)(le);return{emojiMode:w,noJumbomoji:X||!Q,highlightWords:(0,x.A)(le),noHexColors:ie||(0,b.ty)(le,"hide_hex_swatch"),do24hrTime:(0,b.ty)(le,"time24"),suppressLinkWarningPref:(0,b.ty)(le,"suppress_link_warning"),experimentTsfSnitchGroupOn:(0,W._Z)(le,"tsf_snitch")==="on",forceRealNames:j&&(0,F.E)(le)}},"mapStateToProps"),me=_(le=>({onUserGroupClick:fe=>le((0,O.q)({groupId:fe})),onOpenSuspiciousLinkDialog:fe=>{let{text:he,url:ie}=fe;return le((0,U.A)({text:he,url:ie}))}}),"mapDispatchToProps"),ae=(0,k.N)(q,me)(ne)},6423046221:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>D});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4192943401),i=e(6839188756),r=e(2546018671),a=e(8739505998),l=e(3903956190),d=e(4096483543),u=e(9391594207),f=e(6652001255),m=e(1670069836),h=e(598369692),v=e(1835177371);function p(){return p=Object.assign||function(y){for(var P=1;P<arguments.length;P++){var E=arguments[P];for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&(y[M]=E[M])}return y},p.apply(this,arguments)}_(p,"_extends");function T(y){let{id:P,className:E=void 0,fallback:M=void 0,handle:S=void 0,isUserInGroup:R=!1,onClick:k=n.A,noHighlights:O=!1,noLinking:U=!1,isNonExistent:W=!1,isUnknown:x=!1,isDeactivated:L=!1,team:b=void 0,showUserGroupDetailsProps:F,alwaysDisplayAsLink:B=!1,noTabbableContent:K=!1}=y;const H=(0,t.useCallback)(ue=>{F(P),ue.preventDefault(),k(ue,P)},[P,k,F]);if(x)return t.createElement(c.A,{type:"unknown"});if(W&&!M)return t.createElement(c.A,{type:"non-existent"});const Y=!U&&!W&&!L,Z=(0,l.k)({userGroupHandle:S,fallbackHandle:M,isUnknown:x,isNonExistent:W}),V=Z,ne=R&&!O,q=o()("c-mrkdwn__user_group",E,{"c-mrkdwn__user_group--link":B||Y,"c-mrkdwn__user_group--mention":ne});if(!Y)return t.createElement("span",{"data-user-group-id":P,"data-qa-user-group-mrkdwn-is-linked":Y,"data-qa-user-group-mrkdwn-is-mention":ne,className:q},V);const me={};return(0,d.A)()?(me["data-stringify-type"]="mention",me["data-stringify-id"]=P,me["data-stringify-label"]=Z):me["data-stringify-text"]=Z,t.createElement(a.A,p({className:q,"data-user-group-id":P,"data-qa-user-group-mrkdwn-is-linked":Y,"data-qa-user-group-mrkdwn-is-mention":ne,href:`${(0,i.Zl)(b)}admin/user_groups`,onClick:H},K&&{tabIndex:-1},me),V)}_(T,"UserGroup"),T.displayName="UserGroup";const A=null;function C(y,P){let{id:E}=P;const M=(0,v.lJ)(y,E);let S;if(M){const k=(0,r.t8)(M),O=(0,r.QR)(M),U=!(0,r.V1)(M),W=M.handle||void 0;var R;S={handle:W,isUnknown:k,isNonExistent:O,isDeactivated:U,isUserInGroup:(0,h.nc)(y,M.id)&&!U,team:(R=(0,m.H7)(y))!==null&&R!==void 0?R:void 0}}else S={isNonExistent:!0};return S}_(C,"mapStateToProps");const I=_(y=>({showUserGroupDetailsProps:P=>y((0,f.q)({groupId:P}))}),"mapDispatchToProps"),D=(0,u.N)(C,I)(T)},9656781090:(N,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(7582939986),s=e(3134334389),o=e(6122756707),n=e(7715417323),c=e(2850141087),i=e(1607053586),r=e(1509752838);function a(){return a=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},a.apply(this,arguments)}_(a,"_extends");const l=(0,s.memo)(I=>{let{addMemberToPresenceSubscription:D=n.A,memberId:y,removeMemberFromPresenceSubscription:P=n.A,renderDoublePresence:E=!1,firstElementExtraClassName:M="",...S}=I;const R=(0,o.wA)();return(0,s.useEffect)(()=>{R((0,r.n$)())},[R]),(0,c.A)(()=>(D(y),()=>P(y)),[y]),E?s.createElement(s.Fragment,null,s.createElement(i.Ay,a({},S,{className:`${S.className||""} ${M}`})),s.createElement(i.Ay,a({},S))):s.createElement(i.Ay,a({},S))});l.displayName="PresenceWithSubscriptions";const d=l;var u=e(92812954),f=e(9391594207),m=e(8918640447),h=e(5795074931),v=e(1844213939),p=e(9290914927);const T=_((I,D)=>{const y=(0,p.gd)(I,D.memberId),P=(0,u.d)(I,D.memberId),E=(0,v.z)(I,D.memberId),M=(0,h.WR)(I)===D.memberId;return{...D,userType:P,isDnd:E,isSelf:M,isSlackbot:D.memberId===t.Q$,isActive:y==="active"}},"mapStateToProps"),A=_(I=>({addMemberToPresenceSubscription:D=>I((0,m.xz)(D)),removeMemberFromPresenceSubscription:D=>I((0,m.Fd)(D))}),"mapDispatchToProps"),C=(0,f.N)(T,A)(d)},9283547879:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>o});var t=e(9656781090),s=e(1607053586);const o=t.A},1607053586:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>f,Jc:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2036354333),c=e(8683010724),i=e(8181621268),r=e(6471059816);function a(){return a=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},a.apply(this,arguments)}_(a,"_extends");const l=new r.Ay("presence");function d(m,h){return m?h?l.t("Active, notifications snoozed"):l.t("Active"):h?l.t("Away, notifications snoozed"):l.t("Away")}_(d,"getPresenceText");const u=_(m=>{let{inheritIconSize:h=!1,inline:v=!0,isActive:p=!1,isDnd:T=!1,isSelf:A=!1,isSlackbot:C=!1,invert:I=!1,userType:D="member",focusable:y=!1,showText:P=!1,resetIA:E=!1,hasNoAccess:M=!1,className:S}=m,R=p?{name:"status-member-filled"}:{name:"status-member"};const k=o()(S,"c-presence",{"c-presence--active":p&&!I,"c-presence--resetIA":E,"c-presence--away":!p&&!I,"c-presence--inverted":I,"is-inline":v,block:!v}),O=d(p,T);M?R={name:"lock-filled"}:D==="member"?T?R=p?{name:"status-member-dnd-filled"}:{name:"status-member-dnd"}:C&&(R={name:"status-slackbot-filled"}):D==="ra"||D==="external"?T?R=p?{name:"status-guest-dnd-filled"}:{name:"status-guest-dnd"}:R=p?{name:"status-guest-filled"}:{name:"status-guest"}:D==="ura"&&(T?R=p?{name:"status-single-channel-guest-dnd-filled"}:{name:"status-single-channel-guest-dnd"}:R=p?{name:"status-single-channel-guest-filled"}:{name:"status-single-channel-guest"});const U=t.createElement("span",{className:k},t.createElement(c.A,a({},R,{title:O,"aria-label":O,"aria-hidden":"false",size:h?"inherit":"20",inline:v,"data-qa":"presence_indicator","data-qa-type":R.name,"data-qa-presence-self":A,"data-qa-presence-active":p,"data-qa-presence-dnd":T})));return y?t.createElement(t.Fragment,null,t.createElement(i.Ay,{tip:O},t.createElement(n.A,null,U)),P&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},O)):t.createElement(t.Fragment,null,U,P&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},O))},"Presence");u.displayName="Presence";const f=t.memo(u)},9674520607:(N,g,e)=>{"use strict";e.d(g,{A:()=>j});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(7173172014),i=e(6471059816),r=e(307717037),a=e(2208015175),l=e(2850141087),d=e(2664504268),u=e(4250078557),f=e(3207321841),m=e(5602423845),h=e(7937864072),v=e(5204962244),p=e(6308822),T=e(8668318456),A=e(9506008067),C=e(2047021170);const I=new i.Ay("slack_kit_video"),y=(0,t.forwardRef)((w,Q)=>{let{src:G,vtt:J,videoPoster:te,title:se,label:ce,autoPlay:Ee=!0,enableMediaCaptions:de,onLoadedMetadata:re,isLoading:_e,setIsLoading:ve,isPlaying:ge,setIsPlaying:Le,duration:ke,setDuration:Ke,setElapsed:Ne,enableControls:Re=!1,controlsList:xe,shiftCaptionsUp:We,setHasError:$,videoContainerClassName:ee}=w;const Ve=(0,h.A)(),ze=(0,m.A)(),st=(0,t.useRef)(null),Ge=(0,v.d)(d.A),[be,Se]=(0,t.useState)(!1),we=(0,t.useRef)(),Ce=(0,t.useRef)(0),[Te,Ye]=(0,t.useState)(null),De=(0,A.d4)(Pt=>(0,C.ty)(Pt,"media_muted"));var Pe;const ye=(Pe=(0,A.d4)(Pt=>(0,C.ty)(Pt,"media_volume")))!==null&&Pe!==void 0?Pe:1,He=(0,A.d4)(Pt=>(0,C.ty)(Pt,"media_playback_speed")),Qe=(0,t.useRef)({});(0,t.useEffect)(()=>{st.current&&Te&&(Qe.current={file_src:Te,media_type:"video",duration_ms:ke*1e3,playback_session:Ge,title:se})},[Ge,Te,se,ke]),(0,t.useEffect)(()=>{fetch(G).then(Pt=>Pt.blob()).then(Pt=>{const Ft=URL.createObjectURL(Pt);Ye(Ft)}).catch(Pt=>{Ve.error(`Video player err: ${Pt}`),$(!0)})},[Ve,$,Ye,G]);const dt=(0,t.useRef)(!1),Ot=(0,t.useCallback)(()=>{!dt.current&&be&&(we.current&&(Ce.current+=Date.now()-we.current,we.current=void 0),ze.track(T.EventId.SK_VIDEO_PLAYER,(0,r.A)({},Qe.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_type:"video",element_name:"playback_finished"}}},closed_captions:de?"on":"off",playback_speed:`${He??1}x`,duration_watched_ms:Ce.current})),dt.current=!0,Ce.current=0)},[ze,be,de,He]),yt=(0,t.useRef)(Ot);yt.current=Ot,(0,l.A)(()=>()=>yt.current(),[]);const Dt=(0,t.useCallback)(()=>{Ot()},[Ot]);(0,t.useEffect)(()=>{if(!st.current)return;const Pt=_(()=>{ge&&Le(!1),ve(!0)},"onWaiting"),Ft=_(()=>{ve(!1),Le(!0),ze.track(T.EventId.SK_VIDEO_PLAYER,(0,r.A)({},Qe.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"play"}}}})),be||(Se(!0),ze.track(T.EventId.SK_VIDEO_PLAYER,(0,r.A)({},Qe.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_name:"media"}}}}))),we.current=Date.now()},"onPlay"),En=_(()=>{Le(!1),ve(!1),ze.track(T.EventId.MEDIA_PLAYER,(0,r.A)({},Qe.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"pause"}}}})),we.current&&(Ce.current+=Date.now()-we.current,we.current=void 0)},"onPause"),Rt=st.current,rn=_(()=>{if(!Rt.buffered)return;const tt=Rt.duration||0;Ke(tt)},"onProgress"),nn=_(()=>{ve(!1);const tt=Rt.duration;Ke(tt),Ne(Rt.currentTime)},"onTimeUpdate"),at=_(()=>{const tt=Rt.playbackRate;f.Cv.includes(tt)&&(Rt.playbackRate=tt)},"handleRateChange");return Rt.addEventListener("waiting",Pt),Rt.addEventListener("progress",rn),Rt.addEventListener("timeupdate",nn),Rt.addEventListener("play",Ft),Rt.addEventListener("playing",Ft),Rt.addEventListener("pause",En),Rt.addEventListener("ratechange",at),Rt.addEventListener("ended",Dt),()=>{Rt.addEventListener("waiting",Pt),Rt.removeEventListener("progress",rn),Rt.removeEventListener("timeupdate",nn),Rt.removeEventListener("play",Ft),Rt.removeEventListener("playing",Ft),Rt.removeEventListener("pause",En),Rt.removeEventListener("ratechange",at),Rt.removeEventListener("ended",Dt)}},[st,_e,ge,Ke,ve,Ne,Le,be,Se,Dt,ze]),(0,t.useEffect)(()=>{var Pt;const Ft=(Pt=st.current)===null||Pt===void 0?void 0:Pt.textTracks[0];Ft&&(Ft.mode=de?"showing":"hidden")},[de]),(0,t.useEffect)(()=>{if(de){var Pt,Ft;const En=(Pt=st.current)===null||Pt===void 0?void 0:Pt.textTracks[0];if(!En)return;const Rt=((Ft=st.current)===null||Ft===void 0?void 0:Ft.clientWidth)<500?50:80;En.mode="hidden",We?(0,a.A)(En==null?void 0:En.cues,rn=>{(rn.text.match(/\n/g)||[]).length>=2||rn.text.length>Rt?rn.line=-6:rn.line=-5}):(0,a.A)(En==null?void 0:En.cues,rn=>{rn.line="auto"}),En.mode="showing"}},[de,We]);const Ct=(0,t.useCallback)(function(Pt){let Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;st!=null&&st.current&&(st.current.currentTime=Pt,Ft&&st.current.play())},[st]),kt=(0,t.useCallback)(()=>{st!=null&&st.current&&(st.current.paused?st.current.play():st.current.pause())},[st]),vt=(0,t.useCallback)(()=>{var Pt;st!=null&&st.current&&((Pt=st.current)===null||Pt===void 0||Pt.pause())},[st]),Nt=(0,t.useCallback)(Pt=>{st!=null&&st.current&&(st.current.muted=Pt)},[st]),It=(0,t.useCallback)(Pt=>{st!=null&&st.current&&(st.current.volume=Pt)},[st]),At=(0,t.useCallback)(Pt=>{st!=null&&st.current&&f.Cv.includes(Pt)&&(st.current.playbackRate=Pt)},[st]);(0,t.useImperativeHandle)(Q,()=>({setCurrentTime:Ct,togglePlayPause:kt,setMuted:Nt,setVolume:It,setPlaybackRate:At,pause:vt})),(0,t.useEffect)(()=>{De&&Nt(De),ye&&It(ye),He&&!Re&&At(He)});const Zt=(0,t.useCallback)(()=>{var Pt;const Ft=(Pt=st.current)===null||Pt===void 0?void 0:Pt.error;Ft&&($(!0),Ve.error(`error code: ${Ft.code}, msg: ${Ft.message}`))},[st,Ve,$]),jt=(0,t.useCallback)(()=>{ve(!1)},[ve]),Ht=o()("c-video_player-video-container",ee);return t.createElement("div",{className:Ht,"data-media-focus-container":!0,tabIndex:-1},_e&&t.createElement("div",{className:"c-video_player-video-container_spinner"},t.createElement(p.A,{color:"white"})),t.createElement("video",{preload:"auto",autoPlay:Ee,"aria-label":ce,className:"c-video_player-video",controls:Re&&!_e?!0:void 0,controlsList:Re?xe:void 0,title:se,ref:st,poster:te,disablePictureInPicture:!0,onLoadedMetadata:re,onCanPlay:jt,onError:Zt},Te&&t.createElement("source",{src:Te,type:"video/mp4"}),I.t("Your browser does not support the video tag"),J&&t.createElement(u.A,{vtt:J,enableMediaCaptions:de})))});var P=e(5034080361),E=e(7323656146),M=e(6122756707),S=e(9362126998),R=e(2036354333),k=e(5946832122),O=e(8683010724),U=e(2312625946),W=e(387484329);const x=new i.Ay("video_player"),L=_(w=>{let{vtt:Q,isInlinePlayer:G,className:J,backgroundStyle:te}=w;const se=(0,M.wA)(),ce=(0,A.d4)(ge=>(0,C.ty)(ge,"enable_media_captions")),Ee=(0,A.d4)(S.y0),de=(0,t.useCallback)(()=>{se((0,W.AZ)({pref:"enable_media_captions",value:!ce}))},[se,ce]),re=ce&&Q?x.t("Turn off captions",{fallbackHash:"c344bd39683fc6566ab53b0d886e93230fd21cbf",fallbackHashNs:"stories_av"}):x.t("Turn on captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"}),_e=x.t("Display captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"});if(!Ee)return null;const ve=ce?t.createElement(O.A,{name:"closed-caption-filled",size:"inherit"}):t.createElement(O.A,{name:"closed-caption",size:"inherit"});return t.createElement(U.Ay,{tip:re,position:"top",delay:U.n1,hideFromScreenReader:!0},G?t.createElement(R.A,{className:o()("c-video_controls_overlay__controls__button c-video_controls_overlay__controls__caption"),"aria-label":_e,"aria-pressed":ce,onClick:de},ve):t.createElement(k.A,{"aria-label":_e,"aria-pressed":ce,icon:ce?"cc-filled":"cc",onClick:de,size:"medium",className:J,backgroundStyle:te},"CC"))},"VideoCaptionsButton");L.displayName="VideoCaptionsButton";const b=L;var F=e(5874162200),B=e(9446966957);function K(){return K=Object.assign||function(w){for(var Q=1;Q<arguments.length;Q++){var G=arguments[Q];for(var J in G)Object.prototype.hasOwnProperty.call(G,J)&&(w[J]=G[J])}return w},K.apply(this,arguments)}_(K,"_extends");const H=new i.Ay("video_scrubber"),Y=_(w=>{let{elapsed:Q,duration:G,setTime:J}=w;const te=(0,t.useRef)(null);(0,t.useEffect)(()=>{var de;(de=te.current)===null||de===void 0||de.toggleAttribute("data-no-drag-on-mouse-move",!0)},[te]);const se=(0,t.useCallback)(de=>t.createElement("div",K({className:"c-video_player_controls_scrubber c-video_player_controls_overlay__hover",ref:te},de)),[]),ce=(0,t.useCallback)(de=>t.createElement("div",K({className:"c-video_player_controls_scrubber__track"},de)),[]),Ee=(0,t.useCallback)(de=>t.createElement("div",K({className:"c-video_player_controls_scrubber__elapsed"},de)),[]);return t.createElement(B.A,{value:Q,max:G,onChange:J,renderContainer:se,renderTrack:ce,renderInner:Ee,"aria-label":H.t("Time scrubber",{currentTime:(0,F.A)(Q),totalTime:(0,F.A)(G),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1",fallbackHashNs:"stories_av"}),"aria-valuetext":(0,F.A)(Q)})},"VideoControlsScrubber");Y.displayName="VideoControlsScrubber";const Z=Y;var V=e(5460331959),ne=e(3118200703),q=e(8371678613),me=e(3242899446),ue=e(4916948857),ae=e(6084388622);const le=new i.Ay("slack_kit_video"),fe=_(w=>{let{onClickOverlay:Q,showControls:G=!0,duration:J,elapsed:te,setTime:se,isPlaying:ce,isLoading:Ee,videoRef:de,vtt:re,setShiftCaptionsUp:_e=n.A,onFullscreenButtonClicked:ve,isFullScreen:ge}=w;const Le=(0,t.useContext)(E.A),[ke,Ke]=(0,t.useState)(!1),[Ne,Re]=(0,t.useState)(!1),xe=(0,t.useRef)(null),We=(0,t.useRef)(null),$=ce?le.t("Pause"):le.t("Play"),ee=(0,t.useCallback)(Ye=>{var De,Pe;const ye=Ye.target,He=!!(Le&&(!((De=xe.current)===null||De===void 0)&&De.contains(ye)||!((Pe=We.current)===null||Pe===void 0)&&Pe.contains(ye)));Re(He)},[Le]),Ve=(0,t.useCallback)(Ye=>{var De,Pe;const ye=Ye.relatedTarget,He=!!(Le&&(!((De=xe.current)===null||De===void 0)&&De.contains(ye)||!((Pe=We.current)===null||Pe===void 0)&&Pe.contains(ye)));Re(He)},[Le]),{mouseIsOverElement:ze,onMouseLeave:st,onMouseEnter:Ge,onMouseMove:be,onMouseOver:Se}=(0,ue.A)(),we=(0,t.useCallback)(()=>{Ge()},[Ge]);(0,t.useEffect)(()=>{_e(ze)},[ze,_e]);const Ce=(()=>te?(0,P.A)(te*1e3):J?(0,P.A)(J*1e3):le.t("Video"))(),Te=Ee?t.createElement(p.A,{size:"medium",color:"white",className:"c-video_player_controls_overlay__controls__spinner",noMargin:!0}):t.createElement(O.A,{name:ce?"pause-filled":"play-filled",inline:!0});return G?t.createElement(V.A,null,Ye=>{let{measureRef:De,width:Pe}=Ye;const ye=Pe||360,He=!!(ye&&ye<=330);return t.createElement("div",{className:o()("c-video_player_controls_overlay","c-video_player_controls_overlay--controls",{"c-video_player_controls_overlay--active":Ne,"p-video_player_controls_overlay--vertical_volume_active":ke}),onFocus:ee,onBlur:Ve,onMouseEnter:we,onMouseLeave:st,onMouseMove:be,onMouseOver:Se,"data-prevent-fade":"true",role:"group",ref:De},t.createElement(ae.Nm,{className:"c-video_player_controls_overlay__button",onClick:Q,tabIndex:-1,"aria-hidden":"true"}),t.createElement("div",{className:"c-video_player_controls_overlay__controls_container",ref:xe},t.createElement(Z,{elapsed:te,duration:J,setTime:se}),t.createElement("div",{className:"c-video_player_controls_overlay--controls"},t.createElement(ae.Nm,{className:o()("c-video_player_controls_overlay__controls__pill",{"c-video_player_controls_overlay__controls__pill--playing":ce}),"aria-label":$,"aria-pressed":ce,onClick:Q},Te,t.createElement("div",{className:"c-video_player_controls_overlay__time"},Ce)),t.createElement(me.A,{className:"c-video_player_media_volume_slider",isInlinePlayer:!0,useVerticalVolume:He,setIsVerticalVolumeActive:Ke,videoRef:de}),t.createElement("div",{className:"c-video_player_controls--right-controls"},t.createElement(q.A,{isInlinePlayer:!0,videoRef:de}),re&&t.createElement(b,{vtt:re,isInlinePlayer:!0})))),t.createElement("div",{className:"c-video_player_controls_overlay__corner c-video_controls_overlay__hover",ref:We},!ge&&ve&&t.createElement(ne.A,{classPrefix:"c-video_player",onClick:ve})))}):null},"VideoOverlay");fe.displayName="VideoOverlay";const he=fe,ie=new i.Ay("slack_kit_video"),X=_(w=>{let{className:Q,styleProps:G,title:J,label:te,src:se,vtt:ce,enableMediaCaptions:Ee=!1,autoPlay:de,videoPoster:re,enableControls:_e=!1,controlsList:ve,bubbleErrorOrLoadingStateToParent:ge=n.A,videoContainerClassName:Le}=w;const ke=(0,t.useRef)(null),[Ke,Ne]=(0,t.useState)(!1),[Re,xe]=(0,t.useState)(!1),[We,$]=(0,t.useState)(!0),[ee,Ve]=(0,t.useState)(0),[ze,st]=(0,t.useState)(0),[Ge,be]=(0,t.useState)(!1),Se=(0,A.d4)(Ye=>(0,C.ty)(Ye,"enable_media_captions"))||Ee;(0,t.useEffect)(()=>{ge&&ge({hasError:Re,isLoading:We})},[Re,We,ge]);const we=(0,t.useCallback)(Ye=>{if(ke!=null&&ke.current){var De;(De=ke.current)===null||De===void 0||De.setCurrentTime(Ye,!1)}else Ve(Ye)},[ke,Ve]),Ce=(0,t.useCallback)((Ye,De)=>{De&&st(De)},[]),Te=(0,t.useCallback)(Ye=>{var De;Ye.stopPropagation(),(De=ke.current)===null||De===void 0||De.togglePlayPause()},[ke]);return t.createElement(c.A,{clogImpression:!0,eventId:T.EventId.SK_VIDEO_PLAYER},t.createElement("div",{className:o()("c-video_player",Q),style:G},t.createElement(y,{title:J,label:te,src:se,vtt:ce,ref:ke,autoPlay:de,videoPoster:re,enableControls:_e,controlsList:ve,setIsLoading:$,isLoading:We,isPlaying:Ke,setIsPlaying:Ne,duration:ze,setDuration:st,setElapsed:Ve,onLoadedMetadata:Ce,enableMediaCaptions:Se,shiftCaptionsUp:Ge,setHasError:xe,videoContainerClassName:Le}),Re&&t.createElement("div",{className:"c-video_player__error_overlay"},t.createElement("p",null,ie.t("Error loading video. Please try again later."))),t.createElement(he,{onClickOverlay:Te,elapsed:ee,duration:ze,showControls:!_e,setTime:we,isPlaying:Ke,isLoading:We,videoRef:ke,vtt:ce,setShiftCaptionsUp:be,onFullscreenButtonClicked:n.A,isFullScreen:!1})))},"VideoPlayer");X.displayName="VideoPlayer";const j=t.memo(X)},3227396439:(N,g,e)=>{"use strict";e.d(g,{$:()=>c,h:()=>n});var t=e(6769132732),s=e(7090824688),o=e(5185985254);const n=(0,t.A)(s.yW),c=(0,t.A)((0,o.A)(s.yW))},97626932:(N,g,e)=>{"use strict";e.d(g,{A:()=>c,u:()=>n});var t=e(6769132732),s=e(630868093),o=e(5185985254);const n=(0,t.A)(s.JJ),c=(0,t.A)((0,o.A)(s.JJ))},6769132732:(N,g,e)=>{"use strict";e.d(g,{A:()=>ne});var t=e(3134334389),s=e(7715417323),o=e(166097325),n=e(9113979368),c=e(9524650809),i=e(235108050),r=e(362134992),a=e(2208015175),l=e(8086952004),d=e(4360875129),u=e(2394306156),f=e(9746734072),m=e(2101927269),h=e(8840779375),v=e(9268023148),p=e(5950652755),T=e(3297051565),A=e.n(T),C=e(1545824888),I=e(3924280006),D=e(3708320478),y=e(1507416e3),P=e(2753496765),E=e(7994832222);function M(q){return[...q.filter(me=>!me.isError&&!me.isUnknown),...q.filter(me=>!me.isError&&me.isUnknown),...q.filter(me=>me.isError)]}_(M,"sortTokens");var S=e(9236644324),R=e(56548687),k=e(337319621),O=e(6471059816),U=e(8374895239),W=e(4327331459),x=e(7679173189),L=e(4862221402),b=e(9868740303),F=e(4342685672),B=e(4757466470),K=e(9391594207),H=e(8847766420);function Y(){return Y=Object.assign||function(q){for(var me=1;me<arguments.length;me++){var ue=arguments[me];for(var ae in ue)Object.prototype.hasOwnProperty.call(ue,ae)&&(q[ae]=ue[ae])}return q},Y.apply(this,arguments)}_(Y,"_extends");const Z=(0,k.Wo)(),V=new O.Ay("form_inputs");function ne(q){const me={searcherOptions:A().object.isRequired,selectId:A().string.isRequired,inputRef:A().object,isRequired:A().bool,selectedOptions:A().array,selectedOption:A().object,isExpanded:A().bool,isDisabled:A().bool,isInvalid:A().bool,focusOnMount:A().bool,searchOnPaste:A().bool,expandOnFocus:A().bool,expandOnClick:A().bool,searchBatchSize:A().number,debounceWaitPeriod:A().number,onFilterQueryPaste:A().func,onInputFocused:A().func,onSearch:A().func,onSearchError:A().func,onSearchResolved:A().func,onOptionsListClose:A().func,splitPastedQuery:A().func,processOptions:A().func,processSelectedOptions:A().func,clogger:A().object.isRequired,search:A().func.isRequired,teamId:A().string.isRequired,useSearcherSessions:A().bool,showConfirmDialog:A().func,restrictedSelectedTokenIndexes:A().array,disabledSelectedTokenIndexes:A().array,invalidSelectedTokenIndexes:A().array,useBulkSearch:A().bool,shouldRefocusInputAfterSelection:A().bool},ue={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:s.A,onInputFocused:s.A,onSearch:s.A,onSearchError:s.A,onSearchResolved:s.A,onOptionsListClose:s.A,splitPastedQuery:P.I,processOptions:he=>C.K.resolve(he),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],disabledSelectedTokenIndexes:[],invalidSelectedTokenIndexes:[],useBulkSearch:!1,shouldRefocusInputAfterSelection:void 0};let ae=_(class extends t.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(ie,X){const{isDisabled:j,isInvalid:w,selectedOptions:Q,selectedOption:G,searchOnPaste:J,expandOnFocus:te,expandOnClick:se,restrictedSelectedTokenIndexes:ce,disabledSelectedTokenIndexes:Ee,invalidSelectedTokenIndexes:de}=this.props,re={};if(ie.isInvalid!==w&&(re.isInvalid=w),ie.isDisabled!==j&&(re.isDisabled=j),(0,o.A)(ie.selectedOptions,Q)||(re.selectedOptions=Q),(0,o.A)(ie.selectedOption,G)||(re.selectedOption=G),(ie.expandOnFocus&&!te||ie.expandOnClick&&!se)&&(re.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,X.selectedOptions)){var ve,ge;const xe=this.getNextUnknownTokenIndex();re.selectedTokenIndexes=[xe],(ve=this.inputRef)===null||ve===void 0||(ge=ve.current)===null||ge===void 0||ge.focus()}ie.restrictedSelectedTokenIndexes!==ce&&(re.restrictedSelectedTokenIndexes=ce),ie.disabledSelectedTokenIndexes!==Ee&&(re.disabledSelectedTokenIndexes=Ee),ie.invalidSelectedTokenIndexes!==de&&(re.invalidSelectedTokenIndexes=de);const{isLoading:Le,pendingQueries:ke,selectedOptions:Ke,pendingEscapeQueries:Ne,filterQuery:Re}=this.state;if(J&&!Le){if(!(0,n.A)(ke))re.isLoading=!0,re.loadInBackground=!0,this.searchQueryObjects(ke);else if(X.isLoading){if(this.updateDisabled(!1),Ne.length>0&&Re===""){const xe=(0,U.A)(Ne.map(ze=>ze.query),{noConj:!0}).join(""),We=Ne[0],{options:$}=We,ee=_(ze=>ze.map(st=>{const{query:Ge,options:be,...Se}=st,we=be?{options:ee(be)}:{};return{...Se,...we,query:xe}}),"getUpdatedOptions"),Ve={...We,options:ee($),query:xe};re.pendingEscapeQueries=[],re.options=Ve.options,re.filterQuery=xe,re.isExpanded=!0,re.isLoading=!1}if(Ke.length){const xe=Ke.filter($=>$.isError||$.isUnknown).length,We=xe?V.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:xe}):V.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(We)}}}(0,n.A)(re)||this.setSelectState(()=>re)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}async onFilterQueryPaste(ie){const{searchOnPaste:X,searcherOptions:j,splitPastedQuery:w,processOptions:Q}=this.props;if(!X||!ie&&!ie.clipboardData)return;ie.preventDefault();const G=ie.clipboardData.getData("text/plain")?"text/plain":"Text",J=(0,S.i_)(ie),te=J.text,se=w(te,{...j,fromMetadata:J.text!==ie.clipboardData.getData(G)});this.props.onFilterQueryPaste(se);const ce=[],Ee=[];await C.K.all(se.map(de=>{const re=this.getQueryId();return(0,W.A)(de)||(0,L.A)(de)||(0,x.Ay)(de)?Q([{key:re,pasted:!0,fromMetadata:!0,value:de,label:J.members?J.members[de]:de}]).then(_e=>(_e[0]&&Ee.push(_e[0]),C.K.resolve())):(ce.push({query:de,queryId:re,pasted:!0}),Ee.push({label:de,queryId:re,isLoading:!0,key:re,pasted:!0}),C.K.resolve())})),this.setSelectState(de=>({pendingQueries:de.pendingQueries.concat(ce),selectedOptions:de.selectedOptions.concat(Ee),filterQuery:""})),this.updateDisabled(!(0,n.A)(ce)),this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(ie){const{isLoading:X,isExpanded:j,filterQuery:w}=this.state;!X&&j&&w.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(ie)}async onTokenSelect(ie){if(!(this.props.expandOnClick||this.shouldExpandOnFocus())){if(ie&&!ie.isUnknown)this.setState(()=>({isExpanded:!1,options:[]}));else if(ie){const X=await this.props.processOptions(ie.resultOptions.map(j=>({...j,fromUnknown:!0})),ie.label);this.lastShownSearchDetails=ie.searcher,this.setState(()=>({isExpanded:!0,options:X}))}}}getQueryId(){return(0,c.A)("query__")}async setSelectState(ie,X){var j;const{processSelectedOptions:w}=this.props;let Q=ie(this.state);const{selectedOption:G,selectedOptions:J,shouldRefocusInputAfterSelection:te}=this.state;te&&(Q.shouldRefocusInputAfterSelection=!0),Q.filterQuery!==void 0&&Q.filterQuery!==this.state.filterQuery&&(Q.isLoading=!0,Q.loadInBackground=!1,this.searchQuery(Q.filterQuery));const{searchOnPaste:se}=this.props;if(se&&Q.selectedOptions){const Ee=Q.selectedOptions.map(re=>{let{key:_e}=re;return _e}),de=(0,i.A)((0,r.A)(Ee.filter(re=>Ee.indexOf(re)!==Ee.lastIndexOf(re))));(0,a.A)(de,re=>{const _e=(0,l.A)(Q.selectedOptions,ge=>{let{key:Le,isUnknown:ke}=ge;return Le===re&&!ke}),ve=(0,r.A)(Q.selectedOptions.map(ge=>ge.key===re?ge.isUnknown?_e:null:ge));Q.selectedOptions=ve})}if(Q.selectedOptions!==void 0&&!(0,o.A)(Q.selectedOptions,J)){const Ee=Q.selectedOptions.filter(re=>{let{isLoading:_e,isUnknown:ve}=re;return!_e&&!ve}),[de]=(0,d.A)(Ee,J,"value");de&&this.clogSearcherResults(de)}Q.selectedOption!==void 0&&Q.selectedOption!==null&&((j=Q.selectedOption)===null||j===void 0?void 0:j.value)!==(G==null?void 0:G.value)&&this.clogSearcherResults(Q.selectedOption);const ce=!!Q.removalInitiator;if(Q.selectedOptions&&!ce&&w){if(Q=(0,u.A)(Q),Q.isLoading!==void 0){const Ee=Q.isLoading;this.setState(()=>({isLoading:Ee})),delete Q.isLoading}Q.selectedOptions=await w(Q.selectedOptions)}this.setState(()=>Q,X)}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(ie=>ie.isUnknown&&ie.queryId)}wasUnknownTokenResolved(ie,X){const j=ie.filter(Q=>Q.isUnknown).length,w=X.filter(Q=>Q.isUnknown).length;return j<w}shouldExpandOnFocus(){const{expandOnFocus:ie}=this.props,{selectedOptions:X}=this.state,j=(0,y.A)(X);return ie&&!j}clogSearcherResults(ie){if(this.lastShownSearchDetails===null)return;const{clogger:X,selectId:j,useSearcherSessions:w,teamId:Q}=this.props,{query:G,results:J}=this.lastShownSearchDetails,te={source:j,query:G,results:J};ie?(te.selectedItemId=ie.value,w?(0,b.A)({teamId:Q,key:j}).clogSearcherAccept({clogger:X,data:te}):(0,I.DC)({clogger:X,data:te})):w?(0,b.A)({teamId:Q,key:j}).clogSearcherReject({clogger:X,data:te}):(0,I.Yb)({clogger:X,data:te})}processSearchResults(ie){const{searchOnPaste:X,onSearchResolved:j,searcherOptions:w}=this.props,{escapeHatchEnabled:Q,escapeHatchKeys:G}=w,J=this.state.selectedOptions.slice(0);X&&ie.forEach(te=>{let{queryId:se,options:ce,searcher:Ee}=te;const de=J.findIndex(ve=>ve.queryId===se),re=J[de];let _e=null;if(re){this.lastShownSearchDetails=Ee;let ve;ce.length===1?(ve=ce[0],Q&&Ee&&Ee.results&&Ee.results.length===0&&Ee.pasted&&G&&G[ve.key]&&this.setState(Le=>({pendingEscapeQueries:[...Le.pendingEscapeQueries,{query:Ee.query,options:[ve]}]})),this.clogSearcherResults(ve)):ce.length?ve={isUnknown:!0}:(ve={isError:!0},this.clogSearcherResults()),_e={...re,...ve,resultOptions:ce,searcher:Ee,isLoading:!1},J[de]=_e}j({result:ce,selectedOption:_e})}),this.setState(te=>{if((0,B.Ay)(te.selectedOptions,J,2)){const{options:se,searcher:ce}=ie[0];return this.lastShownSearchDetails=ce,te.loadInBackground?null:{options:se}}return{selectedOptions:M(J)}})}runBatchedSearch(ie){const X=ie.slice(0,this.props.searchBatchSize);if(ie.length>1&&this.props.useBulkSearch){const w=X.some(G=>!!G.pasted),Q=X.some(G=>!!G.initial);return this.runSingleSearch({query:X,pasted:w,initial:Q})}const j=X.map(w=>{let{query:Q,queryId:G,pasted:J,initial:te}=w;return this.runSingleSearch({query:Q,queryId:G,pasted:J,initial:te})});return C.K.all(j)}runSingleSearch(ie){let{query:X,queryId:j,pasted:w,initial:Q}=ie;const{onSearch:G,onSearchError:J,processOptions:te,searcherOptions:se,selectId:ce,useSearcherSessions:Ee,teamId:de,useBulkSearch:re}=this.props;let _e,ve,ge=!1;const Le=j||this.getQueryId(),ke=new Map;if((0,f.A)(X)&&re?(_e=X.map(Ne=>(ke.set(Ne.queryId,Ne.query),{query:(0,P.t)(Ne.query,se),queryId:Ne.queryId})),ge=!0):ve=(0,P.t)(X,se),ve&&G(X)===!1)return te([],ve).then(Ne=>({queryId:Le,options:Ne,searcher:this.lastShownSearchDetails}));let Ke;return Ee&&(!w||ge)?Ke=(0,b.A)({teamId:de,key:Q?Le:ce}).search({query:ge?_e:ve,options:{...se,sort:{source:ce,...se.sort},returnMetadata:!0}}):Ke=this.props.search({query:ge?_e:ve,options:{...se,sort:{source:ce,...se.sort},returnMetadata:!0}}),Ke.then(async Ne=>{this.lastShownSearchDetails={query:ge?_e:ve,results:Ne};const Re=(Ne||[]).map(($,ee)=>{var Ve;return{key:ge?$.queryId:`${Le}_${ee}`,value:$.item.id,label:$.name||((Ve=$.item)===null||Ve===void 0?void 0:Ve.name)||(ge?ke.get($.queryId):X),entity:$.item,matchData:$.subqueryScoresByMember}}),{selectedOption:xe}=this.state;ve===""&&xe&&((0,l.A)(Re,["value",xe.value])||Re.unshift(xe));const We=await te(Re,X,{pasted:w});return{queryId:Le,options:We,searcher:{...this.lastShownSearchDetails,pasted:w}}}).catch(Ne=>{Z.error(`Error when searching for select id: ${ce}, error: ${Ne}`),J(Ne);const Re=[];return{queryId:Le,options:Re,searcher:{query:ge?_e:ve,results:Re,pasted:w,isError:!0}}})}searchQuery(ie){this._isMounted&&this.searchQueryObjects([{query:ie}])}searchQueryObjects(ie){if((0,n.A)(ie))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:j,queryId:w}=ie[0];this.searchPromise=this.runSingleSearch({query:j,queryId:w}).then(Q=>{let{options:G}=Q;this.setSelectState(()=>({options:G})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(ie).then(j=>{let w=j;this.props.useBulkSearch&&(w=this.generateBulkSearchResultsArray(w)),this.processSearchResults(w);const Q=w.map(G=>{let{queryId:J}=G;return J});this.setState(G=>({pendingQueries:G.pendingQueries.filter(te=>{let{queryId:se}=te;return!Q.includes(se)}),isLoading:!1}))});const X=V.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:ie.length});this.updateAriaTextThrottled(X)}updateAriaText(ie){this.setState(X=>X.ariaText===ie?null:{ariaText:ie})}updateDisabled(ie){this.setState(X=>X.isDisabled===ie?null:{isDisabled:ie})}generateBulkSearchResultsArray(ie){var X;if(!(!(ie==null||(X=ie.options)===null||X===void 0)&&X.length))return ie.splice(0);const{options:j,searcher:w}=ie,{pasted:Q,query:G,results:J}=w;return G.map(se=>({options:j.filter(ce=>ce.key===se.queryId),queryId:se.queryId,searcher:{pasted:Q,query:se.query,results:J.filter(ce=>ce.queryId===se.queryId)}}))}render(){return t.createElement(t.Fragment,null,t.createElement(q,Y({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),t.createElement(D.A,{message:this.state.ariaText}))}constructor(ie){super(ie),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:X,searchOnPaste:j}=ie,w=(0,m.A)(X,G=>(0,E.iC)(G));let Q=[];j&&(Q=(0,r.A)((0,h.A)(w,G=>!G.label||!G.queryId?null:{query:G.label,queryId:G.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:ie.isExpanded,selectId:ie.selectId,selectedOptions:ie.selectedOptions||[],selectedOption:ie.selectedOption||null,isRequired:ie.isRequired,isLoading:!1,isDisabled:ie.isDisabled,isInvalid:ie.isInvalid,pendingQueries:Q||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!ie.showConfirmDialog||ie.shouldRefocusInputAfterSelection,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:ie.restrictedSelectedTokenIndexes||[],disabledSelectedTokenIndexes:ie.disabledSelectedTokenIndexes||[],invalidSelectedTokenIndexes:ie.invalidSelectedTokenIndexes||[]},this.searchQuery=(0,v.A)(this.searchQuery,ie.debounceWaitPeriod),this.updateAriaTextThrottled=(0,p.A)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=ie.inputRef||t.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");ae.displayName="SearcherSelectWrapper",ae.propTypes=me,ae.defaultProps=ue;const le=_(he=>({clogger:(0,R.e)({state:he}),teamId:(0,H.JY)(he),useSearcherSessions:(0,F.nK)(he)}),"mapStateToProps"),fe={search:function(){for(var he=arguments.length,ie=new Array(he),X=0;X<he;X++)ie[X]=arguments[X];return(0,I.$P)(...ie)}};return(0,K.N)(le,fe)(ae)}_(ne,"withSearcher")},6226774595:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>s,Y$:()=>n,Z0:()=>o,d1:()=>i,iC:()=>r,kW:()=>a,nB:()=>c});var t=e(4761125736);function s(l){return(0,t._Z)(l,"tableau_unfurls")==="on"}_(s,"isTableauUnfurlsEnabled");function o(l){return(0,t._Z)(l,"tableau_work_object_unfurls")==="on"}_(o,"isTableauWorkObjectUnfurlsEnabled");function n(l){return(0,t._Z)(l,"tableau_unfurls_embed")==="on"}_(n,"isTableauUnfurlsEmbedEnabled");function c(l){return(0,t._Z)(l,"tableau_unfurls_embed_caching")==="on"}_(c,"isTableauUnfurlsEmbedCachingEnabled");function i(l){return(0,t._Z)(l,"tableau_sdk_with_lo")==="on"}_(i,"isTableauSdkWithLoEnabled");function r(l){return(0,t._Z)(l,"tableau_256_release")==="on"}_(r,"isTableau256ReleaseEnabled");function a(l){return(0,t._Z)(l,"tableau_dashboard_preview")==="on"}_(a,"isTableauDashboardPreviewEnabled")},9361281657:(N,g,e)=>{"use strict";e.d(g,{U:()=>s});var t=e(4761125736);function s(o){return(0,t._Z)(o,"polls")==="on"}_(s,"isPollsEnabled")},9866150923:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7937864072),c=e(2647703359),i=e(8683010724),r=e(9506008067),a=e(3328068409),l=e(762973295),d=e.n(l);function u(m){let{iconClassName:h,file:v,isFilled:p=!0}=m;const T=(0,n.A)(),A=(0,r.d4)(a.to);return v&&!(0,c.Y8)(v)?(T.error(`[PollIcon] Expected Poll file, got ${(0,c.ti)(v)}`),null):t.createElement("div",{className:o()(h,d().pollIcon,{[d().pollIconDark]:A==="dark"})},t.createElement(i.A,{name:p?"form-filled":"form",size:"20"}))}_(u,"PollIcon"),u.displayName="PollIcon";const f=t.memo(u)},4121822481:(N,g,e)=>{"use strict";e.d(g,{D:()=>u,Y:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5000515034),c=e(6084388622),i=e(8683010724),r=e(2217643974),a=e.n(r);function l(){return l=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},l.apply(this,arguments)}_(l,"_extends");function d(){return t.createElement(i.A,{name:"caret-right",size:"16"})}_(d,"Separator"),d.displayName="Separator";function u(m){let{crumb:h}=m;const{label:v,onClick:p,className:T,iconProps:A}=h;return t.createElement("div",{className:o()(a().record_breadcrumb,T)},A&&t.createElement(i.A,l({},A,{inline:!0})),!p&&t.createElement("span",{className:a().record_breadcrumb_label},v),p&&t.createElement(c.jV,{className:a().record_breadcrumb_label,onClick:p},v))}_(u,"RecordBreadcrumb"),u.displayName="RecordBreadcrumb";function f(m){let{className:h,crumbs:v,isLoading:p}=m;return!v.length&&!p?null:t.createElement("div",{className:o()(a().record_breadcrumbs,h)},p&&t.createElement(n.A,{dataQa:"record-breadcrumbs-missing-text",size:"large"}),!p&&v.map((T,A)=>t.createElement(t.Fragment,{key:T.label},t.createElement(u,{crumb:T}),!T.noSeparator&&A!==v.length-1&&t.createElement(d,null))))}_(f,"RecordBreadcrumbsLayout"),f.displayName="RecordBreadcrumbsLayout"},5083570322:(N,g,e)=>{"use strict";e.d(g,{r:()=>D});var t=e(3134334389),s=e(6122756707),o=e(362134992),n=e(4121822481),c=e(2463625947),i=e(5892132962),r=e(2233365467),a=e(2823938397),l=e(9392104102),d=e(6471059816),u=e(5332109660),f=e(9506008067),m=e(9101533895),h=e(8096107629),v=e(7045654828),p=e(4158363050);const T=new d.Ay("recordchannels");function A(y){let{className:P,recordId:E}=y;const M=(0,s.wA)(),S=(0,f.d4)(k=>(0,v.PQ)(k,E)),R=(0,t.useMemo)(()=>{if(!(0,h._s)(S))return l.Ml;const{org:k,parent:O}=S,U=(0,i.C)(O==null?void 0:O.object_api_name),W=(0,i.C)("Org");return(0,o.A)([O&&{label:O.name,iconProps:U,onClick:()=>M((0,c.c)({recordId:O.id}))},k&&{label:k.name,iconProps:W}])},[M,S]);return t.createElement(n.Y,{className:P,crumbs:R,isLoading:(0,h.Eh)(S)})}_(A,"BaseRecordBreadcrumbs"),A.displayName="BaseRecordBreadcrumbs";function C(y){let{className:P,channelId:E,includePrefix:M}=y;const S=(0,s.wA)(),R=(0,f.d4)(F=>(0,m.OL)(F,E)),k=(0,r.iJ)(R),O=(0,r.dM)(R),U=(0,r.jT)(R),W=(0,f.d4)(F=>(0,v.PQ)(F,k)),x=W.parent,L=(0,f.d4)(F=>(0,p.kO)(F,(0,u.D)(k||"").salesforceOrgId)),b=(0,t.useMemo)(()=>{const F=(0,i.C)(O),B=(0,i.C)(x==null?void 0:x.object_api_name),K=(0,i.C)("Org");return(0,o.A)([M&&{label:T.t("{recordLabel} in",{recordLabel:U,recordType:U}),className:"margin_right_25",iconProps:F,noSeparator:!0},(x==null?void 0:x.name)&&{label:x.name,iconProps:B,onClick:()=>{x.id&&S((0,c.c)({recordId:x.id}))}},(0,a.uz)(L)&&{label:L.name,iconProps:K}])},[S,M,L,x,O,U]);return t.createElement(n.Y,{className:P,crumbs:b,isLoading:(0,a.mX)(L)||(0,a.mX)(R)||(0,h.Eh)(W)})}_(C,"BaseRecordChannelBreadcrumbs"),C.displayName="BaseRecordChannelBreadcrumbs";const I=null,D=t.memo(C)},2463625947:(N,g,e)=>{"use strict";e.d(g,{B:()=>u,c:()=>f});var t=e(352142497),s=e(9629572172),o=e(4117634716),n=e(8822892075),c=e(1407713935),i=e(8040098042),r=e(6304789565),a=e(8847766420),l=e(9101533895),d=e(8096107629);function u(m){return(m==null?void 0:m.type)==="messageUnfurl"}_(u,"isMessageUnfurlReferrer");const f=(0,r.Ay)("Navigate to a Record in the Flexpane",async(m,h,v,p)=>{let{listViewId:T,recordId:A,shouldPersistOnRecordChannel:C=!0,referrer:I}=v;const D=h(),y=(0,a.ZT)(D);y&&(0,d.D1)(y,[A]);let P;if(C){const{getPrimaryView:M}=p(s.U),S=M(D),R=S==null?void 0:S.id;P=R&&(S==null?void 0:S.viewType)===t.D.Channel&&(0,i.A)(R)&&(0,c.rI)((0,l.OL)(D,R,!1))?R:void 0}const E=(0,n.We)({listViewId:T,recordId:A});return m((0,o.o)({...E,params:{...E.params,parentTab:P,referrer:I}}))});f.meta={name:"createThunk",key:"createThunknavigateToRecord",description:"Navigate to a Record in the Flexpane"}},5892132962:(N,g,e)=>{"use strict";e.d(g,{C:()=>p,sc:()=>T});var t=e(9548888903),s=e(2233365467),o=e(1407713935),n=e(5298341891);const c={name:"sf-account"},i={name:"sf-case"},r={name:"sf-contact"},a={name:"sf-lead"},l={name:"sf-opportunity"},d={name:"sf-cloud"},u={name:"sf-record"},f={name:"sf-record-list"},m={name:"bolt"},h={name:"headphones-filled"},v={[n.Dj.Account]:c,[n.Dj.Case]:i,[n.Dj.Contact]:r,[n.Dj.Lead]:a,[n.Dj.Opportunity]:l,List:f,Org:d,Record:u,Bolt:m},p=_(A=>A&&v[A]||u,"getSalesforceIconPropsForType");function T(A){if(!(0,o.rI)(A))return null;const C=(0,s.LJ)(A);switch((0,s.fI)(C==null?void 0:C.record_id)){case t.B4.Huddle:return h;default:return null}}_(T,"getRecordChannelOverrideIconProps")},6878532881:(N,g,e)=>{"use strict";e.d(g,{Q:()=>s});var t=e(4761125736);const s=_(o=>(0,t._Z)(o,"sidekicks")==="on","isSidekicksEnabled")},7244076749:(N,g,e)=>{"use strict";e.d(g,{b:()=>s});var t=e(2878685908);function s(){return(0,t.b3)()}_(s,"isSlackKitPlaygroundEnabled")},9449324277:(N,g,e)=>{"use strict";e.d(g,{Y:()=>r});var t=e(3134334389),s=e(9132066222),o=e(1335022929),n=e(5519146941),c=e(9506008067),i=e(3193155968);function r(){var a;const{currentTabId:l}=(0,t.useContext)(o.d),d=(0,c.d4)(s.zm),{getSiblingView:u,container:f}=(0,t.useContext)(n.A),m=(0,c.d4)(h=>u(h,{container:f??i.mq.Primary}));return d?l:m==null||(a=m.params)===null||a===void 0?void 0:a.tabId}_(r,"useCurrentChannelTabId")},2615727366:(N,g,e)=>{"use strict";e.d(g,{u:()=>r});var t=e(3134334389),s=e(9449324277),o=e(4939604634),n=e(1335022929),c=e(7937864072),i=e(9506008067);function r(){const a=(0,c.A)(),{channelId:l}=(0,t.useContext)(n.d),d=(0,s.Y)(),u=(0,i.d4)(f=>{if(l)return(0,o.b)(f,{channelId:l,currentTabId:d})});if(l)return u||a.error(new Error("No current channel tab selected.")),u}_(r,"useCurrentlySelectedTab")},1335022929:(N,g,e)=>{"use strict";e.d(g,{H:()=>r,d:()=>i});var t=e(3134334389),s=e(9132066222),o=e(4427921758),n=e(7245481391),c=e(9506008067);const i=(0,t.createContext)({});function r(a){let{channelId:l,currentTabId:d,children:u}=a;const f=(0,c.d4)(s.zm),m=(0,t.useMemo)(()=>f?{channelId:l,currentTabId:d??n.fY.Channel}:{channelId:l,currentTabId:void 0},[l,d,f]);return l?t.createElement(i.Provider,{value:m},t.createElement(o.j.Provider,{value:m},u)):u}_(r,"TabbedChannelProvider"),r.displayName="TabbedChannelProvider"},6971099563:(N,g,e)=>{"use strict";e.d(g,{Kr:()=>i,TX:()=>a,jH:()=>o,t_:()=>r,yg:()=>n});var t=e(3037015781),s=e(6140401014);const o=_(l=>(l==null?void 0:l.type)==="entity_details_present","isEntityFromRTMEvent"),n=_(l=>{var d;return o(l)&&((d=l.ext_error)===null||d===void 0?void 0:d.status)==="user_not_authed"},"isExistingEntityAwaitingUserAuth"),c=_(l=>{if(!(0,t.GU)(l))return o(l)?l.entity_details:l.work_object},"getWorkObjectDetails"),i=_(l=>{const d=c(l);return d?s.cV.create(d):void 0},"getWorkObjectModel"),r=_(l=>(0,t.GU)(l)?l.id:o(l)?l.entity_id:l.record_id,"getEntityId"),a=_(l=>{var d;const u="external_link"in l?l.external_link:void 0;var f;return(f=(d=c(l))===null||d===void 0?void 0:d.external_url)!==null&&f!==void 0?f:u},"getEntityUrl")},73855031:(N,g,e)=>{"use strict";e.d(g,{n:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(2036354333),i=e(8683010724),r=e(6627147571),a=e.n(r);function l(){return l=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])}return f},l.apply(this,arguments)}_(l,"_extends");const d={item:"accordion-list-item",itemHeader:"accordion-list-item-header",itemDescription:"accordion-list-item-description",expandedIcon:"accordion-list-item-expanded-icon",imageCaret:"accordion-list-item-image-caret"};function u(f){let{accordionItems:m,className:h,showImageCaret:v,autoClogProps:p,showItemBorder:T=!0,itemClassName:A="",itemHeaderClassName:C="",itemHeaderButtonClassName:I="",itemHeaderButtonContentClassName:D="",itemDescriptionClassName:y="",expandedIconClassName:P="",collapsedIconClassName:E="",imageCaretClassName:M="",applyCustomAnimation:S=!1,expandOnHover:R=!1}=f;const[k,O]=(0,t.useState)(!1),[U,W]=(0,t.useState)(m.map((V,ne)=>({...V,isExpanded:ne===0}))),[x,L]=(0,t.useState)(""),b=(0,t.useRef)({}),F=(0,t.useCallback)((V,ne)=>()=>{k||O(!0),!ne.isExpanded&&(W(U.map((q,me)=>({...q,isExpanded:me===V}))),L(ne.id),typeof ne.onExpand=="function"&&ne.onExpand())},[U,k]),B=(0,t.useCallback)(V=>ne=>{b.current[V]=ne},[]);(0,t.useEffect)(()=>{if(x&&b.current[x]){var V;(V=b.current[x])===null||V===void 0||V.focus()}},[x]);const K=_(V=>({...p,onClick:{enableClogAction:!V.isExpanded},elementValue:V.id}),"getAutoClogProps"),H=(0,t.useCallback)((V,ne)=>t.createElement("h2",{className:o()(a().header,{[C]:!!C,[a().customItemTextAnimation]:S&&ne&&k,[a().customItemText]:S&&ne&&!k}),"data-qa":d.itemHeader},V),[S,C,k]),Y=(0,t.useCallback)((V,ne,q)=>{let me=o()({[a().defaultShowDescriptionAnimation]:ne&&k,[a().defaultShowDescription]:ne&&!k});return S&&(me=o()({[a().customItemTextAnimation]:S&&ne&&k,[a().customItemText]:S&&ne&&!k})),t.createElement("div",{className:me},t.createElement("div",{className:a().description},t.createElement("div",{id:`description-${q}`,"aria-hidden":!ne,"data-qa":d.itemDescription,className:o()({[y]:!!y})},V)))},[S,y,k]),Z=S?{[a().customItemTransition]:S}:{};return t.createElement("ul",{className:o()(a().accordion,h)},U.map((V,ne)=>t.createElement("li",{key:V.id,"data-qa":d.item,className:o()(a().item,{[a().expanded]:V.isExpanded,[a().noBorder]:!T,...Z},A)},t.createElement(c.A,{"aria-expanded":V.isExpanded,"aria-controls":`description-${ne}`,className:o()(a().itemHeader,{[I]:!!I}),onClick:F(ne,V),autoClogProps:K(V),ref:B(V.id),"aria-label":typeof V.header=="string"?V.header:void 0,"aria-describedby":V.isExpanded?`description-${ne}`:void 0,onMouseOver:R?F(ne,V):n.A},t.createElement("div",{className:a().iconSpacer},V.isExpanded?t.createElement("span",{className:o()(a().expandedIcon,{[P]:!!P,[V.iconHighlightClassName||""]:!!V.iconHighlightClassName}),"data-qa":d.expandedIcon},V.iconProps?t.createElement(i.A,l({},V.iconProps)):t.createElement(i.A,{name:"check-filled"})):t.createElement("span",{className:o()({[E]:!!E,[V.iconHighlightClassName||""]:!!V.iconHighlightClassName})},V.collapsedIcon?t.createElement(i.A,l({},V.collapsedIcon)):t.createElement(i.A,{name:"caret-right-filled"}))),t.createElement("div",{className:o()("display_flex flex_direction_column",{[D]:!!D})},H(V.header,V.isExpanded),Y(V.description,V.isExpanded,ne))),v&&V.isExpanded&&t.createElement("div",{className:o()(a().imageCaret,M),"data-qa":d.imageCaret}))))}_(u,"Accordion"),u.displayName="Accordion"},6786905431:(N,g,e)=>{"use strict";e.d(g,{K8:()=>o,Q1:()=>t});const t=20,s={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},o={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},4371795352:(N,g,e)=>{"use strict";e.d(g,{g:()=>o});var t=e(5624319675),s=e(2384831516);const o=(0,s.Mz)(n=>(0,t.mr)(n));o.meta={name:"createSelector",key:"createSelectorisAgentforceNewDmViewEnabled",description:n=>(0,t.mr)(n)}},6224506772:(N,g,e)=>{"use strict";e.d(g,{ET:()=>c,EV:()=>n,HD:()=>l,Nn:()=>r,aj:()=>a,eF:()=>i,oO:()=>o});var t=e(2384831516),s=e(4761125736);const o=(0,t.Mz)(d=>(0,s._Z)(d,"agentforce_agent_home")==="on");o.meta={name:"createSelector",key:"createSelectorisAgentforceAgentHomeEnabled",description:d=>(0,s._Z)(d,"agentforce_agent_home")==="on"};const n=(0,t.Mz)(d=>(0,s._Z)(d,"agentforce_feedback_buttons")==="on");n.meta={name:"createSelector",key:"createSelectorisAgentforceFeedbackButtonsEnabled",description:d=>(0,s._Z)(d,"agentforce_feedback_buttons")==="on"};const c=(0,t.Mz)(d=>(0,s._Z)(d,"fe_agentforce_show_audio_video_clip_composer_buttons")==="on");c.meta={name:"createSelector",key:"createSelectorisAgentforceShowAudioAndVideoClipComposerButtonsEnabled",description:d=>(0,s._Z)(d,"fe_agentforce_show_audio_video_clip_composer_buttons")==="on"};const i=(0,t.Mz)(d=>(0,s._Z)(d,"agentforce_consistent_agent_home")==="on");i.meta={name:"createSelector",key:"createSelectorisAgentforceAgentConsistentHomeEnabled",description:d=>(0,s._Z)(d,"agentforce_consistent_agent_home")==="on"};const r=(0,t.Mz)(d=>(0,s._Z)(d,"agentforce_mention_single_agent")==="on");r.meta={name:"createSelector",key:"createSelectorisAgentforceMentionSingleAgentEnabled",description:d=>(0,s._Z)(d,"agentforce_mention_single_agent")==="on"};const a=(0,t.Mz)(d=>(0,s._Z)(d,"channel_knowledge_agent")==="on");a.meta={name:"createSelector",key:"createSelectorisAgentforceChannelKnowledgeAgentEnabled",description:d=>(0,s._Z)(d,"channel_knowledge_agent")==="on"};const l=(0,t.Mz)(d=>(0,s._Z)(d,"channel_knowledge_agent_invite")==="on");l.meta={name:"createSelector",key:"createSelectorisAgentforceChannelKnowledgeAgentInviteEnabled",description:d=>(0,s._Z)(d,"channel_knowledge_agent_invite")==="on"}},9509635375:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(9506008067),o=e(6471059816),n=e(4844578989),c=e.n(n),i=e(6271402872),r=e(5624319675);function a(){return a=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])}return f},a.apply(this,arguments)}_(a,"_extends");const l=new o.Ay("members");function d(f){let{className:m,inverse:h=!1,isWorkflow:v=!1,isLegacyWorkflow:p=!1,isAgent:T=!1,...A}=f;const C=(0,s.d4)(i.x$),I=(0,s.d4)(r.mr);let D=l.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"});p&&C&&(D=l.t("LEGACY WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"})),I&&T?D=l.t("AGENTFORCE",{fallbackHash:"635643b67608c4426a4ad8287a8b687415bee6b5"}):v||(D=l.t("APP"));const y=c()(m,"c-app_badge",{"c-app_badge--inverse":h});return t.createElement("span",a({},A,{className:y,"data-stringify-suffix":" "}),D)}_(d,"AppBadge"),d.displayName="AppBadge";const u=(0,t.memo)(d)},2197556995:(N,g,e)=>{"use strict";e.d(g,{Y:()=>o});var t=e(2384831516),s=e(4761125736);const o=(0,t.Mz)(n=>(0,s._Z)(n,"app_gallery_default_org")==="on"&&(0,s._Z)(n,"app_gallery_refresh")==="on");o.meta={name:"createSelector",key:"createSelectorisAppGalleryDefaultOrgOn",description:n=>(0,s._Z)(n,"app_gallery_default_org")==="on"&&(0,s._Z)(n,"app_gallery_refresh")==="on"}},5874162200:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(6471059816);const s=new t.Ay("audio_player");function o(c){const i=Math.floor(c/3600),r=Math.floor((c-i*3600)/60),a=Math.floor(c-i*3600-r*60);return i>0?s.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a,minutes:r,hours:i}):r>0?s.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a,minutes:r}):s.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a})}_(o,"secondsToSpokenTime");const n=o},1191942715:(N,g,e)=>{"use strict";e.d(g,{A:()=>Y});var t=e(3134334389),s=e(6122756707),o=e(8289365785),n=e(362134992),c=e(6828699058),i=e(3869429517),r=e(2836999160),a=e(7048718168),l=e(6423046221),d=e(8389327410),u=e(3771536679),f=e(8025887996),m=e(5014733736),h=e(1030162945),v=e(694411468),p=e(7712314707),T=e(475043867),A=e(8212777283),C=e(1843207890),I=e(6783791506),D=e(7957086050),y=e(8983164438),P=e(297247517),E=e(6659965705),M=e(9413477854),S=e(6795568989),R=e(3842747943),k=e(6533394955),O=e(7203178304);function U(Z,V){if(!V||!Z||!(0,S.d)(Z))return"";const ne=(0,k.$D)(V),q=(0,R.O)(ne);return(0,O.A)(q)[Z]}_(U,"getUnicodeNameFromEmojiString");var W=e(1301184890),x=e(9391594207),L=e(8847766420),b=e(4841770661),F=e(9506008067),B=e(2047021170);const K=_(Z=>{let{richTextBlock:V,do24hrTime:ne,emojiSize:q,truncateLength:me,teamOrEnterpriseId:ue,withFormattingStyles:ae,withHighlights:le,withSlackLinks:fe,withHyperlinks:he}=Z;var ie;const X=(0,s.wA)(),j=(0,F.d4)(de=>(0,B.ty)(de,"suppress_link_warning")),w=(0,t.useCallback)(de=>{if(!j){const{href:re,innerText:_e}=de.target;X((0,b.A)({text:_e,url:re})),de.preventDefault()}},[X,j]);if(!(!(V==null||(ie=V.elements)===null||ie===void 0)&&ie.length))return null;let Q=0;const G=_(()=>(Q+=1,Q),"makeKey");let J=(0,o.A)((0,f.M)(V.elements)),te;if((0,y.C)(J)&&(J!=null&&J.style&&J.style===d.L1.ORDERED?te=t.createElement(t.Fragment,null,"1. "):te=t.createElement(t.Fragment,null,"\u2022 "),J=(0,o.A)(J.elements)),!J||!J.elements||!J.elements.length)return null;let se=!1,ce=0;const Ee=J.elements.map(de=>{if(se)return null;let re=null;if((0,I.E)(de)){ce+=1;const _e=de.name,ve=de.skin_tone,ge=de.display_team_id,Le=de.display_alias,ke=de==null?void 0:de.unicode,Ke=Le??_e,Ne=(0,W.A)(Ke,ue);let Re=ve?`:${Ke}::skin-tone-${ve}:`:`:${Ke}:`;if(Ne&&ke){const We=U(ke,ue??"");We&&(Re=`:${We}:`)}const xe=de.display_url;re=t.createElement(h.Ay,{key:G(),text:Re,emojiSize:q||h.lw.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:ge,url:xe})}if((0,T.P)(de)&&(de!=null&&de.channel_id)&&(ce+=de.channel_id.length,re=t.createElement(a.A,{key:G(),id:de.channel_id,noLinking:!fe})),(0,E.H)(de)&&(de!=null&&de.user_id)&&(ce+=de.user_id.length,re=t.createElement(c.A,{key:G(),id:de.user_id,noLinking:!fe,noHighlights:!le})),(0,M.G)(de)&&(de!=null&&de.usergroup_id)&&(ce+=de.usergroup_id.length,re=t.createElement(l.Ay,{key:G(),id:de.usergroup_id,noLinking:!fe,noHighlights:!le})),(0,p.V)(de)&&(de!=null&&de.range)&&(ce+=de.range.length,re=t.createElement(r.A,{key:G(),type:de.range,noLinking:!fe,noHighlights:!le})),(0,C.i)(de)){const{timestamp:_e,format:ve,fallback:ge}=de;if(!_e||!ve)return null;ce+=ge?ge.length:0,re=t.createElement(i.A,{key:G(),ts:_e.toString(),format:ve,fallback:ge,do24hrTime:ne,noLinking:!fe})}if((0,D._)(de)){ce+=(de.text||de.url||"").length;let _e;if(he){const ve=de.url||"",ge=de.text||de.url||"";(0,u.A)(ge,ve)?_e=t.createElement(v.A,{key:G(),href:ve,onClick:w},ge):_e=t.createElement(v.A,{key:G(),href:ve},ge)}else _e=t.createElement(t.Fragment,{key:G()},de.text||de.url||"");re=_e}if((0,A.f)(de)&&(de!=null&&de.value)&&(ce+=de.value.length,re=t.createElement(t.Fragment,{key:G()},de.value||"")),(0,P.P)(de)&&de.text){const _e=de.text.split(/\n/);let ve=(0,o.A)(_e);const ge=me?me-ce:ce;ce=ve?ce+ve.length:ce,_e.length>1&&(se=!0),ve&&me&&ve.length>ge&&(se=!0,ve=ve.substr(0,ge)),re=t.createElement(t.Fragment,{key:G()},ve||"")}return ae&&(re=t.createElement(m.A,{key:G(),style:de.style},re)),re||(me&&!se&&ce>me&&(se=!0),null)});return t.createElement(t.Fragment,null,te,(0,n.A)(Ee),se&&t.createElement(t.Fragment,null,"\u2026"))},"RichTextPreamble");K.displayName="RichTextPreamble";const H=_(Z=>({do24hrTime:(0,B.ty)(Z,"time24"),teamOrEnterpriseId:(0,L.JY)(Z)||""}),"mapStateToProps"),Y=(0,x.N)(H)(K)},8025887996:(N,g,e)=>{"use strict";e.d(g,{M:()=>o});var t=e(498506970),s=e(3495012415);function o(n){return(0,s.A)(n,c=>{const i=c&&c.elements;if(!(i!=null&&i.length))return c;const r=[],a=_(d=>d&&d.style&&d.style.code,"isCode");let l=null;return i.forEach(d=>{const u=a(d)?(0,t.A)(d):d;l&&(l!=null&&l.style)&&(u!=null&&u.style)&&a(l)&&a(u)&&(l.style.noRightCap=!0,u.style.noLeftCap=!0),r.push(u),l=u}),{...c,elements:r}})}_(o,"decorateInlineCode")},5014733736:(N,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3270738832),c=e(6122756707),i=e(5082930587),r=e(8170244779),a=e(8739505998),l=e(2312625946),d=e(82287009),u=e(9506008067),f=e(6082887833),m=e(2375333597);const h=_(C=>{const I=new Date(C),D=I.getMinutes(),y=D%15;return y<8?I.setMinutes(D-y):I.setMinutes(D+(15-y)),I.setSeconds(0),I.setMilliseconds(0),I.getTime()/1e3},"roundToNearest15Minutes");function v(C){let{children:I}=C;const D=(0,t.useContext)(r.A),y=(0,u.d4)(S=>D.ts?(0,f.S)(S,D.ts):void 0),P=(0,c.wA)(),E=(0,t.useCallback)(()=>{P((0,m.q)({element:(0,d.Qo)({channelId:D==null?void 0:D.channelId,appType:"gcal",threadTs:D==null?void 0:D.threadTs,isProfileAppView:!1})}))},[P,D==null?void 0:D.channelId,D==null?void 0:D.threadTs]),M=(0,t.useCallback)(()=>{if(y!=null&&y.contextType)switch(y==null?void 0:y.contextType){case"create_event":if(!(y!=null&&y.createEventPayload)){E();break}if(!(y!=null&&y.createEventPayload.start_date)){E();break}if(!(y!=null&&y.createEventPayload.title)){E();break}P((0,m.q)({element:(0,d.Qo)({channelId:D==null?void 0:D.channelId,appType:"gcal",threadTs:D==null?void 0:D.threadTs,presetDate:new Date(y==null?void 0:y.createEventPayload.start_date).toISOString().split("T")[0],presetStartTime:h(y==null?void 0:y.createEventPayload.start_date),presetTitle:y==null?void 0:y.createEventPayload.title,isProfileAppView:!1})}));break;case"view_schedule":if(!(y!=null&&y.viewSchedulePayload)||!(y!=null&&y.viewSchedulePayload.start_time)||!(y!=null&&y.viewSchedulePayload.date)){E();break}P((0,m.q)({element:(0,d.Qo)({channelId:D==null?void 0:D.channelId,appType:"gcal",threadTs:D==null?void 0:D.threadTs,presetDate:new Date(y==null?void 0:y.viewSchedulePayload.date).toISOString().split("T")[0],presetStartTime:h(y==null?void 0:y.viewSchedulePayload.start_time),isProfileAppView:!1})}));break;case"find_a_time":if(!(y!=null&&y.findATimePayload)){E();break}if(!(y!=null&&y.findATimePayload.duration)){E();break}break;case"describe_knowledgebase":break;default:(0,i.Kh)(y==null?void 0:y.contextType)}},[y,P,D==null?void 0:D.channelId,D==null?void 0:D.threadTs,E]);return t.createElement(l.Ay,{tip:y==null?void 0:y.debugPayload},t.createElement(a.A,{className:"p-assistant_thread_ambient_suggestion","data-qa":"assistant-thread-ambient-suggestion",onClick:M},I))}_(v,"AssistantThreadAmbientSuggestion"),v.displayName="AssistantThreadAmbientSuggestion";const p=t.memo(v),T=_(C=>{let{children:I,style:D}=C;if(!I)return null;const{bold:y,italic:P,strike:E,code:M,clientHighlight:S,subjectLine:R,noLeftCap:k,noRightCap:O}=D||{},{slackAssistantAmbientSuggestion:U,slackAssistantAmbientSuggestionKey:W}=D||{};let x=I;if(E&&(x=t.createElement("s",{"data-stringify-type":"strike"},x)),P&&(x=t.createElement("i",{"data-stringify-type":"italic"},x)),y&&!R&&(x=t.createElement("b",{"data-stringify-type":"bold"},x)),S&&(x=t.createElement("span",{className:"c-mrkdwn__highlight"},x)),U&&(x=t.createElement(p,{suggestion:W},x)),M){const L=o()("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":k,"c-mrkdwn__code--no_right_cap":O});x=t.createElement(n.i,{blockType:"code"},t.createElement(n.m,null,t.createElement("code",{"data-stringify-type":"code",className:L},x)))}return t.createElement(t.Fragment,null,x)},"WithFormattingStyles");T.displayName="WithFormattingStyles";const A=T},897219217:(N,g,e)=>{"use strict";e.d(g,{n:()=>s});var t=e(8389327410);const s=_(o=>!o||o.length===0?!1:o[0].type===t.Lv.RICH_TEXT,"isFirstBlockRichText")},4541034515:(N,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),s=e(3297051565),o=e.n(s),n=e(9391594207),c=e(8677230210),i=e(8170643398),r=e(9509635375),a=e(4031325387),l=e(3244118357),d=e(6471059816);const u=new d.Ay("bot-name"),f={isWorkflow:o().bool.isRequired,className:o().string,name:o().string,badge:o().bool,isChannelFiles:o().bool,"data-qa":o().string},m={className:void 0,name:void 0,badge:!0,isChannelFiles:!1,"data-qa":void 0},h=_(T=>{let{className:A,name:C,badge:I,isWorkflow:D,isChannelFiles:y,"data-qa":P}=T;const E=y&&C?u.t("Shared by {name}",{name:C}):C;return t.createElement("span",{className:A,"data-qa":P},E||t.createElement(a.A,null)," ",I&&!y&&t.createElement(r.A,{isWorkflow:D}))},"BotName");h.displayName="BotName",h.propTypes=f,h.defaultProps=m;const v=_((T,A)=>{let{id:C}=A;const I=(0,c.AF)(T,C);return{name:(0,l.Hg)(I),isWorkflow:(0,i.v3)(I)}},"mapStateToProps"),p=(0,n.N)(v)(h)},7592430824:(N,g,e)=>{"use strict";e.d(g,{N:()=>n,u:()=>o});var t=e(3134334389),s=e(6152845331);const o=(0,s.Ay)("Embedded UI Provider",null),n=t.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},7330763135:(N,g,e)=>{"use strict";e.d(g,{I1:()=>l,Jn:()=>T,N2:()=>u,OD:()=>E,RO:()=>M,Wg:()=>a,h$:()=>p,jY:()=>r,nH:()=>I,o8:()=>y,pg:()=>h,s3:()=>d,v_:()=>P,zd:()=>D});var t=e(3262078016),s=e(6471059816),o=e(6946629059),n=e(5645915081),c=e(9084547259);const i=new s.Ay("slack_docs");var r;(function(S){S.START_THREAD="start-thread",S.OPEN_THREAD="open-thread",S.START_ASSISTANT_THREAD="start-assistant-thread",S.INSERT_VARIABLE="insert-variable",S.MAX_VARIABLE_LIMIT_REACHED="variable-limit-reached",S.SHARE="share",S.OPEN_IN_DETACHED_WINDOW="open-in-detached-window",S.VIEW_FULL_SCREEN="view-full-screen",S.VIEW_IN_SLACK="view-in-slack",S.OPEN_IN_NEW_WINDOW="open-in-new-window",S.SHARE_CHANNEL_CANVAS="channel-canvas-share",S.ADD_REACTION="add-reaction",S.OPEN_REACTION="open-reaction",S.AI_REFINE="refine",S.OVERFLOW="overflow",S.CALLOUT="callout"})(r||(r={}));const a="option-list-divider",l="quick-edits-header",d="content-based-header";var u;(function(S){S.SUGGEST_EDITS="canvas-suggest-edits",S.REWRITE="canvas-rewrite",S.CHAT="canvas-chat",S.EXPLAIN="canvas-explain",S.PROOFREAD="canvas-proofread",S.SIMPLIFY="canvas-simplify",S.ELABORATE="canvas-elaborate",S.CHANGE_TONE="canvas-change-tone",S.CHANGE_FORMATTING="canvas-change-formatting",S.TRANSLATE="canvas-translate",S.SUMMARIZE="canvas-summarize",S.ADD_ACTION_ITEMS="canvas-add-action-items",S.CONVERT_TO_TABLE="canvas-convert-to-table"})(u||(u={}));var f;(function(S){S.ENGLISH="en",S.SPANISH="es",S.GERMAN="de",S.FRENCH="fr",S.PORTUGUESE="pt",S.ITALIAN="it",S.JAPANESE="ja",S.KOREAN="ko",S.CHINESE_SIMPLIFIED="zh-CN",S.CHINESE_TRADITIONAL="zh-TW",S.PROFESSIONAL="professional",S.WITTY="witty",S.EMPATHETIC="empathetic",S.DIRECT="direct",S.PIRATE="pirate"})(f||(f={}));const m=[u.SUGGEST_EDITS,u.CHAT,u.EXPLAIN,u.CHANGE_FORMATTING],h=_((S,R)=>{if(!R)return"";switch(S){case f.PROFESSIONAL:return i.t("Professional",{fallbackHash:"6f719fb045c0b6fc89e44e33177ba6d4c3e21055",fallbackHashNs:"composer"});case f.WITTY:return i.t("Witty",{fallbackHash:"89d3e5e4e9788f9e7c9f15d5ba5d02ab6c4f6757",fallbackHashNs:"composer"});case f.EMPATHETIC:return i.t("Empathetic",{fallbackHash:"f8b682c6e9202623d369bea1073ed20ea4969fce",fallbackHashNs:"composer"});case f.DIRECT:return i.t("Direct",{fallbackHash:"bc81524a554d8a0ff1c122ddd69f8eeebdf76f02",fallbackHashNs:"composer"});case f.PIRATE:return i.t("Pirate",{fallbackHash:"4778a2e5249d620c6e3309e4f9cac43d5821da7e",fallbackHashNs:"composer"});case f.ENGLISH:return i.t("English");case f.SPANISH:return i.t("Spanish");case f.GERMAN:return i.t("German");case f.FRENCH:return i.t("French");case f.PORTUGUESE:return i.t("Portuguese");case f.ITALIAN:return i.t("Italian");case f.JAPANESE:return i.t("Japanese");case f.KOREAN:return i.t("Korean");case f.CHINESE_SIMPLIFIED:return i.t("Chinese");case f.CHINESE_TRADITIONAL:return i.t("Chinese (Traditional)");default:return""}},"getCanvasAiSubmenuItemLabel"),v=new Map([[u.CHANGE_TONE,[f.PROFESSIONAL,f.WITTY,f.EMPATHETIC,f.DIRECT,f.PIRATE]],[u.TRANSLATE,[f.ENGLISH,f.SPANISH,f.GERMAN,f.FRENCH,f.PORTUGUESE,f.ITALIAN,f.JAPANESE,f.KOREAN,f.CHINESE_SIMPLIFIED,f.CHINESE_TRADITIONAL]],[u.CHANGE_FORMATTING,[]]]),p=_(S=>v.get(S),"getCanvasAiSubmenuContent"),T=_(S=>!m.includes(S),"isCanvasAiSelectAndRefineActionSupported"),A=[u.PROOFREAD,u.SIMPLIFY,u.ELABORATE,u.CHANGE_TONE,u.CHANGE_FORMATTING,u.TRANSLATE],C=[u.SUMMARIZE,u.ADD_ACTION_ITEMS,u.CONVERT_TO_TABLE];function I(S){if(A.includes(S)||C.includes(S))return null;switch(S){case u.SUGGEST_EDITS:return{name:"glasses"};case u.REWRITE:return{name:"compose"};case u.CHAT:return{name:"direct-messages"};case u.EXPLAIN:return{name:"help"};default:return{name:"magic-wand"}}}_(I,"getCanvasAiIcons");const D=_((S,R)=>{if(!R)return;const k=S.actionId,O=S.contextId;switch(k){case u.PROOFREAD:return i.t("Proofread");case u.ELABORATE:return i.t("Elaborate");case u.SIMPLIFY:return i.t("Simplify");case u.REWRITE:return i.t("Describe your edit");case u.CHANGE_TONE:{if(O){const U=O===f.PIRATE?i.t("like a pirate"):h(O,R).toLowerCase();return i.t("Change the content tone to sound {tone}.",{tone:U})}break}case u.TRANSLATE:{if(O){const U=h(O,R);return i.t("Translate the content to the following language: {language}.",{language:U})}break}case u.SUMMARIZE:return i.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"});case u.ADD_ACTION_ITEMS:return i.t("Add action items",{fallbackHashNs:"assistant",fallbackHash:"1363e6593c6d58b63d976fd1607b3a26c84046e1"});case u.CONVERT_TO_TABLE:return i.t("Convert to table",{fallbackHashNs:"slack_docs",fallbackHash:"c0794c144895e84308d76814fd04b93125d0f8b9"});default:return}},"getSelectionPresetPromptText"),y={...n.zF,...c.L},P={...y,...r,...u};function E(S,R){return Object.values(R).some(k=>k===S)}_(E,"isToolbarAction");const M=_(function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.DocBlockStyle.PLAIN;const k=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(O=>(0,c.B)(O)).filter(o.b);return S&&k.push((0,n.Zq)(S)||n.zF.PARAGRAPH),k},"getFormats")},5645915081:(N,g,e)=>{"use strict";e.d(g,{Zq:()=>i,zF:()=>s,zf:()=>r});var t=e(3262078016),s;(function(a){a.PARAGRAPH="paragraph",a.H1="h1",a.H2="h2",a.H3="h3",a.CHECK_LIST="check-list",a.CHECK_LIST_TOGGLE="check-list-toggle",a.ORDERED_LIST="ordered-list",a.BULLET_LIST="bullet-list",a.BLOCKQUOTE="blockquote",a.CODE_BLOCK="code-block"})(s||(s={}));const o=[[t.DocBlockStyle.PLAIN,s.PARAGRAPH],[t.DocBlockStyle.H1,s.H1],[t.DocBlockStyle.H2,s.H2],[t.DocBlockStyle.H3,s.H3],[t.DocBlockStyle.LIST_CHECKLIST,s.CHECK_LIST],[t.DocBlockStyle.LIST_NUMBERED,s.ORDERED_LIST],[t.DocBlockStyle.LIST_BULLET,s.BULLET_LIST],[t.DocBlockStyle.BLOCKQUOTE,s.BLOCKQUOTE],[t.DocBlockStyle.CODE,s.CODE_BLOCK]],n=new Map(o),c=new Map(o.map(a=>[a[1],a[0]]));function i(a){return n.get(a)}_(i,"blockStyleToFormat");function r(a){return c.get(a)}_(r,"formatToBlockStyle")},4843305308:(N,g,e)=>{"use strict";e.d(g,{P:()=>o});var t=e(7731278967),s=e(9084547259);const o=_(n=>{switch(n){case t.r.FILE:return{name:"attachment"};case t.r.IMAGE:return{name:"image"};case t.r.CHECK_LIST:return{name:"checkbox"};case t.r.CHECK_LIST_TOGGLE:return{name:"checkbox"};case t.r.BULLET_LIST:return{name:"bulleted-list"};case t.r.ORDERED_LIST:return{name:"numbered-list"};case t.r.VIDEO_CLIP:return{name:"video"};case t.r.AUDIO_CLIP:return{name:"microphone"};case t.r.DIVIDER:return{name:"divider"};case t.r.TABLE:return{name:"spreadsheet"};case t.r.LAYOUT_2_COLUMNS:return{name:"column-two"};case t.r.LAYOUT_3_COLUMNS:return{name:"column-three"};case t.r.PINS:return{name:"pin"};case t.r.SMART_SUMMARY:case t.r.RECENT_FILES:case t.r.ACTIVE_DISCUSSIONS:case t.r.CHANNEL_HUDDLES:return{name:"magic-wand"};case t.r.BLOCKQUOTE:return{name:"quote"};case t.r.CODE_BLOCK:return{name:"code-block"};case s.L.CODE:return{name:"code"};case t.r.PARAGRAPH:return{name:"paragraph"};case t.r.H1:return{name:"heading-1"};case t.r.H2:return{name:"heading-2"};case t.r.H3:return{name:"heading-3"};case t.r.CANVAS:return{name:"canvas"};case t.r.WORKFLOW:return{name:"play"};case t.r.LIST:return{name:"lists"};case t.r.WIDGET:return{name:"blocks"};case t.r.SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.USER_PROFILE_UNFURL:return{name:"user"};case t.r.PLACEHOLDER_CARD_SUBMENU:return{name:"add-placeholder"};case t.r.PLACEHOLDER_CARD_VIDEO:return{name:"video"};case t.r.PLACEHOLDER_CARD_PROFILE:return{name:"user"};case t.r.PLACEHOLDER_CARD_AUDIO:return{name:"microphone"};case t.r.PLACEHOLDER_CARD_WORKFLOW:return{name:"play"};case t.r.PLACEHOLDER_CARD_IMAGE:return{name:"image"};case t.r.PLACEHOLDER_CARD_CANVAS:return{name:"canvas"};case t.r.PLACEHOLDER_CARD_FILE:return{name:"attachment"};case t.r.PLACEHOLDER_CARD_LINK:return{name:"link"};case t.r.PLACEHOLDER_CARD_LIST:return{name:"lists"};case t.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.DATE_MENTION:return{name:"calendar"};case t.r.AI_ASSISTANT:return{name:"ai-sparkle"};case t.r.AI_ASSISTANT_CANVAS_SUMMARY:return{name:"ai-summary"};case t.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return{name:"ai-check"};case t.r.CALLOUT:return{name:"callout"};case t.r.SALESFORCE_DATA_MENTION:return{name:"sf-cloud"};default:return{name:"help"}}},"getQuipButtonIcon")},8079225585:(N,g,e)=>{"use strict";e.d(g,{O:()=>c});var t=e(6471059816),s=e(7731278967),o=e(9084547259);const n=new t.Ay("slack_docs"),c=_(function(i){let{experimentCanvasSmartCardsGroupOn:r,experimentWidgetsGroupOn:a,experimentCanvasLiveDataMentionsGroupOn:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(i){case s.r.FILE:return n.t("File");case s.r.IMAGE:return n.t("Image");case s.r.CHECK_LIST:return n.t("Check list");case s.r.CHECK_LIST_TOGGLE:return n.t("Check list");case s.r.BULLET_LIST:return n.t("Bulleted list");case s.r.ORDERED_LIST:return n.t("Ordered list");case s.r.VIDEO_CLIP:return n.t("Record video clip");case s.r.AUDIO_CLIP:return n.t("Record audio clip");case s.r.DIVIDER:return n.t("Divider");case s.r.PINS:return n.t("Pins");case s.r.SMART_SUMMARY:return r?n.t("AI Channel Summary"):"";case s.r.RECENT_FILES:return r?n.t("Recent Files"):"";case s.r.ACTIVE_DISCUSSIONS:return r?n.t("Active Discussions"):"";case s.r.CHANNEL_HUDDLES:return r?n.t("Huddles"):"";case s.r.BLOCKQUOTE:return n.t("Blockquote");case s.r.CODE_BLOCK:return n.t("Code block");case s.r.PARAGRAPH:return n.t("Paragraph");case s.r.H1:return n.t("Big heading");case s.r.H2:return n.t("Medium heading");case s.r.H3:return n.t("Small heading");case s.r.CANVAS:return n.t("Canvas");case s.r.WORKFLOW:return n.t("Workflow");case o.L.CODE:return n.t("Code");case s.r.TABLE:return n.t("Table");case s.r.LAYOUT_2_COLUMNS:return n.t("2 columns",{fallbackHash:"8d8f0f25822179c33b917613ec2d022ef593c340",fallbackHashNs:"quip_shortcut_handlers"});case s.r.LAYOUT_3_COLUMNS:return n.t("3 columns",{fallbackHash:"b505f5f09f70ff9d216f1c3cbb5c1a8a4e82179b",fallbackHashNs:"quip_shortcut_handlers"});case s.r.LIST:return n.t("List");case s.r.WIDGET:return a?n.t("Widget"):"Widget";case s.r.USER_PROFILE_UNFURL:return n.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case s.r.SALESFORCE_RECORD:return n.t("Salesforce record");case s.r.PLACEHOLDER_CARD_VIDEO:return n.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"slack_kit_video"});case s.r.PLACEHOLDER_CARD_PROFILE:return n.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case s.r.PLACEHOLDER_CARD_AUDIO:return n.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"});case s.r.PLACEHOLDER_CARD_WORKFLOW:return n.t("Workflow",{fallbackHash:"d7a484140f5f9f7f5427e1f2c44dbfc1d3ad9eea",fallbackHashNs:"slack_docs"});case s.r.PLACEHOLDER_CARD_IMAGE:return n.t("Image");case s.r.PLACEHOLDER_CARD_CANVAS:return n.t("Canvas");case s.r.PLACEHOLDER_CARD_FILE:return n.t("File");case s.r.PLACEHOLDER_CARD_LINK:return n.t("Link");case s.r.PLACEHOLDER_CARD_LIST:return n.t("List");case s.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return n.t("Salesforce record");case s.r.DATE_MENTION:return n.t("Date",{fallbackHash:"eb9a4bc1c0c153e4e4b042a79113b815b7e3021d",fallbackHashNs:"calendar"});case s.r.CALLOUT:return n.t("Callout",{fallbackHash:"f3e792e7d41d161d609362af9fd451593481fd5d"});case s.r.AI_ASSISTANT:return n.t("Write with AI",{fallbackHash:"5a98372d1f7b397565f7cb33560b8abe99f7acdc"});case s.r.AI_ASSISTANT_CANVAS_SUMMARY:return n.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"});case s.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return n.t("Add action items",{fallbackHash:"955d21424ac706b11f1425f1189ba754d1cc93de"});case s.r.SALESFORCE_DATA_MENTION:return l?n.t("Salesforce data field"):"";default:return i}},"getQuipButtonLabel")},9084547259:(N,g,e)=>{"use strict";e.d(g,{B:()=>n,L:()=>s});var t=e(3262078016),s;(function(c){c.BOLD="bold",c.STRIKE="strike",c.ITALIC="italic",c.CODE="code",c.LINK="link",c.UNDERLINE="underline"})(s||(s={}));const o=new Map([[t.DocInlineStyle.BOLD,s.BOLD],[t.DocInlineStyle.STRIKETHROUGH,s.STRIKE],[t.DocInlineStyle.ITALIC,s.ITALIC],[t.DocInlineStyle.CODE,s.CODE],[t.DocInlineStyle.LINK,s.LINK]]);function n(c){return o.get(c)}_(n,"inlineStyleToFormat")},7731278967:(N,g,e)=>{"use strict";e.d(g,{r:()=>o});var t=e(5645915081),s;(function(n){n.UNKNOWN="unknown",n.TITLE="title",n.FILE="file",n.IMAGE="image",n.VIDEO_CLIP="video-clip",n.AUDIO_CLIP="audio-clip",n.DIVIDER="divider",n.TABLE="table",n.SHORTCUT="shortcut",n.MENU_SEPARATOR="menu-separator",n.PINS="pins",n.BOOKMARKS="bookmarks",n.USER_UNFURL="user-unfurl",n.CANVAS_UNFURL="canvas-unfurl",n.MESSAGE_UNFURL="message-unfurl",n.PUBLIC_LINK_UNFURL="public-link-unfurl",n.SHORTCUT_UNFURL="shortcut-unfurl",n.USER_PROFILE_UNFURL="user-profile-unfurl",n.UNFURL="unfurl",n.CANVAS="canvas",n.GENERIC="generic",n.WORKFLOW="workflow",n.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",n.SMART_SUMMARY="smart-summary",n.RECENT_FILES="recent-files",n.ACTIVE_DISCUSSIONS="active-discussions",n.CHANNEL_HUDDLES="channel-huddles",n.LIST="list",n.WIDGET="widget",n.LAYOUT_2_COLUMNS="layout-2-columns",n.LAYOUT_3_COLUMNS="layout-3-columns",n.PLACEHOLDER_CARD_SUBMENU="placeholder-card-submenu",n.PLACEHOLDER_CARD_VIDEO="placeholder-card-video",n.PLACEHOLDER_CARD_PROFILE="placeholder-card-profile",n.PLACEHOLDER_CARD_AUDIO="placeholder-card-audio",n.PLACEHOLDER_CARD_WORKFLOW="placeholder-card-workflow",n.PLACEHOLDER_CARD_IMAGE="placeholder-card-image",n.PLACEHOLDER_CARD_CANVAS="placeholder-card-canvas",n.PLACEHOLDER_CARD_FILE="placeholder-card-file",n.PLACEHOLDER_CARD_LINK="placeholder-card-link",n.PLACEHOLDER_CARD_LIST="placeholder-card-list",n.PLACEHOLDER_CARD_SALESFORCE_RECORD="placeholder-card-salesforce-record",n.SALESFORCE_RECORD="salesforce-record",n.DATE_MENTION="date-mention",n.CALLOUT="callout",n.AI_ASSISTANT="ai-assistant",n.AI_ASSISTANT_CANVAS_SUMMARY="ai-assistant-canvas-summary",n.AI_ASSISTANT_CANVAS_ACTION_ITEMS="ai-assistant-canvas-action-items",n.SALESFORCE_DATA_MENTION="salesforce-data-mention"})(s||(s={}));const o={...t.zF,...s}},1069376685:(N,g,e)=>{"use strict";e.d(g,{D:()=>t});var t;(function(s){s.SpecificMembers="add-specific-members",s.AllMembers="add-all-members"})(t||(t={}))},8414606991:(N,g,e)=>{"use strict";e.d(g,{v:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(123281540),c=e(1610251172),i=e(8683010724),r=e(207659888);const a=_(l=>{let{type:d,spacing:u="medium"}=l;const f=o()("three_fourths_opacity",{margin_right_0:u==="none",margin_right_25:u==="small",margin_right_50:u==="medium"});return d===r.VZ.Channels||d===r.VZ.OrgChannels?t.createElement(c.A,{type:"channel",size:"inherit",className:f}):(0,n.m)(d)?t.createElement(c.A,{type:"dm",size:"inherit",className:f}):d===r.VZ.RecentApps?t.createElement(c.A,{type:"gn-menu",size:"inherit",className:f}):d===r.VZ.SlackConnect||d===r.VZ.SharedChannels?t.createElement(c.A,{type:"shared-channels-outline",size:"inherit",className:f}):d===r.VZ.Stars?t.createElement(c.A,{type:"star-o",size:"inherit",className:f}):d===r.VZ.UserGroup?t.createElement("div",{className:o()("c-icon","c-icon--inherit",f)},t.createElement(i.A,{name:"user-groups-filled"})):t.createElement(c.A,{type:"star-o",size:"inherit",className:f})},"InlineChannelSectionFallbackIcon");a.displayName="InlineChannelSectionFallbackIcon"},126225536:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(8414606991),i=e(1030162945),r=e(1033870301),a=e(207659888);function l(u){let{channelSection:f,className:m,spacing:h="medium",showIcon:v=!0}=u;const T=(0,s.wA)()((0,r.i1)({channelSection:f})),A=T&&T.split(" "),C=A&&A[0],I=A&&(A.length>1?` ${A.slice(1).join(" ")}`:null),D=_(()=>{if(!v)return null;if(f.type===a.VZ.UserGroup)return t.createElement(c.v,{type:f.type,spacing:h});const y=n()({margin_right_0:h==="none",margin_right_25:h==="small",margin_right_50:h==="medium"});return f.emoji?t.createElement(i.Ay,{className:y,shouldFallbackOnLoadError:!0,text:f.emoji,stopAnimations:!0,emojiSize:i.lw.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):t.createElement(c.v,{type:f.type,spacing:h})},"getIcon");return D.displayName="getIcon",t.createElement("span",{className:n()("p-inline_channel_section",m)},t.createElement("span",{className:"p-inline_channel_section__lockup"},D(),C),I)}_(l,"InlineChannelSection"),l.displayName="InlineChannelSection";const d=l},7502434758:(N,g,e)=>{"use strict";e.d(g,{AV:()=>a,Cu:()=>f,Gu:()=>r,g4:()=>d,qn:()=>l});var t=e(2028988448),s=e(6188550760),o=e(337319621);let n=1,c=1;const i=(0,o.Wo)({label:"HISTORY-NAVIGATION"}),r=_(()=>{c!==n&&(i.info("Incrementing the users current position in the history stack"),c+=1)},"onNavigateForward"),a=_(()=>{c!==1&&(i.info("Decrementing the users current position in the history stack"),c-=1)},"onNavigateBack"),l=_(()=>c===1,"isBackDisabled"),d=_(()=>c===n,"isForwardDisabled");function u(){i.info("Adding route to the history stack"),c+=1,n=c}_(u,"incrementHistoryLength");function f(h){let{shouldReplaceState:v,reason:p}=h;v||p!==s.GB&&u()}_(f,"maybeIncrementHistoryLength"),(0,t.ul)("history",{getHistoryLength:()=>n,getHistoryIndex:()=>c});const m={maybeIncrementHistoryLength:f}},5670315214:(N,g,e)=>{"use strict";e.d(g,{Hu:()=>m,OJ:()=>E,q8:()=>y,vU:()=>P,wZ:()=>M});var t=e(6249041335),s=e(6471059816),o=e(4813703725),n=e(5597672932),c=e(462591818),i=e(6565762531),r=e(1223723593),a=e(4178531214),l=e(1670069836),d=e(6470070112),u=e(6946629059),f=e(6790819894);const m={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},h=new s.Ay("huddles"),v=_((S,R)=>({video:[...S&&S.video?S.video:[]],audio:[...!R&&S&&S.audio?S.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),p=_(S=>{const R=S.reduce((O,U)=>(Object.entries(U).forEach(W=>{let[x,L]=W;(x==="video"||x==="audio")&&(O[x]=O[x]?[...O[x],...L]:[...L])}),O),{}),k={video:[],audio:[]};return Object.entries(R).forEach(O=>{let[U,W]=O;(U==="video"||U==="audio")&&(k[U]=W.filter((x,L,b)=>L===b.findIndex(F=>F.id===x.id&&F.id!==void 0)))}),k},"combineCallApps"),T=_(S=>{const k=(0,l.FR)(S).map(U=>(0,n.xp)(S,"calls_apps",U.id)).filter(u.b);return p(k)},"retrieveCallsAppsForUnifiedOrg"),A=_(S=>(0,a.ss)(S)?T(S):(0,n.xp)(S,"calls_apps"),"retrieveCallsAppsFromPrefs"),C=_((S,R)=>{const k=A(S);if(R){var O;const U=k==null||(O=k.video)===null||O===void 0?void 0:O.findIndex(W=>W.id===c.rq);U>=0&&k.video.splice(U,1)}return k},"filterCallsAppsFromTeamPref"),I=(0,o.ik)((S,R)=>C(S,R),S=>v(S,!1)),D=(0,o.ik)((S,R)=>C(S,R),S=>v(S,!0)),y=_(function(S){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?D(S,!0):I(S,!0)},"getCallsAppsFromTeamPref"),P=(0,f.F)(y,d.pt,(S,R)=>{const k={},O=S&&S.video?S.video:[],U=S&&S.audio?S.audio:[],W=h.t("Start a huddle"),x=R?[{id:"A01",name:W,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...O,...U,...x].forEach(L=>{let b;L.id===c.rq?b={id:L.id,name:L.name,image:L.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(F=>L.id===F)!==-1?b={id:L.id,name:L.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:b=L,k[b.id]=b}),k}),E=_(S=>{let{callsApp:R,memberPhoneNumber:k,hideVideoApps:O=!1}=S;const U=[];return R&&(!O&&R.video&&U.push(...R.video.map(W=>({...W,type:r.JG.Video}))),R.audio&&(0,i.A)((0,t.A)(k))&&U.push(...R.audio.map(W=>({...W,type:r.JG.Audio})))),U},"getCallAppList"),M=_(S=>{const R=C(S,!0),k=R&&R.video?R.video:[],O=R&&R.audio?R.audio:[];return[...k,...O]},"getFlattenTeamPrefCallsApps")},4980558152:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(4103274853),o=e(7715417323),n=e(9323322135),c=e(2664504268),i=e(3514831633),r=e(2312625946),a=e(5301554740),l=e(2409900369);function d(){return d=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},d.apply(this,arguments)}_(d,"_extends");let u=_(class extends t.Component{onDesktopContextMenu(h){const{getTemplate:v,overrideDefaultMenu:p}=this.props,T=_(D=>({...D,id:(0,c.A)(),submenu:D.submenu&&D.submenu.map(T)}),"addIdsToItem"),A=v?v().map(T):[];if(!A.length)return;const{x:C,y:I}=(0,s.A)(this.getCoordinatesForContextMenu(h),D=>(0,n.xhB)()*D);(0,n.O0f)(A,{x:C,y:I,overrideDefaultMenu:p}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(h){if(!this.props.hasKeyboardFocus||!h)return{};const{left:v,top:p,width:T,height:A}=h.currentTarget.getBoundingClientRect(),C=v+T/2,I=p+A/2;return{x:C,y:I}}renderMenuFromTemplate(h){const{getTemplate:v,width:p,showSlackKitContextMenuOnDesktop:T,menuAriaLabel:A}=this.props;function C(D){return D.replace(/&([\w&])/g,(y,P)=>P)}_(C,"removeKeyboardAccelerators");const I=v?v().map(D=>!D.label||T?D:{...D,label:C(D.label)}):[];return I.length?t.createElement(i.a,d({"aria-label":A,width:p},h,{template:I,isContextMenu:!0,stripTerminalSeparators:!0})):null}onContextMenuOpen(){(0,r.Ws)()}render(){if((0,n.g9M)()&&!this.props.showSlackKitContextMenuOnDesktop)return(0,l.A)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:h,onClick:v,onClose:p,isDisabled:T,renderMenu:A,preventScroll:C}=this.props;return this.props.desktopAppOnly?(0,l.A)(this.props.children):t.createElement(i.cQ,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:h,shouldFade:!1,renderMenu:A||this.renderMenuFromTemplate,onClick:v,onClose:p,isDisabled:T,preventScroll:C,onPopoverOpen:this.onContextMenuOpen},this.props.children)}constructor(h){super(h),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this),this.onContextMenuOpen=this.onContextMenuOpen.bind(this)}},"ContextMenuTrigger");u.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:o.A,onClose:o.A,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1},u.displayName="ContextMenuTrigger";const f=(0,a.A)(u)},6388117406:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(6122756707),o=e(2409900369),n=e(4980558152),c=e(82287009),i=e(9506008067),r=e(5795074931);const a=_(d=>{let{id:u,children:f,forceOpen:m=!1,onClick:h,onClose:v,menuAriaLabel:p,sidebar:T,header:A,channelSection:C,onEnterEditModeClick:I,transitionFocusTo:D}=d;const y=(0,i.d4)(r.TZ),P=(0,s.wA)(),E=(0,t.useCallback)(()=>P((0,c.QO)({id:u,sidebar:T,header:A,channelSection:C,onEnterEditModeClick:I,transitionFocusTo:D})),[P,u,T,A,C,I,D]);return!y||!u?(0,o.A)(f):t.createElement(n.A,{menuAriaLabel:p,getTemplate:E,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:m,onClick:h,onClose:v,width:"auto"},f)},"ChannelContextMenu");a.displayName="ChannelContextMenu";const l=a},350738674:(N,g,e)=>{"use strict";e.d(g,{AB:()=>U,Jv:()=>W,TX:()=>P,WF:()=>k,n1:()=>M,s5:()=>R,s9:()=>E});var t=e(6122756707),s=e(7715417323),o=e(3385422400),n=e(8170643398),c=e(9262712126),i=e(3534324375),r=e(6839188756),a=e(9236644324),l=e(8668318456),d=e(56548687),u=e(6471059816),f=e(485355941),m=e(6304789565),h=e(8847766420),v=e(9506008067),p=e(9107158149),T=e(613926746),A=e(5761207079),C=e(8276911661),I=e(1670069836);const D=new u.Ay("member_profile"),y=(0,o.Mz)((x,L)=>{let{memberId:b}=L;return(0,C.nv)(x,b)},(x,L)=>{let{memberId:b}=L;return(0,A.a)(x,b)},(x,L)=>{const b=(0,c.Gt)(x),F=(0,n.oy)(x),B=L?D.t("Copy display name"):D.t("Copy display name: @{displayName}",{displayName:b,__react:!0});return!F&&b?{key:"copy_display_name",dataQa:"copy_display_name",label:B,click:()=>{(0,a.x3)(b)},show:!0,disabled:(0,n.Zx)(x)}:null}),P=_(x=>{let{memberId:L}=x;return(0,v.d4)(b=>L?y(b,{memberId:L}):void 0)},"useGetMenuTemplateCopyDisplayName"),E=(0,m.Ay)("Gets the template for copy display name menu item",(x,L,b)=>y(L(),b));E.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const M=(0,m.Ay)("Clog member context item click",(x,L,b)=>{(0,d.e)({getState:L}).track(l.EventId.CONTEXT_MENU_ACTION,{label:b,is_iap1:!0})});M.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const S=(0,m.Ay)("Gets the template for copy display name menu item",(x,L,b)=>{const{memberId:F,label:B}=b,K=(0,i.sE)(L(),(0,C.nv)(L(),F));return{label:D.t("Copy name"),click:()=>{x(M(B));try{(0,a.LJ)({"text/plain":K,"text/html":`<span data-stringify-id="${F}" data-stringify-label="${K}">${K}</span>`})}catch{(0,a.x3)(K)}}}});S.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const R=(0,m.Ay)("Gets the template for copy name menu item",(x,L,b)=>x(S(b)));R.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const k=(0,m.Ay)("Copies link to member to clipboard",(x,L,b)=>{x(M(b.label));const F=L(),B=(0,I._J)(F,(0,h.ZT)(F)||"");(0,a.x3)((0,r.Zl)(B,`/team/${b.memberId}`))});k.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const O=(0,o.Mz)(x=>x,(x,L,b)=>{let{onClickCallback:F=s.A}=b;return F},(x,L,b)=>{let{isCanvasContext:F}=b;return F},(x,L,b)=>{let{memberId:F}=b;return(0,C.nv)(L,F)},(x,L,b)=>{let{memberId:F}=b;return(0,i.sE)(L,(0,C.nv)(L,F))},(x,L,b)=>{let{memberId:F}=b;return(0,p.zP)(L,F||"")},(x,L,b,F,B,K)=>{const H=(0,n.oy)(F);let Y=D.rt("Message {memberName}",{memberName:B})||"";return b&&(H?Y=D.t("View message history"):Y=D.t("Message")),!K||(0,n.po)(F)||b&&(0,n.fy)(F)?null:{key:"message",dataQa:"message",label:Y,click:Z=>{x((0,T.Z)({memberId:F.id,shouldOpenInTile:(0,f.Cz)(Z),reason:"member-context-menu"})).then(()=>L())},show:!!F,disabled:(0,n.Zx)(F)}}),U=_(x=>{let{memberId:L,isCanvasContext:b,onClickCallback:F}=x;const B=(0,t.wA)();return(0,v.d4)(K=>L?O(B,K,{memberId:L,isCanvasContext:b,onClickCallback:F}):void 0)},"useGetMenuTemplateMessage"),W=(0,m.Ay)("Gets the template for message menu item",(x,L,b)=>O(x,L(),b));W.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},306565116:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(7715417323),o=e(2409900369),n=e(4980558152),c=e(798776972),i=e(9391594207),r=e(5795074931);let a=_(class extends t.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id})}render(){const{id:m,isClient:h}=this.props;return h?m?t.createElement(n.A,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):(0,o.A)(this.props.children):(0,o.A)(this.props.children)}constructor(m){super(m),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");a.defaultProps={id:void 0,onClick:s.A},a.displayName="MemberContextMenu";function l(f){return{isClient:(0,r.TZ)(f)}}_(l,"mapStateToProps");const d=_(f=>({getMemberContextMenuTemplate:m=>f((0,c.nz)(m))}),"mapDispatchToProps"),u=(0,i.N)(l,d)(a)},798776972:(N,g,e)=>{"use strict";e.d(g,{i8:()=>C,nz:()=>I});var t=e(3106223098),s=e(350738674),o=e(3078708518),n=e(4117634716),c=e(8822892075),i=e(3534324375),r=e(7324846416),a=e(8773153312),l=e(6471059816),d=e(6795500641),u=e(2338429587),f=e(6304789565),m=e(2327059915),h=e(8276911661);const v=new l.Ay("menu"),p={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link",ADD_PRIORITY_USER:"add_priority_user",REMOVE_PRIORITY_USER:"remove_priority_user"},T=(0,f.Ay)("get the context menu item for actions",(D,y,P)=>{let{id:E}=P;const M=[];if((0,o.A)(y()))return M;const S=D((0,s.Jv)({memberId:E,onClickCallback:()=>(0,s.n1)(p.MESSAGE_MEMBER)}));return S&&M.push(S),M.length&&M.push({type:a.A.separator}),M});T.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const A=(0,f.Ay)("get the context menu item for sharing a contact",(D,y,P)=>{let{id:E}=P;const M=y();return(0,r.VX)(M,E||"")&&!(0,o.A)(M)?[{label:v.t("Share contact"),click:()=>D((0,m.A)({contactUserId:E}))},{type:a.A.separator}]:[]});A.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const C=(0,f.Ay)("get the context menu item for adding to or removing from VIP",(D,y,P)=>{let{id:E,includeSeparator:M}=P;const S=y(),R=(0,h.nv)(S,E),k=(0,t.GL)(S,R);if(!E)return[];if(!k)return[];const O=(0,d.mF)(S,E),U=(0,i.sE)(S,(0,h.nv)(S,E)),W=[{label:O?v.rt("Remove from VIP",{memberName:U}):v.rt("Add to VIP",{memberName:U}),click:()=>{const x=O?p.REMOVE_PRIORITY_USER:p.ADD_PRIORITY_USER;D((0,s.n1)(x)),D((0,u.C)(E))},autoClogProps:{label:O?p.REMOVE_PRIORITY_USER:p.ADD_PRIORITY_USER}}];return M&&W.push({type:a.A.separator}),W});C.meta={name:"createThunk",key:"createThunkgetToggleVipActionMaybe",description:"get the context menu item for adding to or removing from VIP"};const I=(0,f.Ay)("get the context menu template when user clicks on a member",(D,y,P)=>{let{id:E}=P;return[{label:v.t("View profile"),click:()=>{D((0,s.n1)(p.VIEW_PROFILE)),D((0,n.o)((0,c.Fo)({memberId:E||""})))}},{type:a.A.separator},...D(T({id:E})),...D(C({id:E,includeSeparator:!0})),...D(A({id:E})),D((0,s.s5)({memberId:E,label:p.COPY_MEMBER_NAME})),D((0,s.s9)({memberId:E})),{label:v.t("Copy link"),click:()=>{D((0,s.WF)({memberId:E,label:p.COPY_MEMBER_LINK}))}}].filter(M=>!!M)});I.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"}},2837660778:(N,g,e)=>{"use strict";e.d(g,{$g:()=>D,Mo:()=>T,rp:()=>I});var t=e(6217320234),s=e(7823346015),o=e(3385422400),n=e(3009309149),c=e(6471059816),i=e(7679173189),r=e(6839188756),a=e(9950739645),l=e(6536982570),d=e(8276911661),u=e(1670069836),f=e(8847766420),m=e(241752795),h=e(5962670951),v=e(8180302442);const p=new c.Ay("create_channel_modal"),T=(0,n.Ay)(y=>{const P=(0,d.cA)(y),E=(0,l.HI)(P),M=(0,u.H7)(y);if(!M)return[];const S=(0,f.VO)(y)||[],R=[M.id,...E,...S],k=[...new Set(R)].filter(O=>!(0,i.JV)(O)).map(O=>(0,u._J)(y,O)).filter(O=>!!O&&!(0,r.Zx)(O));return(0,t.A)(k,O=>(0,r.F1)(O))});T.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:y=>{const P=(0,d.cA)(y),E=(0,l.HI)(P),M=(0,u.H7)(y);if(!M)return[];const S=(0,f.VO)(y)||[],R=[M.id,...E,...S],k=[...new Set(R)].filter(O=>!(0,i.JV)(O)).map(O=>(0,u._J)(y,O)).filter(O=>!!O&&!(0,r.Zx)(O));return(0,t.A)(k,O=>(0,r.F1)(O))}};const A=_((y,P)=>{const E=P==null?void 0:P.map(M=>M.id);return y.map(M=>{var S,R;return{label:(0,r.F1)(M),value:M,optgroup:M.enterprise_name,key:M.id,isDisabled:!!(E!==void 0&&E.includes(M.id)),displayReason:(R=(S=P==null?void 0:P.find(k=>k.id===M.id))===null||S===void 0?void 0:S.displayReason)!==null&&R!==void 0?R:""}})},"mapWorkspacesToSelectOptionItems"),C=_((y,P)=>{let{ineligibleWorkspaces:E,excludeExternalWorkspaces:M}=P;const[S,R]=(0,s.A)(y,O=>(0,a.N)(O)),k={value:void 0,label:"",type:"divider"};return[...A(R,E),...!M&&S.length>0?[k,...A(S,E)]:[]]},"mapInvitableWorkspacesToSelectOptions"),I=(0,n.Ay)(y=>{const P=(0,v.g)(y),E=(0,m.y5)(y),M=(0,h.S)(y),S=T(y),R=S.filter(k=>!E.includes(k.id)&&!M.includes(k.id)).map(k=>({id:k.id,displayReason:P?"":p.t("You don\u2019t have access to this")}));return C(S,{ineligibleWorkspaces:R})});I.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:y=>{const P=(0,v.g)(y),E=(0,m.y5)(y),M=(0,h.S)(y),S=T(y),R=S.filter(k=>!E.includes(k.id)&&!M.includes(k.id)).map(k=>({id:k.id,displayReason:P?"":p.t("You don\u2019t have access to this")}));return C(S,{ineligibleWorkspaces:R})}};const D=(0,o.Mz)(T,y=>y.length>1)},9364044512:(N,g,e)=>{"use strict";e.d(g,{D:()=>Rt,A:()=>nn});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(2003990933),i=e(7715417323),r=e(9268023148),a=e(4348392507),l=e(4426213732),d=e(6471059816),u=e(6165267850),f=e(1030162945),m=e(9746734072),h=e(7156798807),v=e(3297051565),p=e.n(v),T=e(6439846314),A=e(56548687),C=e(5257368278),I=e(330221449),D=e(3009309149);const y=(0,D.Ay)(at=>!at||!at.customizeEmoji||!at.customizeEmoji.customEmojiData||!at.customizeEmoji.customEmojiData.length?[]:at.customizeEmoji.customEmojiData);y.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:at=>!at||!at.customizeEmoji||!at.customizeEmoji.customEmojiData||!at.customizeEmoji.customEmojiData.length?[]:at.customizeEmoji.customEmojiData};const P=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.customEmojiTotalCount?at.customizeEmoji.customEmojiTotalCount:0);P.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.customEmojiTotalCount?at.customizeEmoji.customEmojiTotalCount:0};const E=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.currentPage?at.customizeEmoji.currentPage:0);E.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.currentPage?at.customizeEmoji.currentPage:0};const M=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.totalPages?at.customizeEmoji.totalPages:0);M.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.totalPages?at.customizeEmoji.totalPages:0};const S=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.isLoadingNewPage?at.customizeEmoji.isLoadingNewPage:!1);S.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.isLoadingNewPage?at.customizeEmoji.isLoadingNewPage:!1};const R=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.isLoadingNewSearchQuery?at.customizeEmoji.isLoadingNewSearchQuery:!1);R.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.isLoadingNewSearchQuery?at.customizeEmoji.isLoadingNewSearchQuery:!1};const k=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.deletedEmojiList?at.customizeEmoji.deletedEmojiList:[]);k.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.deletedEmojiList?at.customizeEmoji.deletedEmojiList:[]};const O=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.disabledEmoji?at.customizeEmoji.disabledEmoji:{});O.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.disabledEmoji?at.customizeEmoji.disabledEmoji:{}};const U=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.sortDir?at.customizeEmoji.sortDir:"asc");U.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.sortDir?at.customizeEmoji.sortDir:"asc"};const W=(0,D.Ay)(at=>at&&at.customizeEmoji&&at.customizeEmoji.sortBy?at.customizeEmoji.sortBy:"name");W.meta={name:"createSelector",key:"createSelectorgetSortBy",description:at=>at&&at.customizeEmoji&&at.customizeEmoji.sortBy?at.customizeEmoji.sortBy:"name"};const x=(0,C.A)("Load the next page of custom emoji data",function(at,tt){let{count:ft=100,queries:wt,userIds:Jt,reason:sn="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const z=tt();at((0,I.en)(!0));const Be={page:E(z)+1,count:ft,sort_by:W(z),sort_dir:U(z)};return wt&&(Be.queries=JSON.stringify(wt)),Jt&&(Be.user_ids=JSON.stringify(Jt)),at((0,T.apiCall)({method:"emoji.adminList",reason:sn,args:Be})).then(nt=>{at((0,I.en)(!1));const Lt=(0,m.A)(nt.disabled_emoji)?(0,h.A)(nt.disabled_emoji,"name"):nt.disabled_emoji;at((0,I.X8)({newCustomEmojiData:nt.emoji,disabledEmoji:Lt,customEmojiTotalCount:nt.custom_emoji_total_count,customEmojiSearchCount:nt.paging.total,currentPage:nt.paging.page,totalPages:nt.paging.pages}))}).catch(nt=>{throw nt})});x.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},x.propTypes={queries:p().array,userIds:p().array};const L=(0,C.A)("Load custom emoji data with a new search query",function(at,tt){let{queries:ft,page:wt=1,count:Jt=100,sortBy:sn,sortDir:z,userIds:Me,reason:Be="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};at((0,I.d$)(!0));const nt={page:wt,count:Jt};return ft&&(nt.queries=JSON.stringify(ft)),Me&&(nt.user_ids=JSON.stringify(Me)),sn&&z&&(nt.sort_by=sn,nt.sort_dir=z),at((0,T.apiCall)({method:"emoji.adminList",reason:Be,args:nt})).then(Lt=>{at((0,I.d$)(!1));const Bt=(0,m.A)(Lt.disabled_emoji)?(0,h.A)(Lt.disabled_emoji,"name"):Lt.disabled_emoji;at((0,I.Ot)({newCustomEmojiData:Lt.emoji,disabledEmoji:Bt,customEmojiTotalCount:Lt.custom_emoji_total_count,customEmojiSearchCount:Lt.paging.total,currentPage:Lt.paging.page,totalPages:Lt.paging.pages,sortBy:sn,sortDir:z}))}).catch(Lt=>{throw Lt})});L.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},L.propTypes={queries:p().array,page:p().number,count:p().number,sortBy:p().oneOf(["created","name"]),sortDir:p().oneOf(["asc","desc"]),userIds:p().array};const b=(0,C.A)("Deletes the given custom emoji",function(at,tt){let{emojiName:ft,isPrimaryEmoji:wt=!1,synonyms:Jt=[],reason:sn="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return at((0,I.gx)({emojiName:ft,isPrimaryEmoji:wt,synonyms:Jt})),at((0,T.apiCall)({method:"emoji.remove",reason:sn,args:{name:ft}})).then(z=>z).then(()=>{(0,A.e)({state:tt()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(z=>{throw(0,A.e)({state:tt()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),z})});b.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},b.propTypes={emojiName:p().string,isPrimaryEmoji:p().bool,synonyms:p().array};const F=(0,C.A)("Creates a new custom emoji or alias",function(at,tt){let{mode:ft,name:wt,aliasFor:Jt,image:sn,searchArgs:z={},reason:Me="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return at((0,T.apiCall)({method:"emoji.add",reason:Me,args:{mode:ft,name:wt,alias_for:Jt,image:sn}})).then(Be=>Be).then(()=>{at(L(z))}).catch(Be=>{throw Be})});F.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},F.propTypes={mode:p().string,name:p().string,aliasFor:p().string,image:p().object};const B=(0,C.A)("Gets the emoji data for a given emoji",function(at,tt){let{name:ft,reason:wt="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return at((0,T.apiCall)({method:"emoji.getInfo",reason:wt,args:{name:ft}})).then(Jt=>Jt).catch(Jt=>{throw Jt})});B.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},B.propTypes={name:p().string};const K=(0,C.A)("Renames the custom emoji with the new name",function(at,tt){let{oldName:ft,newName:wt,reason:Jt="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return at((0,T.apiCall)({method:"emoji.rename",reason:Jt,args:{name:ft,new_name:wt}})).then(sn=>sn).then(()=>{at(L()),at((0,I.S9)(ft))}).catch(sn=>{throw sn})});K.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},K.propTypes={oldName:p().string,newName:p().string};var H=e(3456937405);function Y(at){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(at)}_(Y,"isValidEmojiName");var Z=e(581167618),V=e(6084388622),ne=e(2219904496),q=e(1610251172),me=e(980293773),ue=e(5733135148),ae=e(8181621268),le=e(8668318456),fe=e(3842747943),he=e(9391594207),ie=e(5795074931),X=e(9003400431),j=e(5060694341);const w=new d.Ay("custom_emoji_list"),Q={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let G=_(class extends t.PureComponent{componentDidMount(){const{clogger:tt}=this.props;tt.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:tt,uploadedImage:ft,nameErrorText:wt}=this.state,{emojiUrl:Jt}=this.props,sn=tt.length>100;return!tt||sn||!!wt||!Jt&&!ft}onDragOver(tt){tt.preventDefault(),tt.dataTransfer.dropEffect="copy"}onDrop(tt){tt.preventDefault();const ft=tt.dataTransfer.files[0];if(ft){const wt=ft.name,Jt=URL.createObjectURL(ft);this.updateAfterUpload({uploadedImage:ft,fileName:wt,previewImageUrl:Jt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(tt){const{standardEmojiData:ft}=this.props;let wt="";this.setState(()=>({newEmojiName:tt})),/[A-Z]/.test(tt)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(tt)?wt=w.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):tt in ft?wt=w.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):Y(tt)?this.checkIfEmojiNameAlreadyExists(tt):wt=w.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:wt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(tt){tt&&tt.preventDefault();const{newEmojiName:ft,uploadedImage:wt}=this.state,{emojiUrl:Jt}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const z={...{reason:"add-custom-emoji-dialog-content",name:ft},...Jt?{mode:"url",url:Jt}:{mode:"data",searchArgs:this.props.searchArgs,...wt?{image:wt}:{}}};this.props.addCustomEmoji(z).then(()=>{this.props.closeModal();const Me=this.renderToastMessage();this.props.enqueueToast({element:Me}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:Jt?"import_custom_emoji":"add_custom_emoji",action:Jt?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(Me=>{let Be;const nt=(0,c.A)(Me,"data.error");(nt===H.W.NoUrlProvided||nt===H.W.NoUrlImage)&&(Be=w.t("Something happened that prevented the image from being imported. Try again?")),nt==="error_bad_upload"?Be=w.t("Something happened that prevented your file from being uploaded. Try again?"):nt==="error_bad_format"?Be=w.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):nt==="resized_but_still_too_large"||nt==="too_many_frames"?Be=w.t("This image is a bit too big, even after resizing. A smaller file might help?"):nt==="error_too_big"?Be=w.t("Please choose an image smaller than 64KB."):nt==="error_name_taken_i18n"?Be=w.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:ft}):nt==="error_name_taken"?Be=w.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:ft}):(nt==="error_bad_name"||nt==="error_bad_name_i18n")&&(Be=w.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:Be,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var tt,ft;const wt=!((tt=this.fileInput)===null||tt===void 0||(ft=tt.current)===null||ft===void 0)&&ft.files?this.fileInput.current.files[0]:null;if(wt){const Jt=wt.name,sn=URL.createObjectURL(wt);this.updateAfterUpload({uploadedImage:wt,fileName:Jt,previewImageUrl:sn})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:tt}=this.props;tt&&this.setState(()=>({previewImageUrl:tt,imagePreviewError:!1}))}convertFileNameToEmojiName(tt){if(!tt)return null;const ft=tt.lastIndexOf("."),wt=ft>0?tt.substring(0,ft):tt;return wt?wt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(tt){let{uploadedImage:ft,fileName:wt,previewImageUrl:Jt}=tt;const{newEmojiName:sn,fileName:z}=this.state;let Me=sn;(!sn||sn===this.convertFileNameToEmojiName(z))&&(Me=this.convertFileNameToEmojiName(wt)||Me),this.setState(()=>({uploadedImage:ft,fileName:wt,previewImageUrl:Jt,imagePreviewError:!1}),()=>this.onEmojiNameChange(Me))}fileUpload(){var tt;const ft=(tt=this.props.windowRef.deref())===null||tt===void 0?void 0:tt.document.getElementById("emojiimg");ft==null||ft.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:tt,nameErrorText:ft}=this.state;return t.createElement("ol",{className:"black margin_bottom_0",start:2},t.createElement("li",{className:"margin_bottom_0"},t.createElement("div",null," ",w.t("Give it a name")," "),t.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},w.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.createElement(ne.A,{id:"emojiname",name:"name",value:tt,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:ft,"data-qa":Q.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:tt,nameErrorText:ft}=this.state,wt=w.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return ft===wt?t.createElement("div",{className:"inline_flex full_width","data-qa":Q.ADD_DIALOG_DUPLICATE_PREVIEW},t.createElement(f.Ay,{text:tt,alt:tt,emojiSize:"larger",className:"flex_shrink_none"}),t.createElement("div",{className:"padding_left_50 overflow_hidden"},t.createElement("strong",null,w.t("Existing emoji")),t.createElement("span",{className:"block normal overflow_ellipsis"},":",tt,":"))):null}renderDialogMessage(){const{orgName:tt}=this.props;let ft;return tt?ft=w.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:tt}):ft=w.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":Q.ADD_DIALOG_MESSAGE},t.createElement("div",null,ft),t.createElement("div",null,this.renderErrorMessage()),t.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:tt}=this.state;return tt?t.createElement(Z.Ay,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":Q.ADD_DIALOG_ERROR},t.createElement("span",null," ",tt," ")):null}renderImagePreview(){const{previewImageUrl:tt}=this.state,ft=t.createElement("img",{src:tt,alt:w.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:wt}=this.state;return wt?t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Q.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.createElement(ae.Ay,{tip:w.t("We couldn\u2019t preview your image. Make sure it\u2019s a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.createElement(q.A,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":Q.ADD_DIALOG_IMAGE_PREVIEW},ft)}renderPlaceholderText(){const{placeholder:tt}=this.state;let ft;return tt?ft=w.t("avocado"):ft="",ft}renderToastMessage(){const{newEmojiName:tt,previewImageUrl:ft}=this.state,wt=t.createElement(f.Ay,{text:tt,url:ft,emojiSize:f.lw.MEDIUM}),Jt=w.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:wt,newEmojiName:tt});return t.createElement(ue.Ay,{toastClasses:"p-customize_emoji_list__toast"},t.createElement("span",null,Jt))}renderUploadImagePrompt(){const{emojiUrl:tt}=this.props,ft=w.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),wt=t.createElement(t.Fragment,null,t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),Jt=tt?w.t("Import external emoji"):w.t("Upload an image");return t.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":Q.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.createElement("li",{className:"large_bottom_margin"},t.createElement("div",null," ",Jt," "),!tt&&t.createElement("div",{className:"normal sk_foreground_max"},ft),t.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},wt,!tt&&t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":Q.ADD_DIALOG_FILE_INPUT}),t.createElement(V.Ay,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":Q.ADD_DIALOG_UPLOAD}," ",w.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:tt}=this.state,{emojiUrl:ft}=this.props;let wt;return tt||ft?wt=this.renderImagePreview():wt=t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":Q.ADD_DIALOG_UPLOAD_PREVIEW},t.createElement(q.A,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),wt}renderUploadedFileText(){const{fileName:tt}=this.state;let ft;return tt?ft=t.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",tt," "):ft=t.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",w.t("Select an image")," "),ft}render(){const{goButtonIsPending:tt}=this.state,ft=this.shouldPreventSubmit();return t.createElement(t.Fragment,null,t.createElement(me.$m,null,t.createElement(me.qf,{"data-qa":`${Q.ADD_DIALOG}_body`},this.renderDialogMessage())),t.createElement(me.jl,null,t.createElement(me.ox,null,t.createElement(me.s_,{type:"outline","aria-label":w.t("Cancel")},w.t("Cancel")),t.createElement(V.lV,{type:"primary",onClick:this.onSubmit,loading:tt,disabled:ft,"data-qa":`${Q.ADD_DIALOG}_go`,"aria-label":w.t("Save")},w.t("Save")))))}constructor(tt){super(tt),this.fileInput=t.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=ft=>{this.props.getEmojiInfo({name:ft}).then(()=>{this.state.newEmojiName===ft&&this.setState(()=>({nameErrorText:w.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(i.A)},this.checkIfEmojiNameAlreadyExists=(0,r.A)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.createRef(),this.eventId=tt.clientApp?le.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:le.EventId.PAGE_CUSTOMIZE_EMOJI,(0,l.v)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");G.defaultProps={standardEmojiData:{},addCustomEmoji:i.A,enqueueToast:i.A,clientApp:!1,closeModal:i.A,getEmojiInfo:i.A,searchArgs:{},emojiNameSuggestion:"",windowRef:(0,u.O)(window)},G.displayName="AddCustomEmojiDialogContent";const J=_(at=>({addCustomEmoji:tt=>at((0,H.l)(tt)),enqueueToast:function(){for(var tt=arguments.length,ft=new Array(tt),wt=0;wt<tt;wt++)ft[wt]=arguments[wt];return at((0,j.M)(...ft))},closeModal:()=>at((0,X.O)()),getEmojiInfo:function(){for(var tt=arguments.length,ft=new Array(tt),wt=0;wt<tt;wt++)ft[wt]=arguments[wt];return at(B(...ft))}}),"mapDispatchToProps"),te=_(at=>({standardEmojiData:(0,fe.O)(at),clientApp:(0,ie.TZ)(at),clogger:(0,A.e)({state:at})}),"mapStateToProps"),se=(0,he.N)(te,J)((0,a.A)(G));var ce=e(9113979368),Ee=e(2101927269),de=e(2141441167),re=e(6217320234),_e=e(3783303734),ve=e(4978843660),ge=e(8840779375),Le=e(5331686899);function ke(at){return at&&at.id}_(ke,"getEmojiCollectionId");var Ke=e(2036354333),Ne=e(3385766968),Re=e(9506008067),xe=e(3004085654),We=e(2047021170),$=e(387484329);const ee=new d.Ay("custom_emoji_list"),Ve="emoji_packs_clicked_collection_cta",ze=_(at=>{let{id:tt,name:ft,author:wt,emoji:Jt,installed:sn,onClick:z}=at;const Me=(0,s.wA)(),Be=(0,Re.d4)(Pn=>(0,We.ty)(Pn,Ve)),nt=(0,Re.d4)(xe.fl),Lt=(0,Re.d4)(xe._J);if(!Jt)return null;const Yt=ke(Lt)===tt&&nt&&!Be;function on(){Yt&&Me((0,$.AZ)({pref:Ve,value:!0})),z()}_(on,"handleOnClick");const An=(0,ge.A)(Jt,(Pn,bn)=>({name:bn,url:Pn})),Sn=(0,ve.A)(An,4),In=ee.t("by {author}",{author:wt});return t.createElement(Ke.A,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:on},t.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.createElement("div",{className:"flex_one"},t.createElement("div",{className:"p-emoji_pack_card__header"},ft,Yt&&t.createElement("span",{className:"margin_left_25"},t.createElement(Ne.A,null,ee.t("NEW")))),t.createElement("div",{className:"p-emoji_pack_card__subheader"},In)),sn&&!Yt&&t.createElement("div",{className:"flex_none"},t.createElement(q.A,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.createElement("div",{className:"p-emoji_pack_card_rows"},Sn.map(Pn=>t.createElement("div",{key:Pn.map(bn=>`${bn.name}-card-`).join(),className:"p-emoji_pack_card__row"},Pn.map(bn=>t.createElement(Le.Ay,{key:`emoji-pack-${bn.name}`,showTooltip:!1,text:`:${bn.name}:`,url:bn.url,emojiSize:Le.lw.LARGE})),[...new Array(4-Pn.length)].map((bn,wn)=>`emoji-pack-spacer-${wn}`).map(bn=>t.createElement("div",{key:bn,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");ze.displayName="EmojiPackCard";const st=ze,Ge=new d.Ay("custom_emoji_list"),be=_(()=>{const at=Ge.t("STAY TUNED"),tt=Ge.t("More emoji packs are on the way");return t.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.createElement(Ne.A,{className:"p-emoji_pack_coming_soon__pill"},at),t.createElement("div",{className:"p-emoji_pack_coming_soon__text"},tt),t.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("g",{clipPath:"url(#clip0)"},t.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.createElement("defs",null,t.createElement("clipPath",null,t.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");be.displayName="EmojiPackComingSoon";const Se=be;function we(at){return at&&at.author}_(we,"getEmojiCollectionAuthor");function Ce(at){return at&&at.date_create}_(Ce,"getEmojiCollectionDateCreate");var Te=e(6045879501),Ye=e(370406050),De=e(5071545805),Pe=e(7564917982);const ye=new d.Ay("custom_emoji_list");function He(at){let{row:tt=[],className:ft,onPackClick:wt}=at;return t.createElement("div",{key:tt.map(Jt=>`${ke(Jt)}-row`).join(),className:ft},tt.map(Jt=>{if(Jt.type==="coming_soon")return t.createElement(Se,{key:"emoji-pack-coming-soon"});if(Jt.type==="spacer")return t.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const sn=(0,De.j)(Jt);return t.createElement(st,{key:`emoji-pack-${ke(Jt)}`,installed:sn,id:ke(Jt)||void 0,name:(0,Ye.M)(Jt),author:we(Jt),emoji:(0,Te.H)(Jt),onClick:()=>wt(Jt,{installed:sn})})}))}_(He,"Row"),He.displayName="Row";function Qe(at){let{orgName:tt,onPackClick:ft}=at;const wt=(0,s.wA)(),Jt=(0,Re.d4)(xe.uI);if((0,t.useEffect)(()=>{wt((0,Pe.H)({reason:"emojiPack:dialog"}))},[wt]),(0,ce.A)(Jt))return null;const sn=(0,Ee.A)(Jt,nt=>(0,De.j)(nt)).length;let z=(0,de.A)(Jt);z=(0,re.A)(z,nt=>-1*Ce(nt)),(0,_e.A)(Jt)<2&&z.push({type:"coming_soon"}),z.length%2!==0&&z.push({type:"spacer"});const Me=(0,ve.A)(z,2);let Be;return tt?Be=ye.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.createElement("b",null,tt)}):Be=ye.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.createElement(me.$m,null,t.createElement(me.qf,null,t.createElement("div",null,sn>0&&t.createElement("div",{className:"p-emoji_pack__header"},ye.t("Added"),t.createElement("div",{className:"p-emoji_pack__pill"},sn)),t.createElement("div",{className:"p-emoji_pack__list"},Me.map(nt=>t.createElement(He,{key:nt.map(Lt=>`${ke(Lt)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:nt,onPackClick:ft}))),t.createElement("div",{className:"p-emoji_pack__help"},Be))))}_(Qe,"AddEmojiPackDialogContent"),Qe.displayName="AddEmojiPackDialogContent";const dt=Qe;var Ot=e(1194535350),yt=e(5305906809),Dt=e(5510392579),Ct=e(6105929840),kt=e(9236644324),vt=e(4318855015);const Nt=new d.Ay("custom_emoji_list"),It=_(at=>{let{adding:tt,name:ft}=at;const wt=(0,s.wA)();return t.createElement(ue.Ay,{onCloseComplete:()=>{tt&&wt((0,vt.su)())}},t.createElement("span",{"data-qa":"emoji-pack-action"},tt&&Nt.rt("The {name} emoji pack has been added to your workspace.",{name:t.createElement("b",null,ft)}),!tt&&Nt.rt("The {name} emoji pack has been removed from your workspace.",{name:t.createElement("b",null,ft)})))},"InstallToast");It.displayName="InstallToast";const At=_(at=>{let{name:tt,url:ft,index:wt,copyToClipboard:Jt,onClose:sn}=at;const z=(0,s.wA)(),Me=t.createElement(Le.Ay,{showTooltip:!0,text:tt,url:ft,emojiSize:Le.lw.LARGE});function Be(){(0,kt.x3)(tt),sn&&sn(),z((0,X.O)()),z((0,j.M)({element:t.createElement(ue.Ay,null,t.createElement("span",null,Nt.rt("Emoji copied to clipboard",{name:tt})))}))}return _(Be,"onClick"),Be.displayName="onClick",Jt&&(0,kt.tD)()?t.createElement(Ke.A,{className:"p-emoji_pack_details__button","data-color-index":wt%yt.dX,onClick:Be},Me):Me},"EmojiButton");At.displayName="EmojiButton";const Zt=_(at=>{let{collectionId:tt,name:ft,author:wt,installed:Jt,emoji:sn,onCancelClick:z,onClose:Me}=at;const Be=(0,s.wA)(),nt=(0,Re.d4)(Dt.h3),[Lt,Bt]=(0,t.useState)(!1),Yt=(0,t.useCallback)(()=>{Bt(!0),Be((0,Ot._J)({collectionId:tt,reason:"emojiPack:dialog"})).then(()=>{Bt(!1),Me&&Me(),Be((0,X.O)()),Be((0,j.M)({element:t.createElement(It,{adding:!0,name:ft})}))})},[Be,tt,ft,Me]),[on,An]=(0,t.useState)(!1),Sn=(0,t.useCallback)(()=>{An(!0),Be((0,Ot.zx)({collectionId:tt,reason:"emojiPack:dialog"})).then(()=>{An(!1),Me&&Me(),Be((0,X.O)()),Be((0,j.M)({element:t.createElement(It,{adding:!1,name:ft})}))})},[Be,tt,ft,Me]);if(!sn)return null;const In=(0,ge.A)(sn,(Dn,Un)=>({name:Un,url:Dn})).map((Dn,Un)=>({...Dn,index:Un})),Pn=(0,ve.A)(In,5),bn=Nt.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:(0,_e.A)(sn)}),wn=Nt.t("by {author}",{author:wt}),qn=t.createElement(t.Fragment,null,t.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},wn),bn),kn=t.createElement(Ct.A,{"aria-label":Nt.t("Go back"),svgIconProps:{name:"caret-left-full"},onClick:()=>z()});return t.createElement(t.Fragment,null,t.createElement(me.rQ,null,t.createElement(me.Rc,{icon:kn,title:ft,subtitle:qn})),t.createElement(me.$m,null,t.createElement(me.qf,null,Pn.map(Dn=>t.createElement("div",{key:Dn.map(Un=>Un.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},Dn.map(Un=>t.createElement(At,{key:`emoji-pack-details-${Un.name}`,name:`:${Un.name}:`,url:Un.url,index:Un.index,copyToClipboard:Jt,onClose:Me})),[...new Array(5-Dn.length)].map((Un,Hn)=>`emoji-pack-details-spacer-${Hn}`).map(Un=>t.createElement("div",{key:Un,className:"p-emoji_pack_details__emoji_spacer"})))))),t.createElement(me.jl,null,Jt&&(0,kt.tD)()&&t.createElement("span",{className:"p-emoji_pack_details__tip"},Nt.t("Click an emoji to copy to clipboard")),t.createElement(me.ox,null,Jt&&nt&&t.createElement(V.lV,{autoFocus:!0,type:"danger",loading:on,onClick:Sn,"aria-label":Nt.t("Remove pack")},Nt.t("Remove pack")),!Jt&&t.createElement(V.lV,{autoFocus:!0,loading:Lt,onClick:Yt,"aria-label":Nt.t("Add pack")},Nt.t("Add pack")))))},"EmojiPackDetails");Zt.displayName="EmojiPackDetails";const jt=Zt;function Ht(at){return at&&at.localEmoji}_(Ht,"getEmojiCollectionLocalEmoji");var Pt=e(2293211408),Ft=e(1655938719);const En=new d.Ay("custom_emoji_list"),Rt={CUSTOM:"custom",PACKS:"packs"},rn=_(at=>{let{orgName:tt="",searchArgs:ft={},showEmojiPacks:wt,initialTab:Jt=Rt.CUSTOM,emojiNameSuggestion:sn="",emojiUrl:z,megaphoneEventOnClose:Me}=at;const Be=(0,s.wA)(),[nt,Lt]=(0,t.useState)(Jt),[Bt,Yt]=(0,t.useState)(!1),[on,An]=(0,t.useState)(null),Sn=z?En.t("Add emoji to your organization"):void 0,In=wt?En.t("Add emoji"):En.t("Add custom emoji"),Pn=Sn??In,bn=En.t("Emoji packs"),wn=En.t("Custom emoji"),qn=(0,t.useMemo)(()=>[{title:wn,id:Rt.CUSTOM,onClick:()=>Lt(Rt.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:bn,id:Rt.PACKS,onClick:()=>Lt(Rt.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[wn,bn]),kn=(0,t.useCallback)(()=>{Me&&Be((0,Ft.iR)({event:{type:Me}}))},[Be,Me]),Dn=(0,t.useCallback)(()=>{kn(),Be((0,X.O)())},[Be,kn]),Un=wt&&nt===Rt.PACKS,Hn=wt?t.createElement(Pt.A,{tabs:qn,currentTabId:nt,className:"p-add_custom_emoji_dialog__tabs",ariaLabel:Pn}):null,jn=n()("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!wt});return wt&&on?t.createElement(me.dW,{closeModal:Dn,isOpen:!0,className:jn},t.createElement(jt,{collectionId:ke(on),name:(0,Ye.M)(on),author:we(on),emoji:Bt?Ht(on):(0,Te.H)(on),installed:Bt,onCancelClick:()=>{An(null)},onClose:kn})):t.createElement(me.dW,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:Dn,isOpen:!0,className:jn},t.createElement(me.rQ,null,t.createElement(me.Rc,{title:Pn,className:"no_min_height padding_bottom_50"}),Hn),Un&&t.createElement(dt,{orgName:tt,onPackClick:(Jn,ln)=>{let{installed:ss}=ln;Yt(ss),An(Jn)}}),!Un&&t.createElement(se,{orgName:tt,searchArgs:ft,emojiNameSuggestion:sn,emojiUrl:z}))},"AddEmojiDialog");rn.displayName="AddEmojiDialog";const nn=rn},1677062231:(N,g,e)=>{"use strict";e.d(g,{A:()=>R});var t=e(3134334389),s=e(9391594207),o=e(4844578989),n=e.n(o),c=e(9101533895),i=e(8847766420),r=e(1670069836),a=e(2003903489),l=e(8064950432),d=e(3929724715),u=e(395285811),f=e(8798294025),m=e(1407713935),h=e(1360656152),v=e(8170643398),p=e(5761207079),T=e(6839188756),A=e(1610251172),C=e(9283547879),I=e(6084388622),D=e(6388117406),y=e(6471059816);const P=new y.Ay("jumper"),E={publicChannelIncludeHashSign:!1,imIncludeAtSign:!1};let M=_(class extends t.Component{renderChannelIcon(){const{channel:O,channelType:U,mpimMemberCount:W,inline:x,memberId:L,showPresence:b,inheritPresenceIconSize:F,showDraftIcon:B,hasDraft:K}=this.props;let H;return U==="im"?L&&b&&!x?t.createElement(C.Ay,{inheritIconSize:F,memberId:L}):null:(B&&K?H="pencil":U==="mpim"&&W?H=`multiparty-dm-${W}`:(0,u.jT)(O)?H="create-post":U==="private"?H="lock":H="channel",t.createElement(A.A,{type:H,size:"inherit","data-qa-icon-type":U}))}renderChannelName(){const{channel:O,channelId:U,isImChannelWithHiddenUser:W,inline:x}=this.props;return t.createElement(t.Fragment,null,this.renderChannelIcon(),t.createElement("span",{className:n()("p-deprecated_channel_name__text",{"p-deprecated_channel_name__text--inline":!x}),"data-qa":"deprecated_channel_name__text"},W?P.t("Name hidden"):t.createElement(l.a,{channelId:(O==null?void 0:O.id)||U||"",displayNameOptions:E}),this.renderChannelNameSuffix()),this.renderTeamIcon())}renderChannelNameSuffix(){const{previousName:O,showSuffix:U}=this.props;if(!U||!O)return null;let W;return O&&(W=P.t("(formerly #{previous_name})",{previous_name:O})),t.createElement("span",{className:"p-deprecated_channel_name__suffix"},W)}renderTeamIcon(){const{showTeamIcon:O,teamIdForChannel:U,teamName:W}=this.props;return!O||!U||!W?null:t.createElement("span",{className:"p-deprecated_channel_name__team_name p-deprecated_channel_name__team_name--xws"},"\xA0",t.createElement("span",{className:"p-deprecated_channel_name__team_name_child"},W))}renderButton(){const{autoClogProps:O,className:U,onClick:W}=this.props;return t.createElement(I.Nm,{className:n()("p-deprecated_channel_name p-deprecated_channel_name--clickable",U),onClick:W,htmlType:"button",autoClogProps:O},this.renderChannelName())}render(){const{onClick:O,className:U,channel:W,channelId:x}=this.props,L=!!O;return L?t.createElement(D.A,{id:(W==null?void 0:W.id)||x||""},this.renderButton()):L?this.renderButton():t.createElement("span",{className:n()("p-deprecated_channel_name",U),"data-qa":"channel_name_header"},this.renderChannelName())}},"DeprecatedChannelName");M.displayName="DeprecatedChannelName",M.defaultProps={channelId:"",channelType:"channel",className:void 0,hasDraft:void 0,inheritPresenceIconSize:!1,inline:!1,isImChannelWithHiddenUser:!1,memberId:void 0,mpimMemberCount:void 0,onClick:void 0,previousName:void 0,showDraftIcon:!1,showPresence:!0,showSuffix:!0,showTeamIcon:!1,showTeamIconForLocalChannels:!1,showTeamIconForXwsChannels:!1,teamIdForChannel:"",teamName:""},M.displayName="DeprecatedChannelName";const S=_((k,O)=>{const{channel:U,channelId:W,showTeamIconForXwsChannels:x=!1,showTeamIconForLocalChannels:L=!1}=O;let b=U||(0,c.OL)(k,W);const F=(0,m.yz)(b)?b&&(0,d.N4)(b):null;U&&(0,v.NB)(U)&&(b=(0,c.Pu)(k,U.id));const B=(0,m.LI)(b)?(0,f.e)(b):null,K=!!B&&(0,p.a)(k,B),H=(0,m.mz)(b),Y=(0,i.JY)(k),Z=!!U&&((0,d.lo)(U)||(0,d.uA)(k,U)),V=x&&(H==="channel"||H==="private")&&!(0,a.S)(b)&&(L||Z);let ne=V?b==null?void 0:b.team_id:void 0;V&&!ne&&(Z?ne=(0,h.A)({state:k,channel:U,currentTeamId:Y||""})||(0,d.bK)(k,U):L&&(ne=Y));const q=ne?(0,r._J)(k,ne):void 0,me=ne?(0,T.F1)(q):void 0,ue=W?(0,d.yc)(k,W):void 0;return{channelType:H,mpimMemberCount:F,memberId:B,showTeamIcon:V,teamIdForChannel:ne,teamName:me,hasDraft:ue,isImChannelWithHiddenUser:K}},"mapStateToProps"),R=(0,s.N)(S)(M)},5331686899:(N,g,e)=>{"use strict";e.d(g,{lw:()=>U,Ay:()=>F});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7360333171),c=e(5371346921),i=e(337319621),r=e(7752974446),a=e.n(r);function l(){return l=Object.assign||function(B){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var Y in H)Object.prototype.hasOwnProperty.call(H,Y)&&(B[Y]=H[Y])}return B},l.apply(this,arguments)}_(l,"_extends");function d(B){return class extends t.PureComponent{componentDidCatch(K,H){this.setState(()=>({hasError:!0})),(0,i.Wo)().error({label:"Error rendering emoji component",error:K,message:H})}render(){return this.state.hasError?t.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},t.createElement("img",{src:a()})):t.createElement(B,l({},this.props))}constructor(K){super(K),this.state={hasError:!1}}}}_(d,"withEmojiErrorBoundary"),d.displayName="withEmojiErrorBoundary";const u=d;var f=e(3043682041),m=e(6795568989),h=e(9599231336),v=e(1610251172),p=e(8181621268),T=e(8525228540),A=e(4921059838),C=e(5799716058),I=e(9936232041),D=e(8556787853),y=e(3695531806),P=e(9907843289),E=e(9391594207),M=e(8847766420),S=e(9506008067),R=e(3829348308),k=e(2047021170);function O(){return O=Object.assign||function(B){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var Y in H)Object.prototype.hasOwnProperty.call(H,Y)&&(B[Y]=H[Y])}return B},O.apply(this,arguments)}_(O,"emoji_extends");const U={XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},W=_(B=>{const K=(0,S.d4)(H=>{if(!B.isStandard)return B.url;var Y;const Z=(Y=B.sourceTeamId)!==null&&Y!==void 0?Y:(0,M.ZT)(H);return B.isStandard?(0,R.Ez)(H,{text:B.text||"",teamId:Z,emojiMode:(0,f.w)(H,{forceDisplay:!!B.forceDisplay}),emojiSize:U.XLARGE}):B.url});return t.createElement(x,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:U.LARGER,text:B.text,displayText:B.displayText,url:K||"",sourceTeamId:B.sourceTeamId,ariaLabel:B.ariaLabel,alt:B.alt,unicode:B.unicode,emojiNameFromText:B.emojiNameFromText,dispatch:B.dispatch,stopAnimations:B.stopAnimations,fallbackUrl:B.fallbackUrl,isStandard:B.isStandard})},"EmojiTooltipEmoji");W.displayName="EmojiTooltipEmoji";let x=_(class extends t.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return t.createElement(v.A,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:K}=this.state,{isImportAllowed:H,isStandard:Y}=this.props;return H&&!Y&&!K}renderEmojiElement(){const{text:K,displayText:H,url:Y,emojiSize:Z,isEmojiInlineWithText:V,className:ne,shouldFallbackOnLoadError:q,fallbackUrl:me,ariaLabel:ue,alt:ae}=this.props,{isLoadError:le}=this.state,fe=o()("c-emoji",`c-emoji__${Z}`,ne,{"c-emoji--inline":V}),he=ue??(H&&(0,C.A)(H)),ie={"data-stringify-type":"emoji","data-stringify-emoji":K},X=this.isImportable()?this.handleEmojiImport:void 0;return V?t.createElement("span",{className:fe,"data-qa":(le||!Y)&&q?"emoji-fallback":"emoji"},t.createElement("img",O({src:(le||!Y)&&q?me:Y,onError:this.onLoadError,onContextMenu:X,"aria-label":he,alt:H},ie))):t.createElement("img",O({src:(le||!Y)&&q?me:Y,onError:this.onLoadError,"aria-label":he,alt:ae??H,className:fe,onContextMenu:X,"data-qa":(le||!Y)&&q?"emoji-fallback":"emoji"},ie))}renderUnicodeAsEmoji(K){if(K&&(0,m.d)(K)){const{emojiSize:H}=this.props,Y=(0,y.z)({codePointLikeString:K});return t.createElement("span",{className:o()("c-emoji__unicode",{"c-emoji__unicode--large":H===U.LARGE})},Y)}}renderTooltip(){const{renderAsText:K,displayText:H,text:Y,isStandard:Z,url:V,unicode:ne,sourceTeamId:q,ariaLabel:me,alt:ue,emojiNameFromText:ae,stopAnimations:le,fallbackUrl:fe,forceDisplay:he}=this.props;if(K)return H;const ie=Z?void 0:V;return t.createElement(t.Fragment,null,t.createElement("div",{className:"c-emoji__emoji-tooltip"},t.createElement(W,{text:Y,displayText:H,url:ie,sourceTeamId:q,ariaLabel:me,alt:ue,unicode:ne,emojiNameFromText:ae,dispatch:this.props.dispatch,stopAnimations:le,fallbackUrl:fe,isStandard:Z,forceDisplay:he})),H,this.isImportable()&&t.createElement(c.K,{emojiName:H,emojiUrl:V}))}render(){const{displayText:K,url:H,renderAsText:Y,showTooltip:Z,iconInTextMode:V,renderEmojiFallback:ne,unicode:q,emojiNameFromText:me}=this.props;if(!H&&!K&&!q)return null;if((Y||!H)&&!ne&&!q)return V?this.renderIconFallback():K;if(q&&!me){var ue;return(ue=this.renderUnicodeAsEmoji(q))!==null&&ue!==void 0?ue:K}return Z?t.createElement(p.Ay,{tip:this.renderTooltip,delay:p.PK,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(K){super(K),this.handleEmojiImport=H=>{if(H!=null&&H.altKey)return;const{url:Y,dispatch:Z,displayText:V}=this.props;Z((0,n.a)({emojiName:V,emojiUrl:Y,event:H}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");x.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:U.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0},x.displayName="Emoji";const L=_((B,K)=>{const{stopAnimations:H,forceDisplay:Y,emojiSize:Z=U.MEDIUM,url:V,unicode:ne}=K;let{text:q}=K,me=(0,R.qJ)(B,ne??"");me&&me.charAt(me.length-1)!==":"&&me.charAt(0)!==":"&&(me=`:${me}:`),q=me||q||"";let ue=V;const ae=(0,M.JY)(B)||"",le=!(0,k.ty)(B,"a11y_animations"),fe=H||le,he=(0,P.Yp)({teamOrEnterpriseId:ae,recalc:!1}),ie=(0,T.bR)({state:B,locale:he,name:q}),X=!Y&&(0,h.P)(B),j=(0,I.A)(q),w=(0,A.R)(B,j);if(!X&&!ue){const J=(0,f.w)(B,{forceDisplay:!!Y});var Q;const te=(Q=K.sourceTeamId)!==null&&Q!==void 0?Q:ae;let se=Z;Z===U.LARGER?se=U.XLARGE:Z===U.XSMALL&&(se=U.SMALL),ue=(0,R.Ez)(B,{text:q,parsedEmoji:j,teamId:te,emojiMode:J,emojiSize:se})||void 0}if(fe&&!w){var G;ue=(G=(0,D.Ay)(B,{url:ue,stopAnimations:fe,isEmoji:!0}))!==null&&G!==void 0?G:void 0}return{text:q,url:ue,renderAsText:X,emojiSize:Z,displayText:ie||"",stopAnimations:fe,fallbackUrl:a(),isStandard:w,emojiNameFromText:me}},"mapStateToProps"),b={mapStateToProps:L},F=u((0,E.N)(L)(x))},1030162945:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>s,lw:()=>t.lw});var t=e(5331686899);const s=t.Ay},4899054948:(N,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(3134334389),s=e(9391594207),o=e(4844578989),n=e.n(o),c=e(4477620356),i=e(3202757386),r=e(2878685908),a=e(6471059816),l=e(6084388622),d=e(8739505998),u=e(337319621),f=e(1318506593),m=e(7578434623),h=e(7171435821),v=e(7545496485);const T=_(M=>!!(0,v.w)(M).isWorkspace,"looksLikeWorkspaceState");var A=e(2229064554),C=e(8022922400),I=e(719020269);const D=new a.Ay("error_boundary"),y="REB";let P=_(class extends t.Component{componentDidUpdate(S){this.state.hasError&&S.id!==this.props.id&&this.resetHasError()}componentDidCatch(S,R){let k=null;try{k=`${y}${(0,c.B)((0,C.A)(S.message)).substr(0,9).toUpperCase()}`}catch{}if(this.setState(()=>({hasError:!0,errCode:k}),()=>{var U,W;return(W=(U=this.props).onError)===null||W===void 0?void 0:W.call(U,S)}),!(0,r.Cu)()){var O;const U=R==null||(O=R.componentStack)===null||O===void 0?void 0:O.split(`
`).slice(0,Error.stackTraceLimit).join(`
`);this.props.logger.error("ERROR-BOUNDARY",S,k,U,{subtype:this.props.subtype||"component_error_boundary"})}}onClickReloadButton(S){S.preventDefault();let R=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),(0,i.A)()?(R=(0,f.M6)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${R} after hitting ErrorBoundary`),(0,I.Lz)().finally(()=>{window.location.href=R})):(this.props.logger.info("LEGACY",`Reloading at ${R} after hitting ErrorBoundary`),window.location.href=R)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const S=_(R=>{let{text:k,key:O}=R;return t.createElement(d.A,{href:`https://${(0,h.qF)()}/help/contact`,rel:"noopener noreferrer",key:O},k)},"renderLink");return this.state.errCode==="REBD7A8C1099"?D.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},S):D.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,S)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const S=n()("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.createElement("div",{className:S},t.createElement("div",{className:"p-error_boundary__content"},t.createElement("div",{className:"p-error_boundary__message"},t.createElement("h1",{className:"p-error_boundary__heading"},t.createElement("span",null,D.t("Something went wrong")),t.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":D.t("Something went wrong")},"\u{1F422}")),t.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.createElement(A.A,{errCode:this.state.errCode}),t.createElement(l.Ay,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},D.t("Reload"))))}return this.props.children}constructor(S){super(S),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");P.displayName="ErrorBoundary";const E=(0,s.N)(M=>({logger:T(M)?(0,u.Ay)({state:M}):(0,u.Wo)(),telemeter:T(M)?(0,m.Cy)({state:M}):(0,m.rh)()}))(P)},2229064554:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(6471059816);const o=new s.Ay("error_boundary");function n(c){let{errCode:i}=c;return t.createElement("p",{className:"p-error_boundary__error_code_container"},t.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},o.t("Error: "),i))}_(n,"ErrorCode")},3837503631:(N,g,e)=>{"use strict";e.d(g,{H:()=>i,A:()=>r});var t=e(4899054948),s=e(3134334389);function o(){return o=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(a[u]=d[u])}return a},o.apply(this,arguments)}_(o,"_extends");const n=_(()=>null,"renderError"),i=_(a=>s.createElement(t.A,o({renderError:n},a)),"QuietErrorBoundary"),r=t.A},8022922400:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});const t=/\bA[A-Z0-9]{8,}\b/g,s=/\bB[A-Z0-9]{8,}\b/g,o=/\b(C|G|D)[A-Z0-9]{8,}\b/g,n=/\bF[A-Z0-9]{8,}\b/g,c=/\b(U|W)[A-Z0-9]{8,}\b/g,i=/\b[\d]{10}\.[\d]{6}\b/g,r=/\bS[A-Z0-9]{8,}\b/g,a=/\bT[A-Z0-9]{8,}\b/g;function l(d){return String(d).replace(t,"[APP_ID]").replace(s,"[BOT_ID]").replace(o,"[CHANNEL_ID]").replace(n,"[FILE_ID]").replace(c,"[MEMBER_ID]").replace(i,"[MESSAGE_TS]").replace(r,"[USER_GROUP_ID]").replace(a,"[TEAM_ID]")}_(l,"normalizeError")},5858219536:(N,g,e)=>{"use strict";e.d(g,{c:()=>o,w:()=>s});var t=e(4761125736);function s(n){return(0,t._Z)(n,"a11y_explorer_results_labels_i18n")==="on"}_(s,"isA11yExplorerResultsLabelsEnabled");const o=_(n=>(0,t._Z)(n,"browse_3p_files")==="on","isBrowse3PFilesEnabled")},3216205233:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(2375333597),o=e(6304789565),n=e(6122756707),c=e(9003400431),i=e(980293773),r=e(6471059816);const a=new r.Ay("request_access_done"),l=_(()=>{const m=(0,n.wA)(),h=(0,t.useCallback)(()=>{m((0,c.O)())},[m]),v=a.t("Request sent"),p=a.t("You\u2019ll be notified once it\u2019s been shared with you"),T=a.t("Done");return t.createElement(i.dW,{closeModal:h,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(i.rQ,null,t.createElement(i.Rc,null,t.createElement("h2",null,v))),t.createElement(i.$m,null,t.createElement(i.qf,null,p)),t.createElement(i.jl,null,t.createElement(i.ox,null,t.createElement(i.s_,{type:"primary",onClick:h,"aria-label":T},T))))},"RequestAccessDoneModal");l.displayName="RequestAccessDoneModal";const d=l,u=(0,o.Ay)("Opens the Request Access Done confirmation modal in client",(m,h)=>{m((0,s.q)({element:t.createElement(d,null)}))});u.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};const f=u},4492997969:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),s=e(2375333597),o=e(6304789565),n=e(6122756707),c=e(9003400431),i=e(8739505998),r=e(6471059816),a=e(7171435821),l=e(980293773);const d=new r.Ay("request_access_error"),u=_(()=>{const v=(0,n.wA)(),p=(0,t.useCallback)(()=>{v((0,c.O)())},[v]),T=d.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,A=>{let{tag:C,text:I}=A;return t.createElement(i.A,{key:C,target:"_blank",href:`https://${(0,a.qF)()}/help/requests/new`},I)});return t.createElement(l.dW,{closeModal:p,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(l.rQ,null,t.createElement(l.Rc,null,t.createElement("h2",null,d.t("Error")))),t.createElement(l.$m,null,t.createElement(l.qf,null,T)),t.createElement(l.jl,null,t.createElement(l.ox,null,t.createElement(l.s_,{type:"danger",onClick:p,"aria-label":d.t("Close")},d.t("Close")))))},"RequestAccessErrorModal");u.displayName="RequestAccessErrorModal";const f=u,m=(0,o.Ay)("Opens the Request Access Done confirmation modal in client",(v,p)=>{v((0,s.q)({element:t.createElement(f,null)}))});m.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};const h=m},5604079762:(N,g,e)=>{"use strict";e.d(g,{A:()=>R});var t=e(6304789565),s=e(6801073238),o=e(9899967630),n=e(3134334389),c=e(2375333597),i=e(6122756707),r=e(9003400431),a=e(9506008067),l=e(980293773),d=e(7173172014),u=e(8668318456),f=e(2647703359),m=e(937317117),h=e(6471059816),v=e(6084388622),p=e(3216205233),T=e(4492997969);const A=new h.Ay("request_access_done"),C={uiComponentName:u.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},I={uiComponentName:u.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},D=_(k=>{let{fileId:O}=k;const[U,W]=(0,n.useState)(!1),[x,L]=(0,n.useState)(!1),b=(0,i.wA)(),F=(0,a.d4)(ne=>(0,m.Lp)(ne,O)),B=(0,n.useCallback)(()=>(b((0,r.O)()),!1),[b]),K=(0,n.useCallback)(()=>{L(!1),b((0,s.x)({fileId:O,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>b((0,p.A)())).catch(()=>{b((0,T.A)())}),W(!0)},[b,O]),H=A.t("You need to request access",{fallbackHash:"384d50cc961f3f5667f81c3db3ba493621488050"});let Y=A.t("To get access, you can send a request to the owners of the canvas.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"});(0,f.dE)(F)||(0,f.Vc)(F)?Y=A.t("To get access, you can send a request to the owners of the template.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"}):(0,f.l7)(F)&&(Y=A.t("To get access, you can send a request to the owners of the list.",{fallbackHash:"16834285a44e33a46cfa86485105f6803bf0ed04"}));const Z=A.t("Cancel"),V=A.t("Request access");return F?n.createElement(d.A,{eventId:u.EventId.QUIP_PERMISSIONS_REQUEST,elementType:u.ElementType.MODAL},n.createElement(l.dW,{closeModal:B,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},n.createElement(l.rQ,null,n.createElement(l.Rc,null,n.createElement("h2",null,H))),n.createElement(l.$m,null,n.createElement(l.qf,null,Y)),n.createElement(l.jl,null,n.createElement(l.ox,null,n.createElement(l.s_,{type:"outline",onClick:B,"data-qa":"canvas_request_cancel_button",autoClogProps:C,"aria-label":Z},Z),n.createElement(v.lV,{type:"primary",onClick:K,loading:x,"data-qa":"canvas_request_access_button",disabled:U,autoClogProps:I,"aria-label":V},V))))):null},"CustomizedRequestAccessModal");D.displayName="CustomizedRequestAccessModal";const y=D,P=(0,t.Ay)("Opens the Request Access Done confirmation modal in client",(k,O,U)=>{let{fileId:W}=U;k((0,c.q)({element:n.createElement(y,{fileId:W})}))});P.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"};const E=P;var M=e(8257102208);const S=(0,t.Ay)('Opens the "Request Access" modal',async(k,O,U)=>{let{fileId:W,url:x,skipConfirmation:L,skipDoneDialog:b}=U,F;if(!W&&x){const B=(0,o.cR)(O(),x),K=(0,M.$q)(O(),x);B!==null&&(F=B),K!==null&&(F=K)}else W&&(F=W);F&&(L?k((0,s.x)({fileId:F,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{b||k((0,p.A)())}).catch(()=>{k((0,T.A)())}):k(E({fileId:F})))});S.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};const R=S},1662399599:(N,g,e)=>{"use strict";e.d(g,{A:()=>R});var t=e(3134334389),s=e(9506008067),o=e(4844578989),n=e.n(o),c=e(6551836451),i=e(82287009),r=e(7094978947),a=e(2647703359),l=e(4702704067),d=e(1257883628),u=e(8181621268),f=e(2952777997),m=e(1021289374),h=e(6159136815);const v=_(k=>{let{text:O="",inputIsEscaped:U=!1,showTooltips:W=!0}=k;const x=(0,s.d4)(m.A);return t.createElement(h.A,{text:(0,f.pV)({text:O,highlights:x,inputIsEscaped:U}),inputIsEscaped:U,showTooltips:W})},"FormatTextWithHighlightWords");v.displayName="FormatTextWithHighlightWords";const p=t.memo(v);var T=e(6471059816),A=e(5519146941),C=e(352142497),I=e(8509961938),D=e(5000515034),y=e(7274827479),P=e(7969928607),E=e(1030162945);const M=new T.Ay("files");function S(k){let{className:O,file:U,disableTooltip:W=!1,forcedTitle:x,shouldShowHighlight:L=!0,fromCanvasOrganization:b=!1,hasHighlightMarkers:F=!1,useLeadingEmojiAsIcon:B=!1,useLiveTitleForChannelCanvas:K=!1,hideRichTextEmojiTooltips:H=!1}=k;const Y=(0,t.useRef)(),[Z,V]=(0,t.useState)(!1),[ne,q]=(0,t.useState)(!1),{view:me}=(0,t.useContext)(A.A),ue=(me==null?void 0:me.viewType)===C.D.Search,ae=(0,s.d4)(y.sE);if((0,t.useEffect)(()=>{const he=(0,c.A)(Y.current);V(he)},[ne]),!U)return null;let le,fe;if((0,a.uO)(U)||(0,a.aK)(U))fe=t.createElement("span",{className:O,ref:Y},M.t("Deleted file"));else if((0,a.kn)(U)||(0,a.Bp)(U)||(0,a.Ki)(U))fe=t.createElement("span",{className:O,ref:Y},M.t("Hidden file"));else if((0,a.sR)(U))fe=t.createElement("span",{className:O,ref:Y},M.t("Access denied"));else if(!(0,a.ZG)(U)&&!(0,a.Sp)(U)&&!(0,a.AY)(U))fe=t.createElement("span",{className:O,ref:Y},M.t("File not found"));else if((0,d.A)(U)){let he="";(0,l.A)(U)?he=M.t("Audio clip"):he=M.t("Video clip"),fe=t.createElement("span",{className:O,ref:Y},he)}else if((0,a.DQ)(U)&&U.title_blocks)fe=t.createElement("span",{"data-qa":"file_name",className:O,ref:Y},(0,i.GU)({id:U.id,fileId:U.id,truncate:!1,useLeadingEmojiAsIcon:B,stopAnimations:K,hideRichTextEmojiTooltips:H,preferTitleBlocksFromFileObject:ue||b}));else if((0,a.l7)(U)){if(le=U.title,B&&le){const ie=le.trim();if(ie.search((0,I.A)())===0){const X=ie.match((0,I.A)());if(X&&X[0]){const j=X[0];le=ie.substring(j.length).trim()}}}let he;L?F?he=t.createElement(h.A,{text:le||"",inputIsEscaped:!0,showTooltips:!H}):he=t.createElement(p,{text:le||"",inputIsEscaped:!0,showTooltips:!H}):he=t.createElement(P.A,{text:le,emojiSize:E.lw.MEDIUM,showTooltips:!H}),fe=t.createElement("span",{ref:Y,"data-qa":"file_name",className:O,onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1)},he)}else if(x||U.title){le=x??U.title,B&&(le==null?void 0:le.trim().search((0,I.A)()))===0&&(le=le.trim().replace((0,I.A)(),""));let he;L?F?he=t.createElement(h.A,{text:le||"",inputIsEscaped:!0}):he=t.createElement(p,{text:le||"",inputIsEscaped:!0}):he=le,fe=t.createElement(t.Fragment,null,t.createElement("span",{ref:Y,"data-qa":"file_name",className:n()("c-file_name",O),onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1)},he),ae&&(0,a.mb)(U)?t.createElement(t.Fragment,null,t.createElement("span",null," "),t.createElement(r.o,{type:"sparkles",size:"16",inline:!0,useFilledIcon:!0})):null)}else le=U.name,le?fe=t.createElement("span",{className:O,"data-qa":"file_name",ref:Y},le):fe=t.createElement(D.A,{size:"random"});return Z&&!W?t.createElement(u.Ay,{tip:le},fe):fe}_(S,"Name"),S.displayName="Name";const R=(0,t.memo)(S)},2332535469:(N,g,e)=>{"use strict";e.d(g,{O:()=>n});var t=e(6471059816),s=e(6120301420);const o=new t.Ay("files");function n(c,i){const r=(0,s.Vs)(c);var a;const l=(a=i.canvas_readtime)!==null&&a!==void 0?a:0;return l&&r?o.t("{readtimeString} min read",{readtimeString:Math.ceil(l).toString()}):""}_(n,"getCanvasReadtime")},5141066605:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(6471059816);const s=new t.Ay("files");function o(n){if(!n.is_external)return null;let c="File";switch(n.external_type){case"gdrive":switch(n.filetype){case"gsheet":c=s.t("Google Sheet");break;case"gdoc":c=s.t("Google Doc");break;case"gpres":c=s.t("Google Slide");break;case"gdraw":c=s.t("Google Drawing");break;default:c=s.t("Google {fileType}",{fileType:n.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":c=s.t("{fileType}",{fileType:n.pretty_type});break;default:c=s.t("File")}return c}_(o,"getExternalFiletypeDescription")},8090839701:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(2647703359),s=e(6471059816),o=e(3207321841),n=e(5141066605),c=e(9361281657),i=e(2332535469),r=e(4761125736),a=e(6120301420);const l=new s.Ay("files");function d(u,f){const m=(0,c.U)(u),h=(0,a.Vs)(u),v=(0,r._Z)(u,"omni_polish")==="on";if((0,t.dE)(f))return l.t("Template");if((0,t.DQ)(f)){if(v)return l.t("Canvas");const T=(0,i.O)(u,f);return T?h?l.t("Canvas | {readtimeString}",{readtimeString:T}):"Canvas":l.t("Canvas")}if((0,t.Y8)(f)&&m)return m?l.t("Poll"):"Poll";const p=(0,t.ge)(f)||(0,t.Vx)(f)?(0,n.A)(f):f.pretty_type;switch(p){case"Arugula":return l.t("Post");case o.Hk:return l.t("Slack Clip");default:return p}}_(d,"getFileTypeDescription")},6565762531:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){return!!(s&&s!=="-")}_(t,"isValidFieldValue")},7969928607:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),s=e(5734673180),o=e(8509961938),n=e(1030162945),c=e(6818330210);function i(a){let{text:l="",inputIsEscaped:d=!1,emojiSize:u=n.lw.SMALL,showTooltips:f=!0,stopAnimations:m=!1,emojiDisplayInfo:h={}}=a;const v=[];let p=0;const T=d?(0,s.A)(l??""):l??"";if(T.replace((0,o.A)(),(A,C,I)=>{if(I>p){const P=T.slice(p,I);v.push(t.createElement(t.Fragment,{key:`${I}-${P}`},P))}const{name:D=A,url:y=void 0}=(0,c.H)(A,h);return v.push(t.createElement(n.Ay,{text:D,emojiSize:u,key:`${I}-${D}`,showTooltip:f,stopAnimations:m,isEmojiInlineWithText:!0,url:y})),p=I+A.length,""}),!v.length)return t.createElement(t.Fragment,null,T);if(p<T.length){const A=T.substr(p);v.push(t.createElement(t.Fragment,{key:`last-${A}`},A))}return t.createElement(t.Fragment,null,v)}_(i,"FormatTextWithEmoji"),i.displayName="FormatTextWithEmoji";const r=t.memo(i)},6159136815:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(5734673180),o=e(7969928607);const n=/\ue000([^\ue001]*)\ue001/g;function c(r){let{text:a="",inputIsEscaped:l=!1,showTooltips:d=!0,stopAnimations:u=!1}=r;const f=[];let m=0;const h=l?(0,s.A)(a??""):a??"";if(h.replace(n,(v,p,T)=>{if(T>m){const A=h.slice(m,T);f.push(t.createElement(o.A,{key:`${T}-${A}`,text:A,showTooltips:d,inputIsEscaped:l,stopAnimations:u}))}f.push(t.createElement("span",{className:"c-mrkdwn__highlight",key:`${T}-${p}`},t.createElement(o.A,{text:p,showTooltips:d,inputIsEscaped:l,stopAnimations:u}))),m=T+v.length}),!f.length&&a)return t.createElement(t.Fragment,null,t.createElement(o.A,{text:a,showTooltips:d,inputIsEscaped:l,stopAnimations:u}));if(a&&m<a.length){const v=h.substr(m);f.push(t.createElement(o.A,{key:`last-${v}`,text:v,showTooltips:d,inputIsEscaped:l,stopAnimations:u}))}return t.createElement(t.Fragment,null,f)}_(c,"FormatTextWithHighlightMarkers"),c.displayName="FormatTextWithHighlightMarkers";const i=t.memo(c)},9245136272:(N,g,e)=>{"use strict";e.d(g,{E:()=>c});var t=e(3134334389),s=e(6069260775),o=e(9506008067),n=e(2047021170);const c=_(i=>{let{className:r,isAnimating:a,getAnimationImport:l,imagePath:d,style:u}=i;const f=(0,o.d4)(m=>(0,n.ty)(m,"a11y_animations"));return t.createElement("div",{style:{position:"relative",width:"100%"}},t.createElement("img",{className:r,src:d,alt:"",style:{width:"100%",display:"block",opacity:!f||!a||!l?1:0,transition:"opacity 0.2s ease",...u}}),f&&l&&t.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,opacity:a?1:0,transition:"opacity 0.2s ease"}},t.createElement(s.e,{key:d,getAnimationImport:l,autoplay:!0,loop:!0})))},"AnimatedImageTransition");c.displayName="AnimatedImageTransition"},7881522262:(N,g,e)=>{"use strict";e.d(g,{F:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2843556239),c=e(6471059816),i=e(9245136272),r=e(5931392972),a=e(3801841745),l=e(2036354333),d=e(8683010724),u=e(9506008067),f=e(2047021170),m=e(7722580674),h=e.n(m);function v(){return v=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},v.apply(this,arguments)}_(v,"_extends");const p=new c.Ay("promotions"),T={left:"flex-start",right:"flex-end"},A={ANIMATION_TIMEOUT:400,FADE_OUT_TIMEOUT_MULTIPLIER:.2,FADE_IN_TIMEOUT_MULTIPLIER:.8,CARD_OVERLAP_PX:6,FIRST_CARD_SCALE:1,SECOND_CARD_SCALE:.64,THIRD_CARD_SCALE:.58,REMAINING_CARDS_SCALE:.55,TRANSITION_SCALE:1.1},C=_(I=>{let{cards:D,className:y,position:P="left",cardOffsetWidth:E=280,containerHeight:M=333}=I;const{windowRef:S}=(0,t.useContext)(n._0),R=(0,u.d4)(G=>(0,f.ty)(G,"a11y_animations")),k=(0,t.useMemo)(()=>R?A.ANIMATION_TIMEOUT:0,[R]),O=(0,t.useRef)(null),U=(0,t.useRef)(null),W=(0,t.useRef)(null),[x,L]=(0,t.useState)(0),[b,F]=(0,t.useState)(!1),[B,K]=(0,t.useState)(0),[H,Y]=(0,t.useState)(null),[Z,V]=(0,t.useState)(!1),ne=p.t("{currentCard} of {totalCards}",{currentCard:B+1,totalCards:D.length}),q=(0,t.useCallback)((G,J)=>()=>{R&&J&&Y(J==="backward"?B:B-1>=0?B-1:D.length-1),K(G)},[B,D.length,R]),me=(0,t.useCallback)(G=>{const J=P==="right",te=(G==="right"?1:-1)*(J?-1:1),se=(B+te+D.length)%D.length;let ce;J?ce=G==="left"?"backward":"forward":ce=G==="left"?"forward":"backward",q(se,ce)()},[B,q,D.length,P]),ue=(0,t.useCallback)(()=>me("left"),[me]),ae=(0,t.useCallback)(()=>me("right"),[me]),le=(0,t.useCallback)(G=>()=>{if(R){if(G===B||x>0)return;const J=(G-B+D.length)%D.length;J>0&&L(J)}else q(G)()},[B,x,R,D.length,q]);(0,t.useEffect)(()=>{x>0&&!b&&(P==="right"?ue():P==="left"&&ae(),F(!0),O.current=setTimeout(()=>{L(G=>G-1),F(!1)},k))},[x,b,ae,ue,P,k]),(0,t.useEffect)(()=>{var G;const J=_(se=>{se.key==="ArrowRight"?ae():se.key==="ArrowLeft"&&ue()},"handleKeyDown"),te=S.deref();return te==null||(G=te.document)===null||G===void 0||G.addEventListener("keydown",J),()=>{var se;te==null||(se=te.document)===null||se===void 0||se.removeEventListener("keydown",J)}},[ae,ue,S]);const fe=(0,t.useCallback)(()=>{U.current&&(clearTimeout(U.current),U.current=null),W.current&&(clearTimeout(W.current),W.current=null),O.current&&(clearTimeout(O.current),O.current=null)},[]);(0,t.useEffect)(()=>{H!==null&&(x===0&&fe(),V(!0),U.current=setTimeout(()=>{Y(null),W.current=setTimeout(()=>{V(!1)},k*A.FADE_IN_TIMEOUT_MULTIPLIER)},k*A.FADE_OUT_TIMEOUT_MULTIPLIER))},[H,k,fe,x]),(0,t.useEffect)(()=>()=>{fe()},[fe]);const he=(0,t.useCallback)(G=>(G-B+D.length)%D.length,[B,D.length]),ie=(0,t.useCallback)(G=>G===H||Z&&(G===B-1||B===0&&G===D.length-1),[H,Z,B,D.length]),X=(0,t.useCallback)(G=>G===0?A.FIRST_CARD_SCALE:G===1?A.SECOND_CARD_SCALE:G===2?A.THIRD_CARD_SCALE:A.REMAINING_CARDS_SCALE,[]),j=(0,t.useCallback)(G=>{const J={position:"absolute",transition:`all ${k}ms ease-in-out, box-shadow ${k}ms ease-in-out`,willChange:"transform, left, right, z-index, opacity, box-shadow, filter",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)",transform:"translateZ(0)",backfaceVisibility:"hidden",height:`${M}px`},te=D.length,se=he(G),ce=Math.abs(se),Ee=ie(G),de=Array(ce).fill(0).reduce((ge,Le,ke)=>{const Ke=X(ke),Ne=X(ke+1),Re=E*Ke,xe=E*Ne,We=(Re+xe)/2;return ge+We-A.CARD_OVERLAP_PX},0);let re=`scale(${X(ce)})`,_e=`${de}px`,ve=te-ce;return Ee&&(re=`scale(${G===H?A.TRANSITION_SCALE:X(D.length-1)})`,_e=G===H?`${-E}px`:`${de+E}px`,G===H&&(ve=te+1)),{...J,transform:re,opacity:Ee?0:1,zIndex:ve,[P]:_e,...G<B&&!Ee&&{filter:"grayscale(100%)",opacity:.5}}},[B,H,P,k,D.length,he,X,ie,E,M]),w=(0,t.useCallback)((G,J)=>{let te=2;return J==="title"&&!G.subtitle&&(te=3),{WebkitLineClamp:te,display:"-webkit-box",WebkitBoxOrient:"vertical",overflow:"hidden",margin:0}},[]),Q=(0,t.useMemo)(()=>D.map((G,J)=>j(J)),[D,j]);return t.createElement(a.A,{className:y,flexDirection:"column",justifyContent:"center",alignItems:"center",gap:28},t.createElement("div",null),t.createElement("div",{className:h().cardsContainer,style:{height:`${M}px`}},D.map((G,J)=>{var te,se,ce,Ee,de,re;return t.createElement(l.A,{key:G.key,className:o()(h().cardContainer),style:Q[J],onClick:le(J)},t.createElement("div",{className:o()(h().cardContainerImg,G.theme&&h()[G.theme]),style:{...(Ee=G==null||(te=G.imgStyle)===null||te===void 0?void 0:te.container)!==null&&Ee!==void 0?Ee:{}}},G.lottieSrc?t.createElement(i.E,{className:o()(h().cardImg),isAnimating:J===B,getAnimationImport:G.lottieSrc,imagePath:G.imgSrc,style:{...(de=G==null||(se=G.imgStyle)===null||se===void 0?void 0:se.img)!==null&&de!==void 0?de:{}}}):t.createElement("img",{className:o()(h().cardImg),style:{...(re=G==null||(ce=G.imgStyle)===null||ce===void 0?void 0:ce.img)!==null&&re!==void 0?re:{}},src:G.imgSrc,alt:""})),t.createElement(a.A,{alignItems:"baseline",gap:8,className:h().cardContent},G.svgIconProps&&t.createElement(d.A,v({size:"20"},G.svgIconProps)),t.createElement(a.A,{flexDirection:"column",className:"margin_left_050 margin_right_050 margin_top_200",gap:8},t.createElement("span",{style:w(G,"title")},t.createElement(r.DZ,{level:"2",weight:"black",size:"title"},G.title)),G.subtitle&&t.createElement("span",{style:w(G,"subtitle")},t.createElement(r.EY,{weight:"base",color:"Core/Content/Secondary"},G.subtitle)))))})),t.createElement(a.A,{alignSelf:T[P],gap:12,className:o()(h().arrows,h()[P])},t.createElement(l.A,{onClick:ue},t.createElement(d.A,{size:"16",name:"caret-left"})),ne,t.createElement(l.A,{onClick:ae},t.createElement(d.A,{size:"16",name:"caret-right"}))))},"Carousel");C.displayName="Carousel"},8991818866:(N,g,e)=>{"use strict";e.d(g,{u:()=>d,v:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8683010724),c=e(9506008067),i=e(3328068409),r=e(4111302702),a=e.n(r);function l(){return l=Object.assign||function(f){for(var m=1;m<arguments.length;m++){var h=arguments[m];for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])}return f},l.apply(this,arguments)}_(l,"_extends");const d=["lagoon","aubergine","cilantro","campfire","aiGradient"],u=_(f=>{let{theme:m,chipSize:h="medium",...v}=f;const T=(0,c.d4)(i.to)==="dark";return t.createElement("div",{className:o()(a().chip,m&&a()[m],a()[h],{[a().darkMode]:T})},t.createElement(n.A,l({size:"inherit"},v)))},"Chip");u.displayName="Chip"},8983392585:(N,g,e)=>{"use strict";e.d(g,{N:()=>m});var t=e(3134334389),s=e(6122756707),o=e(6839188756),n=e(9907843289),c=e(4452574402),i=e(6323355797),r=e(9506008067),a=e(3554387543),l=e(4005238080),d=e(7268021173),u=e(8815837079),f=e(1670069836);const m=_(()=>{const h=(0,s.wA)(),v=(0,r.d4)(a.Pr);(0,t.useEffect)(()=>{v||(h((0,l.A)()),h((0,u.A)({reason:"compare_plans_modal"})))},[v,h]);const p=(0,r.d4)(f.H7),T=(0,o.lk)(p),C=(0,r.d4)(a.nc)||"USD",I=(0,r.d4)(d.iH),D=(0,r.d4)(H=>(0,a.MO)(H,i.i6.standard.name,i.ck.monthly)),y=(0,r.d4)(H=>(0,a.C8)(H,i.i6.standard.name,i.ck.monthly)),P=(0,r.d4)(H=>(0,a.h$)(H,i.i6.standard.name,i.ck.monthly)),E=(0,r.d4)(H=>(0,a.cX)(H,i.i6.standard.name,i.ck.monthly)),M=(0,r.d4)(H=>(0,a.MO)(H,i.i6.standard.name,i.ck.yearly)),S=(0,r.d4)(H=>(0,a.C8)(H,i.i6.standard.name,i.ck.monthly)),R=(0,r.d4)(H=>(0,a.h$)(H,i.i6.standard.name,i.ck.yearly)),k=(0,r.d4)(H=>(0,a.cX)(H,i.i6.standard.name,i.ck.yearly)),O=(0,r.d4)(H=>(0,a.MO)(H,i.i6.plus.name,i.ck.monthly)),U=(0,r.d4)(H=>(0,a.C8)(H,i.i6.plus.name,i.ck.monthly)),W=(0,r.d4)(H=>(0,a.h$)(H,i.i6.plus.name,i.ck.monthly)),x=(0,r.d4)(H=>(0,a.cX)(H,i.i6.standard.name,i.ck.monthly)),L=(0,r.d4)(H=>(0,a.MO)(H,i.i6.plus.name,i.ck.yearly)),b=(0,r.d4)(H=>(0,a.C8)(H,i.i6.plus.name,i.ck.yearly)),F=(0,r.d4)(H=>(0,a.h$)(H,i.i6.plus.name,i.ck.yearly)),B=(0,r.d4)(H=>(0,a.cX)(H,i.i6.standard.name,i.ck.yearly));return(0,t.useMemo)(()=>v?{currentPlanLevel:T,isInTrial:I,pro:{billedMonthly:{undiscountedPrice:{unformatted:D,formatted:(0,c.ZV)(D,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||""},discountedPrice:y?{unformatted:y,formatted:(0,c.ZV)(y,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||"",discountPercentage:P,discountName:E}:null},billedYearly:{undiscountedPrice:{unformatted:M,formatted:(0,c.ZV)(M,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||""},discountedPrice:S?{unformatted:S,formatted:(0,c.ZV)(S,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||"",discountPercentage:R,discountName:k}:null}},plus:{billedMonthly:{undiscountedPrice:{unformatted:O,formatted:(0,c.ZV)(O,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||""},discountedPrice:U?{unformatted:U,formatted:(0,c.ZV)(U,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||"",discountPercentage:W,discountName:x}:null},billedYearly:{undiscountedPrice:{unformatted:L,formatted:(0,c.ZV)(L,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||""},discountedPrice:b?{unformatted:b,formatted:(0,c.ZV)(b,(0,n.Yp)(),{style:"currency",currency:C,currencyDisplay:"symbol"})||"",discountPercentage:F,discountName:B}:null}}}:{currentPlanLevel:i.F2.FREE,isInTrial:!1,pro:null,plus:null},[v,T,I,D,C,y,P,E,M,S,R,k,O,U,W,x,L,b,F,B])},"usePlanPrices")},4965739992:(N,g,e)=>{"use strict";e.d(g,{h:()=>A});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816),c=e(5931392972),i=e(3398219534),r=e(3801841745),a=e(6084388622),l=e(8739505998),d=e(8683010724),u=e(2809903252),f=e(7517926269),m=e.n(f);const h=new n.Ay("promotions"),v=_(C=>{let{feature:I}=C;return t.createElement(r.A,{flexDirection:"column",flexGrow:1},t.createElement(c.EY,{weight:"bold"},t.createElement(u.A,{lines:1,withTooltip:!0,customTooltipText:I.cta.title},I.cta.title)),t.createElement(c.EY,{color:"Core/Content/Tertiary",size:"caption"},t.createElement(u.A,{lines:1,withTooltip:!0},I.cta.subtitle)))},"FeatureContent"),p=_(C=>{let{feature:I,afterFeatureClick:D,featureActionLookup:y}=C;const{url:P,onClick:E}=y(I),M=(0,i.T)({articleId:I.helpArticle.id,hash:I.helpArticle.hash}),S=(0,t.useCallback)(()=>{E?E():M(),D&&D()},[E,D,M]),R=(0,t.useMemo)(()=>({elementName:"feature_action",elementValue:I.key,onClick:{enableClogAction:!0}}),[I.key]),k=t.createElement(r.A,{gap:12,alignItems:"center"},t.createElement("div",{className:m().clickableIcon},t.createElement(d.A,{name:I.icon.name,width:32,height:40})),t.createElement(v,{feature:I}),t.createElement("div",{className:m().iconButton},t.createElement(d.A,{"aria-label":h.t("Go to feature"),name:"arrow-right",height:10,width:8})));return P?t.createElement(l.A,{href:P,autoClogProps:R,className:o()(m().urlLink,m().feature)},k):t.createElement(a.Nm,{onClick:S,className:m().feature,autoClogProps:R},k)},"ClickableFeature");p.displayName="ClickableFeature";const T=_(C=>{let{feature:I}=C;return t.createElement(r.A,{gap:12,alignItems:"center",className:m().feature},t.createElement(r.A,{alignItems:"center",justifyContent:"center",className:m().nonClickableIcon},t.createElement(d.A,{name:I.icon.name,size:"20"})),t.createElement(v,{feature:I}))},"NonClickableFeature");T.displayName="NonClickableFeature";const A=_(C=>{let{features:I,onFeatureHover:D,clickable:y,featureActionLookup:P,afterFeatureClick:E}=C;const M=(0,t.useCallback)(S=>D&&D(S),[D]);return t.createElement(r.A,{flexDirection:"column"},I.map((S,R)=>{const k=R<I.length-1;return t.createElement(r.A,{key:S.key,flexDirection:"column",justifyContent:"center",flexGrow:1,className:o()({[m().clickableFeatureContainer]:y,[m().divider]:y&&k})},t.createElement("div",{onMouseEnter:()=>M(S)},y?t.createElement(p,{feature:S,afterFeatureClick:E,featureActionLookup:P}):t.createElement(T,{feature:S})))}))},"FeatureList");A.displayName="FeatureList"},4191414376:(N,g,e)=>{"use strict";e.d(g,{a:()=>O,w:()=>k});var t=e(3134334389),s=e(6471059816),o=e(9346154532),n=e.n(o),c=e(4023230306),i=e.n(c),r=e(3665921473),a=e.n(r),l=e(4450714150),d=e.n(l),u=e(2447916751),f=e.n(u),m=e(4512247066),h=e.n(m),v=e(7856382836),p=e.n(v),T=e(8761753225),A=e.n(T),C=e(8896229587),I=e.n(C),D=e(9567250534),y=e.n(D),P=e(9220196311),E=e.n(P),M=e(4250547311),S=e.n(M);const R=new s.Ay("promotions"),k=_(()=>({key:"huddles_notes",category:"ai",name:R.t("Huddles notes"),shortDescription:R.t("Focus on the conversation and let Slack do the note taking for you.",{fallbackHash:"d00edd223edcf872c7193e824d23b600f4836173"}),longDescription:R.t("Get a comprehensive summary of your meetings, complete with a transcript, key takeaways and action items."),cta:{title:R.t("Group meetings with AI notes"),subtitle:R.t("Use huddles in channels to get the whole team aligned")},icon:{name:"ai-huddle-summary"},assets:{backgroundColor:"Palettes/Aubergine/10","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-de-DE.json").then(e.t.bind(e,387771442,23))},"en-GB":{png:i(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-en-GB.json").then(e.t.bind(e,6081942680,23))},"en-US":{png:a(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-en-US.json").then(e.t.bind(e,1910811717,23))},"es-ES":{png:d(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-es-ES.json").then(e.t.bind(e,907296360,23))},"es-LA":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-es-LA.json").then(e.t.bind(e,8146755499,23))},"fr-FR":{png:h(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-fr-FR.json").then(e.t.bind(e,706628968,23))},"ja-JP":{png:A(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-ja-JP.json").then(e.t.bind(e,2141367261,23))},"pt-BR":{png:y(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-pt-BR.json").then(e.t.bind(e,2747495880,23))},"ko-KR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-ko-KR.json").then(e.t.bind(e,5896553299,23))},"it-IT":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-it-IT.json").then(e.t.bind(e,4539150266,23))},"zh-CN":{png:E(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-zh-CN.json").then(e.t.bind(e,2471077179,23))},"zh-TW":{png:S(),lottie:()=>e.e("gantry-v2-async-lottie-use-huddles-notes-zh-TW.json").then(e.t.bind(e,5599348295,23))}},helpArticle:{id:31377193680019},availabilityByPlanLevel:{free:{isAvailable:!1,limitation:null},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),O=_(()=>(0,t.useMemo)(()=>k(),[]),"useHuddlesNotes")},3777567130:(N,g,e)=>{"use strict";e.d(g,{D:()=>r,w:()=>i});var t=e(3134334389),s=e(6471059816),o=e(7121362573),n=e.n(o);const c=new s.Ay("promotions"),i=_(()=>({key:"integrations_with_other_apps",category:"automation",name:c.t("Integrations with other apps"),shortDescription:c.t("Connect the tools and services you use every day right into Slack"),longDescription:c.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2014 from Salesforce, Jira, Google Drive, ChatGPT, and more."),cta:{title:c.t("Unlimited app integrations"),subtitle:c.t("Make every integration seamless with apps")},icon:{name:"apps"},helpArticle:{id:360001537467},assets:{backgroundColor:"Palettes/Paprika/50","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"en-GB":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"en-US":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"es-ES":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"es-LA":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"fr-FR":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"ja-JP":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"pt-BR":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"ko-KR":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"it-IT":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"zh-CN":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))},"zh-TW":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-integrations-with-other-apps-de-DE.json").then(e.t.bind(e,4430628203,23))}},availabilityByPlanLevel:{free:{isAvailable:!0,limitation:{label:c.t("10"),description:null}},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),r=_(()=>(0,t.useMemo)(()=>i(),[]),"useIntegrationsWithOtherApps")},3789530276:(N,g,e)=>{"use strict";e.d(g,{s:()=>O,w:()=>k});var t=e(3134334389),s=e(6471059816),o=e(3469177242),n=e.n(o),c=e(7745320748),i=e.n(c),r=e(4947809175),a=e.n(r),l=e(6700873660),d=e.n(l),u=e(3394895569),f=e.n(u),m=e(416289424),h=e.n(m),v=e(8946513810),p=e.n(v),T=e(9339829407),A=e.n(T),C=e(5699146993),I=e.n(C),D=e(5267777228),y=e.n(D),P=e(6985852377),E=e.n(P),M=e(5038027829),S=e.n(M);const R=new s.Ay("promotions"),k=_(()=>({key:"slack_connect",category:"productivity",name:R.t("Slack Connect"),shortDescription:R.t("Collaborate with outside partners and clients as easily as with in-house teams."),longDescription:R.t("Collaborate seamlessly and securely with vendors, customers, and other organizations using Slack Connect."),cta:{title:R.t("Work securely with external organizations"),subtitle:R.t("Work in channels with external people")},icon:{name:"buildings"},helpArticle:{id:360035092414},assets:{backgroundColor:"Palettes/Jade/70","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-de-DE.json").then(e.t.bind(e,4657123492,23))},"en-GB":{png:i(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-en-GB.json").then(e.t.bind(e,5710905158,23))},"en-US":{png:a(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-en-US.json").then(e.t.bind(e,8825457063,23))},"es-ES":{png:d(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-es-ES.json").then(e.t.bind(e,4126465322,23))},"es-LA":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-es-LA.json").then(e.t.bind(e,9718468121,23))},"fr-FR":{png:h(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-fr-FR.json").then(e.t.bind(e,248722738,23))},"ja-JP":{png:A(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-ja-JP.json").then(e.t.bind(e,1175194519,23))},"pt-BR":{png:y(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-pt-BR.json").then(e.t.bind(e,5359837234,23))},"ko-KR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-ko-KR.json").then(e.t.bind(e,1326023725,23))},"it-IT":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-it-IT.json").then(e.t.bind(e,7180790508,23))},"zh-CN":{png:E(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-zh-CN.json").then(e.t.bind(e,7855186137,23))},"zh-TW":{png:S(),lottie:()=>e.e("gantry-v2-async-lottie-use-slack-connect-zh-TW.json").then(e.t.bind(e,6392096305,23))}},availabilityByPlanLevel:{free:{isAvailable:!0,limitation:{label:R.t("1:1 only"),description:null}},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),O=_(()=>(0,t.useMemo)(()=>k(),[]),"useSlackConnect")},9650781710:(N,g,e)=>{"use strict";e.d(g,{d:()=>O,w:()=>k});var t=e(3134334389),s=e(6471059816),o=e(2651824376),n=e.n(o),c=e(1055919006),i=e.n(c),r=e(9468784045),a=e.n(r),l=e(9721191706),d=e.n(l),u=e(6072511763),f=e.n(u),m=e(9256831486),h=e.n(m),v=e(1991548408),p=e.n(v),T=e(9439644189),A=e.n(T),C=e(9467317535),I=e.n(C),D=e(4082867042),y=e.n(D),P=e(7666351987),E=e.n(P),M=e(6581854275),S=e.n(M);const R=new s.Ay("promotions"),k=_(()=>({key:"thread_and_channel_summaries",category:"ai",name:R.t("Thread and channel summaries"),shortDescription:R.t("Easily catch up on channels and threads in one click."),longDescription:R.t("Catch up on channels and threads in one click."),cta:{title:R.t("AI conversation summaries"),subtitle:R.t("Get up to speed in any channel or thread with one click")},icon:{name:"ai-summary"},helpArticle:{id:25076892548883,hash:"h_01HEKHNMD5YFNCVB9B2S0BSC1T"},assets:{backgroundColor:"Palettes/Aubergine/40","de-DE":{png:n(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-de-DE.json").then(e.t.bind(e,9764938808,23))},"en-GB":{png:i(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-en-GB.json").then(e.t.bind(e,6536852562,23))},"en-US":{png:a(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-en-US.json").then(e.t.bind(e,8685059971,23))},"es-ES":{png:d(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-es-ES.json").then(e.t.bind(e,863127406,23))},"es-LA":{png:f(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-es-LA.json").then(e.t.bind(e,2553170845,23))},"fr-FR":{png:h(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-fr-FR.json").then(e.t.bind(e,6767920742,23))},"ja-JP":{png:A(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-ja-JP.json").then(e.t.bind(e,4787834955,23))},"pt-BR":{png:y(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-pt-BR.json").then(e.t.bind(e,4927276174,23))},"ko-KR":{png:I(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-ko-KR.json").then(e.t.bind(e,1659694137,23))},"it-IT":{png:p(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-it-IT.json").then(e.t.bind(e,895017776,23))},"zh-CN":{png:E(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-zh-CN.json").then(e.t.bind(e,7672849621,23))},"zh-TW":{png:S(),lottie:()=>e.e("gantry-v2-async-lottie-use-thread-and-channel-summaries-zh-TW.json").then(e.t.bind(e,8027931509,23))}},availabilityByPlanLevel:{free:{isAvailable:!1,limitation:null},pro:{isAvailable:!0,limitation:null},business:{isAvailable:!0,limitation:null},enterprise:{isAvailable:!0,limitation:null}}}),"getFeatureSpec"),O=_(()=>(0,t.useMemo)(()=>k(),[]),"useThreadAndChannelSummaries")},1471093810:(N,g,e)=>{"use strict";e.d(g,{m:()=>v});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7881522262),c=e(8991818866),i=e(4965739992),r=e(2657634112),a=e(5931392972),l=e(3801841745),d=e(6084388622),u=e(8739505998),f=e(980293773),m=e(1655662782),h=e.n(m);const v=_(p=>{let{title:T,subtitle:A,secondaryCTA:C,primaryCTA:I,carouselFeatures:D,listFeatures:y,autoClogProps:P,secondaryCTAAutoClogProps:E,primaryCTAAutoClogProps:M,chipIcons:S=[{name:"slack-logo-color"}],renderCustomHeaderIcon:R,disclaimer:k,carouselContainerHeight:O}=p;S.length===2&&S.splice(1,0,{name:"slack-logo-color"});const U=S.length===3;return t.createElement(f.aF,{className:h().modalContainer,maxWidth:870,autoClogProps:P},t.createElement(r.A,{horizontal:!0,horizontalOffset:y?"farLeft":"slightLeft"},t.createElement("div",{className:h().container},t.createElement(l.A,{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",className:h().leftContainer},t.createElement("div",{className:o()("margin_bottom_150",{[h().multiChipContainer]:U})},!R&&S.map((W,x)=>t.createElement(c.v,{key:W.name,name:W.name,chipSize:U&&x%2===0?"medium":"extraLarge",theme:W.theme,style:W.style})),!!R&&R()),t.createElement(a.DZ,{level:"1",weight:"black",size:"headline"},T),t.createElement("div",{className:h().subtitle},t.createElement(a.EY,{color:"Core/Content/Secondary"},A)),t.createElement("div",{className:h().outerButtonContainer},t.createElement("div",{className:h().innerButtonContainer},I&&(I.url?t.createElement(d.z9,{href:I.url,autoClogProps:M},I.text):I.onClick&&t.createElement(d.Ay,{onClick:I.onClick,autoClogProps:M},I.text)),C&&t.createElement(u.A,{onClick:C.onClick,href:C.url,autoClogProps:E},C.text)))),t.createElement(l.A,{alignItems:y?"center":"flex-start",justifyContent:"center",flexDirection:"column",gap:16},D&&t.createElement(n.F,{containerHeight:O,cards:D,position:"left"}),y&&t.createElement(i.h,{features:y,clickable:!1}),k&&t.createElement(a.EY,{color:"Core/Content/Tertiary",weight:"base"},k)))))},"EntryPointModal");v.displayName="EntryPointModal"},229412938:(N,g,e)=>{"use strict";e.d(g,{y:()=>i});var t=e(3134334389),s=e(6471059816),o=e(5431290584);const n=new s.Ay("trials"),c={name:"slack-logo",size:"inherit"},i=_(r=>{let{ariaHidden:a,size:l=o.vj.Small}=r;return t.createElement(o.rg,{ariaLabel:n.t("Business Plus feature"),badgeText:n.t("Plus"),className:"p-plus_badge","data-qa":"plus-badge",icon:c,size:l,ariaHidden:a})},"PlusBadge")},2657634112:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9506008067),c=e(3328068409),i=e(5097962808),r=e.n(i);const a=_(l=>{let{children:d,horizontal:u=!1,horizontalOffset:f="slightLeft"}=l;const h=(0,n.d4)(c.to)==="dark";return t.createElement("div",{className:o()({[r().containerVertical]:!u,[r().containerVerticalDarkMode]:!u&&h,[r().containerHorizontal]:u,[r().farLeft]:f==="farLeft"})},t.createElement("div",{className:r().childrenContainer},d))},"ScoopContainer");a.displayName="ScoopContainer"},5931392972:(N,g,e)=>{"use strict";e.d(g,{DZ:()=>h,EY:()=>u,LE:()=>a,Xm:()=>d,_g:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6035312900),c=e.n(n);const i=["headline","title","subtitle","base","caption","micro"],r=["base","semibold","bold","black"],a=["Core/Content/Primary","Core/Content/Secondary","Core/Content/Tertiary","Theme/Content/Inverse primary","Core/Content/Important","Core/Content/Highlight 1","Core/Content/Highlight 2","Core/Content/Highlight 3","Palettes/Sunflower/60","inherit"],l=_(v=>{let{children:p,as:T="span",size:A="base",weight:C="base",color:I="Core/Content/Primary",isItalic:D}=v;return t.createElement(T,{className:o()(c().text,{[c().fontSizeMicro]:A==="micro",[c().fontSizeCaption]:A==="caption",[c().fontSizeBase]:A==="base",[c().fontSizeSubtitle]:A==="subtitle",[c().fontSizeTitle]:A==="title",[c().fontSizeHeadline]:A==="headline",[c().fontWeightBase]:C==="base",[c().fontWeightSemibold]:C==="semibold",[c().fontWeightBold]:C==="bold",[c().fontWeightBlack]:C==="black",[c().colorPrimary]:I==="Core/Content/Primary",[c().colorSecondary]:I==="Core/Content/Secondary",[c().colorTertiary]:I==="Core/Content/Tertiary",[c().colorThemeInversePrimary]:I==="Theme/Content/Inverse primary",[c().colorCoreContentHighlight1]:I==="Core/Content/Highlight 1",[c().colorCoreContentHighlight2]:I==="Core/Content/Highlight 2",[c().colorCoreContentHighlight3]:I==="Core/Content/Highlight 3",[c().colorCoreContentImportant]:I==="Core/Content/Important",[c().colorPalettesSunflower60]:I==="Palettes/Sunflower/60",[c().inherit]:I==="inherit",italic:D})},p)},"TextBase");l.displayName="TextBase";const d=["micro","caption","base","subtitle"].filter(v=>i.includes(v)),u=_(v=>{let{children:p,as:T,size:A,weight:C,color:I,isItalic:D}=v;return t.createElement(l,{as:T,size:A,weight:C,color:I,isItalic:D},p)},"Text");u.displayName="Text";const f=["headline","title","subtitle"].filter(v=>i.includes(v)),m={1:"h1",2:"h2",3:"h3"},h=_(v=>{let{level:p,size:T,weight:A="black",children:C}=v;return t.createElement(l,{size:T,as:m[p],color:"Core/Content/Primary",weight:A},C)},"Heading");h.displayName="Heading"},1743656885:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(8951118047);const s=t.A},1062586118:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(1483755157),s=e.n(t),o=e(862210999),n=e(1398359918),c=e(337319621);const i=s().prototype.stopCallback;s().prototype.stopCallback=()=>!1;const r=_(f=>i(f,f.target),"filterInput"),a=_((f,m)=>function(){for(var h=arguments.length,v=new Array(h),p=0;p<h;p++)v[p]=arguments[p];const T=v[0];m(T)||f(...v)},"makeFilteredHandler"),l=_((f,m)=>{const h=m[0];return h?l(a(f,h),m.slice(1)):f},"applyFilters"),d=_(f=>[f.ignoreInputs&&r,f.filter].filter(o.A),"getFiltersForCommand");let u=_(class{bindAll(m){m.forEach(h=>{const v=d(h);h.handler=l(h.handler,v),this.mousetrap.bind(h.keys,h.handler,h.action)})}reset(){this.mousetrap.destroy()}unbindAll(m){this.mousetrap.unbind((0,n.A)(m,"keys"))}trigger(m,h){this.mousetrap.trigger(m,h)}constructor(m){var h,v,p,T,A,C,I,D;let y=m;y&&!(y instanceof HTMLElement||y instanceof Document||((h=y)===null||h===void 0||(v=h.constructor)===null||v===void 0?void 0:v.name)==="HTMLDocument"||((p=y)===null||p===void 0||(T=p.constructor)===null||T===void 0?void 0:T.name)==="HTMLDivElement"||((A=y)===null||A===void 0||(C=A.constructor)===null||C===void 0?void 0:C.name)==="HTMLElement"||((I=y)===null||I===void 0||(D=I.constructor)===null||D===void 0?void 0:D.name)==="HTMLInputElement")&&((0,c.Wo)().error("Invalid element passed to KeyCommands"),y=void 0),s().addKeycodes({188:"comma"}),s().addKeycodes({173:"-"}),this.mousetrap=new(s())(y)}},"KeyCommands")},2852751673:(N,g,e)=>{"use strict";e.d(g,{o:()=>s});var t=e(3134334389);const s=t.createContext({closeCard:()=>{}})},6889316748:(N,g,e)=>{"use strict";e.d(g,{d:()=>f});var t=e(3134334389),s=e(7715417323),o=e(3020393294),n=e(5249175977),c=e(2852751673),i=e(2843556239),r=e(9497970206),a=e(6473800831);function l(){return l=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},l.apply(this,arguments)}_(l,"_extends");const d=350,u=250,f=_(m=>{let{children:h,className:v,position:p="top",renderCard:T,...A}=m;const{windowRef:C}=(0,i.ox)(),I=(0,t.useRef)(null),[D,y]=(0,t.useState)(),[P,E]=(0,t.useState)(!1),M=(0,t.useCallback)(()=>{E(!1)},[]),S=(0,t.useCallback)(()=>{I.current&&y(I.current.getBoundingClientRect()),E(!0)},[]),[R,k]=(0,o.i)(M),[O,U]=(0,o.i)(S);(0,a.M)("keydown",b=>{b.key===r.D.ESCAPE&&M()},{element:C,isEnabled:P});function W(){U(),P?R(u):k()}_(W,"handleLeave");function x(){k(),P?U():O(d)}_(x,"handleEnter");const L=(0,t.useMemo)(()=>({closeCard:M}),[M]);return t.createElement(c.o.Provider,{value:L},t.createElement("span",l({className:v,onClick:M,onFocus:s.A,onMouseLeave:W,onMouseOver:x,ref:I,role:"presentation"},A),h,t.createElement(n.Ay,{isContentInteractive:!0,isOpen:P,isOverlayInteractive:!1,offsetY:-12,position:p,shouldFade:!0,shouldFocusAfterRender:!1,targetBounds:D,tryOppositePosition:!0},T())))},"HoverCardTrigger");f.displayName="HoverCardTrigger"},8808892924:(N,g,e)=>{"use strict";e.d(g,{i:()=>S});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3150724727);const c=t.memo(R=>{let{id:k}=R;return t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:k,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))});var i=e(543174729),r=e(3288846409),a=e(1407713935),l=e(6470070112),d=e(3391133100),u=e(8683010724),f=e(8181621268),m=e(337319621),h=e(8847766420),v=e(9506008067),p=e(9338147070),T=e(6533394955),A=e(9101533895),C=e(5286203919),I=e(9548972574),D=e(1766818988);function y(){return y=Object.assign||function(R){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var U in O)Object.prototype.hasOwnProperty.call(O,U)&&(R[U]=O[U])}return R},y.apply(this,arguments)}_(y,"_extends");const P=2;function E(R){let{channelId:k,withTooltip:O,className:U,excludeIcon:W,excludeMemberOverflowCount:x,maxMembers:L=P,avatarSize:b=n.RG.verySmall,includeChannelNameInTooltip:F=!1,excludeSelf:B=!1}=R;const K=(0,t.useMemo)(()=>`huddles-mask-${(0,d.r9)()}`,[]),H=(0,t.useMemo)(()=>({"--huddles-mask":`url(#${K})`,"--huddles-avatar-size":`${b}px`}),[K,b]),Y=(0,v.d4)(Q=>(0,l.pt)(Q)||(0,D.s)(Q)),Z=(0,v.d4)(Q=>(0,A.OL)(Q,k)),V=(0,r.cw)(C.hc),ne=(0,r.cw)(C.vO),me=V===k&&(0,l.pZ)(ne),ue=(0,v.Z2)(Q=>(0,I.A7)(Q,k,B)),ae=ue.length,le=ae>L,fe=le?ae-2:0,he=le?ue.slice(0,L):ue,ie=(0,t.useMemo)(()=>{const Q=F&&!(0,a.cb)(Z),G=t.createElement(i.A,{channelId:k,includeChannelName:Q});return G||(0,m.Wo)().info("HUDDLE-FACEPILE",`channelId: ${k}, includeChannelName: ${Q}`),G},[k,F,Z]),X=(0,t.useCallback)(()=>null,[]);if(!Y||!ae)return null;const j=t.createElement("div",{className:o()("p-huddle_avatar_stack",U),"data-qa":"huddle_avatar_stack__avatars_container",style:H},t.createElement(c,{id:K}),!W&&t.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.createElement(u.A,{name:"headphones",size:"18"})),he.map((Q,G)=>t.createElement(n.Ay,{key:Q,"data-qa":"huddle_avatar_stack__member",className:o()("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":G===0}),userId:Q,size:b,renderCustomBadge:X,isInteractive:!1})),!x&&le&&t.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${fe}`)),w=O&&ie?t.createElement(f.Ay,{tip:ie},j):j;return me?null:w}_(E,"HuddleAvatarStackContent"),E.displayName="HuddleAvatarStackContent";const M=t.memo(E),S=t.memo(R=>{const{channelId:k}=R,O=(0,v.d4)(L=>(0,I.LY)(L,k)),U=(0,r.cw)(C.l4),W=(0,r.cw)(C.hc),x=(0,v.d4)(h.ZT);if(!O)return null;if(W===k){const L=(0,T.oK)(U||x);return t.createElement(p.Kq,{store:L},t.createElement(M,y({},R)))}return t.createElement(M,y({},R))})},1465889885:(N,g,e)=>{"use strict";e.d(g,{A:()=>y});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9195837907),c=e(5075331445),i=e(3496486794),r=e(3288846409),a=e(2036354333),l=e(1610251172),d=e(2312625946),u=e(6471059816),f=e(7384121809),m=e(9506008067),h=e(6251210828),v=e(4250409994),p=e(5286203919);const T=new u.Ay("huddles"),A=65,C=80,I=100,D=_(P=>{let{updatePreview:E,onEffectSelected:M,isSmallLayout:S=!1}=P;const R=(0,i.A)(),k=(0,r.cw)(p.E9),O=(0,m.d4)(Z=>(0,h.pj)(Z,{huddleId:k})),U=(0,c.i)(),W=R.find(Z=>Z.key===U.backgroundEffectBgKey);var x;const[L,b]=(0,t.useState)((x=U.backgroundEffectBgKey)!==null&&x!==void 0?x:"NONE"),F=(0,t.useCallback)(Z=>()=>{Z==="NONE"?((0,f.dispatchForClientStore)((0,v.Rb)({effect:void 0,effectBgKey:void 0})),M==null||M({backgroundType:void 0,effectBgKey:void 0})):Z==="BLUR"?((0,f.dispatchForClientStore)((0,v.Rb)({effect:n.t.Blur})),M==null||M({backgroundType:n.t.Blur,backgroundKey:void 0})):((0,f.dispatchForClientStore)((0,v.Rb)({effect:n.t.Background,effectBgKey:Z})),M==null||M({backgroundType:n.t.Background,backgroundKey:Z})),E!==void 0&&E(),b(Z)},[M,E]);(0,t.useEffect)(()=>{U.blurEffectIsEnabled?b("BLUR"):U.backgroundEffectBgKey===void 0?b("NONE"):W===void 0&&(b("NONE"),F("NONE")())},[b,W,F,U.backgroundEffectBgKey,U.blurEffectIsEnabled]);const{imgHeight:B,imgWidth:K}=(0,t.useMemo)(()=>S?{imgHeight:A,imgWidth:A}:O?{imgHeight:C,imgWidth:C}:{imgHeight:I,imgWidth:I},[O,S]),Y=(0,t.useCallback)(()=>{const Z=R.map(V=>{const ne=L===V.key,q=_(()=>t.createElement(t.Fragment,null,V.name,V.description?t.createElement("div",{className:"c-tooltip__subtitle normal"},V.description):null),"tooltipGetLabel");return q.displayName="tooltipGetLabel",t.createElement(d.Ay,{tip:q(),position:"top",key:V.key},t.createElement(a.A,{key:V.key,onClick:F(V.key)},t.createElement("div",{className:"p-huddle_video_background_menu__image_and_checkbox_container"},ne&&V.key!=="NONE"&&t.createElement(t.Fragment,null,t.createElement(l.A,{className:"p-huddle_video_background_menu__checkbox_icon p-huddle_video_background_menu__checkbox_icon_background",type:"real-checkbox-checked-o"}),t.createElement(l.A,{className:"p-huddle_video_background_menu__checkbox_icon",type:"real-checkbox-checked"})),V.key==="NONE"&&t.createElement("div",{style:{height:B,width:K},className:o()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_none",{"p-huddle_video_background_menu__category_preview_image_none--selected":ne,"p-huddle_video_background_menu__category_preview_image--selected":ne,"p-huddle_video_background_menu__category_preview_image--compact_mode":O})},T.rt("<strong>None</strong>",{fallbackHash:"0dfae2820b8c3e724ad95bfde6a9b4539a58d6fb",fallbackHashNs:"canvas"})),V.key==="BLUR"&&t.createElement("div",{style:{height:B,width:K},className:o()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_blur",{"p-huddle_video_background_menu__category_preview_image_blur--selected":ne,"p-huddle_video_background_menu__category_preview_image--selected":ne,"p-huddle_video_background_menu__category_preview_image--compact_mode":O})},V.key==="BLUR"&&T.rt("<strong>Blur</strong>",{fallbackHash:"7d5c2a9cc6a1684caefb5c90e47bcfd22356902e",fallbackHashNs:"canvas"})),V.key!=="NONE"&&V.key!=="BLUR"&&t.createElement("img",{className:o()("p-huddle_video_background_menu__category_preview_image",{"p-huddle_video_background_menu__category_preview_image--selected":ne,"p-huddle_video_background_menu__category_preview_image--compact_mode":O}),alt:V.name,src:V.preview,height:B,width:K}))))});return t.createElement("div",{className:o()("p-huddle_video_background_menu__category_previews","p-huddle_video_background_menu__category_previews--has_video_preview",{"p-huddle_video_background_menu__category_previews--compact_mode":O,"p-huddle_video_background_menu__category_previews--small_layout":S})},Z)},[R,O,S,L,F,B,K])();return t.createElement(t.Fragment,null,Y)},"HuddleVideoBackgroundMenu");D.displayName="HuddleVideoBackgroundMenu";const y=t.memo(D)},3496486794:(N,g,e)=>{"use strict";e.d(g,{A:()=>B,g:()=>b});var t=e(3134334389),s=e(6471059816),o=e(4553218033),n=e.n(o),c=e(9679390338),i=e.n(c),r=e(7000154057),a=e.n(r),l=e(553949882),d=e.n(l),u=e(9631995895),f=e.n(u),m=e(3342291988),h=e.n(m),v=e(3607863955),p=e.n(v),T=e(5738074488),A=e.n(T),C=e(5908540923),I=e.n(C),D=e(7485089530),y=e.n(D),P=e(5475210953),E=e.n(P),M=e(8514307482),S=e.n(M),R=e(4136357865),k=e.n(R),O=e(7234375712),U=e.n(O),W=e(1672115571),x=e.n(W);const L=new s.Ay("huddles"),b=[{key:"NONE",preview:I()},{key:"BLUR",preview:I()},{key:"LIVING_ROOM",url:A(),preview:p()},{key:"REMOTE_WORK",url:k(),preview:S()},{key:"TOKYO_SIGHT",url:x(),preview:U()},{key:"GYM",url:d(),preview:a()},{key:"HOME",url:h(),preview:f()},{key:"OFFICE",url:E(),preview:y()},{key:"BEACH",url:i(),preview:n()}],B=_(()=>(0,t.useMemo)(()=>b.map(H=>{let Y,Z;switch(H.key){case"NONE":Y=L.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":Y=L.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":Y=L.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),Z=L.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":Y=L.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),Z=L.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":Y=L.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),Z=L.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":Y=L.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),Z=L.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":Y=L.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":Y=L.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":Y=L.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:Y="NO_NAME",Z="NO_DESCRIPTION"}return{...H,name:Y,description:Z}}),[]),"useGetVideoBackgrounds")},5203103513:(N,g,e)=>{"use strict";e.d(g,{Mz:()=>o,NY:()=>n,VW:()=>s,_q:()=>t,aI:()=>i,xX:()=>c});const t="huddles_play_music_when_last",s="huddles_play_music_timeout",o="huddles_music_player_song_key",n="calendar_huddles_default_access_policy",c="calendar_huddles_default_auto_start_summary",i="huddles_show_join_preview"},3622858354:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(1030162945),o=e(7969928607);const n=_(i=>{let{text:r,emojiSize:a=s.lw.SMALL}=i;return t.createElement(t.Fragment,null,t.createElement(o.A,{text:r,emojiSize:a}))},"FormattedHuddleTopic");n.displayName="FormattedHuddleTopic";const c=n},7723800688:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>u,Hi:()=>l,uV:()=>d});var t=e(3134334389),s=e(6122756707),o=e(3288846409),n=e(6470070112),c=e(9506008067),i=e(8239363237),r=e(6251210828),a=e(5286203919),l;(function(f){f.CANVAS_OPEN="canvas_open",f.CANVAS_JOIN="canvas_join",f.CANVAS_LEAVE="canvas_leave",f.CANVAS_TOOLBAR="canvas_toolbar",f.EMOJI_PICKER_OPEN="emoji_picker_open",f.EMOJI_SENT="emoji_sent",f.LINK_OPEN="link_open",f.FOCUS_OPEN="focus_open",f.FOCUS_CLOSE="focus_close",f.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",f.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",f.MINI_PLAYER_VIEW_START="mini_player_view_start",f.MINI_PLAYER_VIEW_END="mini_player_view_end",f.SCREENSHARE_START="screenshare_start",f.SCREENSHARE_END="screenshare_end",f.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",f.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",f.THREAD_WINDOW_VIEW_START="thread_window_view_start",f.THREAD_WINDOW_VIEW_END="thread_window_view_end",f.THREAD_OPEN="thread_open",f.THREAD_CLOSE="thread_close",f.SELF_VIDEO="self_video",f.WINDOW_COMPACT_VIEW_START="window_compact_view_start",f.WINDOW_COMPACT_VIEW_END="window_compact_view_end",f.WINDOW_FULL_VIEW_START="window_full_view_start",f.WINDOW_FULL_VIEW_END="window_full_view_end",f.WINDOW_RESIZE_BUTTON="window_resize_button",f.BACKGROUND_CHANGED="background_changed",f.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",f.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",f.CAPTIONS_START="huddles_captions_start",f.CAPTIONS_STOP="huddles_captions_stop",f.INVITATION_SENT="invitation_sent",f.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",f.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",f.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",f.NOTES_OPEN="notes_open",f.NOTES_CLOSE="notes_close",f.CHANNEL_SPACE_OPEN="channel_space_open",f.CHANNEL_SPACE_CLOSE="channel_space_close",f.CHANNEL_SPACE_AUTO_OPEN="channel_space_auto_open"})(l||(l={}));var d;(function(f){f.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",f.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",f.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",f.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",f.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",f.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",f.CANVAS_WINDOW="canvas_window",f.LEAVE_CALL="leave_call",f.CLOSE_MODAL="close_modal",f.EMOJI_PICKER="emoji_picker",f.JUKEBOX_MENU="jukebox_menu",f.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",f.REACTION_BUBBLE="reaction_bubble",f.CHANGE_BACKGROUND_DIALOG="change_background_dialog",f.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",f.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",f.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(d||(d={}));function u(){const f=(0,o.cw)(a.E9),m=(0,c.Z2)(C=>(0,n.$t)(C,{huddleId:f})),h=(0,o.cw)(n.kn,s.bN),v=(0,o.cw)(n.UE,s.bN),p=(0,c.d4)(C=>(0,r.Ec)(C,{huddleId:f})),T=(0,c.d4)(i.Tk);return(0,t.useMemo)(()=>({canvasThreadChannelId:m.canvas_thread_channel_id,canvasThreadId:m.canvas_thread_id,canvasHuddleSessionId:h.canvas_huddle_session_id,callsRoomId:v.room_id,callsChannelId:v.channel_id,uiPage:p?p.toString():null,fileId:T}),[m.canvas_thread_channel_id,m.canvas_thread_id,h.canvas_huddle_session_id,v.room_id,v.channel_id,p,T])}_(u,"useHuddleClogContext")},4233000497:(N,g,e)=>{"use strict";e.d(g,{A:()=>c,H:()=>n});var t=e(3134334389),s=e(6470070112),o=e(9506008067),n;(function(i){i.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",i.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",i.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(n||(n={}));function c(i){const r=(0,o.Z2)(a=>i?(0,s.w1)(a,i):{});return(0,t.useMemo)(()=>({callsChannelId:r.channel_id,callsChannelType:r.channel_type,callsNumParticipants:r.num_participants,callsRoomId:r.room_id}),[r.channel_id,r.channel_type,r.num_participants,r.room_id])}_(c,"useHuddlesClogContext")},5169680368:(N,g,e)=>{"use strict";e.d(g,{k:()=>r});var t=e(8736071954),s=e(6471059816),o=e(387328355),n=e(9506008067),c=e(9365970888);const i=new s.Ay("huddles"),r=_(()=>{const a=(0,n.d4)(h=>!!(0,o.WQ)(h,"isMicrophoneEnabled")),l=(0,n.Z2)(h=>(0,c.ql)(h,t.lW.Microphone)),d=a?i.t("Mute mic"):i.t("Unmute mic"),u=a?i.t("Mute microphone",{fallbackHash:"51f49b875396cd34840651294743f45c5e634fd6"}):i.t("Unmute microphone",{fallbackHash:"c34014e51dd6e4f1ec620aa0f492685978c86433"});let f=l==null?void 0:l.label;if((l==null?void 0:l.id)!=="default"){var m;f=(l==null||(m=l.label)===null||m===void 0?void 0:m.replace(/ *?\([^)]*?\) *?/g,""))||void 0}return{microphoneLabel:d,isMicrophoneEnabled:a,deviceLabel:f,ariaLabel:u}},"useMicrophoneOnOff")},1638377365:(N,g,e)=>{"use strict";e.d(g,{z:()=>a});var t=e(416787925),s=e(8736071954),o=e(6471059816),n=e(387328355),c=e(9506008067),i=e(9365970888);const r=new o.Ay("huddles"),a=_(()=>{const l=(0,c.d4)(T=>!!(0,n.WQ)(T,"isHidingSelf")),d=!!(0,c.d4)(T=>(0,n.WQ)(T,"isCameraEnabled"))||!1,u=(0,c.Z2)(T=>(0,i.ql)(T,s.lW.Camera));let f;u!=null&&u.label&&(f=(0,t.On)(u.label));const m=r.t("Turn on video"),h=r.t("Turn off video"),v=d?h:m,p=d?r.t("Turn off camera",{fallbackHash:"af4d2263ca9afd84e1c091391c248ca22b884036"}):r.t("Turn on camera",{fallbackHash:"27892acc411157e52b1022f480b10c11e51b2350"});return{videoLabel:v,isCameraEnabled:d,isHidingSelf:l,deviceLabel:f,ariaLabel:p}},"useVideoOnOff")},4385664584:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(5950652755),o=e(9338147070);const n=_(i=>{let{store:r,children:a}=i;const l=(0,t.useMemo)(()=>({...r,subscribe:d=>r.subscribeImmediate((0,s.A)(d,16))}),[r]);return t.createElement(o.Kq,{store:l}," ",a," ")},"BackgroundableProvider");n.displayName="BackgroundableProvider";const c=n},7280065019:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s);const n=_(a=>{let{className:l,wasCameraEverEnabled:d}=a;return t.createElement("div",{className:o()("p-huddle_camera_icon","p-huddle_camera_icon__container",l),"data-qa":"huddle_video_icon_camera_off"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.6694 6.44613L13.0988 8.21302C13.1635 8.32628 13.2578 8.42265 13.3746 8.4902C13.6064 8.62424 13.8922 8.62449 14.1242 8.49088L17.5 6.54725V13.4528L14.1242 11.5091C13.8922 11.3755 13.6064 11.3758 13.3746 11.5098C13.1428 11.6438 13 11.8913 13 12.1591V14.75C13 15.1642 12.6642 15.5 12.25 15.5H6.62151L5.28818 17H12.25C13.4926 17 14.5 15.9926 14.5 14.75V13.4563L17.1263 14.9684C17.9596 15.4482 19 14.8468 19 13.8852V6.11483C19 5.15324 17.9596 4.55176 17.1263 5.03155L14.6694 6.44613ZM1.5 14.4883V5.25C1.5 4.00736 2.50736 3 3.75 3H11.7118L10.3785 4.5H3.75C3.33579 4.5 3 4.83579 3 5.25V12.8008L1.5 14.4883Z",fill:"currentColor"}),t.createElement("path",{className:o()({"p-huddle_camera_icon--slash_animated":d}),d:"M2 17.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))},"renderCameraOff");n.displayName="renderCameraOff";const c=_(a=>{let{className:l}=a;return t.createElement("div",{className:o()("p-huddle_camera_icon","p-huddle_camera_icon__container",l),"data-qa":"huddle_video_icon_camera_on"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3.75 3.75C2.92157 3.75 2.25 4.42157 2.25 5.25V14.75C2.25 15.5784 2.92157 16.25 3.75 16.25H12.25C13.0784 16.25 13.75 15.5784 13.75 14.75V12.1591L17.5005 14.3185C17.8339 14.5104 18.25 14.2698 18.25 13.8852V6.11483C18.25 5.7302 17.8338 5.4896 17.5005 5.68152L13.75 7.84091V5.25C13.75 4.42157 13.0784 3.75 12.25 3.75H3.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),t.createElement("circle",{className:"p-huddle_camera_icon--dot",cx:"8",cy:"10",r:"2.5",fill:"currentColor"})))},"renderCameraOn");c.displayName="renderCameraOn";const i=_(a=>{let{isCameraEnabled:l,className:d}=a;const[u,f]=(0,t.useState)(l);return(0,t.useEffect)(()=>{l&&f(!0)},[l]),l?c({className:d}):n({className:d,wasCameraEverEnabled:u})},"HuddleCameraIcon"),r=t.memo(i)},543174729:(N,g,e)=>{"use strict";e.d(g,{A:()=>D,z:()=>I});var t=e(3134334389),s=e(3502457281),o=e(3150724727),n=e(3622858354),c=e(8920264989),i=e(6470070112),r=e(3534324375),a=e(337319621),l=e(6471059816),d=e(5135324409),u=e(9506008067),f=e(5795074931),m=e(9101533895),h=e(9548972574),v=e(4742719639),p=e(1766818988);const T=new l.Ay("huddles"),A=5,C=8,I=_(y=>{let{channelId:P}=y;const E=(0,u.Z2)(k=>(0,h.A7)(k,P,!1)),M=E.length,S=M>A,R=S?E.slice(0,A):E;return M===0?null:t.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},R.map((k,O)=>{const U=O===R.length-1;return t.createElement("div",{key:k,className:"p-huddle_channel_tooltip__avatar_container",style:{width:U?"auto":o.RG.medium-C}},t.createElement(o.Ay,{className:"p-huddle_channel_tooltip__avatar",userId:k,size:o.RG.medium,renderCustomBadge:d.Q,isInteractive:!1,additionalOverlay:S&&U?M-R.length+1:void 0}))}))},"HuddleTooltipAvatarStack");I.displayName="HuddleTooltipAvatarStack";function D(y){let{channelId:P,includeChannelName:E=!1}=y;const M=(0,u.d4)(H=>(0,m.OL)(H,P)),S=(0,u.d4)(H=>{const Y=(0,i.Bn)(H,M),Z=(0,p.s)(H),V=Y||Z;return V||(0,a.Wo)().info("HUDDLE-FACEPILE",`isHuddlesEnabled: ${V}, doesChannelSupportHuddles: ${Y}, isHuddlesEnabledForSponsoredTeam: ${Z}`),V}),R=(0,u.d4)(f.WR),k=(0,u.Z2)(H=>(0,h.ft)(H,P)),O=(0,u.d4)(i.df),U=(0,c.Mn)(M),W=k.length,L=W>A?k.slice(0,A):k,b=(0,u.Z2)(H=>L.map(Y=>({id:Y.id,name:Y.id===R?T.t("you"):(0,r.sE)(H,Y)})).sort((Y,Z)=>Y.id===R?1:Z.id===R?-1:(0,s.Ay)(Y.name,Z.name)).map(Y=>{let{name:Z}=Y;return Z})),F=(0,u.d4)(H=>(0,v.o)(H,P)),B=(0,t.useMemo)(()=>E?b.length===1?k[0].id===R?T.rt("Just you in the huddle #{channelName}",{channelName:U}):T.rt("{name} is in the huddle #{channelName}",{name:b[0],channelName:U}):T.rt("{memberCount} people in the huddle #{channelName}",{memberCount:W,channelName:U}):b.length===1?k[0].id===R?T.rt("Just you in the huddle"):T.rt("{name} is in the huddle",{name:b[0]}):T.rt("{memberCount} people in the huddle",{memberCount:W}),[E,b,W,U,k,R]);let K=F!=null&&F.trim()?t.createElement(n.A,{text:F}):null;return k.length>=O&&(K=T.t("Only {maxParticipants} people can join a huddle",{maxParticipants:O})),S?t.createElement("div",{className:"p-huddle_channel_tooltip"},t.createElement(I,{channelId:P}),t.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},K),t.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},B)):null}_(D,"HuddleChannelTooltip")},9477894139:(N,g,e)=>{"use strict";e.d(g,{A:()=>l,g:()=>a});var t=e(3134334389),s=e(6122756707),o=e(2825968873),n=e(3837503631),c=e(5253428843),i=e(9712681361);const r=(0,o.tZ)("HUDDLE-ERROR");var a;(function(d){d.Huddles="huddles",d.Sidebar="huddles_pro_max-sidebar",d.Flexpane="huddles_pro_max-flexpane",d.CompactWindow="huddles_pro_max-compact_window",d.LargeWindow="huddles_pro_max-large_window",d.WindowFooter="huddles_pro_max-window_footer",d.AlertBanner="huddles_pro_max-alert_banner",d.InviteWindow="huddles_invite_window",d.ControlStripButton="huddles_control_strip_button",d.ChannelHeader="huddles_channel_header",d.Composer="huddles_composer",d.HuddleSpecialReactions="huddle_special_reactions"})(a||(a={}));function l(d){let{children:u,onError:f,isQuiet:m=!0,shouldStopHuddle:h=!1,subtype:v=a.Huddles}=d;const p=(0,s.wA)(),T=(0,t.useCallback)(()=>{h&&p((0,c.A)({terminalState:i.M6.ClientUIError}))},[p,h]),A=(0,t.useCallback)(I=>{r.error(`${v} ${I}`),f?f():T()},[T,f,v]),C=m?n.H:n.A;return t.createElement(C,{subtype:v,onError:A},u)}_(l,"HuddleErrorBoundary")},2084347232:(N,g,e)=>{"use strict";e.d(g,{A:()=>x});var t=e(3134334389),s=e(6122756707),o=e(7345807809),n=e(7914553163),c=e(825587348),i=e(6471059816),r=e(6323355797),a=e(8847766420),l=e(9506008067);const d=new i.Ay("huddles");function u(L){let{closeModal:b}=L;const F=r.zG.Vhq,B=(0,n.Ay)({promoSubtype:F}),K=(0,l.d4)(a.ZT)||"",H=(0,t.useMemo)(()=>(0,o.e)(B,F,K),[B,F,K]),Y=(0,t.useCallback)(()=>{H==null||H.onClick(),b==null||b()},[H,b]);return!H||B!==n.MX.TrialEligible&&B!==n.MX.TrialIneligible&&B!==n.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement(c.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:b,onCancel:b,onSubmit:Y,showCancelButton:!0,cancelButtonText:d.t("Dismiss"),showSubmitButton:!0,title:d.t("Your huddle has ended"),submitButtonText:H.text},d.t("On the free version of Slack, your huddles are limited to {min} minutes. You may restart the huddle if you\u2019d like.",{min:30}))}_(u,"HuddleTimeLimitReachedModal"),u.displayName="HuddleTimeLimitReachedModal";var f=e(3288846409),m=e(3037015781),h=e(8920264989),v=e(2350349607),p=e(6470070112),T=e(6839188756),A=e(8739505998),C=e(462591818),I=e(5363983309),D=e(9101533895),y=e(5881236351),P=e(5286203919),E=e(5332875232),M=e(9712681361),S=e(1670069836);const R=new i.Ay("huddles");function k(L){let{errorCode:b,isJoinError:F,closeModal:B}=L;var K;const H=(0,s.wA)(),Y=(K=(0,f.cw)(P.Qn))===null||K===void 0?void 0:K.channelId,Z=(0,l.d4)(E.TM),V=(0,l.d4)(Q=>(0,D.OL)(Q,Y)),ne=(0,l.d4)(Q=>(0,m.uz)(V)?(0,h.SB)(Q,V,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),q=(0,l.d4)(p.df),me=R.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{maxAmount:q}),ue=(0,t.useCallback)(()=>{H((0,y.RX)())},[H]),ae=(0,t.useCallback)(()=>{H((0,y.e$)())},[H]),le=(0,v.V)(V),fe=(0,l.d4)(S.H7),he=_(Q=>t.createElement(A.A,{target:"_blank",href:`${(0,T.Zl)(fe)}help/requests/new`},Q),"renderContactUsLink");if(!(0,l.d4)(p.pl)&&!Z)return null;if(b===M.M6.FreemiumMaxParticipants)return ue(),null;const X=(()=>{switch(b){case M.M6.MaxParticipants:return me;case M.M6.AudioJoinedFromAnotherDevice:return R.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.");case M.M6.ChimeMeetingEnded:return F?R.rt("The Huddle has ended."):le?R.rt("We ended the huddle since you were the only one there for a bit."):R.rt("We ended your huddle since you were the only one there for a bit.");case M.M6.PermissionDenied:return Z?R.rt("You are unable to join the Huddle as you do not have permission to join Huddles."):null;case C.uZ.CallEnded:return R.rt("The Huddle has ended.");case M.M6.DeviceLocked:return R.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,Q=>{let{text:G,tag:J}=Q;return J==="a"?t.createElement(A.A,{onClick:ae},G):null});case M.M6.FailedStartingRecording:case M.M6.FailedResumingRecording:return R.rt("We\u2019re not sure what went wrong, but try giving it another go in a few minutes.");case M.M6.FailedStartingRecordingUser:case M.M6.FailedResumingRecordingUser:return R.rt("It looks like not everyone on this huddle has access to this feature just yet.");case M.M6.FailedPausingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try deleting the notes, or <a>contact us</a> for support.",null,Q=>{let{text:G,tag:J}=Q;return J==="a"?he(G):null});case M.M6.FailedDeletingRecording:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try ending the huddle and deleting the canvas once it\u2019s ready, or <a>contact us</a> for support.",null,Q=>{let{text:G,tag:J}=Q;return J==="a"?he(G):null});case M.M6.GenericSomethingWentWrong:return R.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, <a>contact us</a> for support.",{},Q=>{let{text:G,tag:J}=Q;return J==="a"?he(G):null});default:return R.rt("You\u2019ll have to go back and give it another try.")}})(),j=(()=>F?R.t("Can\u2019t join the huddle"):b===M.M6.AudioJoinedFromAnotherDevice?R.t("You\u2019ve joined the huddle on a different device"):b===M.M6.ChimeMeetingEnded&&!F?le?R.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:ne}):R.t("You\u2019re no longer in a huddle"):b===M.M6.DeviceLocked?R.t("You\u2019re no longer in a huddle"):b===M.M6.FailedStartingRecording||b===M.M6.FailedStartingRecordingUser?R.rt("Couldn\u2019t start AI notes"):b===M.M6.FailedResumingRecording||b===M.M6.FailedResumingRecordingUser?R.rt("Couldn\u2019t resume AI notes"):b===M.M6.FailedPausingRecording?R.rt("Couldn\u2019t stop AI notes"):b===M.M6.FailedDeletingRecording?R.rt("Couldn\u2019t delete AI notes"):R.t("Something went wrong with your huddle"))(),w=(()=>b===M.M6.AudioInputStreamEnded||b===M.M6.MaxParticipants||b===M.M6.ChimeMeetingEnded&&!F?R.t("Got It"):R.t("OK"))();return t.createElement(c.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:B,onSubmit:B,showCancelButton:!1,showSubmitButton:!0,title:j,submitButtonText:w},X)}_(k,"HuddleErrorModal"),k.displayName="HuddleErrorModal";const O={HuddleErrorModal:k},U="huddle_error_modal";function W(L){switch(L.errorCode){case M.M6.ChimeMeetingEndedFromTimeLimit:return u(L);default:return k(L)}}_(W,"HuddleErrorModalManager");const x=(0,I.A)(W,{modalName:U,allowMultiple:!1,isStackable:!0})},5933621899:(N,g,e)=>{"use strict";e.d(g,{Wx:()=>b,YM:()=>O});var t=e(3134334389),s=e(6122756707),o=e(6818173548),n=e(7173172014),c=e(4902318931),i=e(1407713935),r=e(1273480023),a=e(6839188756),l=e(825587348),d=e(8668318456),u=e(6471059816),f=e(5363983309),m=e(9506008067),h=e(9101533895),v=e(2938177083),p=e(7003004874),T=e(6259241484),A=e(8871937520),C=e(8286248123),I=e(3810478625),D=e(7268021173),y=e(1670069836),P=e(1779488764),E=e.n(P);function M(){return M=Object.assign||function(F){for(var B=1;B<arguments.length;B++){var K=arguments[B];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(F[H]=K[H])}return F},M.apply(this,arguments)}_(M,"_extends");const S=new u.Ay("huddles"),R={elementName:"cancel",onClick:{enableClogAction:!0}},k={elementName:"start-huddle",onClick:{enableClogAction:!0}},O=_(F=>{let{channelId:B,channelType:K,channelMembersCount:H,isTeamOnTrial:Y,isFreeTeam:Z,trialExpirationTS:V,handleOnSubmit:ne,closeModal:q,UNSAFE_parentSelector:me,isCurrentTeamSponsoredInSlackConnectChannel:ue=!1}=F;const ae=(0,m.d4)(I.g),le=S.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),fe=t.createElement(o.A,{channelId:B});let he,ie;switch(Y&&!ue?ie=d.UiComponentVariant.TRIAL_TEAM:Z&&!ue?ie=d.UiComponentVariant.FREE_TEAM:ie=d.UiComponentVariant.PAID_TEAM,K){case i.Cu.mpim:{const X=_(()=>S.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:H}),"genericCopy");ae?he=X():Y?he=S.rt("Use this message as a jumping off point for a huddle with anyone in this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:(0,A.Pd)(V),fallbackHash:"2955534d96227983f0f85447fb8f3f044131c94f"}):Z?he=S.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."):he=X();break}case i.Cu.im:he=S.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:{const X=_(()=>S.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:H,channelName:fe}),"genericCopy");ae||ue?he=X():Y?he=S.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:fe,trialEndDate:(0,A.Pd)(V)}):Z?he=S.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:fe}):he=X()}}return t.createElement(n.A,{uiComponentName:d.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:d.EventId.CANVAS_EVENT,uiComponentVariant:ie},t.createElement(l.A,{onClose:q,"data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:S.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}),title:le,onSubmit:ne,submitAutoClogProps:k,onCancel:q,cancelAutoClogProps:R,headerImageSrc:E(),className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:S.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:me},t.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},he)))},"BaseHuddleInThreadSpeedBumpModalBase");O.displayName="BaseHuddleInThreadSpeedBumpModalBase";const U=_(F=>{let{channelId:B,onConfirm:K,closeModal:H}=F;const Y=(0,s.wA)(),Z=(0,m.d4)(he=>(0,h.OL)(he,B)),V=(0,i.mz)(Z),ne=(0,m.d4)(he=>(0,C.q8)(he,B)),q=(ne==null?void 0:ne.counts.member_count)||0,me=(0,a.tc)((0,m.d4)(y.H7)),ue=(0,m.d4)(D.iH),ae=(0,m.d4)(D.Sk),le=(0,m.d4)(he=>(0,r.u)(he,Z));(0,t.useEffect)(()=>(Y((0,p.A)({notificationName:T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:T.hw.IMPRESSION})),()=>{Y((0,v.Ay)({spaceName:T.xu.LAUNCH_MODAL,action:T.hw.DISMISS}))}),[Y]);const fe=(0,t.useCallback)(()=>{K(),H==null||H()},[H,K]);return t.createElement(O,{channelType:V,channelMembersCount:q,isFreeTeam:me,isTeamOnTrial:ue,trialExpirationTS:ae,handleOnSubmit:fe,channelId:B,onConfirm:K,closeModal:H,isCurrentTeamSponsoredInSlackConnectChannel:le})},"HuddleInThreadSpeedBumpModalBase");U.displayName="HuddleInThreadSpeedBumpModalBase";const W={spaceName:T.xu.LAUNCH_MODAL,notifications:{[T.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:U}}},x=_(F=>{let{channelId:B,onConfirm:K,closeModal:H}=F;return t.createElement(c.Ay,M({},W,{channelId:B,onConfirm:K,closeModal:H}))},"HuddleInThreadSpeedBumpModal");x.displayName="HuddleInThreadSpeedBumpModal";var L=null;const b=(0,f.A)(x)},7843142872:(N,g,e)=>{"use strict";e.d(g,{D7:()=>u,Lk:()=>h,Vp:()=>v,g6:()=>m});var t=e(3134334389),s=e(6122756707),o=e(2028988448),n=e(6304789565),c=e(9506008067),i=e(6533394955),r=e(2832209848),a=e(9719951405),l=e(5492559860);let d=1;const u=_((p,T)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:A=!1,component:C=r.G7.HuddleCallNudgesBanner}=T;if(!A||!(0,a.kI)(p,C,r.X8.Click)&&!(0,a.kI)(p,C,r.X8.Dismiss))return!1;var I;const D=(I=(0,a.ky)(p,C,r.X8.Click))!==null&&I!==void 0?I:0;var y;const P=(y=(0,a.ky)(p,C,r.X8.Dismiss))!==null&&y!==void 0?y:0;return!(D>=d||P>=d)},"shouldShowHuddleDiscoveryBanner"),f=_(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:p=!1,component:T=UiComponent.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:UiComponent.HuddleCallNudgesBanner};const A=useDispatch();useEffect(()=>{p&&A(loadUserInteractions({interactions:[{component:T,type:InteractionType.Click},{component:T,type:InteractionType.Dismiss}],useCache:!0,cacheFilter:hasLoadedInteraction,reason:"huddle-discovery-calls"}))},[A,p,T])},"useHuddleDiscoveryCallsUserInteractions"),m=(0,n.Ay)("Send interaction to dismiss nudge",(p,T,A)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:C,interactionType:I}=A;if(!C)return;const D=T();(0,a.ky)(D,r.G7.HuddleCallNudgesBanner,I)>d||p((0,l.z)({component:r.G7.HuddleCallNudgesBanner,type:I,reason:"huddle-discovery-calls"}))});m.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const h=_(p=>{let{component:T,type:A}=p;const C=(0,s.wA)();return(0,t.useEffect)(()=>{C((0,l.b)({interactions:[{component:T,type:A}],reason:T}))},[C,T,A]),(0,c.d4)(I=>(0,a.kI)(I,T,A)?(0,a.PU)(I,T):null)},"useTrialProBannerInteraction"),v=(0,n.Ay)("Record trial pro banner interaction",(p,T,A)=>{let{component:C,type:I}=A;return p((0,l.z)({component:C,type:I,reason:C}))});v.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},(0,o.ul)("huddleInteractionUtils",{addOneMoreThanClickCount:p=>{const T=(0,i.$D)(p);d=(0,a.ky)(T,r.G7.HuddleCallNudgesBanner,r.X8.Click)+1},addOneMoreThanDismissCount:p=>{const T=(0,i.$D)(p);d=(0,a.ky)(T,r.G7.HuddleCallNudgesBanner,r.X8.Dismiss)+1}})},8330768070:(N,g,e)=>{"use strict";e.d(g,{G$:()=>R,Oe:()=>W,Y6:()=>O});var t=e(3134334389),s=e(6122756707),o=e(6818173548),n=e(7173172014),c=e(3037015781),i=e(3929724715),r=e(1407713935),a=e(8798294025),l=e(8921478798),d=e(6496493732),u=e(3989454579),f=e(7138682671),m=e(8668318456),h=e(6471059816),v=e(8374895239),p=e(5363983309),T=e(9506008067),A=e(5795074931),C=e(9101533895),I=e(8286248123),D=e(2047021170),y=e(387484329);function P(){return P=Object.assign||function(x){for(var L=1;L<arguments.length;L++){var b=arguments[L];for(var F in b)Object.prototype.hasOwnProperty.call(b,F)&&(x[F]=b[F])}return x},P.apply(this,arguments)}_(P,"_extends");const E=new h.Ay("huddles"),M={elementName:"huddles_confirmation_dialog_ok",eventId:m.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},S={elementName:"huddles_confirmation_dialog_cancel",eventId:m.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},R=_(x=>{let{children:L,closeModal:b,onConfirm:F,uiComponentName:B,...K}=x;const H=(0,t.useCallback)(()=>{F(),b==null||b()},[b,F]);return t.createElement(n.A,{uiComponentName:B,eventId:m.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.createElement(d.A,P({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:b,onClose:b,onSubmit:H,submitButtonText:E.t("OK"),submitAutoClogProps:M,cancelAutoClogProps:S},K),L))},"HuddleJoinModal");R.displayName="HuddleJoinModal";const k=_(x=>{let{prevChannelId:L,nextChannelId:b,onConfirm:F,closeModal:B}=x;const K=(0,T.d4)(q=>(0,C.OL)(q,L)),H=(0,T.Z2)(q=>{if(!K)return[];let me=[];if((0,r.LI)(K))me=[(0,a.e)(K)];else if((0,r.yz)(K)){const ue=(0,i.Ug)(K);if(ue&&ue.length){const ae=(0,A.WR)(q);me=ue.filter(le=>le!==ae)}}return me.map(ue=>(0,l.I)(q,ue))}),Y=(0,T.d4)(q=>(0,C.OL)(q,b)),Z=(0,T.Z2)(q=>{if(!Y)return[];let me=[];if((0,r.LI)(Y))me=[(0,a.e)(Y)];else if((0,r.yz)(Y)){const ue=(0,i.Ug)(Y);if(ue&&ue.length){const ae=(0,A.WR)(q);me=ue.filter(le=>le!==ae)}}return me.map(ue=>(0,l.I)(q,ue))});let V=E.rt("You\u2019re already in a huddle.");H.length?V=E.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:(0,v.A)(H).join("")}):K&&(0,c.uz)(K)&&(V=E.rt("You\u2019re already in a huddle in {channel}.",{channel:t.createElement(o.A,{channel:K,channelId:L})}));let ne=E.rt("Would you like to leave it and join this one instead?");return Z.length?ne=E.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.createElement("strong",null,(0,v.A)(Z).join(""))}):Y&&(0,c.uz)(Y)&&(ne=E.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.createElement("strong",null,t.createElement(o.A,{channel:Y,channelId:b}))})),t.createElement(R,{uiComponentName:m.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:E.t("Switch to this huddle?"),onConfirm:F,closeModal:B},t.createElement("p",null,V," ",ne))},"HuddleSwitchModal");k.displayName="HuddleSwitchModal";const O=(0,p.A)(k),U=_(x=>{let{channelId:L,onConfirm:b,closeModal:F}=x;const B=(0,T.d4)(ue=>(0,C.OL)(ue,L)),K=(0,T.d4)(ue=>{const ae=(0,I.q8)(ue,L);return(ae==null?void 0:ae.counts.member_count)||0}),H=(0,T.d4)(ue=>(0,D.ty)(ue,"huddles_show_shouty_rooster")),[Y,Z]=(0,t.useState)(H),V=(0,s.wA)(),ne=B&&(0,c.uz)(B)&&t.createElement("strong",null,t.createElement(o.A,{channelId:L,channel:B})),q=K>1?E.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.createElement("strong",null,K),channel:ne}):E.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:ne}),me=(0,t.useCallback)(()=>{const ue=!Y;Z(ue),V((0,y.AZ)({pref:"huddles_show_shouty_rooster",value:ue}))},[Y,V]);return t.createElement(R,{uiComponentName:m.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:E.t("Start a huddle in this channel?"),onConfirm:b,closeModal:F},t.createElement("p",null,q),t.createElement(f.A,{text:E.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.createElement(u.A,{name:"ns",checked:!Y,onChange:me,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");U.displayName="HuddleShoutyRoosterModal";const W=(0,p.A)(U)},3143500799:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9506008067),c=e(2047021170),i=e(3677363342),r=e.n(i);const a=t.memo(f=>{let{className:m,iconClassName:h,allowMuteAnimation:v,wasMicEverEnabled:p,isMicStrikethroughRed:T}=f;return t.createElement("div",{className:o()("p-huddle_mic_icon p-huddle_mic_icon__container",m),"data-qa":"huddle_mic_icon_unmute"},t.createElement("svg",{className:h,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.createElement("path",{className:o()({"p-huddle_mic_icon__microphone--slash_animated":v&&p,"p-huddle_mic_icon__microphone--slash":T}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),l=t.memo(f=>{let{volumeLevel:m=0,className:h,iconClassName:v,allowUnmutedAnimation:p}=f;const[T,A]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(m!=="auto"){A(Math.min(1,m||0));return}const D=setInterval(()=>{const y=(Math.floor(Math.random()*100)+1)/100;A(y)},100);return()=>{clearInterval(D)}},[m]);const C=(0,n.d4)(D=>!(0,c.ty)(D,"a11y_animations")),I=(0,t.useMemo)(()=>p?C?t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3 8.9V11M5.8 6.1V13.8M8.6 4V16.6M11.4 7.5V12.4M14.2 5.4V14.5M17 8.9V11",stroke:"#178F65",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})):t.createElement("img",{className:"p-huddle_mic_icon__img",src:r(),alt:""}):t.createElement("svg",{className:v,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${T})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),[p,v,T,C]);return t.createElement("div",{className:o()("p-huddle_mic_icon p-huddle_mic_icon__container",h),"data-qa":"huddle_mic_icon_mute"},I)}),d=_(f=>{let{type:m,volumeLevel:h,className:v,iconClassName:p,allowMuteAnimation:T=!1,isMicStrikethroughRed:A=!1,allowUnmutedAnimation:C=!1}=f;const[I,D]=(0,t.useState)(m==="unmuted");return(0,t.useEffect)(()=>{m==="unmuted"&&D(!0)},[m]),m==="unmuted"?t.createElement(l,{className:v,iconClassName:p,volumeLevel:h,allowUnmutedAnimation:C}):t.createElement(a,{className:v,iconClassName:p,allowMuteAnimation:T,wasMicEverEnabled:I,isMicStrikethroughRed:A})},"HuddleMicIcon");d.displayName="HuddleMicIcon";const u=t.memo(d)},5043394918:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(7715417323),o=e(1337358413),n=e(3143500799),c=e(1829947126);function i(r){let{peerId:a,isMicrophoneEnabled:l,className:d,allowMuteIconAnimation:u=!1,isMicStrikethroughRed:f=!1}=r;const[m,h]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(!l)return s.A;const v=_(p=>{const T=(0,o.Ft)(p);h(T)},"onLevelUpdated");return c.A.subscribe(a,v),()=>{c.A.unsubscribe(a,v)}},[a,l]),t.createElement(n.A,{type:l?"unmuted":"muted",volumeLevel:m,className:d||"",allowMuteAnimation:u,isMicStrikethroughRed:f})}_(i,"HuddleMicVolumeIndicator")},438845125:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(506098956);function o(c){let{slackId:i,displayName:r}=c;return!i&&!r?null:i?t.createElement(s.A,{isBold:!1,id:i}):t.createElement("span",null,r)}_(o,"HuddleMsgTextUser"),o.displayName="HuddleMsgTextUser";const n=o},1051015021:(N,g,e)=>{"use strict";e.d(g,{V:()=>T});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6005700845),c=e(7914553163),i=e(6148716148),r=e(5431290584),a=e(7433432223),l=e(6471059816),d=e(6323355797),u=e(9506008067),f=e(9548972574),m=e(3810478625),h=e(7573583373),v=e.n(h);const p=new l.Ay("huddles");function T(A){let{showProBadge:C,className:I}=A;const D=(0,u.d4)(f.qr),y=(0,u.d4)(m.g),P=d.zG.Vhq,E=(0,c.Ay)({promoSubtype:P}),M=(0,t.useMemo)(()=>t.createElement(n.A,{useLink:!0,variant:E,promoSubtype:d.zG.Vhq,ctaClassName:v().cta}),[E]);return!D||!y||E!==c.MX.TrialEligible&&E!==c.MX.TrialIneligible&&E!==c.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement("div",{className:o()(v().container,I)},t.createElement(a.A,null,t.createElement("div",{className:v().alertBanner},C&&t.createElement(i.a,{featurePlan:"std",size:r.vj.Medium,className:v().proBadge}),t.createElement("span",null,p.t("On the free version of Slack, your huddles are limited to {min} minutes.",{min:30}),"\xA0",M))))}_(T,"HuddleTimeLimitUpgradeAlert"),T.displayName="HuddleTimeLimitUpgradeAlert"},4745917661:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(6471059816);const o=new s.Ay("huddles");function n(i){let{actionLabel:r,deviceLabel:a,audioOnlyModeEnabledWarning:l}=i;if(l){const d=o.t("Audio only mode will be disabled if you turn on your camera",{fallbackHash:"27892acc411157e52b1022f480b10c11e51b2350"});return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},d))}return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},r),a&&t.createElement("div",{className:"p-huddle_tooltip_device_label"},a))}_(n,"HuddlesToolTipDeviceContent"),n.displayName="HuddlesToolTipDeviceContent";const c=n},8320929653:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>X,e3:()=>le,lc:()=>fe});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(3150724727),i=e(6818173548),r=e(7173172014),a=e(3622858354),l=e(4233000497),d=e(6749400491),u=e(5519146941),f=e(3288846409),m=e(1149563359),h=e(3037015781),v=e(3929724715),p=e(1407713935),T=e(8798294025),A=e(6470070112),C=e(9373230523),I=e(3708320478),D=e(2527782504),y=e(2683115972),P=e(3165300465),E=e(8683010724),M=e(4275787242),S=e(8668318456),R=e(6471059816),k=e(8374895239),O=e(9012396182),U=e(1289024643),W=e(9506008067),x=e(5795074931),L=e(9101533895),b=e(6251210828),F=e(5286203919),B=e(5332875232),K=e(8746998952),H=e(9712681361),Y=e(4742719639),Z=e(3193155968),V=e(7429662208);function ne(){return ne=Object.assign||function(j){for(var w=1;w<arguments.length;w++){var Q=arguments[w];for(var G in Q)Object.prototype.hasOwnProperty.call(Q,G)&&(j[G]=Q[G])}return j},ne.apply(this,arguments)}_(ne,"_extends");const q=new R.Ay("huddles"),me={elementName:"huddles_invite_decline",eventId:S.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ue={elementName:"huddles_invite_joining_soon",eventId:S.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ae={elementName:"huddles_invite_join",eventId:S.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},le=_(j=>{let{topic:w,formattedTopic:Q,channel:G,channelName:J,otherMemberNamesString:te,imMemberName:se,experimentHuddlesLaterGroupOn:ce}=j;if(!ce)return t.createElement(t.Fragment,null);let Ee=w?q.rt("Join the scheduled huddle about {topic}",{topic:Q}):q.rt("Join the scheduled huddle");return(0,p.LI)(G)&&se?Ee=w?q.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:Q,imMemberName:se}):q.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:se}):(0,p.yz)(G)?Ee=w?q.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:Q,otherMemberNamesString:te}):q.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:te}):(0,h.uz)(G)&&!(0,p.LI)(G)&&(Ee=w?q.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:Q,channelName:J}):q.rt("Join the scheduled huddle in {channelName}",{channelName:J})),Ee},"getScheduledHuddleInviteCopy");function fe(j){let{channelId:w,senderUserId:Q,callId:G,teamId:J,isInviter:te}=j;const se=(0,s.wA)(),{activeTab:ce}=(0,t.useContext)(u.A),Ee=(0,W.d4)(B.MJ),de=(0,W.d4)(x.WR),re=(0,W.d4)(He=>(0,C.A)(He,Q)),_e=(0,W.d4)(He=>(0,L.OL)(He,w)),ve=(0,W.d4)(He=>{if(!_e||!Ee||!(0,p.LI)(_e))return;const Qe=(0,T.e)(_e);if(Qe)return(0,C.A)(He,Qe)}),ge=(0,W.Z2)(He=>(0,p.yz)(_e)?((0,v.Ug)(_e)||[]).filter(dt=>dt!==Q&&dt!==de).map(dt=>(0,C.A)(He,dt)).filter(dt=>dt):[]),Le=(0,f.cw)(F.vO),ke=(0,A.eu)(Le),Ne=(0,W.d4)(He=>(0,U.Ck)(He,G,de))==="joining_soon",Re=(0,W.d4)(He=>(0,U.H6)(He,G));var xe;const We=(xe=Re==null?void 0:Re.isScheduled)!==null&&xe!==void 0?xe:!1,$=(0,W.d4)(He=>{var Qe;return(Qe=(0,V.F8)(He,{tab:ce,container:Z.mq.Primary}))===null||Qe===void 0?void 0:Qe.id}),ee=(0,f.cw)(O.getFocusedWorkspace),Ve=w===$&&ee&&J&&ee===J,ze=(0,t.useCallback)(()=>{se((0,d.A)({callId:G,channelId:w,inviteResponse:d.J.DECLINE}))},[G,w,se]),[st,Ge]=(0,t.useState)(!1),[be,Se]=(0,t.useState)(!1),we=(0,t.useCallback)(()=>{_(async()=>{Se(!0),Ge(!1);const Qe=se((0,d.A)({callId:G,channelId:w,inviteResponse:d.J.JOINING_SOON}));if(Qe)try{await Qe}catch{Ge(!0)}finally{Se(!1)}else Se(!1)},"respondToInvite")()},[G,w,se]),Ce=(0,t.useCallback)(()=>{se((0,K.A)({channelId:w,callId:G,entryPoint:H.su.SIDEBAR_HUDDLE_INVITE}))},[w,G,se]),Te=(0,W.d4)(He=>w&&(0,Y.o)(He,w))||"",Ye=Te?t.createElement("span",{className:"p-huddle_invite__topic"},t.createElement(a.A,{text:Te})):null,De=t.createElement("span",{className:"p-huddle_invite__sender_name"},re);let Pe;if(We){const He=t.createElement(i.A,{channelId:w,boldIcon:!0});Pe=le({topic:Te,formattedTopic:Ye,channel:_e,channelName:He,experimentHuddlesLaterGroupOn:!0})}else if((0,p.LI)(_e))te?Pe=le({topic:Te,formattedTopic:Ye,channel:_e,imMemberName:ve,experimentHuddlesLaterGroupOn:Ee}):Pe=q.rt("Join huddle with {senderName}",{senderName:De});else if((0,p.yz)(_e)){const He=(0,k.A)(ge,{react:!0}).join("");if(te)Pe=le({topic:Te,formattedTopic:Ye,channel:_e,otherMemberNamesString:He,experimentHuddlesLaterGroupOn:Ee});else{const Qe=(0,k.A)([re].concat(ge),{react:!0}).join(""),dt=t.createElement("span",{className:"p-huddle_invite__all_member_names"},Qe);Pe=q.rt("Join huddle with {allMemberNames}",{allMemberNames:dt})}}else{const He=t.createElement(i.A,{channelId:w,boldIcon:!0});te?Pe=le({topic:Te,formattedTopic:Ye,channel:_e,channelName:He,experimentHuddlesLaterGroupOn:Ee}):Ve?Pe=q.rt("{senderName} is inviting you to a huddle in this channel",{senderName:De}):Pe=q.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:De,channelName:He})}return{avatarOverflowBadgeCount:(0,p.yz)(_e)?ge.length+1:0,didRespondingToInviteFail:st,formattedTopic:Ye,handleDecline:ze,handleJoiningSoon:we,handleJoin:Ce,inviteText:Pe,isCurrentUserJoiningSoon:Ne,isJoiningSoonResponsePending:be,isLoading:ke}}_(fe,"useHuddleInviteProps"),fe.displayName="useHuddleInviteProps";const he={name:"warning"},ie=_(j=>{let{channelId:w,senderUserId:Q,callId:G,teamId:J}=j;const te=(0,W.d4)(B.MJ),se=(0,W.d4)(x.WR),ce=te&&se===Q,Ee=(0,l.A)(w),{avatarOverflowBadgeCount:de,didRespondingToInviteFail:re,formattedTopic:_e,handleDecline:ve,handleJoiningSoon:ge,handleJoin:Le,inviteText:ke,isCurrentUserJoiningSoon:Ke,isJoiningSoonResponsePending:Ne,isLoading:Re}=fe({channelId:w,senderUserId:Q,callId:G,teamId:J,isInviter:ce}),xe=(0,t.useRef)(null),We=(0,t.useCallback)(()=>{var Ce;(Ce=xe.current)===null||Ce===void 0||Ce.focus()},[]);(0,m.A)(D.Ay.HUDDLE_INVITE_JOIN,We);const $="huddle-invite-text",ee=t.createElement(y.Ay,{type:"outline",className:"p-huddle_invite__button",onClick:ve,"data-qa":"huddle_invite_declined",disabled:Re,autoClogProps:me},t.createElement("span",{className:"p-huddle_invite__label"},q.t("Decline"))),Ve=t.createElement(P.A,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Ne,onClick:ge,disabled:Re,autoClogProps:ue,"aria-label":q.t("Be there soon")},t.createElement("span",{className:"p-huddle_invite__label"},q.t("Be there soon"))),[ze,st]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let Ce=0;return Ke&&(st(!0),Ce=window.setTimeout(()=>{st(!1)},6e3)),()=>{Ce&&clearTimeout(Ce)}},[Ke]);const Ge=ze?t.createElement("div",{className:"p-huddle_invite__header_notif"},t.createElement("div",{className:"p-huddle_invite__header_notif_content"},t.createElement(E.A,{name:"clock",size:"20"}),t.createElement("span",{className:"margin_left_50"},q.t("Join when you\u2019re ready!")))):null,be=t.createElement(P.A,{ref:xe,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:Re,onClick:Le,"data-qa":"huddle_invite_join",autoClogProps:ae,"aria-label":q.t("Join")},t.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},q.t("Join"))),Se=(0,W.d4)(b.jI),we=Se?{width:Se}:null;return t.createElement(r.A,ne({eventId:S.EventId.CANVAS_EVENT,uiComponentName:S.UiComponentName.HUDDLES_INVITE,clogImpression:!0},Ee),t.createElement("div",ne({className:n()("p-huddle_invite",{"p-huddle_invite--with_header":!!_e})},we&&{style:we}),t.createElement("div",{className:"p-huddle_invite__content"},Ge,_e&&t.createElement("div",{className:"p-huddle_invite__message_header"},_e),t.createElement("div",{className:"p-huddle_invite__message"},!ce&&t.createElement("div",{className:n()("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!de})},t.createElement(c.Ay,{key:Q,className:"p-huddle_invite__avatar",size:de?14:20,userId:Q,isInteractive:!1}),!!de&&t.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},de)),t.createElement(I.z,null,t.createElement("div",{className:"p-huddle_invite__text",id:$},ke,t.createElement("span",{className:"offscreen"},q.rt("Press {key} to join",{key:(0,A.$z)()}))))),t.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":$},be,!Ke&&Ve,ee)),re&&t.createElement(M.A,{svgIconProps:he},q.t("Something went wrong responding to the invite."))))},"HuddleInvite");ie.displayName="HuddleInvite";const X=ie},6749400491:(N,g,e)=>{"use strict";e.d(g,{A:()=>l,J:()=>r});var t=e(5170073955),s=e(6304789565),o=e(7384121809),n=e(4250409994),c=e(1070786785),i=e(5319025363),r;(function(d){d.ACCEPT="accept",d.DECLINE="decline",d.JOINING_SOON="joining_soon"})(r||(r={}));const a=(0,s.Ay)("Respond to an invitation to a huddle",(d,u,f)=>{let{channelId:m,inviteResponse:h,callId:v}=f;d((0,i.z)());let p;return h!==r.ACCEPT&&(p=d((0,t.Q)({response:h,channelId:m,roomId:v,reason:"respond-to-huddle-invite"}))),h===r.DECLINE&&((0,o.dispatchForClientStore)((0,n.u8)(m)),d((0,c.V3)(m))),p});a.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"};const l=a},4983989341:(N,g,e)=>{"use strict";e.d(g,{x:()=>r});var t=e(1545824888),s=e(6304789565),o=e(7631186994),n=e(1070786785),c=e(5613673538),i=e(9712681361);const r=(0,s.Ay)("Creates a new huddle in mpim where all huddle participants are channel members",(a,l,d)=>{let{channelId:u,memberIds:f}=d;return a((0,o.r)({memberIds:f})).then(m=>{a((0,n.Ay)(u)),a((0,c.A)({channelId:m.id,entryPoint:i.su.CREATE_NEW_MPIM}))}).catch(m=>t.S.reject(m))});r.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},5907086961:(N,g,e)=>{"use strict";e.d(g,{A:()=>U});var t=e(3134334389),s=e(6122756707),o=e(6818173548),n=e(5585462770),c=e(6690263587),i=e(3288846409),r=e(1612857492),a=e(9183417278),l=e(6471059816),d=e(8847766420),u=e(9506008067),f=e(9101533895),m=e(4761125736),h=e(5286203919);const v=new l.Ay("huddles"),p=_(W=>{let{numOfExternalMembers:x,members:L}=W;const b=(0,u.d4)(d.Kc),F=(0,i.cw)(h.hc)||"",B=(0,u.d4)(w=>(0,f.OL)(w,F)),K=(0,u.d4)(w=>(0,m._Z)(w,"invite_to_channel_permission")==="on"),H=(0,u.d4)(w=>(0,a.Q)(w,B)),Y=(0,u.d4)(w=>(0,r.q)(w,B)),Z=x===L.length,V=x>0,ne=!x,q=L.length-x>0,me=!(L.length-x),ue=v.rt("They can join the huddle, but since you are not allowed to invite external people to this channel, they won\u2019t be able to see messages or reply to the thread."),ae=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:b}),channelName:t.createElement(o.A,{className:"bold",channel:B})})),t.createElement("p",null,v.t("You don\u2019t have permission to add external people to this channel."))),le=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:b}),channelName:t.createElement(o.A,{className:"bold",channel:B})}))),fe=v.rt("They can join the huddle, but since you are not allowed to invite people from {org} to this channel, they won\u2019t be able to see messages or reply to the thread.",{org:t.createElement(c.A,{id:b})}),he=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:b}),channelName:t.createElement(o.A,{className:"bold",channel:B})})),t.createElement("p",null,v.t("You don\u2019t have permission to add internal people to this channel."))),ie=t.createElement(t.Fragment,null,t.createElement("p",null,v.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,v.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(c.A,{id:b}),channelName:t.createElement(o.A,{className:"bold",channel:B})}))),X=v.rt("They can join the huddle, but since you are not allowed to invite people to this channel, they won\u2019t be able to see messages or reply to the thread."),j=v.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:t.createElement(o.A,{className:"bold",channel:B})});switch(!0){case(!K&&!Y&&Z):return ue;case(!K&&!Y&&V):return ae;case(!K&&!Y&&ne):return le;case(!K&&Y):return j;case(K&&H&&!Y&&Z):return ue;case(K&&H&&!Y&&V):return ae;case(K&&H&&!Y&&ne):return le;case(K&&!H&&Y&&ne):return fe;case(K&&!H&&Y&&q):return he;case(K&&!H&&Y&&me):return ie;case(K&&!H&&!Y):return X;default:return j}},"DisallowedHuddleInviteSubtitle");p.displayName="DisallowedHuddleInviteSubtitle";const T=p;var A=e(4446301238),C=e(7868634217),I=e(4061200313),D=e(581167618),y=e(6084388622),P=e(980293773),E=e(5363983309),M=e(2527994834),S=e(9003400431);const R=new l.Ay("huddles");function k(W){let{members:x}=W;const L=(0,s.wA)(),[b,F]=(0,t.useState)(null),[B,K]=(0,t.useState)([]),[H,Y]=(0,t.useState)(!1),Z=(0,i.cw)(h.hc)||"",V=(0,u.d4)(de=>(0,f.OL)(de,Z)),ne=(0,t.useCallback)(()=>L((0,S.O)()),[L]),q=(0,t.useCallback)(()=>L((0,S.O)({closeAll:!0})),[L]),me=(0,t.useCallback)(de=>{F(de),L((0,A.Cw)({channelId:Z,users:de})).then(()=>{B.push(de),K(B),F(null)}).catch(()=>{F(null),Y(!0)})},[Z,L,B]),ue=(0,u.d4)(de=>(0,m._Z)(de,"invite_to_channel_permission")==="on"),ae=(0,u.d4)(de=>(0,m._Z)(de,"shared_channel_invite_requested_event_ga")==="on"),le=(0,u.d4)(de=>(0,M.Q)(de,"shared_channel_invite_requested",V.id)&&ae),fe=(0,u.d4)(de=>(0,C.Z)(de,x)),he=(0,t.useMemo)(()=>({addedToChannel:R.t("Added to channel"),notInChannel:R.t("Not in channel"),inviteRequestPending:ae?R.t("Invitation request pending approval"):"",added:R.t("Added"),pending:ae?R.t("Pending"):"",inviteToChannel:R.t("Invite to channel"),cantBeInvitedToChannel:R.t("Can\u2019t be invited to channel")}),[ae]),ie=(0,u.d4)(de=>(0,a.Q)(de,V)),X=(0,u.d4)(de=>(0,r.q)(de,V)),j=(0,u.Z2)(de=>x.filter(re=>(0,I.i)(de,re))),w=j.length,Q=!ue&&!X,G=ue&&ie&&!X,J=w===x.length,te=!w,se=(0,t.useMemo)(()=>R.rt("{count, plural, =1 {This person is not a member} other {These people are not members}} of {channelName}",{count:x.length,channelName:t.createElement(o.A,{channel:V})}),[V,x]),ce=(0,t.useCallback)(de=>de&&le?he.inviteRequestPending:de?he.addedToChannel:he.notInChannel,[le,he.addedToChannel,he.inviteRequestPending,he.notInChannel]),Ee=(0,t.useCallback)((de,re)=>{let _e;switch(re&&le?_e=he.pending:_e=re?he.added:he.inviteToChannel,!0){case((Q||G)&&J):return null;case((Q||G)&&j.includes(de)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},he.cantBeInvitedToChannel);case(ue&&!ie&&X&&te):return null;case(ue&&!ie&&X&&!j.includes(de)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},he.cantBeInvitedToChannel);case(ue&&!ie&&!X):return null;default:return t.createElement(y.lV,{type:"outline",size:"small",disabled:re,loading:b===de,onClick:()=>me(de),"aria-label":_e},_e)}},[le,he.pending,he.added,he.inviteToChannel,he.cantBeInvitedToChannel,Q,G,J,j,ue,ie,X,te,b,me]);return t.createElement(P.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:ne,contentLabel:se,shouldReturnFocusAfterClose:!0},t.createElement(P.rQ,null,t.createElement(P.Rc,{title:se}),t.createElement("div",{className:"p-huddle_invite_add_to_channel__subtitle"},t.createElement(T,{numOfExternalMembers:w,members:x}))),t.createElement(P.$m,null,t.createElement(P.qf,null,H&&t.createElement(D.Ay,{className:"margin_bottom_150",level:D.A_.error,type:D.QE.inline},R.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"})),fe.map(de=>{const re=B.includes(de);return t.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:de},t.createElement(n.Ay,{id:de,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:t.createElement("small",{className:"sk_dark_gray"},ce(re))}),Ee(de,re))}))),t.createElement(P.jl,null,t.createElement(P.ox,null,t.createElement(y.Ay,{onClick:q,type:"primary"},ue&&!ie||!X?R.t("OK"):R.t("Done")))))}_(k,"HuddleInviteAddToChannel"),k.displayName="HuddleInviteAddToChannel";const O={HuddleInviteAddToChannel:k},U=(0,E.A)(k,{isStackable:!0})},5911067953:(N,g,e)=>{"use strict";e.d(g,{A:()=>Te});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(235108050),i=e(3150724727),r=e(6818173548),a=e(506098956),l=e(7173172014),d=e(1743656885),u=e(8808892924),f=e(1051015021),m=e(5907086961),h=e(6011052675),v=e(5142752606),p=e(3534324375),T=e(581167618),A=e(6471059816),C=e(9506008067),I=e(5332875232),D=e(8276911661);const y=new A.Ay("huddles"),P=t.memo(Ye=>{let{error:De}=Ye;const Pe=(0,C.d4)(dt=>(0,D.nv)(dt,De.invitedMemberId)),ye=(0,C.d4)(dt=>(0,p.sE)(dt,Pe));if(!(0,C.d4)(I.TM))return null;let Qe=y.t("{userName} could not be invited to the Huddle.",{userName:ye});return De.inviteRejectionReason===v.g.RecipientHuddlesDisabled&&(Qe=y.t("{userName} could not be invited as Huddles is not enabled for them.",{userName:ye})),t.createElement(T.Ay,{level:"error"},Qe)});var E=e(9236164662),M=e(7396657731),S=e(9645800439),R=e(4031325387),k=e(2823938397);function O(Ye){let{memberId:De}=Ye;const Pe=(0,C.d4)(He=>(0,D.nv)(He,De)),ye=(0,C.d4)(He=>(0,p.sE)(He,Pe,!1,!1));return(0,k.mX)(Pe)?t.createElement(R.A,{type:"unknown"}):(0,k.lv)(Pe)?t.createElement(R.A,{type:"non-existent"}):t.createElement("span",null,ye)}_(O,"DeprecatedHuddleName"),O.displayName="DeprecatedHuddleName";var U=e(3288846409),W=e(8181621268),x=e(8374895239),L=e(9101533895),b=e(5286203919);const F=new A.Ay("huddles");function B(Ye){let{unknownMemberIds:De}=Ye;const Pe=(0,U.cw)(b.hc),ye=(0,C.d4)(dt=>(0,L.OL)(dt,Pe)),He=(0,t.useMemo)(()=>Pe?De:[],[Pe,De]);let Qe;if(He.length===1)Qe=F.rt("{name1} is not a member of {channel}.",{name1:t.createElement(O,{memberId:He[0]}),channel:t.createElement(r.A,{channel:ye})});else if(He.length===2)Qe=F.rt("{name1} and {name2} are not a member of {channel}.",{name1:t.createElement(O,{memberId:He[0]}),name2:t.createElement(O,{memberId:He[1]}),channel:t.createElement(r.A,{channel:ye})});else if(He.length===3)Qe=F.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:t.createElement(O,{memberId:He[0]}),name2:t.createElement(O,{memberId:He[1]}),name3:t.createElement(O,{memberId:He[2]}),channel:t.createElement(r.A,{channel:ye})});else if(He.length>3){const[dt,Ot,yt,...Dt]=He,Ct=Dt.map(kt=>t.createElement(O,{key:kt,memberId:kt}));Qe=F.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:t.createElement(O,{memberId:dt}),name2:t.createElement(O,{memberId:Ot}),name3:t.createElement(O,{memberId:yt}),channel:t.createElement(r.A,{channel:ye}),numOthers:He.length-3},kt=>{let{text:vt}=kt;return t.createElement(W.Ay,{tip:(0,x.A)(Ct,{noEscape:!0})},t.createElement("span",null,vt))})}return t.createElement("small",null,Qe)}_(B,"HuddleInviteNotAMember"),B.displayName="HuddleInviteNotAMember";const K=B;var H=e(3109955471),Y=e(8099711795),Z=e(5506656361),V=e(6007206761),ne=e(8170643398),q=e(4562579337),me=e(2293211408),ue=e(7889060196),ae=e(151122307),le=e(8040098042),fe=e(181849556),he=e(5795074931);const ie=10,X=new A.Ay("huddles");var j;(function(Ye){Ye.CHANNEL="channel",Ye.PEOPLE="people"})(j||(j={}));const w=_(Ye=>{let{isFreeTeam:De,onSuggestedChannelSelected:Pe,onSuggestedUserSelected:ye,selectedChannelId:He,selectedMemberIds:Qe}=Ye;const dt=(0,C.d4)(he.WR),Ot=(0,C.wz)(fe.b5),yt=(0,C.wz)(rn=>(0,fe.Fl)(rn,ie)),Dt=(0,C.wz)(rn=>{if(!Ot)return[];if(Qe.length)return[];const nn=[];return Ot.forEach(at=>{if(at.id===He)return;const tt=(0,L.OL)(rn,at.id);(0,V.F)(tt)||nn.push(at)}),nn}),Ct=(0,t.useMemo)(()=>Dt.map(rn=>rn.id),[Dt]),kt=(0,C.wz)(rn=>{if(!yt)return[];if(He)return[];const nn=[],at=new Set;return yt.forEach(tt=>{if(tt.id===dt||Qe.includes(tt.id)||at.has(tt.id))return;at.add(tt.id);const ft=(0,D.nv)(rn,tt.id);(0,q.A)(ft)||(0,ne.oy)(ft)||nn.push(tt)}),nn}),vt=(0,t.useMemo)(()=>kt.map(rn=>rn.id),[kt]),Nt=(0,t.useMemo)(()=>{const at=vt.length*60,tt=32,ft=Ct.length*tt;return Math.min(Math.max(at,ft),240)},[Ct,vt]),It=(0,t.useCallback)(rn=>{if(!rn.id)return;(0,le.A)(rn.id)?Pe(rn.id):ye(rn.id)},[Pe,ye]),At=(0,t.useCallback)(rn=>{const nn=Dt[rn];if(nn)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement(Y.A,{channelId:nn.id}))},[Dt]),Zt=(0,t.useCallback)(()=>t.createElement(ae.A,{disableHeight:!0},rn=>{let{width:nn}=rn;return t.createElement(ue.A,{"aria-label":X.t("Channel"),keys:Ct,rowRenderer:At,onItemClick:It,width:nn,height:Nt})}),[It,At,Ct,Nt]),jt=(0,t.useCallback)(rn=>{const nn=kt[rn];if(nn)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement(Z.A,{id:nn.id}))},[kt]),Ht=(0,t.useCallback)(()=>t.createElement(ae.A,{disableHeight:!0},rn=>{let{width:nn}=rn;return t.createElement(ue.A,{"aria-label":X.t("People"),keys:vt,rowRenderer:jt,onItemClick:It,width:nn,height:Nt})}),[It,jt,vt,Nt]),[Pt,Ft]=(0,t.useState)(j.PEOPLE),En=(0,t.useCallback)(rn=>{Ft(rn)},[]);(0,t.useEffect)(()=>{Pt===j.PEOPLE&&He?Ft(j.CHANNEL):Pt===j.CHANNEL&&Qe.length&&Ft(j.PEOPLE)},[Pt,He,Qe]);const Rt=(0,t.useMemo)(()=>{const rn=[];return vt.length&&rn.push({title:X.t("People"),id:j.PEOPLE,content:Ht()}),Ct.length&&rn.push({title:X.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:j.CHANNEL,content:Zt()}),rn},[Ct,vt,Zt,Ht]);return De?null:t.createElement("div",{className:"p-huddle_start_suggestion_tabs"},t.createElement(me.A,{fullHeight:!0,tabs:Rt,currentTabId:Pt,onTabChange:En,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");w.displayName="HuddleStartSuggestionTabs";const Q=t.memo(w);var G=e(9953252450),J=e(952756744),te=e(7937864072),se=e(1407713935),ce=e(6470070112),Ee=e(6839188756),de=e(6084388622),re=e(980293773),_e=e(8668318456),ve=e(7582939986),ge=e(9392104102),Le=e(7631186994),ke=e(9548972574),Ke=e(666760496),Ne=e(8746998952),Re=e(9712681361),xe=e(716227588),We=e(6259241484),$=e(1794107122),ee=e(3730613858),Ve=e(7268021173),ze=e(7169590072),st=e(1670069836);function Ge(){return Ge=Object.assign||function(Ye){for(var De=1;De<arguments.length;De++){var Pe=arguments[De];for(var ye in Pe)Object.prototype.hasOwnProperty.call(Pe,ye)&&(Ye[ye]=Pe[ye])}return Ye},Ge.apply(this,arguments)}_(Ge,"_extends");var be;(function(Ye){Ye.COMPOSER="composer",Ye.PUBLIC_CHANNEL="public_channel",Ye.PRIVATE_CHANNEL="private_channel"})(be||(be={}));function Se(Ye){let{channel:De}=Ye;return De?De&&(0,se.Zp)(De)?be.PRIVATE_CHANNEL:be.PUBLIC_CHANNEL:be.COMPOSER}_(Se,"getModalContext");const we=new A.Ay("huddles");function Ce(Ye){let{closeModal:De,callId:Pe,channel:ye,channelSuggestion:He,memberSuggestionId:Qe,selectedMemberIds:dt=ge.Ml}=Ye;const Ot=(0,s.wA)(),yt=(0,te.A)(),Dt=Se({channel:ye}),Ct=Dt===be.PRIVATE_CHANNEL&&!(0,se.cb)(ye),kt=Dt===be.COMPOSER,[vt,Nt]=(0,t.useState)(dt),[It,At]=(0,t.useState)(),[Zt,jt]=(0,t.useState)(!1),[Ht,Pt]=(0,t.useState)(!1),Ft=(0,C.d4)(I.TM),[En,Rt]=(0,t.useState)(void 0),rn=(0,C.d4)(he.WR),nn=(0,C.d4)(st.H7),at=(0,Ee.tc)(nn),tt=(0,C.d4)(Ve.iH),ft=(0,C.d4)(Rn=>(0,$.$)(Rn,(ye==null?void 0:ye.id)||"")),wt=(0,C.d4)(I.Si),Jt=(0,C.d4)(ke.qr),sn=(0,C.d4)(ze.$J),Me=!!(0,C.d4)(Rn=>(0,xe.Hp)(Rn,We.xu.HUDDLE_INVITE_MODAL)),Be=(0,C.Z2)(Rn=>(0,ke.ft)(Rn,ye==null?void 0:ye.id).filter(Wn=>Wn.id!==rn).map(Wn=>Wn.id)),nt=(0,C.d4)(ce.pl),Lt=(0,C.Z2)(Rn=>Ct?vt.filter(Wn=>{const es=ye&&(0,ee.Sv)(Rn,ye.id,Wn);return es&&es.isKnown&&!(es!=null&&es.isMember)}):[]);(0,t.useEffect)(()=>{He&&At({id:He.id,isCurrentSuggestedChannel:!0})},[He]),(0,t.useEffect)(()=>{Qe&&Nt([Qe])},[Qe]);const Bt=(0,t.useCallback)(Rn=>Nt(Rn),[]),Yt=(0,t.useCallback)(Rn=>{if(Rn===(It==null?void 0:It.id)&&(It!=null&&It.isCurrentSuggestedChannel)){At({id:Rn,isCurrentSuggestedChannel:!0});return}At({id:Rn,isCurrentSuggestedChannel:!1})},[It==null?void 0:It.id,It==null?void 0:It.isCurrentSuggestedChannel]),on=(0,t.useCallback)(Rn=>{Nt(vt.concat(Rn))},[vt]),An=(0,t.useCallback)(()=>{At({id:ye==null?void 0:ye.id,isCurrentSuggestedChannel:!0})},[ye==null?void 0:ye.id]),Sn=(0,t.useCallback)(()=>{It!=null&&It.id&&(Ot((0,Ne.A)({channelId:It.id,entryPoint:Re.su.COMPOSER_HUDDLE_START})),De())},[It,Ot,De]),In=(0,t.useCallback)(async()=>{jt(!0),await Ot((0,Le.r)({memberIds:vt})).then(Rn=>{Ot((0,Ne.A)({channelId:Rn.id,entryPoint:Re.su.COMPOSER_HUDDLE_START})),De(),jt(!1),Pt(!1)}).catch(Rn=>{yt.error(Rn),jt(!1);const{message:Wn}=Rn;(Wn==null?void 0:Wn.indexOf(ve.O3.INVALID_USER_COMBINATION))!==-1&&Pt(!0)})},[vt,Ot,yt,De]),Pn=(0,t.useCallback)(async()=>{if(!ye)return;jt(!0);let Rn=vt;(It==null?void 0:It.id)===ye.id&&(It!=null&&It.isCurrentSuggestedChannel)&&(Rn=(0,c.A)([...vt,...ft])),await Ot((0,Ke.A)({channelId:ye.id,userIds:Rn})).then(()=>{jt(!1),Lt&&Lt.length>0&&Ct?Ot((0,m.A)({members:Lt})):De()}).catch(Wn=>{yt.error(Wn),jt(!1),Ft&&Rt(Wn)})},[ye,ft,De,Ot,Ft,Ct,yt,It==null?void 0:It.id,It==null?void 0:It.isCurrentSuggestedChannel,vt,Lt]),bn=(0,t.useMemo)(()=>Dt===be.COMPOSER?It!=null&&It.id?Sn:In:Pn,[Pn,In,Dt,It,Sn]),wn={[be.COMPOSER]:{eventId:_e.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:_e.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[be.PUBLIC_CHANNEL]:{eventId:_e.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[be.PRIVATE_CHANNEL]:{eventId:_e.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},qn=_(()=>Me?null:at&&!wt&&!Jt?t.createElement(M.A,null):tt?t.createElement(G.A,{v2ClassName:n()({"p-huddle_invite_modal_banner":sn})}):null,"maybeRenderBanner");qn.displayName="maybeRenderBanner";const kn=wn[Dt],Dn=(0,t.useMemo)(()=>kt?we.t("Start a Huddle"):vt.length>1?we.t("Send Invites"):we.t("Send Invite"),[kt,vt]);if(!nt)return null;const Un=we.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),Hn=_(Rn=>t.createElement(d.A,{articleId:4402059015315,ariaLabel:we.t("Learn more about Huddles"),forceOpenInBrowser:!0},Rn),"renderLearnMoreLink");let jn,Jn,ln,ss;const vs=_(Rn=>{const Wn=Rn.map(es=>t.createElement(a.A,{key:es,isBold:!1,id:es}));return Wn&&(0,x.A)(Wn)},"listifiedOverflowMembers");if(vs.displayName="listifiedOverflowMembers",at&&wt&&!Jt)Jn=we.t("Invite someone to your huddle"),jn=Ct?we.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:t.createElement(r.A,{channel:ye}),"<a>":Rn=>{let{text:Wn}=Rn;return Hn(Wn)}}):we.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":Rn=>{let{text:Wn}=Rn;return Hn(Wn)}});else if(kt?(Jn=we.t("Start a Huddle"),ln=sn?we.t("You can invite whomever you\u2019d like to the huddle, they\u2019ll receive a notification in Slack to join."):we.t("Find a person or channel to huddle with")):(Jn=we.t("Invite people to your huddle"),ln=Ct?Un:we.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),ye!=null&&ye.id&&Be.length){const Rn=we.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:Be.length-1,firstParticipant:t.createElement(a.A,{isBold:!0,id:Be[0]}),secondParticipant:t.createElement(a.A,{isBold:!0,id:Be[1]}),"<a>":Wn=>{let{text:es}=Wn;return t.createElement(W.Ay,{zIndex:"above_fs",tip:vs(Be.slice(2))},t.createElement("span",null,es))}});ss=t.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},t.createElement(u.i,{channelId:ye.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:i.RG.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),t.createElement("div",null,Rn))}const ls=Ft&&En!==void 0,Zn="huddle-invite-description";return t.createElement(re.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:De,contentLabel:Jn,describedby:Zn,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},t.createElement(re.rQ,null,t.createElement(re.Rc,{title:Jn,subtitle:ln})),t.createElement(re.$m,null,t.createElement(re.qf,null,ss,jn&&t.createElement("p",{id:Zn},jn),t.createElement(S.A,{isFreeTeam:at&&!Jt,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:wt,channel:ye,otherMembersInHuddle:Be,onSelectedMembersChange:Bt,onSelectedChannelChange:Yt,selectedMemberIds:vt,selectedChannel:It}),Ct&&Lt&&Lt.length>0&&t.createElement(K,{unknownMemberIds:Lt}),Ht&&t.createElement(T.Ay,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},we.t("All external people must already be in at least one channel together to send this invitation.")),ls&&t.createElement(P,{error:En}),t.createElement(J.s,null)),qn(),Jt&&at&&!Me&&t.createElement(f.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),Pe&&t.createElement(H.A,{activeHuddleCallId:Pe,channel:ye,isFreeTeam:at&&!Jt,onSuggestedUserSelected:on,otherMembersInHuddle:Be,selectedMemberIds:vt,onChannelSelected:An,channelSuggestionOptionSelected:It==null?void 0:It.isCurrentSuggestedChannel}),!Pe&&t.createElement(Q,{isFreeTeam:at&&!Jt,onSuggestedChannelSelected:Yt,onSuggestedUserSelected:on,selectedChannelId:It==null?void 0:It.id,selectedMemberIds:vt})),t.createElement(re.jl,null,t.createElement(re.ox,{className:"p-huddle_invite_channel_or_start_footer_actions"},t.createElement(h.A,{channelId:ye==null?void 0:ye.id}),t.createElement(re.s_,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close","aria-label":we.t("Cancel")},we.t("Cancel")),t.createElement(l.A,Ge({},kn,{clogImpression:!0}),t.createElement(de.lV,{"data-qa":"send_invite_button",loading:Zt,onClick:bn,type:"primary",disabled:!vt.length&&!(It!=null&&It.id),"aria-label":Dn},Dn)))),wt&&at&&!Jt&&!Me&&t.createElement(E.A,{selectedMemberIds:vt}))}_(Ce,"HuddleInviteChannelOrStart"),Ce.displayName="HuddleInviteChannelOrStart";const Te=Ce},6011052675:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(6122756707),o=e(6084388622),n=e(6471059816),c=e(5904726069);const i=new n.Ay("huddles"),r=_(l=>{let{channelId:d}=l;const u=(0,s.wA)(),f=(0,t.useCallback)(()=>{u((0,c.r)({channelId:d}))},[u,d]);return d?t.createElement(o.Ay,{onClick:f,type:"outline",className:"p-huddle_invite_link_button__copy_link"},i.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");r.displayName="HuddleInviteLinkButton";const a=r},9236164662:(N,g,e)=>{"use strict";e.d(g,{A:()=>M});var t=e(3134334389),s=e(6122756707),o=e(7173172014),n=e(1267040415),c=e(4220141877),i=e(5641442783),r=e(3994181705),a=e(8739505998),l=e(8112788848),d=e(9432515904),u=e(8668318456),f=e(9392104102),m=e(6471059816),h=e(6323355797),v=e(9506008067),p=e(5881236351),T=e(5332875232),A=e(7268021173),C=e(1384076438),I=e(2607644860);const D=new m.Ay("trials_highlight_paid_features"),y={onClick:{enableClogAction:!0},elementName:"start_trial"},P={elementName:"upgrade_link",onClick:{enableClogAction:!0}},E=_(S=>{let{selectedMemberIds:R=f.Ml}=S;const k=(0,s.wA)(),O=h.ZO.PaidFeatureTrial,U=h.zG.Vhq,W=(0,v.d4)(K=>(0,A.hq)(K,O,U)),x=(0,v.d4)(K=>(0,A.bp)(K,O,U)),L=(0,v.d4)(T.Si),b=(0,t.useCallback)(()=>{k((0,p.Ov)(R))},[k,R]),F=(0,t.useCallback)(()=>{k((0,c.A)({uiComponentVariant:u.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:b}))},[k,b]);if((0,t.useEffect)(()=>{k((0,C.A)({campaignType:O,campaignSubType:U,reason:"huddle_invite_modal",context:I.y.huddleInviteModal}))},[k,O,U]),!L||x)return null;const B=W?D.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":K=>{let{text:H}=K;return t.createElement(a.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:F,autoClogProps:y},H)}}):D.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":K=>{let{text:H}=K;return t.createElement(n.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:P,useLink:!0},H)}});return t.createElement(o.A,{eventId:u.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:u.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},t.createElement(i.A,{variant:r.G.HuddlesFreemiumDeprecated,promoType:O,promoSubtype:U,uiComponentVariant:u.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:l.m.AboveFullScreen,toolTipPosition:d.yX.Bottom}),t.createElement("span",{className:"margin_left_50"},B)))},"HuddleInviteModalFooterBanner");E.displayName="HuddleInviteModalFooterBanner";const M=E},7396657731:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(7173172014),o=e(1743656885),n=e(5712872315),c=e(3328083357),i=e(8668318456),r=e(6471059816);const a=new r.Ay("trials_highlight_paid_features"),l=_(f=>{let{text:m}=f;return t.createElement(o.A,{articleId:4402059015315,ariaLabel:a.t("Learn more about Huddles")},m)},"AlertBannerHelpLink"),u=_(()=>t.createElement(s.A,{eventId:i.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:i.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(c.A,{theme:n.B.NONE,"data-qa":"huddle_invite_modal_free_banner"},a.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":l})))),"HuddleInviteModalFreeBanner")},9645800439:(N,g,e)=>{"use strict";e.d(g,{A:()=>P});var t=e(3134334389),s=e(8099711795),o=e(5727180841),n=e(3227396439),c=e(97626932),i=e(1407713935),r=e(6471059816),a=e(8040098042),l=e(4327331459),d=e(1289024643),u=e(9506008067),f=e(3730613858);const m=new r.Ay("huddles");var h;(function(E){E.CHANNEL="channel",E.MEMBER="member"})(h||(h={}));function v(E){let{id:M,entity:S,channel:R,huddleId:k}=E,O;(0,a.A)(M)?O=h.CHANNEL:(0,l.A)(M)&&(O=h.MEMBER);const U=(0,u.d4)(K=>R&&(0,f.Sv)(K,R.id,M)),W=U&&U.isKnown&&(U==null?void 0:U.isMember),x=R&&(0,i.JM)(R),L=(0,u.d4)(K=>(0,d.Ck)(K,k,M)),b=!!L&&L==="joining_soon";let F=null;if(L?F=b?m.t("Joining soon"):m.t("Invited"):R&&x&&!W?F=m.t("Not in conversation"):R&&!x&&!W&&(F=m.t("Not in channel")),!O)return null;let B;return O===h.CHANNEL?B=t.createElement(s.A,{channelId:M,channel:S}):O===h.MEMBER&&(B=t.createElement(o.A,{id:M,member:S,showPresence:!0,secondaryContent:F})),t.createElement("div",{className:"display_flex"},B)}_(v,"HuddleInviteMultiSelectRenderOption"),v.displayName="HuddleInviteMultiSelectRenderOption";const p=(0,t.memo)(v);var T=e(3288846409),A=e(9392104102),C=e(5286203919);function I(){return I=Object.assign||function(E){for(var M=1;M<arguments.length;M++){var S=arguments[M];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(E[R]=S[R])}return E},I.apply(this,arguments)}_(I,"_extends");const D=new r.Ay("huddles"),y=_(E=>{let{isFreeTeam:M,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:S,channel:R,otherMembersInHuddle:k,onSelectedMembersChange:O,onSelectedChannelChange:U,selectedMemberIds:W=A.Ml,selectedChannel:x}=E;const L=(0,T.cw)(C.E9),b=(0,t.useMemo)(()=>U&&!R&&!M&&!(W!=null&&W.length),[R,M,U,W]),F=(0,t.useMemo)(()=>x!=null&&x.id&&x.isCurrentSuggestedChannel?!0:!(x!=null&&x.id),[x]),B=(0,t.useMemo)(()=>({entities:{...b&&{channels:{canPost:!0,includeArchived:!1}},...F&&{members:{includeSelf:!1,includeSlackbot:!1,includeSecurityBot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:R},allowEmptyQuery:!0,filter:q=>!k.includes(q.id)}),[b,F,R,k]),K=(0,t.useCallback)(q=>{U&&(0,a.A)(q.value)?U(q.value):O([q.value])},[U,O]),H=(0,t.useCallback)(q=>{const me=[];let ue;q.forEach(ae=>{(0,a.A)(ae.value)?(!ue||ae.value!==(x==null?void 0:x.id))&&(ue=ae.value):me.push(ae.value)}),U==null||U(ue),O(me)},[U,O,x]),Y=(0,t.useCallback)(q=>{let{value:me,entity:ue}=q;return t.createElement(p,{channel:R,id:me,entity:ue,huddleId:L})},[R,L]),Z=(0,t.useCallback)(q=>{let{value:me}=q;return(0,a.A)(me)?t.createElement(s.A,{channelId:me}):t.createElement(o.A,{id:me,showAvatar:!0})},[]),V=(0,t.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:B,renderOption:Y,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:M,focusOnMount:!0}),[B,Y,M]),ne=(0,t.useMemo)(()=>{const q=W.map(me=>({value:me}));return x!=null&&x.id&&q.push({value:x.id}),q},[x,W]);return M&&S?t.createElement(c.u,I({},V,{onOptionSelected:K,placeholderText:D.t("Find someone to invite\u2026"),renderSelectedOption:Z,selectedOption:ne[0]})):t.createElement(n.h,I({},V,{onSelectedItemsChange:H,selectedOptions:ne,placeholderText:D.t("Search by name")}))},"HuddleInviteModalSelect");y.displayName="HuddleInviteModalSelect";const P=y},605594140:(N,g,e)=>{"use strict";e.d(g,{A:()=>se});var t=e(3134334389),s=e(7715417323),o=e(5911067953),n=e(6122756707),c=e(4075246222),i=e(506098956),r=e(7173172014),a=e(1743656885),l=e(1051015021),d=e(4983989341),u=e(6011052675),f=e(9236164662),m=e(7396657731),h=e(9645800439),v=e(438845125),p=e(3534324375),T=e(581167618),A=e(8739505998),C=e(8181621268),I=e(6471059816),D=e(8374895239),y=e(9506008067),P=e(8276911661);const E=new I.Ay("huddles");function M(ce){let{members:Ee,createNewMpim:de}=ce;var re,_e,ve;const ge=(0,y.Z2)(Ke=>Ee.map(Ne=>(0,p.sE)(Ke,(0,P.nv)(Ke,Ne.slackId))));if(!Ee)return null;const Le=ge&&ge.slice(3),ke=E.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:Ee.length,name1:t.createElement(v.A,{slackId:(re=Ee[0])===null||re===void 0?void 0:re.slackId}),name2:t.createElement(v.A,{slackId:(_e=Ee[1])===null||_e===void 0?void 0:_e.slackId}),name3:t.createElement(v.A,{slackId:(ve=Ee[2])===null||ve===void 0?void 0:ve.slackId}),numOthers:t.createElement(C.Ay,{zIndex:"above_fs",position:"top",tip:(0,D.A)(Le)},t.createElement("span",null,Ee.length-3))},Ke=>{let{text:Ne,tag:Re}=Ke;return Re==="a"?t.createElement(A.A,{onClick:de},Ne):null});return t.createElement(T.Ay,{level:T.A_.info,type:T.QE.custom},ke)}_(M,"HuddleInviteMpimAlert"),M.displayName="HuddleInviteMpimAlert";const S=M;var R=e(3109955471),k=e(9953252450),O=e(952756744),U=e(7937864072),W=e(3929724715),x=e(6470070112),L=e(6839188756),b=e(6084388622),F=e(980293773),B=e(8668318456),K=e(9392104102),H=e(5795074931),Y=e(9101533895),Z=e(5332875232),V=e(9548972574),ne=e(666760496),q=e(716227588),me=e(6259241484),ue=e(3730613858),ae=e(7268021173),le=e(7169590072),fe=e(1670069836);const he=new I.Ay("huddles"),ie={elementName:"learn_more",onClick:{enableClogAction:!0}};function X(ce){let{closeModal:Ee,callId:de,channelId:re,selectedMemberIds:_e=K.Ml}=ce;const ve=(0,n.wA)(),ge=(0,U.A)(),Le=(0,y.d4)(H.WR),ke=(0,y.d4)(x.pl),Ke=(0,y.d4)(vt=>(0,Y.OL)(vt,re)),Ne=(0,y.d4)(V.qr),Re=(0,y.d4)(Z.Si),xe=(0,y.d4)(le.$J),We=(0,y.Z2)(vt=>(0,V.ft)(vt,re).filter(Nt=>Nt.id!==Le).map(Nt=>Nt.id)),$=(0,y.d4)(vt=>(0,q.Hp)(vt,me.xu.HUDDLE_INVITE_MODAL)),ee=!!$,[Ve,ze]=(0,t.useState)(_e),[st,Ge]=(0,t.useState)(!1),be=(0,y.Z2)(vt=>!re||!(Ve!=null&&Ve.length)?[]:Ve.filter(It=>{const At=(0,ue.Sv)(vt,re,It);return At&&At.isKnown&&!(At!=null&&At.isMember)?It:!1})),Se=(0,y.d4)(fe.H7),we=(0,L.tc)(Se),Ce=(0,y.d4)(ae.iH),Te=(0,t.useCallback)(vt=>{ze(vt)},[]),Ye=(0,t.useCallback)(vt=>{ze(Ve.concat(vt))},[Ve]),De=(0,t.useMemo)(()=>{const vt=(0,W.Hd)(Ke);return Array.isArray(vt)?vt:[]},[Ke]),Pe=De.filter(vt=>vt!==Le),ye=(0,t.useCallback)(async()=>{if(!re)return;let vt=Ve.concat(We);return De&&(vt=(0,c.A)(vt,De)),ve((0,d.x)({channelId:re,memberIds:vt})).then(()=>{Ee()}).catch(Nt=>{ge.error(Nt),Ge(!1)})},[re,Ve,We,De,ve,Ee,ge]),He=(0,t.useCallback)(async()=>{if(!re)return;Ge(!0);const vt=Ve.concat(We);return ve((0,ne.A)({channelId:re,userIds:vt})).then(()=>{Ee()}).catch(Nt=>{ge.error(Nt),Ge(!1)})},[re,Ee,ve,ge,We,Ve]),Qe=_(()=>ee?null:we&&!Re&&!Ne?t.createElement(m.A,null):Ce&&!Ne&&!xe?t.createElement(k.A,null):null,"maybeRenderBanner");Qe.displayName="maybeRenderBanner";let dt,Ot,yt,Dt;const Ct=_(vt=>{const Nt=vt.map(It=>t.createElement(i.A,{key:It,isBold:!1,id:It}));return Nt&&(0,D.A)(Nt)},"listifiedOverflowMembers");Ct.displayName="listifiedOverflowMembers",we&&Re&&!Ne?(dt=he.t("Invite someone else to your huddle"),yt=he.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(Pe==null?void 0:Pe.length)-1,firstParticipant:t.createElement(i.A,{isBold:!1,id:Pe[0]}),secondParticipant:t.createElement(i.A,{isBold:!1,id:Pe[1]}),"<a>":vt=>{let{text:Nt}=vt;return t.createElement(C.Ay,{zIndex:"above_fs",tip:Ct(Pe==null?void 0:Pe.slice(1))},t.createElement("span",null,Nt))},"<b>":vt=>{let{text:Nt}=vt;return t.createElement("b",null,Nt)}}),Dt=he.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":vt=>{let{text:Nt}=vt;return t.createElement(a.A,{articleId:4402059015315,ariaLabel:he.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:ie},Nt)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(dt=he.t("Invite people to your huddle"),Ot=he.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const kt=(0,t.useMemo)(()=>Ve.length>1?he.t("Send Invites"):he.t("Send Invite"),[Ve]);return!ke||!re?null:t.createElement(F.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Ee,contentLabel:dt,shouldReturnFocusAfterClose:!0},t.createElement(F.rQ,null,t.createElement(F.Rc,{title:dt,subtitle:Ot})),t.createElement(F.$m,null,t.createElement(F.qf,null,(yt||Dt)&&t.createElement("p",null,yt,Dt),t.createElement(h.A,{isFreeTeam:we&&!Ne,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Re,channel:Ke,otherMembersInHuddle:We,onSelectedMembersChange:Te,selectedMemberIds:Ve}),(be==null?void 0:be.length)>0&&t.createElement(S,{members:be.map(vt=>({slackId:vt})),createNewMpim:ye}),$!==me.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER&&t.createElement(O.s,null)),Qe(),Ne&&we&&!ee&&t.createElement(l.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),t.createElement(R.A,{activeHuddleCallId:de,channel:Ke,isFreeTeam:we&&!Ne,onSuggestedUserSelected:Ye,otherMembersInHuddle:We,selectedMemberIds:Ve})),t.createElement(F.jl,null,t.createElement(u.A,{channelId:re}),t.createElement(F.ox,null,t.createElement(F.s_,{type:"outline","aria-label":he.t("Cancel")},he.t("Cancel")),t.createElement(r.A,{clogImpression:!0,eventId:B.EventId.HUDDLES_MPIM_INVITE},t.createElement(b.lV,{loading:st,onClick:He,type:"primary",disabled:!Ve.length,"aria-label":kt},kt)))),Re&&we&&!Ne&&!ee&&t.createElement(f.A,{selectedMemberIds:Ve}))}_(X,"HuddleInviteMpim"),X.displayName="HuddleInviteMpim";const j=X;var w=e(3288846409),Q=e(1407713935),G=e(5363983309),J=e(5286203919);function te(ce){let{closeModal:Ee=s.A,selectedMemberIds:de=K.Ml}=ce;const re=(0,y.d4)(x.pl),_e=(0,w.cw)(J.E9),ve=(0,w.cw)(J.hc),ge=(0,y.d4)(Le=>(0,Y.OL)(Le,ve));return re?(0,Q.JM)(ge)?t.createElement(j,{callId:_e,channelId:ve,closeModal:Ee,selectedMemberIds:de}):t.createElement(o.A,{callId:_e,channel:ge,closeModal:Ee,selectedMemberIds:de}):null}_(te,"HuddleInviteOrStartModal"),te.displayName="HuddleInviteOrStartModal";const se=(0,G.A)(te,{isStackable:!0})},3109955471:(N,g,e)=>{"use strict";e.d(g,{A:()=>Y});var t=e(3134334389),s=e(7156798807),o=e(5506656361),n=e(9680914051),c=e(2828836153),i=e(7435117457),r=e(8683010724),a=e(6471059816);const l=new a.Ay("huddles");var d;(function(Z){Z[Z.Channel=0]="Channel",Z[Z.Here=1]="Here"})(d||(d={}));const u=_(Z=>{let{variation:V}=Z;const ne=(0,t.useMemo)(()=>{const q=V===d.Channel?l.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):l.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),me=V===d.Channel?l.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):l.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.createElement(r.A,{name:"mentions",size:"24"})),t.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},q),t.createElement("span",{className:"c-base_entity__subtext"},me)))},[V]);return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(c.A,{size:i.ny.medium,padding:i.FK.normal,primaryContent:ne}))},"HuddleInviteChannelListEntity");u.displayName="HuddleInviteChannelListEntity";const f=u;var m=e(3929724715),h=e(1407713935),v=e(8798294025),p=e(6470070112),T=e(8170643398),A=e(4562579337),C=e(863407566),I=e(2293211408),D=e(7889060196),y=e(151122307),P=e(9392104102),E=e(181849556),M=e(1289024643),S=e(9506008067),R=e(5795074931),k=e(9548972574),O=e(8276911661),U=e(8286248123),W=e(3730613858);const x=new a.Ay("huddles");var L;(function(Z){Z.SUGGESTIONS="suggestions",Z.INVITED="invited"})(L||(L={}));function b(Z,V,ne,q,me,ue,ae){return!(!Z||V||ne||Z===q||me.includes(Z)||ue.includes(Z)||ae.includes(Z))}_(b,"shouldSuggestMember");const F="channelEntityId",B="channelHereEntityId",K=5,H=_(Z=>{let{activeHuddleCallId:V,channel:ne,isFreeTeam:q,onSuggestedUserSelected:me,onChannelSelected:ue,onChannelHereSelected:ae,otherMembersInHuddle:le,selectedMemberIds:fe,channelSuggestionOptionSelected:he=!1}=Z;const ie=(0,S.d4)(R.WR),X=(0,S.d4)(Se=>(0,U.q8)(Se,ne==null?void 0:ne.id)),j=(0,S.d4)(p.df),w=(X==null?void 0:X.counts.member_count)||0,Q=(0,h.JM)(ne),G=(0,S.d4)(k.Sx),J=(0,S.d4)(Se=>(0,M.k9)(Se,V)),te=(0,S.d4)(Se=>(0,M.I1)(Se,V)),ce=G+1+J+te,Ee=(0,S.Z2)(Se=>(0,M.Kx)(Se,V)),de=(0,t.useMemo)(()=>Ee?Object.keys(Ee):[],[Ee]),re=de.length,_e=25,ve=(0,S.Z2)(Se=>(0,C.A)(Se,(ne==null?void 0:ne.id)||"",_e,_e,!0).map(Ce=>Ce.id));let ge=[];if((0,h.LI)(ne)){const Se=(0,v.e)(ne);Se&&ge.push(Se)}else if((0,h.yz)(ne)){const Se=(0,m.Ug)(ne);Se&&Se.length&&(ge=[...Se])}else ge=ve;const Le=(0,S.wz)(Se=>{if(he||!ge||!ge.length)return P.Ml;const we=[];return ge.forEach(Ce=>{const Te=(0,O.nv)(Se,Ce);b(Ce,(0,A.A)(Te),(0,T.oy)(Te),ie,le,de,fe)&&we.push({id:Ce,isMemberOfChannel:!0})}),we}),ke=(0,S.wz)(Se=>(0,E.Fl)(Se,K)),Ke=(0,S.wz)(Se=>{if(!ke||!ke.length)return P.Ml;const we=[];return ke.forEach(Ce=>{const Te=(0,O.nv)(Se,Ce.id);if(!b(Ce.id,(0,A.A)(Te),(0,T.oy)(Te),ie,le,de,fe)||ge.includes(Ce.id))return;const Ye=ne&&(0,W.Sv)(Se,ne.id,Ce.id),De=Ye&&Ye.isKnown&&Ye.isMember;we.push({id:Ce.id,isMemberOfChannel:De})}),we}),Ne=(0,t.useMemo)(()=>!ue||(0,h.cb)(ne)?!1:w<=n.XG&&ce+w<=j&&!he,[w,he,ce,j,ue,ne]),Re=(0,t.useMemo)(()=>Le.length>=_e?Le.slice(0,_e):[...Le,...Ke].slice(0,_e),[Le,Ke]),xe=(0,t.useMemo)(()=>Re.map(Se=>Se.id),[Re]),We=(0,t.useMemo)(()=>(0,s.A)(Re,"id"),[Re]),$=(0,t.useMemo)(()=>Math.min(60*Math.max(re,xe.length),240),[xe,re]),ee=(0,t.useCallback)((Se,we)=>{if(we.key===F)return t.createElement(f,{variation:d.Channel});if(we.key===B)return t.createElement(f,{variation:d.Here});const Ce=We[we.key];if(!Ce)return;let Te=null;return Ce.isMemberOfChannel===!1&&(Q||(0,h.cb)(ne)?Te=x.t("Not in conversation"):Te=x.t("Not in channel")),t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(o.A,{id:Ce.id,secondaryContent:Te}))},[Q,We,ne]),Ve=(0,t.useCallback)(Se=>{if(Se.id){if(Se.id===F){ue&&ue();return}if(Se.id===B){ae&&ae();return}me(Se.id)}},[ae,ue,me]),ze=(0,t.useCallback)(()=>{let Se=xe;return Ne&&(Se=[F,...xe]),t.createElement(y.A,{disableHeight:!0},we=>{let{width:Ce}=we;return t.createElement(D.A,{"aria-label":x.t("Suggested"),keys:Se,rowRenderer:ee,onItemClick:Ve,width:Ce,height:$})})},[Ne,ee,xe,Ve,$]),st=(0,t.useCallback)(Se=>{const we=de[Se],Ce=Ee==null?void 0:Ee[we];if(!Ce)return null;const Te=Ce==="joining_soon",Ye=t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.createElement(r.A,{name:Te?"clock":"paper-plane",size:"20"}),t.createElement("span",null,Te?x.t("Joining soon"):x.t("Invited")));return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.createElement(o.A,{id:we,secondaryContent:Ye}))},[de,Ee]),Ge=(0,t.useCallback)(()=>t.createElement(y.A,{disableHeight:!0},Se=>{let{width:we}=Se;return t.createElement(D.A,{"aria-label":x.t("Invited"),keys:de,rowRenderer:st,width:we,height:$})}),[de,st,$]),be=(0,t.useMemo)(()=>{const Se=[];return xe.length&&Se.push({title:x.t("Suggested"),id:L.SUGGESTIONS,content:ze()}),Se.push({title:x.t("Invited"),id:L.INVITED,titleCount:re,content:Ge()}),Se},[xe,re,Ge,ze]);return!V||q?null:t.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.createElement(I.A,{fullHeight:!0,tabs:be,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");H.displayName="HuddleInviteSuggestionTabs";const Y=t.memo(H)},3015351052:(N,g,e)=>{"use strict";e.d(g,{s:()=>sn,_:()=>z});var t=e(3134334389),s=e(3288567831),o=e(1973246490),n=e(2164739987),c=e(8920264989),i=e(6471059816),r=e(9506008067),a=e(9101533895);const l=new i.Ay("huddles");function d(Me){let{channelId:Be,isHost:nt}=Me;const Lt=(0,r.d4)(In=>(0,a.OL)(In,Be)),{memberCount:Bt}=(0,o.W)({channelId:Be}),Yt=Bt>0,on=(0,n.f)(Lt),An=(0,r.d4)(In=>(0,c.SB)(In,Lt,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}));return(0,t.useMemo)(()=>nt?on&&!Yt?l.t("Ready to start {displayName}?",{displayName:(0,s.Ay)(An)}):!on&&!Yt?l.t("Ready to start the huddle?",{displayName:An}):on?l.t("Ready to join {displayName}?",{displayName:(0,s.Ay)(An)}):l.t("Ready to join the huddle?",{displayName:(0,s.Ay)(An)}):on?l.t("Ready to join {displayName}?",{displayName:(0,s.Ay)(An)}):l.t("Ready to join the huddle?",{displayName:(0,s.Ay)(An)}),[nt,on,An,Yt])}_(d,"useGetHuddleJoinPreviewTitle");var u=e(6122756707),f=e(3150724727),m=e(7173172014),h=e(6664301844),v=e(8736071954),p=e(7149946954),T=e(1917379822),A=e(6148781344),C=e(63202349),I=e(5075331445),D=e(3496486794),y=e(2457673737),P=e(3288846409),E=e(2850141087),M=e(462591818),S=e(7384121809),R=e(4250409994),k=e(5286203919);const O="medium",U=new C.k("HUDDLE-JOIN-PREVIEW"),W=_(Me=>{let{videoRef:Be,preferredCameraId:nt,startOnMount:Lt=!0,isVideoElementReady:Bt=!0,handleCameraStreamError:Yt}=Me;const on=(0,t.useRef)(null),An=(0,t.useRef)(!0),[Sn,In]=(0,t.useState)(void 0),[Pn,bn]=(0,t.useState)(!1),[wn,qn]=(0,t.useState)(void 0),kn=(0,P.cw)(k.aU),Dn=(0,P.cw)(k.d4),Un=(0,D.A)();(0,E.A)(()=>{const ls=(0,h.zg)(),Zn=new ls(U);In(Zn);const Rn=(0,I.i)();return(0,S.dispatchForClientStore)((0,R.yW)({backgroundEffectBgKey:Rn.backgroundEffectBgKey,blurEffectIsEnabled:Rn.blurEffectIsEnabled})),()=>{Sn==null||Sn.stopVideoInput(),Zn.destroy()}},[]);const Hn=(0,t.useMemo)(()=>({backgroundEffectBgKey:kn,blurEffectIsEnabled:Dn}),[Dn,kn]),jn=(0,t.useCallback)(()=>{Be.current&&h.xc.disconnectVideoStreamFromVideoElement(Be.current,!1),Sn==null||Sn.stopVideoInput(),qn(void 0),bn(!1)},[Sn,Be]);(0,t.useMemo)(async()=>{if((on==null?void 0:on.current)===void 0||(on==null?void 0:on.current)===null)return;const ls=on.current,Zn=Un.find(Wn=>Wn.key===Hn.backgroundEffectBgKey),Rn={backgroundBlur:{isEnabled:Hn.blurEffectIsEnabled,strength:O},backgroundReplacement:{isEnabled:Hn.backgroundEffectBgKey!==void 0,backgroundImageURL:Zn==null?void 0:Zn.url,defaultColor:void 0}};try{await ls.setEffectConfig(Rn)}catch{}},[Un,Hn.backgroundEffectBgKey,Hn.blurEffectIsEnabled]);const Jn=(0,t.useCallback)(async function(){let ls=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Zn=Be.current,Rn=p.Ay.canAccessMediaResource(M.mT.CAMERA);if(Rn.status===v.eJ.Denied){Yt==null||Yt();return}if(Rn.status!==v.eJ.Prompt&&(!Bt||!Zn||!nt||Pn&&!ls))return;const Wn=await navigator.mediaDevices.getUserMedia({video:{deviceId:nt,width:y.hX,height:y.Qs,frameRate:y.LD},audio:!1});bn(!0),qn(nt);const es=[];if(await h.Ws.isSupported()){const ot=await h.Ws.create();ot!==void 0&&es.push(ot)}const Gn=Un.find(ot=>ot.key===Hn.backgroundEffectBgKey),_s={backgroundBlur:{isEnabled:Hn.blurEffectIsEnabled,strength:O},backgroundReplacement:{isEnabled:Hn.backgroundEffectBgKey!==void 0,backgroundImageURL:Gn==null?void 0:Gn.url,defaultColor:void 0}};let ds;try{ds=await h.i3.create(U,_s)}catch{return}on.current=ds;const Wt=new h.Ze(U,Wn,[ds]);if(Sn===void 0)return;const et=await Sn.startVideoInput(Wt);An.current||jn(),!(Be.current===void 0||Be.current===null)&&et!==void 0&&Zn!==null&&(Zn.srcObject=et,Zn.autoplay=!0,Zn.playsInline=!0)},[Be,Bt,nt,Pn,Hn,Un,Sn,Yt,jn]),ln=(0,t.useCallback)(ls=>{(0,T.cT)(ls,v.lW.Camera,A.S.JoinPreviewCamera),(0,S.dispatchForClientStore)((0,R.WM)({setVideoEnabled:!0}))},[]);(0,t.useEffect)(()=>{wn!==nt&&nt!==void 0&&wn!==void 0&&Bt&&(jn(),Jn(!0))},[nt,Jn,jn,Bt,wn]),(0,E.A)(()=>(Lt&&Jn(),()=>{An.current=!1,jn()}),[]),(0,t.useEffect)(()=>{Bt&&!Pn&&!Lt&&Jn()},[Bt,Pn,Jn,Lt]);const ss=(0,t.useCallback)(()=>{const ls=Be.current;ls&&((0,S.dispatchForClientStore)((0,R.yi)({videoElement:ls})),jn())},[jn,Be]),vs=(0,t.useCallback)(()=>{const ls=Be.current;Bt&&(!ls||!nt||Jn())},[Bt,nt,Jn,Be]);return{turnOnCamera:ln,turnOffCameraPreview:ss,turnOnCameraPreview:vs,previewCameraIsOn:Pn}},"useJoinPreviewCamera");var x=e(9289216704),L=e(5602423845),b=e(581167618),F=e(8739505998),B=e(8668318456),K=e(5332875232);const H=new i.Ay("huddles"),Y=t.memo(Me=>{let{cameraPermissionDenied:Be,microphonePermissionDenied:nt,microphoneNoDevices:Lt,cameraNoDevices:Bt}=Me;const Yt=(0,L.A)(),on=(0,r.d4)(K.Rk);(0,t.useEffect)(()=>{(Be||nt||Lt||Bt)&&(Be&&Yt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"camera_permission_denied_alert"}}}}),Bt&&Yt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"camera_no_devices_alert"}}}}),nt&&Yt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"microphone_permission_denied_alert"}}}}),Lt&&Yt.track(B.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:B.UiAction.IMPRESSION,elementType:B.ElementType.ALERT,ui_properties:{element_name:"microphone_no_devices_alert"}}}}))},[Yt,Be,nt,Lt,Bt]);const An=(0,t.useMemo)(()=>{if(!(nt||Lt))return null;const Pn=on?H.rt("Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let bn=null;return x.mt&&(bn=t.createElement(F.A,{href:x.mt},on?H.t("Open system preferences"):"Open system preferences")),t.createElement(b.Ay,{type:b.QE.boxed,level:b.A_.error,icon:"info-circle",align:b.AO.left,heading:on?H.rt("Allow microphone access"):"Allow microphone access"},Pn,t.createElement("br",null),t.createElement("br",null),bn)},[on,nt,Lt]),Sn=(0,t.useMemo)(()=>{if(!(Be||Bt))return null;const Pn=on?H.rt("Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let bn=null;return x.Oi&&(bn=t.createElement(F.A,{href:x.Oi},on?H.t("Open system preferences"):"Open system preferences"," ")),t.createElement(b.Ay,{type:b.QE.boxed,level:b.A_.warning,icon:"info-circle",align:b.AO.left,heading:on?H.rt("Slack doesn\u2019t have camera access"):"Slack doesn\u2019t have camera access"},Pn,t.createElement("br",null),t.createElement("br",null),bn)},[Be,on,Bt]);return!(An!==null||Sn!==null)||!on?null:t.createElement("div",{className:"margin_bottom_100"},An,t.createElement("br",null),Sn)});var Z=e(1473609332),V=e(9195837907),ne=e(1465889885),q=e(980293773),me=e(9003400431),ue=e(5526670257),ae=e.n(ue);const le=new i.Ay("huddles"),fe=_(()=>{const Me=(0,u.wA)(),Be=(0,t.useCallback)(Lt=>{let{backgroundType:Bt,backgroundKey:Yt}=Lt;const on=(0,Z.Bh)();on.video.effect=Bt,on.video.effectBgKey=Yt,(0,Z.i4)(on),(0,S.dispatchForClientStore)((0,R.yW)({backgroundEffectBgKey:Yt,blurEffectIsEnabled:Bt===V.t.Blur}))},[]),nt=(0,t.useCallback)(()=>Me((0,me.O)()),[Me]);return t.createElement(q.dW,{closeModal:nt,showCloseButton:!0,shouldCloseOnOverlayClick:!0,className:ae().modal,overlayClassName:ae().overlay},t.createElement(q.rQ,null,t.createElement(q.Rc,{title:le.t("Video background")})),t.createElement(q.$m,null,t.createElement(q.qf,null,t.createElement(ne.A,{onEffectSelected:Be,isSmallLayout:!0}))))},"HuddleJoinPreviewBackgroundModal");fe.displayName="HuddleJoinPreviewBackgroundModal";var he=e(5946832122),ie=e(2312625946),X=e(2375333597),j=e(7059233720),w=e.n(j);const Q=new i.Ay("huddles"),G=t.memo(()=>{const Me=(0,u.wA)(),Be=(0,t.useCallback)(()=>{Me((0,X.q)({element:t.createElement(fe,null),isStackable:!0}))},[Me]),nt=(0,t.useMemo)(()=>({name:"image"}),[]),Lt=Q.t("Video background");return t.createElement("div",{className:w().container},t.createElement(ie.Ay,{tip:Lt},t.createElement(he.A,{className:w().button,onClick:Be,"aria-label":Lt,svgIconProps:nt})))});var J=e(4844578989),te=e.n(J),se=e(7396150282);function ce(Me){let{microphoneDeviceId:Be,handleMicrophoneStreamError:nt}=Me;const[Lt,Bt]=(0,t.useState)(!1),Yt=(0,t.useRef)(null),on=(0,t.useRef)(null),[An,Sn]=(0,t.useState)(void 0),In=(0,t.useCallback)(async function(){let kn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Lt&&!kn)return;const Dn=p.Ay.canAccessMediaResource(M.mT.MICROPHONE);if(Dn.status===v.eJ.Denied){nt==null||nt();return}if(!((!Be||Yt.current)&&Dn.status!==v.eJ.Prompt))try{const Un=await navigator.mediaDevices.getUserMedia({audio:{deviceId:Be}});Yt.current=Un,on.current=new se.x,on.current.setPreviewStream(Un),Bt(!0),Sn(Be)}catch{nt==null||nt()}},[nt,Lt,Be]),Pn=(0,t.useCallback)(()=>{on.current&&(on.current.cleanup(),on.current=null),Yt.current&&(Yt.current.getTracks().forEach(kn=>kn.stop()),Yt.current=null),Bt(!1)},[]),bn=(0,t.useCallback)(kn=>{kn!==An&&(Pn(),In({isMicSwitch:!0}),Sn(kn))},[In,An,Pn]);(0,E.A)(()=>(In(),()=>{Pn()}),[]),(0,t.useEffect)(()=>{Be&&Be!==An&&An!==void 0&&bn(Be)},[Be,An,bn]);const wn=(0,t.useCallback)(()=>{In()},[In]),qn=(0,t.useCallback)(()=>{Pn()},[Pn]);return{turnOn:wn,turnOff:qn}}_(ce,"useGetHuddleJoinPreviewMicLevels");var Ee=e(8801078943),de=e(1593595278),re=e(9948866681),_e=e(387328355),ve=e(9365970888),ge=e(5597672932),Le=e(1535211300),ke=e.n(Le);const Ke=t.memo(Me=>{let{handleMicrophonePermissionsError:Be,microphonePermissionDenied:nt,cameraPermissionDenied:Lt}=Me;const Bt=(0,r.Z2)(ve.oG),Yt=(0,r.d4)(Pn=>!!(0,_e.WQ)(Pn,"isMicrophoneEnabled")),on=(0,r.d4)(Pn=>(0,ge.xp)(Pn,"allow_huddles_video")),An=(0,t.useCallback)(()=>{Be==null||Be()},[Be]),Sn=(0,t.useMemo)(()=>Bt.microphone.filter(Pn=>!!Pn.id).map(Pn=>({label:Pn.label,value:Pn.id})),[Bt.microphone]),In=Sn==null?void 0:Sn[0];return ce({microphoneDeviceId:In==null?void 0:In.value,handleMicrophoneStreamError:An}),t.createElement("div",{className:ke().container},t.createElement(de.A,{className:ke().device,audioMeterLayout:de.Y.Inline,selectSize:"medium",isEnabled:Yt,microphonePermissionDenied:nt,widthStyle:"default"}),t.createElement(re.A,{className:te()(ke().device,ke().speaker),selectSize:"medium",showTestSpeaker:!0,microphonePermissionDenied:nt,widthStyle:"default"}),on&&t.createElement(Ee.A,{className:ke().device,selectSize:"medium",cameraPermissionDenied:Lt,widthStyle:"default"}))});var Ne=e(8419239240),Re=e(9632269965),xe=e.n(Re);const We=t.memo(Me=>{let{channelId:Be}=Me;const nt=(0,Ne.I)({channelId:Be});return t.createElement("div",{className:xe().container},nt)});var $=e(1638377365),ee=e(7280065019),Ve=e(4745917661),ze=e(5011231008),st=e(6084388622),Ge=e(8683010724),be=e(2688127376),Se=e.n(be);const we=new i.Ay("huddles"),Ce=t.memo(Me=>{let{turnOffCameraHandler:Be,turnOnCameraHandler:nt,cameraIsOn:Lt,cameraPermissionDenied:Bt,microphonePermissionDenied:Yt,microphoneNoDevices:on,cameraNoDevices:An,scaleOffset:Sn=1}=Me;const{videoLabel:In,deviceLabel:Pn}=(0,$.z)(),bn=(0,r.d4)(Dn=>(0,ge.xp)(Dn,"allow_huddles_video")),wn=(0,r.d4)(Dn=>!!(0,_e.WQ)(Dn,"isMicrophoneEnabled")&&!Yt),qn=(0,t.useCallback)(()=>{if(Lt){Be==null||Be();return}nt==null||nt()},[Be,nt,Lt]),kn=(0,t.useMemo)(()=>Bt||An?we.t("Camera permission denied",{fallbackHash:"3bca281bb714e2057db7a3b764b3502a1915a27a",fallbackHashNs:"huddles_audio_video_prefs"}):t.createElement(Ve.A,{actionLabel:In,deviceLabel:Pn,audioOnlyModeEnabledWarning:!1}),[Pn,Bt,In,An]);return t.createElement("div",{className:Se().container,style:{transform:`scale(${Sn})`}},t.createElement(ze.A,{className:te()(Se().toolbarButton,{[Se().activeButton]:wn}),microphonePermissionDenied:Yt||on,displayShortcutTooltip:!1}),bn&&t.createElement(ie.Ay,{tip:kn},t.createElement(st.Nm,{htmlType:"button",onClick:qn,role:"switch","aria-label":we.t("Video"),"aria-checked":Lt,"data-qa":"huddle_camera_huddle_toolbar",className:te()(Se().toolbarButton,{[Se().cameraDisabled]:Bt||An,[Se().activeButton]:Lt}),"aria-disabled":Bt||An},t.createElement(ee.A,{isCameraEnabled:Lt,className:"p-huddle_toolbar__video_button"}),(Bt||An)&&t.createElement("div",{className:Se().warningBadgeContainer},t.createElement("div",{className:Se().warningBadge},t.createElement(Ge.A,{name:"warning-filled"}))))))});var Te=e(2843556239),Ye=e(4803841689),De=e(6308822),Pe=e(5795074931),ye=e(7434063642),He=e(6251210828),Qe=e(1049642794),dt=e(2047021170),Ot=e(9295473340),yt=e.n(Ot);const Dt=320,Ct=600,kt=500,vt=.6,Nt=50,It=t.memo(Me=>{let{channelId:Be}=Me;var nt,Lt;const Bt=(0,u.wA)(),{windowRef:Yt}=(0,t.useContext)(Te._0),on=(0,t.useRef)(null),An=(0,r.d4)(dn=>(0,He.gW)(dn,{channelId:Be})),Sn=(0,r.d4)(dn=>(0,He.zK)(dn,{channelId:Be})),In=(0,r.d4)(dn=>(0,dt.ty)(dn,"huddles_mute_by_default")),Pn=(0,Ye.A)(),bn=(0,r.Z2)(ve.oG),wn=(0,r.d4)(Pe.WR),qn=(0,r.d4)(dn=>!!(0,_e.WQ)(dn,"isMicrophoneEnabled")),kn=(0,t.useMemo)(()=>bn.camera.filter(dn=>!!dn.id).map(dn=>({label:dn.label,value:dn.id})),[bn.camera]),Dn=(0,t.useMemo)(()=>bn.microphone.filter(dn=>!!dn.id).map(dn=>({label:dn.label,value:dn.id})),[bn.microphone]),[Un,Hn]=(0,t.useState)({width:(nt=Yt.deref())===null||nt===void 0?void 0:nt.innerWidth,height:(Lt=Yt.deref())===null||Lt===void 0?void 0:Lt.innerHeight}),[jn,Jn]=(0,t.useState)(0),[ln,ss]=(0,t.useState)(1),[vs,ls]=(0,t.useState)(!1),[Zn,Rn]=(0,t.useState)(!1),[Wn,es]=(0,t.useState)(!1),[Gn,_s]=(0,t.useState)(kn!=null&&kn.length?kn[0]:void 0),[ds,Wt]=(0,t.useState)(Dn!=null&&Dn.length?Dn[0]:void 0),[et,ot]=(0,t.useState)(!1),[ut,pt]=(0,t.useState)(!1),[Et,Gt]=(0,t.useState)(!0),$e=kn.length===0,oe=Dn.length===0,Ae=(0,t.useCallback)(()=>{ot(!0)},[]),Oe=(0,t.useCallback)(()=>{pt(!0)},[]),{turnOffCameraPreview:Fe,previewCameraIsOn:Ze}=W({videoRef:on,preferredCameraId:Gn==null?void 0:Gn.value,isVideoElementReady:Zn,startOnMount:!1,handleCameraStreamError:Ae});(0,t.useEffect)(()=>()=>{Fe()},[Fe]),(0,t.useEffect)(()=>{!Ze&&!Et&&Gt(!0)},[Ze,Et]);const rt=(0,t.useCallback)(()=>{Fe(),Wn&&(Rn(!1),es(!1))},[Wn,Fe]),Tt=(0,t.useCallback)(()=>{Wn||(Rn(!1),es(!0))},[Wn]),Vt=(0,t.useCallback)(()=>{var dn,Fn;Hn({width:(dn=Yt.deref())===null||dn===void 0?void 0:dn.innerWidth,height:(Fn=Yt.deref())===null||Fn===void 0?void 0:Fn.innerHeight})},[Yt]);(0,t.useEffect)(()=>{var dn;return(dn=Yt.deref())===null||dn===void 0||dn.addEventListener("resize",Vt),_(function(){var ts;(ts=Yt.deref())===null||ts===void 0||ts.removeEventListener("resize",Vt)},"cleanup")},[Vt,Yt]);const cn=(0,t.useCallback)(dn=>{if((dn==null?void 0:dn.value)===(Gn==null?void 0:Gn.value))return;const Fn=Wn;rt(),_s(dn),Fn&&(es(!0),Tt())},[Gn==null?void 0:Gn.value,Wn,rt,Tt]);(0,t.useEffect)(()=>{if(kn.length>0){const dn=kn[0];(dn==null?void 0:dn.value)!==(Gn==null?void 0:Gn.value)&&cn(dn)}},[kn,Gn,cn]),(0,t.useEffect)(()=>{if(Dn.length>0){const dn=Dn[0];(dn==null?void 0:dn.value)!==(ds==null?void 0:ds.value)&&Wt(dn)}},[kn,Dn,Gn,ds==null?void 0:ds.value,cn]);const $t=(0,t.useCallback)(dn=>{dn!=null&&dn.value&&_s(dn)},[_s]);(0,t.useEffect)(()=>{kn.length!==0&&vs&&($t(kn[0]),ls(!1))},[kn,vs,$t]);const an=(0,t.useCallback)(dn=>{on.current!==dn&&(!dn&&Zn&&on!==void 0&&Ze&&Fe(),!(!dn&&!Zn)&&(on.current=dn,Rn(!0)))},[Zn,Fe,Ze]),mn=(0,t.useCallback)(()=>{Gt(!1)},[]),hn=(0,t.useMemo)(()=>(Ze||Wn)&&!et?t.createElement(t.Fragment,null,Et&&t.createElement("div",{className:yt().loading},t.createElement(De.A,{color:"blue",size:"jumbo"})),t.createElement("video",{className:yt().videoPreview,ref:an,onCanPlay:mn}),t.createElement(G,null)):t.createElement(f.Ay,{size:Dt,userId:wn,isInteractive:!1,className:yt().videoAvatar}),[Ze,Wn,et,wn,Et,an,mn]);(0,E.A)(()=>{rt(),In&&(Bt((0,ye.fP)({channelId:Be,cameraEnabled:Ze,microphoneEnabled:!1})),Bt((0,Qe.A)(!1)))},[]),(0,t.useEffect)(()=>{if(Un.height===void 0)return;const dn=Ct*Pn,Fn=kt*Pn;if(Un.height>dn&&ln!==1){ss(1),Jn(0);return}if(Un.height<=dn&&Un.height>=Fn){const ts=1-(dn-Un.height)/100*(1-vt);ss(ts);const zn=-((dn-Un.height)/100)*Nt;Jn(zn);return}Un.height<Fn&&ln!==vt&&(ss(vt),Jn(-Nt))},[ln,Un.height,Pn]),(0,t.useEffect)(()=>{(Ze!==An||Sn!==qn)&&Bt((0,ye.fP)({channelId:Be,cameraEnabled:Ze,microphoneEnabled:qn}))},[Bt,Ze,Be,qn,An,Sn]);const Ln=1+(1-ln);return t.createElement(m.A,{eventId:B.EventId.HUDDLES_JOIN_PREVIEW,elementType:B.ElementType.MODAL,uiComponentName:B.UiComponentName.HUDDLES_JOIN_PREVIEW_MODAL},t.createElement("div",null,t.createElement(Y,{cameraPermissionDenied:et,microphonePermissionDenied:ut,microphoneNoDevices:oe,cameraNoDevices:$e}),t.createElement(We,{channelId:Be}),t.createElement("div",{className:yt().videoAndDevicesContainer},t.createElement("div",{className:yt().videoContainer,style:{transform:`scale(${ln}) translateY(${jn}px)`}},t.createElement("div",{className:yt().videoInnerContainer},hn),t.createElement(Ce,{turnOffCameraHandler:rt,turnOnCameraHandler:Tt,cameraIsOn:Ze,microphonePermissionDenied:ut,cameraPermissionDenied:et,scaleOffset:Ln,microphoneNoDevices:oe,cameraNoDevices:$e})),t.createElement(Ke,{handleMicrophonePermissionsError:Oe,microphonePermissionDenied:ut,cameraPermissionDenied:et}))))});var At=e(5203103513),Zt=e(3989454579),jt=e(7138682671),Ht=e(387484329);const Pt=new i.Ay("huddles"),Ft=t.memo(()=>{const Me=(0,u.wA)(),Be=(0,r.d4)(K.Rk),nt=!(0,r.d4)(Bt=>(0,dt.ty)(Bt,At.aI)||!1),Lt=(0,t.useCallback)(()=>{Me((0,Ht.AZ)({pref:At.aI,value:nt}))},[Me,nt]);return Be?t.createElement("div",null,t.createElement(jt.A,{text:Pt.t("Don\u2019t show this preview again"),type:"inline",cursor:"pointer"},t.createElement(Zt.A,{name:"agc",checked:nt,onChange:Lt}))):null});var En=e(3052395304),Rt=e(3929724715),rn=e(1407713935),nn=e(825587348),at=e(5363983309),tt=e(2458754542),ft=e.n(tt);const wt=new i.Ay("huddles"),Jt={eventId:B.EventId.HUDDLES_JOIN_PREVIEW,elementName:"join-button",onClick:{enableClogAction:!0},isPrimaryCTA:!0},sn=t.memo(Me=>{let{channelId:Be,closeModal:nt,handleJoin:Lt}=Me;const Bt=(0,r.d4)(Pe.WR),Yt=(0,r.d4)(ss=>(0,a.OL)(ss,Be)),on=(0,rn.cb)(Yt),An=(0,r.d4)(ss=>(0,He.Ln)(ss,{channelId:Be})),Sn=(0,r.d4)(K.Rk),{memberCount:In}=(0,o.W)({channelId:Be}),Pn=on||An,bn=(0,En.q)(Be),{windowId:wn,windowRef:qn}=(0,t.useContext)(Te._0),kn=bn===wn;let Dn=!0;Pn&&(Dn=(0,Rt.Wb)(Yt)===Bt);const Un=d({isHost:Dn,channelId:Be}),Hn=(0,t.useCallback)(()=>{if(nt==null||nt(),kn){var ss;(ss=qn.deref())===null||ss===void 0||ss.close()}},[nt,qn,kn]),jn=(0,t.useCallback)(()=>{nt==null||nt()},[nt]),Jn=(0,t.useCallback)(()=>{(0,S.dispatchForClientStore)((0,R._o)({channelId:Be})),Lt==null||Lt(),nt==null||nt()},[nt,Lt,Be]),ln=(0,t.useMemo)(()=>In===0?wt.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}):wt.t("Join Huddle",{fallbackHash:"2e0db25a478224617c1054b21c2931f1cdbc6141"}),[In]);return Sn?t.createElement(nn.A,{onClose:jn,title:Un,onSubmit:Jn,onCancel:Hn,showCancelButton:!0,submitButtonText:ln,className:ft().modal,footerText:t.createElement(Ft,null),overlayClassName:ft().overlay,submitAutoClogProps:Jt},t.createElement(It,{channelId:Be})):null}),z=(0,at.A)(sn)},4869203191:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>p,Gr:()=>v,Lv:()=>l,jc:()=>m,z2:()=>h});var t=e(1917379822),s=e(5203103513),o=e(6471059816),n=e(2854284421),c=e(8664881451),i=e(2778217221),r=e(2047021170);const a=new o.Ay("huddles"),l="LOUNGE_MUSIC_PLAYER",d=[n.N3,n._4,n.j1,n._V,n.PM,n.tn,n.uu,n.jc];var u;(function(T){T.WaitingRoom="waiting",T.Subway="subway",T.Whistle="whistle",T.Jazz="jazz",T.Focus="focus",T.DiscoParty="disco",T.Zen="zen",T.Nature="nature"})(u||(u={}));const f=u.Jazz,m=_(T=>T?!!Object.values(u).includes(T):!1,"isValidSongKey"),h=_(T=>(0,r.ty)(T,s.Mz)||f,"getSongKeyFromUserPref"),v=_(()=>({[u.WaitingRoom]:{key:u.WaitingRoom,urlName:"waitingRoom",url:n.tn,displayName:a.t("Waiting Room")},[u.Subway]:{key:u.Subway,urlName:"subwayMusic",url:n.PM,displayName:a.t("Subway Music")},[u.Whistle]:{key:u.Whistle,urlName:"whistleTune",url:n.jc,displayName:a.t("Whistle Tune")},[u.Jazz]:{key:u.Jazz,urlName:"waitingMuzak",url:n.uu,displayName:a.t("Smooth Jazz")},[u.Focus]:{key:u.Focus,urlName:"focusBeats",url:n._4,displayName:a.t("Focus Beats")},[u.DiscoParty]:{key:u.DiscoParty,urlName:"discoParty",url:n.N3,displayName:a.t("Happy Bass")},[u.Zen]:{key:u.Zen,urlName:"momentOfZen",url:n.j1,displayName:a.t("Sound Bath")},[u.Nature]:{key:u.Nature,urlName:"natureMeditation",url:n._V,displayName:a.t("Nature Meditation")}}),"getSongsMetadata");let p=_(class fa{static getInstance(){return fa.instance||(fa.instance=new fa),fa.instance}constructor(){var A=this;this.getCurrentTrackDisplayName=()=>{const C=d[this.activeTrackIndex],I=v(),D=Object.values(I).find(y=>y.url===C);return D==null?void 0:D.displayName},this.playMusic=async function(){let{songKey:C,registerOnEndedCallback:I,logger:D,fromFirstTrack:y,loopSong:P}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};y&&(A.activeTrackIndex=0),I&&d.forEach(k=>{(0,c.TQ)(k,{ended:A.playNextTrack})});let E=d[A.activeTrackIndex];const M=(0,c.Dd)(E);if(C){var S;M&&(0,c.ds)(E);const O=(S=v()[C])===null||S===void 0?void 0:S.url,U=O?d.findIndex(W=>W===O):-1;U>-1&&(E=O,A.activeTrackIndex=U)}const R=(0,t._o)();if(R&&M)try{await M.setSinkId(R),D==null||D.info(i.o7,`setSinkId success for lounge music on deviceID: ${R}`)}catch{D==null||D.info(i.o7,`setSinkId failed for lounge music on deviceID: ${R}`)}(0,c.ZH)(E,{loop:!!P,useSlackPreferredSink:!0})},this.stopMusic=C=>{let{clearOnEndedCallback:I,logger:D,logContext:y}=C;I&&d.forEach(P=>{(0,c.Rj)(P,"ended",this.playNextTrack)}),(0,c.ds)(d[this.activeTrackIndex],{logFailure:!1}),D.info(i.o7,`stopped lounge music [${y}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<d.length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{(0,c.ds)(d[this.activeTrackIndex]),this.incrementActiveTrackIndex(),(0,c.ZH)(d[this.activeTrackIndex],{loop:!1,useSlackPreferredSink:!0})},this.activeTrackIndex=0}},"HuddleLoungeMusicManager")},8419239240:(N,g,e)=>{"use strict";e.d(g,{I:()=>c});var t=e(3134334389),s=e(1973246490),o=e(6471059816);const n=new o.Ay("huddles");function c(i){let{channelId:r}=i;const{firstMemberName:a,secondMemberName:l,memberCount:d}=(0,s.W)({channelId:r});return(0,t.useMemo)(()=>d===0?n.t("No one is in the huddle yet.",{fallbackHash:"84a5772a945fb7be09c48235d3fbb096591da4c6"}):d===1?n.rt("{firstMemberName} is currently in the huddle.",{firstMemberName:a}):d===2?n.rt("{firstMemberName} and {secondMemberName} are currently in the huddle.",{firstMemberName:a,secondMemberName:l}):n.rt("{firstMemberName}, {secondMemberName}, and {memberCount, plural, =0 {} =1 {1 other} other {# others}} are currently in the huddle.",{fallbackHash:"e851e92374eb17ce86e7497a3ce9a691b8515b61",firstMemberName:a,secondMemberName:l,memberCount:d-2}),[a,l,d])}_(c,"useGetCopyForMembersInHuddle")},1973246490:(N,g,e)=>{"use strict";e.d(g,{W:()=>n});var t=e(3534324375),s=e(9506008067),o=e(9548972574);function n(c){let{channelId:i}=c;const r=(0,s.d4)(u=>(0,o.ft)(u,i)),a=r?r.length:0,l=(0,s.d4)(u=>!r||r.length<1?null:(0,t.sE)(u,r[0])),d=(0,s.d4)(u=>!r||r.length<2?null:(0,t.sE)(u,r[1]));return{firstMemberName:l,secondMemberName:d,memberCount:a}}_(n,"useGetMembersInHuddle")},2164739987:(N,g,e)=>{"use strict";e.d(g,{f:()=>s});var t=e(3929724715);function s(o){const n=(0,t.cU)(o);return n!==""&&n!==void 0}_(s,"huddleChannelHasTopic")},5011231008:(N,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(7723800688),i=e(5169680368),r=e(5043394918),a=e(4745917661),l=e(6084388622),d=e(440635146),u=e(9194155027),f=e(8683010724),m=e(8181621268),h=e(8668318456),v=e(4094753332),p=e(6471059816),T=e(387328355),A=e(9506008067),C=e(6251210828),I=e(1049642794);const D=new p.Ay("huddles"),y=[d.tc.CmdOrCtrl,"Shift"],P=_(M=>{let{className:S,microphonePermissionDenied:R=!1,displayShortcutTooltip:k=!0}=M;const O=(0,s.wA)(),U=(0,A.d4)(ne=>!!(0,T.WQ)(ne,"isMicrophoneEnabled")&&!R),W=(0,c.Ay)(),x=(0,A.d4)(ne=>(0,C.U7)(ne,{key:c.Hi.CANVAS_OPEN})),{microphoneLabel:L,deviceLabel:b,ariaLabel:F}=(0,i.k)(),B=(0,t.useCallback)(()=>{R||O((0,I.A)(!U))},[O,U,R]),K=(0,t.useMemo)(()=>({elementName:c.Hi.CANVAS_TOOLBAR,eventId:U?h.EventId.HUDDLES_MUTE:h.EventId.HUDDLES_UNMUTE,onClick:{enableClogAction:!0},interactionId:x,...W}),[W,x,U]),H=(0,v.cX)()?"Meta":"Control",Y=t.createElement(l.Nm,{className:n()("c-icon_button","c-icon_button--size_medium","p-huddle_toolbar__button",S,{"p-huddle_toolbar__button--toggled_on":U,"p-huddle_toolbar__mic--disabled":R}),htmlType:"button",onClick:B,autoClogProps:K,"aria-label":F,"aria-describedby":"microphone-info","aria-keyshortcuts":`Space+${H}+Shift`,"data-qa":"huddle_video_modal_footer",tabIndex:-1,"aria-disabled":R},t.createElement(r.A,{className:"p-huddle_toolbar__mic_volume_indicator",peerId:"self",isMicrophoneEnabled:U,allowMuteIconAnimation:!0}),R&&t.createElement("div",{className:"p-huddle_toolbar__mic_alert_container"},t.createElement("div",{className:"p-huddle_toolbar__mic_alert"},t.createElement(f.A,{name:"warning-filled"}))),t.createElement("div",{hidden:!0,id:"microphone-info"},b)),Z=(0,t.useMemo)(()=>{if(R)return D.t("Microphone permission denied",{fallbackHash:"fb28c69013a2f5cff9d5ad4f7c2ca97cb1d14d4a",fallbackHashNs:"huddles_audio_video_prefs"});const ne=t.createElement(a.A,{actionLabel:L,deviceLabel:b});return k?t.createElement(u.A,{title:ne,mainKey:"Space",modifiers:y}):ne},[b,L,R,k]);return t.createElement(m.Ay,{tip:Z},Y)},"HuddleToolbarMuteButton");P.displayName="HuddleToolbarMuteButton";const E=t.memo(P)},3674485380:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(8736071954),o=e(1917379822),n=e(6148781344),c=e(5536692738),i=e(6471059816),r=e(9506008067),a=e(9365970888);const l=new i.Ay("huddles"),d=390,u=278,f=_(h=>{let{deviceType:v,isBlocked:p,widthStyle:T,size:A}=h;const C=(0,t.useMemo)(()=>({[s.lW.Microphone]:l.t("Microphone devices"),[s.lW.Camera]:l.t("Camera devices"),[s.Q4]:l.t("Audio output devices")}),[]),D=(0,r.d4)(a.oG)[v],y=(0,t.useMemo)(()=>p?[{label:l.t("Permission not yet granted"),value:"no_access",type:v}]:D.map(R=>({label:p||!R.label?l.t("Permission not yet granted"):R.label,value:R.id,type:v})),[D,v,p]),P=(0,t.useCallback)(R=>{(0,o.cT)(R.value,v,n.S.TroubleshootingPanelDeviceSelector)},[v]);if(!C)return null;const E=y[0],M=C[v];let S;switch(T){case"inline":S=`${d}px`;break;case"default":S=`${u}px`;break;case"stretch":S="100%";break;default:throw new Error(`unhandled type ${T}`)}return t.createElement(c.Ay,{isDisabled:p,ariaLabel:M,selectId:v,options:y,selectedOption:E,width:S,onOptionSelected:P,className:"p-huddle_troubleshooting_panel__device-selector",size:A})},"DeviceSelector");f.displayName="DeviceSelector";const m=f},8801078943:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(8736071954),o=e(3674485380),n=e(6471059816),c=e(9506008067),i=e(2465464861);const r=new n.Ay("huddles"),a=_(d=>{let{className:u,selectSize:f="small",cameraPermissionDenied:m=!1,widthStyle:h="stretch"}=d;const{isCameraBlocked:v}=(0,c.Z2)(i.FP)||{};return t.createElement("div",{className:u},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},r.t("Camera"))),t.createElement(o.A,{deviceType:s.lW.Camera,isBlocked:v||m,widthStyle:h,size:f}))},"Camera");a.displayName="Camera";const l=a},1593595278:(N,g,e)=>{"use strict";e.d(g,{A:()=>v,Y:()=>m});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(1337358413),c=e(8736071954),i=e(3674485380),r=e(6471059816),a=e(9506008067),l=e(2465464861),d=e(5671227444),u=e.n(d);const f=new r.Ay("huddles");var m;(function(p){p[p.Default=0]="Default",p[p.Inline=1]="Inline",p[p.Hidden=2]="Hidden"})(m||(m={}));const h=_(p=>{let{className:T,audioMeterLayout:A=m.Default,selectSize:C="small",isEnabled:I=!0,microphonePermissionDenied:D=!1,widthStyle:y="stretch"}=p;const{isMicrophoneBluetooth:P}=(0,a.Z2)(l.h)||{},{isMicrophoneBlocked:E}=(0,a.Z2)(l.FP)||{},M=A===m.Default||A===m.Inline;return t.createElement("div",{className:T},t.createElement("div",{className:o()("audio-section",{[u().inlineAudioMeterContainer]:A===m.Inline})},t.createElement("span",{className:"p-device-label"},f.t("Microphone")),M&&t.createElement(n.Ay,{initNumBubbles:9,containerClassName:o()("p-audio-levels-container",{[u().inlineAudioMeter]:A===m.Inline}),bubbleClassname:"p-audio-bubble",ariaLabel:f.t("Input Level"),isEnabled:I})),t.createElement(i.A,{deviceType:c.lW.Microphone,isBlocked:E||D,widthStyle:y,size:C}),P&&t.createElement("div",{className:"bluetooth-warning"},f.t("Bluetooth can degrade audio quality")))},"Microphone");h.displayName="Microphone";const v=h},9948866681:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(8736071954),o=e(1917379822),n=e(3674485380),c=e(8739505998),i=e(4094753332),r=e(6471059816),a=e(2854284421),l=e(9506008067),d=e(2465464861);const u=new r.Ay("huddles"),f=_(h=>{let{className:v,selectSize:p="small",showTestSpeaker:T=!1,microphonePermissionDenied:A=!1,widthStyle:C="stretch"}=h;const{isSpeakerBluetooth:I}=(0,l.Z2)(d.h)||{},D=(0,t.useRef)(null),y=(0,t.useCallback)(async()=>{if(D.current){const E=(0,o._o)();await D.current.setSinkId(E),D.current.play()}},[]);(0,t.useEffect)(()=>(D.current=new Audio(a.pW),()=>{D.current&&(D.current=null)}),[]);const P=A&&!(0,i.y3)();return t.createElement("div",{className:v},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},u.t("Speakers")),T&&t.createElement(c.A,{onClick:y},u.t("Test Speaker",{fallbackHash:"d890e6d8efa58744e75a0a5e0017242b538d3aa2",fallbackHashNs:"huddles_audio_video_prefs"}))),t.createElement(n.A,{deviceType:s.Q4,widthStyle:C,size:p,isBlocked:P}),I&&t.createElement("div",{className:"bluetooth-warning"},u.t("Bluetooth can degrade audio quality")))},"Speaker");f.displayName="Speaker";const m=f},5152651193:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(5918772940),o=e.n(s),n=e(4121690455),c=e.n(n),i=e(2440739180),r=e.n(i),a=e(1894681178);const l=_(u=>{let{headerInfo:f,isUnlinked:m=!1}=u;const h=(0,a.A)(f,56);return t.createElement("div",{className:"p-identity_transfer_modal__logo"},t.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:o()})),t.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.createElement("img",{alt:"",src:m?r():c()})),t.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:h})))},"IdentityTransferModalLogo");l.displayName="IdentityTransferModalLogo";const d=l},7008286275:(N,g,e)=>{"use strict";e.d(g,{A:()=>ke});var t=e(3134334389),s=e(6122756707),o=e(9506008067),n=e(4844578989),c=e.n(n),i=e(7173172014),r=e(6439846314),a=e(2927826522),l=e(5257368278),d=e(4433296946);const u=(0,l.A)("Get SIWS interstital blocks",(Ke,Ne,Re)=>{let{appId:xe,url:We,channelId:$}=Re;return Ke((0,r.apiCall)({args:{app_id:xe,uri:We,channel_id:$},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(ee=>({...(0,a.t)(ee,1)})).catch(ee=>{var Ve;throw((Ve=ee.data)===null||Ve===void 0?void 0:Ve.error)==="invalid_client_cache"&&Ke((0,d._)()),ee})});u.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};const f=u;var m=e(97319433),h=e(7937864072),v=e(8369079536),p=e(9003400431),T=e(6304789565),A=e(387484329),C=e(337319621),I=e(2239896522),D=e(7763971809);const y=(0,T.Ay)("Set completed transfer pref of identity links prefs",(Ke,Ne,Re)=>{let{appId:xe,completedTransfer:We}=Re;const $=(0,I.IC)(Ne());let ee="{}";try{ee=JSON.stringify({...$,[xe]:{completed_transfer:We,date_completed_transfer:Number(Date.now())}})}catch(Ve){(0,C.Ay)({getState:Ne}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",Ve)}return Ke((0,A.AZ)({pref:D.V,value:ee}))});y.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var P=e(5973312896),E=e(980293773),M=e(8668318456),S=e(2768056446),R=e(4645337865),k=e(2683115972),O=e(3165300465),U=e(7138682671),W=e(6471059816),x=e(9907843289),L=e(441565466),b=e(5152651193);const F=new W.Ay("app-config"),B=_(Ke=>{let{url:Ne}=Ke;return Ne?t.createElement("div",{className:"p-identity_transfer_modal__redirect"},t.createElement("span",{className:"overflow_ellipsis"},F.t("Link to: "),Ne)):null},"IdentityTransferModalLink");B.displayName="IdentityTransferModalLink";const K=B;var H=e(2276214198),Y=e(555314707);const Z=new W.Ay("app-config"),V=_(Ke=>{let{appId:Ne,domain:Re,email:xe,headerInfo:We,logger:$,setIdentityTransferStep:ee,setLinkClickedPrefs:Ve,url:ze,hideLink:st=!1,reverifyEmail:Ge=!1,autoClogProps:be}=Ke;const Se=(0,s.wA)(),we=(0,v.A)(),Ce=(0,L.A)(),[Te,Ye]=(0,t.useState)(S.lS.Empty),[De,Pe]=(0,t.useState)(!1),[ye,He]=(0,t.useState)(!1),Qe=(0,t.useCallback)(async()=>{try{await Se((0,Y.i)({reason:"identity-transfer-modal",confirmationType:"code",email:xe,intent:"identity_links",locale:(0,x.Yp)()}))}catch(Nt){$.error("error in sending confirm email",Nt)}},[Se,xe,$]);(0,t.useEffect)(()=>{we.current&&Qe()},[we,Qe]);const dt=(0,t.useCallback)(()=>{ee(Ge?"reverifyEmail":"permissions")},[Ge,ee]),Ot=(0,t.useCallback)(()=>{Ye(S.lS.Empty),He(!1)},[]),yt=(0,t.useCallback)(()=>{Qe()},[Qe]),Dt=(0,t.useCallback)(async Nt=>{try{Ye(S.lS.Processing),Pe(!0),await Se((0,H.b)({reason:"identity-transfer-modal-email-verification",code:Nt,email:xe,intent:"identity_links"})),await Ve(!0),we.current&&(Ye(S.lS.Success),Pe(!1),He(!1))}catch(It){if(we.current){switch(It.name){case"expired":Ye(S.lS.Expired),He(!1),Qe();break;case"failed":Ye(S.lS.Error),He(!1);break;case"ratelimited":Ye(S.lS.Ratelimited),He(!1);break;default:Ye(S.lS.Unknown),He(!0);break}Pe(!1)}}},[Se,xe,we,Qe,Ve]),Ct=(0,t.useCallback)(Nt=>{Nt.preventDefault()},[]),kt=(0,t.useMemo)(()=>({eventId:M.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:Ne,idlDomain:Re,idlEventId:M.EventId[M.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...be}),[Ne,be,Re]),vt=Te===S.lS.Expired||Te===S.lS.Error||Te===S.lS.Unknown;return t.createElement(t.Fragment,null,t.createElement(E.$m,null,t.createElement(b.A,{headerInfo:We}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},Z.t("Please verify your email address")),t.createElement(E.qf,null,t.createElement("p",null,Z.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:xe})),t.createElement("div",{className:"margin_bottom_50"},t.createElement("strong",null,Z.t("Enter the code below:"))),t.createElement("form",{onSubmit:Ct},t.createElement("fieldset",{className:"no_margin no_padding no_border"},t.createElement("legend",{className:"offscreen"},Z.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:Re,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),t.createElement(R.A,{isCheckError:!1,isNumbersOnly:!1,onChange:Ot,onFillCode:Dt,isInvalid:vt,ariaDescribedBy:Ce}))),t.createElement(S.UU,{status:Te,id:Ce}),ye&&t.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},t.createElement(U.A,{htmlFor:"resend_verification_email",text:Z.t("Get a new verification code.")}),t.createElement(k.Ay,{id:"resend_verification_email",onClick:yt},Z.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),t.createElement(E.jl,null,!st&&t.createElement(K,{url:ze}),t.createElement(E.ox,null,t.createElement(O.A,{"aria-label":Z.t("Back"),autoClogProps:kt,"data-qa":"siws_email_verification_back",loading:De,onClick:dt,type:"outline"},Z.t("Back")))))},"IdentityTransferModalEmailVerification");V.displayName="IdentityTransferModalEmailVerification";const ne=V;var q=e(3150724727),me=e(1610251172),ue=e(6084388622);const ae=new W.Ay("app-config"),le=_(Ke=>{let{email:Ne,name:Re,userId:xe,workspaceDomain:We}=Ke;const $=(0,L.A)(),[ee,Ve]=(0,t.useState)(!1);return t.createElement("div",{className:"p-identity_transfer_modal__member_card"},t.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:$},t.createElement(q.Ay,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:xe}),t.createElement("div",null,t.createElement("p",{className:"bold"},Re),t.createElement("p",null,Ne),t.createElement(ue.Nm,{"data-qa":"expand_to_see_user_details","aria-controls":$,"aria-expanded":ee,"aria-label":ee?ae.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):ae.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>Ve(!ee)},t.createElement(me.A,{type:ee?"chevron-large-up":"chevron-large-down"})),ee&&t.createElement(t.Fragment,null,t.createElement("p",null,ae.t("Workspace ID: {workspaceDomain}",{workspaceDomain:We})),t.createElement("p",null,ae.t("User ID: { userId }",{userId:xe}))))))},"IdentityTransferModalMemberCard");le.displayName="IdentityTransferModalMemberCard";const fe=le,he=new W.Ay("app-config"),ie=_(Ke=>{let{icon:Ne,text:Re}=Ke;return t.createElement("div",{className:"p-identity_transfer_modal__description_item"},t.createElement(me.A,{"aria-label":he.t("{icon} icon",{icon:Ne}),className:"p-identity_transfer_modal__description_icon",type:Ne}),t.createElement("p",null,Re))},"IdentityTransferModalDescriptionItem");ie.displayName="IdentityTransferModalDescriptionItem";const X=ie;var j=e(8739505998),w=e(1275630749);const Q=new W.Ay("app-config"),G=_(Ke=>{let{appName:Ne,privacyPolicyUrl:Re,tosUrl:xe}=Ke;return t.createElement("div",{className:"p-identity_transfer_modal__legal"},Q.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:Ne,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},We=>{let{tag:$,text:ee}=We;switch($){case"a1":return t.createElement(j.A,{href:xe},ee);case"a2":return t.createElement(j.A,{href:Re},ee);case"a3":return t.createElement(j.A,{href:(0,w.v)("/privacy-policy")},ee);default:return null}}))},"IdentityTransferModalLegal");G.displayName="IdentityTransferModalLegal";const J=G,te=new W.Ay("app-config"),se=_(Ke=>{let{appId:Ne,domain:Re,isUnskippable:xe=!1,hideLink:We=!1,headerInfo:$,isLoading:ee,legalInfo:Ve,setIdentityTransferStep:ze,setLinkClickedPrefs:st,url:Ge,userInfo:be,autoClogProps:Se}=Ke;const we=(0,v.A)(),[Ce,Te]=(0,t.useState)(!0),[Ye,De]=(0,t.useState)(!1),[Pe,ye]=(0,t.useState)(!0),[He,Qe]=(0,t.useState)(!1);(0,t.useEffect)(()=>{Te(ee),ye(ee)},[ee]);const dt=_(async kt=>{kt?(De(!0),ye(!0)):(Te(!0),Qe(!0)),await st(kt),we.current&&(kt?(De(!1),ye(!1)):(Te(!1),Qe(!1)))},"setLoadingAndLinkClickedPrefs"),Ot=_(()=>{be.isEmailVerified?dt(!0):ze("emailVerification")},"handleAcceptClicked"),yt=_(()=>{dt(!1)},"handleSkipClicked"),Dt=_(()=>{dt(!1)},"handleCancelClicked"),{appName:Ct}=$;return t.createElement(t.Fragment,null,t.createElement(E.$m,null,t.createElement(b.A,{headerInfo:$}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},xe?te.t("Connect {appName} with Slack",{appName:Ct}):te.t("Continue to {appName} with Slack",{appName:Ct})),t.createElement(E.qf,{className:"p-identity_transfer_modal__member_section"},t.createElement(fe,{email:be.email,name:be.name,userId:be.userId,workspaceDomain:be.workspaceDomain})),t.createElement(E.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,te.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),t.createElement(X,{icon:"plug",text:te.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:Ct})}),t.createElement(X,{icon:"user",text:te.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:Ct})}),t.createElement(X,{icon:"sparkles",text:te.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:Ct})})),t.createElement(J,{appName:Ct,privacyPolicyUrl:Ve.privacyPolicyUrl,tosUrl:Ve.tosUrl}))),t.createElement(E.jl,null,!We&&t.createElement(K,{url:Ge}),t.createElement(E.ox,null,!xe&&t.createElement(O.A,{autoClogProps:{eventId:M.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:Ne,idlDomain:Re,idlEventId:M.EventId[M.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:Pe,loading:He,onClick:yt,type:"outline","aria-label":te.t("Skip")},te.t("Skip")),xe&&t.createElement(k.Ay,{type:"outline",onClick:Dt,autoClogProps:{eventId:M.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:Ne,idlDomain:Re,idlEventId:M.EventId[M.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...Se}},te.t("Cancel")),t.createElement(O.A,{autoClogProps:{eventId:M.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:Ne,idlDomain:Re,idlEventId:M.EventId[M.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...Se},"data-qa":"siws_auth_modal_accept",disabled:Ce,loading:Ye,onClick:Ot,type:"primary","aria-label":te.t("Accept")},te.t("Accept")))))},"SiwsIdentityTransfer");se.displayName="SiwsIdentityTransfer";const ce=se,Ee=new W.Ay("app-config"),de=_(Ke=>{let{appId:Ne,domain:Re,headerInfo:xe,url:We,setIdentityTransferStep:$}=Ke;const ee=(0,s.wA)(),Ve=(0,o.d4)(Ge=>(0,I.LG)(Ge,Ne)),ze=_(()=>{$("permissions")},"handleBackClicked"),st=_(()=>{ee((0,P.J)({appId:Ne,dateOptedOut:Date.now(),numSkipped:Ve+1})),window.open(We,"_blank","noopener,noreferrer"),ee((0,p.O)())},"handleProceedClicked");return t.createElement(t.Fragment,null,t.createElement(E.$m,null,t.createElement(b.A,{headerInfo:xe}),t.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},Ee.t("You\u2019ve skipped a few times and we hear you")),t.createElement(E.qf,null,t.createElement("div",null,Ee.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:xe.appName,link:t.createElement(j.A,{href:We},We)})))),t.createElement(E.jl,null,t.createElement(E.ox,null,t.createElement(ue.Ay,{"aria-label":Ee.t("Back"),autoClogProps:{idlAppId:Ne,idlDomain:Re,eventId:M.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:ze,type:"outline"},Ee.t("Back")),t.createElement(ue.Ay,{"aria-label":Ee.t("Proceed"),autoClogProps:{idlAppId:Ne,idlDomain:Re,eventId:M.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:st},Ee.t("Proceed")))))},"IdentityTransferModalSkip");de.displayName="IdentityTransferModalSkip";const re=de,_e=new W.Ay("app-config"),ve=_(Ke=>{let{email:Ne,headerInfo:Re,setIdentityTransferStep:xe}=Ke;const We=(0,s.wA)(),$=_(()=>{xe("emailVerification")},"handleVerifyClicked"),ee=(0,t.useCallback)(()=>{We((0,p.O)())},[We]);return t.createElement(t.Fragment,null,t.createElement(E.$m,null,t.createElement(b.A,{headerInfo:Re}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},_e.t("Verify your account to continue with {appName}",{appName:Re==null?void 0:Re.appName})),t.createElement(E.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,_e.t("Verification Required"))),t.createElement("ul",null,t.createElement("li",null,_e.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:Re==null?void 0:Re.appName})),t.createElement("li",null,_e.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:t.createElement("b",null,t.createElement("span",null,Ne))}))),t.createElement("p",null,_e.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),t.createElement(E.jl,null,t.createElement(E.ox,null,t.createElement(k.Ay,{type:"outline",onClick:ee},_e.t("Cancel")),t.createElement(k.Ay,{onClick:$},_e.t("Verify")))))},"IdentityTransferReverificationModal");ve.displayName="IdentityTransferReverificationModal";const ge=ve,Le=_(Ke=>{let{appId:Ne,domain:Re,clientMsgId:xe,isUnfurl:We=!1,isUserPrefs:$=!1,url:ee,channelId:Ve,reverifyEmail:ze=!1}=Ke;const st=(0,s.wA)(),Ge=(0,h.A)(),be=(0,v.A)(),[Se,we]=(0,t.useState)(null),[Ce,Te]=(0,t.useState)({appName:"",icons:{}}),[Ye,De]=(0,t.useState)({tosUrl:"",privacyPolicyUrl:""}),[Pe,ye]=(0,t.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[He,Qe]=(0,t.useState)(!0),[dt,Ot]=(0,t.useState)(ze?"reverifyEmail":"permissions"),yt=(0,o.d4)(It=>We?0:(0,I.LG)(It,Ne));(0,t.useEffect)(()=>{_(async()=>{try{const{header:At,legal:Zt,user:jt}=await st(f({appId:Ne,url:ee,channelId:!$&&!We?Ve:void 0}));be.current&&(Te(At),De(Zt),ye(jt),Qe(!1))}catch(At){!We&&!$&&window.open(ee,"_blank","noopener,noreferrer"),st((0,p.O)()),Ge.error(`app-id - ${Ne}`,"error in getting interstitial blocks for link with given appid",At)}},"getAuthModalData")()},[Ne,st,Ge,be,ee,We,$,Ve]);const Dt=(0,t.useCallback)(async It=>{try{It?(!$&&ee&&await st((0,m.Ap)({appId:Ne,url:ee,clientMsgId:xe,domain:Re,shouldCloseWindowOnCompletion:We})),st(y({appId:Ne,completedTransfer:!0})),st((0,p.O)())):!We&&!$&&yt<2?(st((0,P.J)({appId:Ne,dateLastSkipped:Date.now(),numSkipped:yt+1})),st((0,p.O)()),window.open(ee,"_blank","noopener,noreferrer")):!We&&!$&&yt===2?Ot("skip"):(st((0,p.O)()),!We&&!$&&window.open(ee,"_blank","noopener,noreferrer"))}catch(At){Ge.error(`app-id - ${Ne}`,"error in setting prefs with given appid",At)}},[Ne,st,Re,xe,Ge,yt,ee,We,$]),Ct=(0,t.useCallback)(()=>{const It={permissions:M.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:M.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:M.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:M.EventId.IDL_EMAIL_VERIFICATION_CLOSED},At=It==null?void 0:It[dt];if(Se==null||Se.track({eventId:At,entryPoint:"USER_PREFS",idlAppId:Ne,idlDomain:Re,idlEventId:M.EventId[At].toLowerCase()}),We||$||ze){st((0,p.O)());return}dt==="skip"?(st((0,P.J)({appId:Ne,dateOptedOut:Date.now(),numSkipped:yt+1})),window.open(ee,"_blank","noopener,noreferrer")):yt<2?(st((0,P.J)({appId:Ne,dateLastSkipped:Date.now(),numSkipped:yt+1})),window.open(ee,"_blank","noopener,noreferrer")):yt===2&&Ot("skip"),dt!=="skip"&&yt===2||st((0,p.O)())},[Ne,Se,st,Re,dt,yt,ee,We,$,ze]);let kt;const vt={entryPoint:$?"USER_PREFS":void 0};switch(dt){case"reverifyEmail":kt=t.createElement(ge,{email:Pe.email,headerInfo:Ce,setIdentityTransferStep:Ot});break;case"emailVerification":kt=t.createElement(ne,{hideLink:$||We,appId:Ne,domain:Re,email:Pe.email,headerInfo:Ce,logger:Ge,setIdentityTransferStep:Ot,setLinkClickedPrefs:Dt,url:ee,reverifyEmail:ze,autoClogProps:vt});break;case"skip":kt=t.createElement(re,{appId:Ne,domain:Re,headerInfo:Ce,setIdentityTransferStep:Ot,url:ee});break;default:kt=t.createElement(ce,{isUnskippable:We||$,hideLink:We||$,appId:Ne,domain:Re,headerInfo:Ce,isLoading:He,legalInfo:Ye,setIdentityTransferStep:Ot,setLinkClickedPrefs:Dt,userInfo:Pe,url:ee,autoClogProps:vt})}const Nt=c()("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":dt==="skip"});return t.createElement(i.A,{trackClogRef:It=>{we({track:It})}},t.createElement(E.dW,{className:Nt,closeModal:Ct,shouldCloseOnOverlayClick:!1},kt))},"IdentityTransferModal");Le.displayName="IdentityTransferModal";const ke=Le},1650415028:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(6122756707),o=e(9506008067),n=e(8170244779),c=e(8668318456),i=e(1469799399),r=e(8262898118),a=e(7173172014),l=e(2239896522);const d=_(f=>{let{children:m,url:h}=f;const v=(0,s.wA)(),p=(0,t.useContext)(n.A).channelId,T=(0,o.d4)(y=>(0,r.ND)(y,h)),A=(0,o.d4)(y=>(0,r.pF)(y,h)),C=(0,o.d4)(y=>(0,l.Xe)(y,T??"")!==null),I=(0,t.useCallback)(y=>{y.shiftKey||y.metaKey||y.ctrlKey||(y.preventDefault(),v((0,i.C)({url:h,channelId:p})))},[v,h,p]),D=(0,t.useMemo)(()=>({onClick:{enableClogAction:!C}}),[C]);return t.createElement(a.A,{eventId:c.EventId.IDL_CLICKED,idlAppId:T,idlDomain:A,idlEventId:c.EventId[c.EventId.IDL_CLICKED].toLowerCase()},typeof m=="function"?m(I,D):m)},"IdentityTransferTrigger");d.displayName="IdentityTransferTrigger";const u=d},5165209241:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(9391594207),o=e(4979382452),n=e(4636370173),c=e(2465132699),i=e(6308822),r=e(9003400431);function a(d){return t.createElement(o.A,{className:d.className,closeModal:d.closeModal},t.createElement(n.A,null,t.createElement(c.A,null,t.createElement("div",{className:"c-lazy_modal"},t.createElement(i.A,null)))))}_(a,"LoadingModal"),a.displayName="LoadingModal";const l=(0,s.N)(null,d=>({closeModal:()=>d((0,r.O)())}))(a)},2238535162:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7937864072),c=e(2647703359),i=e(8683010724),r=e(9506008067),a=e(3328068409);function l(u){let{iconClassName:f,file:m,isFilled:h=!0,isMicro:v=!1,size:p="20"}=u;const T=(0,n.A)(),A=(0,r.d4)(a.to);return m&&!(0,c.l7)(m)?(T.error(`[ListIcon] Expected List file, got ${(0,c.ti)(m)}`),null):t.createElement("div",{className:o()(f,"p-list_icon",`p-list_icon--${A}`,{"p-list_icon--micro":v})},t.createElement(i.A,{name:h?"lists-filled":"lists",size:v?"inherit":p}))}_(l,"ListIcon"),l.displayName="ListIcon";const d=t.memo(l)},6069260775:(N,g,e)=>{"use strict";e.d(g,{e:()=>a});var t=e(3134334389),s=e(9506008067),o=e(4844578989),n=e.n(o),c=e(1545824888);const i=t.memo(t.forwardRef((l,d)=>{let{getAnimationImport:u,className:f,minHeight:m,svgClassName:h,loadingClassName:v,errorClassName:p,description:T,loop:A=!1,autoplay:C=!1,renderLoading:I,renderError:D,preserveAspectRatio:y}=l;const[P,E]=(0,t.useState)(!0),[M,S]=(0,t.useState)(!1),R=(0,t.useRef)(null),k=(0,t.useRef)(null),O=(0,t.useRef)(null);O.current||(O.current=c.S.all([e.e("gantry-v2-async-lottie-web").then(e.t.bind(e,221124150,23)),u()]).then(W=>{let[x,L]=W;if(!R.current)throw new Error("Lottie animation missing container");return E(!1),k.current=x.loadAnimation({container:R.current,renderer:"svg",loop:A,autoplay:C,animationData:L,rendererSettings:{className:n()("p-lottie__svg",h),description:T,preserveAspectRatio:y}}),c.S.resolve(k.current)}).catch(W=>(S(!0),c.S.reject(W)))),(0,t.useEffect)(()=>()=>{O.current&&O.current.cancel(),k.current&&k.current.destroy()},[O,k]),(0,t.useImperativeHandle)(d,()=>O.current,[O]);const U=(0,t.useMemo)(()=>P&&I?I():M&&D?D():null,[I,D,P,M]);return t.createElement("div",{ref:R,style:m!==void 0?{minHeight:m}:void 0,className:n()("p-lottie",f,P&&v,M&&p)},U)}));var r=e(2047021170);const a=t.memo(t.forwardRef((l,d)=>{let{getAnimationImport:u,className:f,minHeight:m,svgClassName:h,loadingClassName:v,errorClassName:p,description:T,loop:A=!1,autoplay:C=!1,renderLoading:I,renderError:D,preserveAspectRatio:y}=l;const P=(0,s.d4)(E=>(0,r.ty)(E,"a11y_animations"));return t.createElement(i,{getAnimationImport:u,className:f,minHeight:m,svgClassName:h,loadingClassName:v,errorClassName:p,description:T,loop:A,autoplay:!!(P&&C),renderLoading:I,renderError:D,preserveAspectRatio:y,ref:d})}))},5460331959:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(7715417323),o=e(4978843660),n=e(166097325),c=e(6696292586),i=e(6650208157);const r=4;function a(d){let{children:u,fallbackWidth:f=void 0,onResize:m=s.A}=d;const[h,v]=(0,t.useState)({width:0,height:0}),[p,T]=(0,t.useState)(!1),A=(0,t.useRef)([]);function C(D){let{width:y}=D;if(A.current.unshift(y),A.current.length<r)return!1;A.current.length>r&&(A.current.length=r);const P=(0,o.A)(A.current,2);return P.slice(1).every(E=>(0,n.A)(E,P[0]))}_(C,"looksLikeResizeLoop");const I=(0,t.useCallback)(D=>{m(D),v(D.bounds),(0,c.A)(f)&&!p&&T(C(D.bounds))},[f,m,p]);return t.createElement(i.A,{bounds:!0,onResize:I},D=>{let{measureRef:y}=D;return u({...h,width:p&&f?f:h.width,measureRef:y})})}_(a,"Measure"),a.displayName="Measure";const l=a},9446966957:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),s=e(3262078016),o=e(8646591923),n=e(7592430824),c=e(2843556239);const r=_(a=>{let{value:l,max:d,tick:u,jump:f,onChange:m,renderContainer:h,renderTrack:v,renderInner:p,onMouseDown:T,onMouseUp:A,"aria-label":C,"aria-valuetext":I,vertical:D,autoFocus:y}=a;const P=(0,t.useRef)(null),{embeddedUiData:E}=(0,t.useContext)(n.N),{windowRef:M}=(0,t.useContext)(c._0),S=(0,t.useCallback)(F=>{let{pageX:B,pageY:K}=F;const H=P.current;if(!H)return;const Y=H.getBoundingClientRect(),Z=D?Y.y:Y.x,V=Math.max(0,(D?K:B)-Z),ne=D?Y.height:Y.width,me=(D?1-Math.min(1,V/ne):Math.min(1,V/ne))*d;m(me)},[d,m,D]),R=(0,t.useCallback)(F=>{S(F)},[S]),k=(0,t.useCallback)(F=>{var B,K;(B=M.deref())===null||B===void 0||B.document.removeEventListener("mousemove",R),(K=M.deref())===null||K===void 0||K.document.removeEventListener("mouseup",k),A==null||A(F)},[R,A,M]),O=(0,t.useCallback)(F=>{var B,K;F.button!==0||F.ctrlKey||(S(F),F.preventDefault(),(B=M.deref())===null||B===void 0||B.document.addEventListener("mousemove",R),(K=M.deref())===null||K===void 0||K.document.addEventListener("mouseup",k),T==null||T(F))},[R,k,S,T,M]),U=(0,t.useCallback)(F=>{switch(F.which){case o.LE:case o.i7:m(l+(u??1));break;case o.UQ:case o.n6:m(l-(u??1));break;case o.w_:m(l+(f??d*.1));break;case o.dB:m(l-(f??d*.1));break;case o.yZ:m(0);break;case o.Kp:m(d);break;default:return}F.preventDefault()},[l,d,u,f,m]);(0,t.useEffect)(()=>{var F;return P==null||(F=P.current)===null||F===void 0||F.toggleAttribute(s.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!E),()=>{var B,K;(B=M.deref())===null||B===void 0||B.document.removeEventListener("mousemove",R),(K=M.deref())===null||K===void 0||K.document.removeEventListener("mouseup",k)}},[E,R,k,M]),(0,t.useEffect)(()=>{y&&P.current&&P.current.focus()},[y]);const W=`${((d>0?l/d:0)*100).toFixed(2)}%`,x=p({style:D?{height:W}:{width:W}}),L=v({children:x,tabIndex:0,role:"slider","aria-label":C,"aria-valuemin":0,"aria-valuemax":d,"aria-valuenow":Math.floor(l),"aria-valuetext":I,onKeyDown:U,ref:P});return h({children:L,onMouseDown:O})},"CustomizableSlider")},3118200703:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(7592430824),o=e(6105929840),n=e(2312625946),c=e(8668318456),i=e(6471059816);const r=new i.Ay("stories_av"),a={eventId:c.EventId.BK_USER_INTERACTION,interactionElement:c.InteractionElement.VIDEO,onClick:{enableClogAction:!0,interaction:c.Interaction.EXPAND}};function l(u){let{onClick:f,size:m,classPrefix:h}=u;const{embeddedUiData:v}=(0,t.useContext)(s.N),T=!!v?r.t("View full screen",{fallbackHash:"de8414755b5ff3c3e9f07661b8a127f5e5f57865",fallbackHashNs:"file"}):r.t("Expand",{fallbackHash:"5de840011e47d74fc17266744fc23d99a5f90716"});return t.createElement(n.Ay,{tip:T,position:"top"},t.createElement(o.A,{className:`${h}__controls_overlay_fullscreen`,onClick:f,"aria-label":T,backgroundStyle:"dark",size:m,autoClogProps:a,svgIconProps:{name:"expand-diagonal"}}))}_(l,"FullscreenButton"),l.displayName="FullscreenButton";const d=l},1942976385:(N,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(2664504268),i=e(7592430824),r=e(3207321841),a=e(5204962244),l=e(3391133100),d=e(2602118042),u=e(6471059816),f=e(9506008067),m=e(2047021170),h=e(387484329);const v=new u.Ay("stories_av"),p=_(A=>{let{onSpeedChange:C,isInlinePlayer:I,onMouseEnter:D,onMouseLeave:y,className:P}=A;const E=(0,s.wA)(),[M]=(0,t.useState)({}),S=(0,f.d4)(b=>(0,m.ty)(b,"media_playback_speed")),[R,k]=(0,t.useState)(S||1),{embeddedUiData:O}=(0,t.useContext)(i.N),U=(0,a.d)(()=>`playback-speed-${(0,l.r9)()}`);(0,t.useEffect)(()=>{S&&Object.keys(M).length===0&&S!==R&&k(S)},[M,S,R]);const W=(0,t.useCallback)(b=>{const F=b.value,B=R;k(F);const K=(0,c.A)();M[K]=!0,E((0,h.AZ)({pref:"media_playback_speed",value:F})).finally(()=>{delete M[K]}),C==null||C(F,B)},[E,M,R,C]),x=(0,t.useMemo)(()=>[{label:v.t("Playback speed"),options:r.Cv.map(b=>({label:v.t("{speed}x",{speed:b,fallbackHash:"399e68d4ef7e131fd1ddd396dfb6bcf815269ef4"}),value:b}))}],[]),L=(0,t.useMemo)(()=>{var b;if(!((b=x[0])===null||b===void 0)&&b.options){for(const F of x[0].options)if(F.value===R)return F}return null},[R,x]);return t.createElement(d.A,{options:x,className:n()("p-media_controls__control--playback-speed",P,{"p-video_controls_overlay__controls__speed":I}),size:"small",minOptionsListWidth:140,selectedOption:L,onOptionSelected:W,ariaLabel:v.t("Set playback speed: currently {mediaPlaybackSpeed}\xD7",{mediaPlaybackSpeed:R}),onMouseEnter:D,onMouseLeave:y,selectId:U,preventScroll:!!O})},"MediaPlaybackSpeedControl");p.displayName="MediaPlaybackSpeedControl";const T=p},8371678613:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(3134334389),s=e(1942976385),o=e(5602423845),n=e(2312625946),c=e(8668318456),i=e(6471059816),r=e(9506008067),a=e(2047021170);const l=new i.Ay("stories_av");function d(f){let{isInlinePlayer:m,videoRef:h,sharedClogProps:v={},className:p}=f;const T=(0,o.A)(),A=(0,r.d4)(I=>(0,a.ty)(I,"media_playback_speed"));(0,t.useEffect)(()=>{var I;h==null||(I=h.current)===null||I===void 0||I.setPlaybackRate(A)},[A,h]);const C=(0,t.useCallback)((I,D)=>{T.track(c.EventId.MEDIA_PLAYER,{...v,contexts:{...v.contexts,ui_context:{ui_step:m?"embedded":"fullscreen",action:"click",ui_properties:{element_type:"button",element_name:"playback_speed"}}},from:`${D??1}x`,to:`${I??1}x`})},[T,v,m]);return t.createElement(n.Ay,{tip:l.t("Playback speed"),position:"top",delay:n.n1},t.createElement(s.A,{onSpeedChange:C,isInlinePlayer:m,className:p}))}_(d,"PlaybackSpeedButton"),d.displayName="PlaybackSpeedButton";const u=d},3242899446:(N,g,e)=>{"use strict";e.d(g,{A:()=>P});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(9446966957),i=e(7323656146),r=e(6471059816);function a(){return a=Object.assign||function(E){for(var M=1;M<arguments.length;M++){var S=arguments[M];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(E[R]=S[R])}return E},a.apply(this,arguments)}_(a,"_extends");const l=new r.Ay("stories_av");var d;(function(E){E.Normal="normal",E.Popover="popover",E.Vertical="vertical"})(d||(d={}));const u=_(E=>{let{children:M,volume:S,onChange:R,onMouseDown:k,onMouseUp:O,mode:U=d.Normal,setIsVerticalVolumeActive:W}=E;const x=(0,t.useContext)(i.A),L=(0,t.useCallback)(V=>{R(Math.round(V)/100)},[R]),b=(0,t.useCallback)(()=>{W==null||W(!0)},[W]),F=(0,t.useCallback)(()=>{W==null||W(!1)},[W]),B=Math.floor(S*100),K=(0,t.useCallback)(V=>t.createElement("div",a({className:"p-media_volume_slider__slider"},V)),[]),H=(0,t.useCallback)(V=>t.createElement("div",a({className:"p-media_volume_slider__track"},V)),[]),Y=(0,t.useCallback)(V=>t.createElement("div",a({className:"p-media_volume_slider__fill"},V)),[]),Z=t.createElement(c.A,{value:B,max:100,onChange:L,renderContainer:K,renderTrack:H,renderInner:Y,onMouseDown:k,onMouseUp:O,"aria-label":l.t("Volume"),"aria-valuetext":`${B}%`,vertical:U===d.Vertical});return t.createElement("div",{className:n()("p-media_volume_slider",{"p-media_volume_slider--keyboard_focus":x,[`p-media_volume_slider--${U}`]:U}),onMouseEnter:U===d.Vertical?b:void 0,onMouseLeave:U===d.Vertical?F:void 0,onFocus:U===d.Vertical?b:void 0,onBlur:U===d.Vertical?F:void 0},t.createElement("div",{className:"p-media_volume_slider__children"},M),t.createElement("div",{className:"p-media_volume_slider__slider_container"},Z))},"MediaVolumeSlider");u.displayName="MediaVolumeSlider";const f=u;var m=e(2036354333),h=e(5946832122),v=e(1610251172),p=e(9194155027),T=e(2312625946),A=e(9506008067),C=e(2047021170),I=e(387484329);const D=new r.Ay("stories_av");function y(E){let{isInlinePlayer:M,useVerticalVolume:S,videoRef:R,className:k,backgroundStyle:O,setIsVerticalVolumeActive:U}=E;const W=(0,s.wA)(),x=(0,A.d4)(he=>(0,C.ty)(he,"media_muted"));var L;const b=(L=(0,A.d4)(he=>(0,C.ty)(he,"media_volume")))!==null&&L!==void 0?L:1,[F,B]=(0,t.useState)(b),K=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var he;R==null||(he=R.current)===null||he===void 0||he.setMuted(x)},[x,R]),(0,t.useEffect)(()=>{var he;R==null||(he=R.current)===null||he===void 0||he.setVolume(F)},[R,F]);const H=(0,t.useCallback)(()=>{W((0,I.AZ)({pref:"media_muted",value:!x})),x&&B(b)},[W,x,b]),Y=(0,t.useCallback)(function(){let he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F;he===0?x||W((0,I.AZ)({pref:"media_muted",value:!0})):(x&&W((0,I.AZ)({pref:"media_muted",value:!1})),!K.current&&he!==b&&W((0,I.AZ)({pref:"media_volume",value:he})))},[W,F,x,b]),Z=(0,t.useRef)(Y);Z.current=Y;const V=(0,t.useCallback)(he=>{B(he),Z.current(he)},[]),ne=(0,t.useCallback)(()=>{K.current=!0},[]),q=(0,t.useCallback)(()=>{K.current=!1,Z.current()},[]);(0,t.useEffect)(()=>{K.current||B(b)},[b]);const me=x?D.t("Unmute"):D.t("Mute"),ue=D.t("Mute");let ae="volume-off-alt";x||(F>=.6?ae="volume-up":F>=.3?ae="volume-medium":ae="volume-down");const le=(0,t.useMemo)(()=>t.createElement(p.A,{title:me,mainKey:D.t("M")}),[me]);if(M){const he=t.createElement(T.Ay,{tip:me,position:S?"bottom":"top",delay:T.n1,hideFromScreenReader:!0},t.createElement(m.A,{className:"p-video_controls_overlay__controls__button p-video_controls_overlay__controls__button--mute","aria-label":ue,"aria-pressed":x,onClick:H},t.createElement(v.A,{type:ae,size:"inherit"})));return t.createElement(f,{volume:x?0:F,onChange:V,onMouseDown:ne,onMouseUp:q,setIsVerticalVolumeActive:U,mode:S?d.Vertical:d.Popover},he)}const fe=t.createElement(T.Ay,{tip:le,position:"top",delay:T.PK,hideFromScreenReader:!0},t.createElement(h.A,{onClick:H,"aria-label":ue,"aria-pressed":x,icon:ae,size:"medium",className:k,backgroundStyle:O||"light"}));return t.createElement(f,{volume:x?0:F,onChange:V,onMouseDown:ne,onMouseUp:q},fe)}_(y,"ToggleMute"),y.displayName="ToggleMute";const P=y},4250078557:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(1545824888),o=e(7937864072);const n="MEDIA-PLAYER";function c(u){const f=(0,o.A)(),[m,h]=(0,t.useState)(!0),[v,p]=(0,t.useState)(),[T,A]=(0,t.useState)();return(0,t.useEffect)(()=>{if(p(void 0),A(void 0),!u){h(!1);return}h(!0);let C;const I=new s.S((D,y,P)=>{const E=new XMLHttpRequest;let M=!1;E.addEventListener("load",()=>{f.info(n,"vtt loaded"),h(!1);const S=E.response;C=URL.createObjectURL(S),p(C),D(E.response),S.text().then(R=>{M||A(R)})}),E.addEventListener("error",()=>{f.warn(n,"error fetching vtt"),h(!1),y(new Error(`VTT load request failed with status ${E.status}`))}),P&&P(()=>{E.abort(),M=!0}),E.responseType="blob",E.withCredentials=!0,E.open("GET",u),E.send(),f.info(n,"fetching vtt")});return()=>{I.isPending()&&I.cancel(),C&&URL.revokeObjectURL(C)}},[f,u]),{vttLoading:m,vttSrc:v,vttText:T}}_(c,"useVtt");const i=c;var r=e(6471059816);const a=new r.Ay("stories_av");function l(u){let{vtt:f,enableMediaCaptions:m}=u;const{vttSrc:h}=i(f);return!f||!h?null:t.createElement("track",{label:a.t("Captions"),kind:"captions",src:h,default:m})}_(l,"TextTrack"),l.displayName="TextTrack";const d=l},4916948857:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(8800777280);function o(){const[c,i]=(0,t.useState)(!1),r=(0,t.useRef)(),a=(0,t.useRef)(!1),l=(0,t.useRef)(!1),d=(0,t.useCallback)(()=>{clearTimeout(r.current),r.current=setTimeout(()=>{a.current||i(!1)},1300)},[]),u=(0,t.useCallback)(()=>{i(!1),l.current=!1},[]),f=(0,t.useCallback)(()=>{i(!0),l.current=!0,d()},[d]),m=(0,t.useCallback)(()=>{l.current&&(i(!0),d())},[d]),h=(0,t.useCallback)(v=>{const p=(0,s.A)(v.target,T=>(T==null?void 0:T.dataset.preventFade)==="true");a.current=p},[]);return(0,t.useEffect)(()=>()=>clearTimeout(r.current),[]),{mouseIsOverElement:c,onMouseLeave:u,onMouseEnter:f,onMouseMove:m,onMouseOver:h}}_(o,"useDetectMouseOverElement");const n=o},9758574739:(N,g,e)=>{"use strict";e.d(g,{e:()=>C});var t=e(3134334389),s=e(6122756707),o=e(7173172014),n=e(581167618),c=e(2683115972),i=e(5791351025),r=e(5059707046),a=e(7685945408),l=e(4967176632),d=e(8739505998),u=e(8668318456),f=e(2432967967),m=e(3603672985),h=e(6259241484),v=e(3416652175),p=e.n(v);const T={elementName:"dispatch",onClick:{enableClogAction:!0}},A={notificationName:"",notificationData:""},C=_(I=>{let{initialValues:D=A,validate:y,onCloseModal:P,megaphoneSpaceName:E,notificationList:M,channelScopedId:S}=I;const[R,k]=(0,t.useState)(!1),[O,U]=(0,t.useState)(!1),W=(0,s.wA)(),x=(0,t.useCallback)((F,B)=>{let{setSubmitting:K}=B;k(!1),U(!1);const{notificationName:H,notificationData:Y}=F;if(!H){K(!1),k(!0);return}let Z={};if(Y.length)try{Z=JSON.parse(Y)}catch{K(!1),U(!0);return}P==null||P(),W((0,m.G0)({spaceName:E,notificationName:H,notificationData:Z,channelId:S})),E===h.xu.LAUNCH_MODAL&&W((0,f.A)())},[P,W,E,S]),L=(0,t.useMemo)(()=>t.createElement("div",{className:p().notificationName},"Notification Name"),[]),b=(0,t.useCallback)((F,B)=>D.notificationName?D.notificationName===F:B===0,[D.notificationName]);return t.createElement(o.A,{eventId:u.EventId.ANALYTICS_EVENT,uiComponentName:u.UiComponentName.MEGAPHONE_DISPATCHER,megaphoneSpaceName:E,clogImpression:!0},t.createElement(l.A,{initialValues:D,validate:y,onSubmit:x},F=>{let{isSubmitting:B,values:K}=F;return t.createElement(t.Fragment,null,t.createElement("h2",null,"\u{1F4E3} Megaphone Dispatcher"),"Click the Dispatch button below to instantly render Megaphone Notifications on the UI.",t.createElement("div",{className:p().spaceNameContainer},"Space Name",t.createElement("div",{className:p().spaceName},E)),t.createElement(i.A,{legendText:L,isRequired:!0},t.createElement("div",{className:p().notificationList},Object.keys(M).sort().map((H,Y)=>t.createElement(r.i,{key:H,labelText:H,id:`field-radio-${Y}`,name:"notificationName",value:H,checked:K.notificationName===H,focusOnMount:b(H,Y)})))),t.createElement(a.A,{labelText:"Notification Data",optional:!0,name:"notificationData",id:"notificationData",placeholder:'Ex: { "Field Name": "<String Value>", "Field Name": <Numeric Value> }',className:p().textArea}),t.createElement("div",{className:p().alert},t.createElement(n.Ay,{type:"boxed",level:"warning",icon:"warning",align:"left"},t.createElement("span",{className:p().alertText},t.createElement("b",null,"Some Megaphone notifications may not be dispatched due to various reasons, such as but not limited to:"),t.createElement("li",null," Missing notification data "),t.createElement("li",null,"The notification being part of an experiment "),"For questions or further assistance, reach out to us at"," ",t.createElement("b",null,t.createElement(d.A,{href:"https://app.slack.com/client/E12KS1G65/C0765PUTPDL",target:"_blank"},"#proj-megaphone-dispatcher")),"."))),R&&t.createElement("div",{className:p().formError},"Please select a notification."),O&&t.createElement("div",{className:p().formError},"There was an error parsing Notification Data, please try again."),t.createElement(c.Ay,{autoClogProps:T,disabled:B,htmlType:"submit"},"Dispatch"))}))},"DispatcherForm");C.displayName="DispatcherForm"},4445888975:(N,g,e)=>{"use strict";e.d(g,{R:()=>r,h:()=>a});var t=e(3134334389),s=e(6122756707),o=e(2878685908),n=e(9506008067),c=e(3603672985),i=e(716227588);const r=_(()=>{const l=!(0,o.KV)()||(0,o.b3)(),d=(0,s.wA)(),u=(0,n.d4)(i.y$);return(0,t.useEffect)(()=>{const f=_(m=>{l&&m.ctrlKey&&m.shiftKey&&m.key==="M"&&d((0,c.cv)(!u))},"handleKeydown");return window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}},[l,d,u]),{shouldShowDispatcherViewer:u}},"useDispatcherToggleShortcut"),a=_(function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[d,u]=(0,t.useState)(l),f=(0,t.useCallback)(m=>{u(m)},[]);return{isModalOpen:d,toggleModal:f}},"useModal")},5062503310:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});const t={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",border:0,padding:0,background:"transparent"},overlay:{backgroundColor:"rgba(208, 208, 208, 0.4)",zIndex:1e4}}},4902318931:(N,g,e)=>{"use strict";e.d(g,{$W:()=>x,sl:()=>b,Ay:()=>F});var t=e(3134334389),s=e(6122756707),o=e(7173172014),n=e(8851980998),c=e(4348392507),i=e(4445888975),r=e(9758574739),a=e(5062503310),l=e(6258289677),d=e(2312625946),u=e(397939223),f=e.n(u);const m=_(B=>{let{megaphoneSpaceName:K,notificationList:H,channelScopedId:Y}=B;const{isModalOpen:Z,toggleModal:V}=(0,i.h)(!1);return t.createElement("div",{className:f().container},t.createElement(d.Ay,{tip:K,position:"top",zIndex:"menu_above_fs"},t.createElement("span",{className:f().dispatcherViewerIcon,role:"button",tabIndex:0,"aria-label":"Open Viewer Modal",onClick:()=>V(!0)})),t.createElement(l.A,{isOpen:Z,onRequestClose:()=>V(!1),style:a.A},t.createElement("div",{className:f().dispatcherViewerDetails},t.createElement(r.e,{megaphoneSpaceName:K,notificationList:H,onCloseModal:()=>V(!1),channelScopedId:Y}))))},"DispatcherViewer");m.displayName="DispatcherViewer";const h=(0,c.A)(m),v=_(B=>{let{children:K,megaphoneSpaceName:H,notificationList:Y,channelScopedId:Z}=B;const{shouldShowDispatcherViewer:V}=(0,i.R)();return t.createElement(t.Fragment,null,V&&t.createElement("div",{className:f().dispatcherViewer},t.createElement(h,{megaphoneSpaceName:H,notificationList:Y,channelScopedId:Z})),K)},"DispatcherToggle");v.displayName="DispatcherToggle";const p=(0,c.A)(v);var T=e(4003148341),A=e(1963690015),C=e(9881565722),I=e(9506008067),D=e(4761125736),y=e(3603672985),P=e(716227588),E=e(1655938719),M=e(2938177083),S=e(7003004874),R=e(6259241484),k=e(7487228876),O=e(2567914105);const U={isInMegaphoneContainerContext:!0},W={isInMegaphoneContainerContext:!1},x=(0,t.createContext)(W),L=_(B=>{let{fetchDataOnMount:K,notifications:H,spaceName:Y,children:Z,shouldAlwaysRenderChildren:V,shouldPassPropsToChildren:ne,channelScopedId:q,componentClassName:me,...ue}=B;var ae;const le=(0,s.wA)(),fe=(0,T.x)(),he=(0,I.d4)(O.oY),ie=(0,I.d4)(P.up),X=(0,I.d4)(_e=>(0,D._Z)(_e,"megaphone_coachmark_suppression")==="on"),j=(0,I.d4)(_e=>(0,D._Z)(_e,"megaphone_eligible_notifications")==="on"),{isInsideModal:w}=(0,C.k)(),Q=(0,I.d4)(_e=>(0,P.Hp)(_e,Y,q)),G=(0,I.d4)(_e=>(0,P.OL)(_e,Y,q)),J=(0,t.useMemo)(()=>{if(!j)return;const{eligibleNotifications:_e}=G;if(_e!=null&&_e.length)return _e},[j,G]),te=(0,t.useCallback)(()=>{le((0,S.A)({notificationName:Q,action:R.hw.IMPRESSION}))},[le,Q]),se=(0,t.useCallback)(()=>le((0,M.Ay)({spaceName:Y,action:R.hw.DISMISS})),[le,Y]),ce=(0,t.useCallback)(()=>{le((0,E.iR)({event:{type:R.jo.REQUEST_SPACES,spaces:[Y]}}))},[le,Y]),Ee=_(()=>V?ne&&t.isValidElement(Z)?t.cloneElement(Z,{...ue}):t.createElement(p,{channelScopedId:q,megaphoneSpaceName:Y,notificationList:H},Z):t.createElement(p,{channelScopedId:q,megaphoneSpaceName:Y,notificationList:H},null),"maybeRenderChildren");Ee.displayName="maybeRenderChildren",(0,t.useEffect)(()=>{Y&&K&&ce()},[K,Y,ce]);const de=H==null||(ae=H[Q])===null||ae===void 0?void 0:ae.component,re=X&&de&&!w&&he&&Y===R.xu.IN_PRODUCT_COACHMARK;if(re&&!ie){le((0,y.co)(!0));const _e=fe.createMetricsTrace({label:"megaphone",samplingOptions:{sampleType:n.tS.SESSION,sampleRate:.1}}),ve=_e.count({name:"megaphone_coachmark_suppress"});ve.addTags({notification:Q}),ve.close(),fe.reportTrace(_e)}return!Y||!Q||X&&Y===R.xu.IN_PRODUCT_COACHMARK&&ie||re?Ee():de?t.createElement(o.A,{megaphoneSpaceName:Y,megaphoneNotificationName:Q,megaphoneEligibleNotifications:J},t.createElement(x.Provider,{value:U},t.createElement(p,{megaphoneSpaceName:Y,notificationList:H,channelScopedId:q},null),t.createElement(t.Suspense,{fallback:null},t.createElement(de,{...G,recordNotificationEventImpression:te,dismissAndClearNotification:se,notificationName:Q,className:me,channelScopedId:q,...ue},Z)))):(H||(0,k.h)({spaceName:Y,notificationName:Q}),Ee())},"MegaphoneContainer");L.displayName="MegaphoneContainer";const b=(0,A.Ay)(L),F=L},3656161791:(N,g,e)=>{"use strict";e.d(g,{C:()=>t});const t={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},8170244779:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389);const s=t.createContext({});s.displayName="MessageContext";const o=s},6658490498:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3534324375),s=e(8677230210);function o(n){let{userId:c,botId:i,username:r,botProfile:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:l,bot:d}=(0,s.Od)(n,{userId:c,botId:i,botProfile:a});return l?(0,t.sE)(n,l):i&&r?r:d?d.name||"":!i&&!d&&r?r:""}_(o,"getMessageSenderNameFromState")},8950789382:(N,g,e)=>{"use strict";e.d(g,{s:()=>p});var t=e(6304789565),s=e(352142497),o=e(82287009),n=e(8999545852),c=e(3193155968),i=e(9938554271),r=e(3110884894),a=e(6514066170),l=e(755982243),d=e(337319621),u=e(485355941),f=e(6695353875),m=e(9932860381),h=e(7176966205),v=e(9629572172);const p=(0,t.Ay)("Opens a view in a new child window",async(T,A,C,I)=>{let{viewId:D,params:y,clogParams:P}=C;if(!(0,u.M2)())return;const E=A(),{isMainWindow:M}=I(v.U);if((0,f.yZ)(E)&&M&&(0,m.Xy)(D)){T((0,h.$)({viewId:D,params:y}));return}let S=!1;if((0,a.A)(E,D)){let R,k={[c.mq.Primary]:{id:D,params:y,viewType:(0,i.A)(D)}};k=T((0,n.VO)({viewSet:k,windowId:c.N2}));const O=(0,l.w)(D),U=O;if(D==="thread"&&(y!=null&&y.threadId)){const W=(0,r.Sb)(y==null?void 0:y.threadId).channelId;S=!0,k={[c.mq.Primary]:{id:W||(y==null?void 0:y.entityId),params:void 0,viewType:s.D.Channel},[c.mq.Secondary]:{id:D,params:y,viewType:s.D.Thread}},R=c.mq.Secondary}D==="channel_canvas"&&(k={[c.mq.Primary]:{id:y==null?void 0:y.channelId,params:void 0,viewType:s.D.Channel},[c.mq.Secondary]:{id:"channel_canvas",params:y,viewType:s.D.ChannelCanvas}}),T((0,o.Bb)({viewSet:k,shouldNavigateInContext:O,shouldShowSearch:U,...R&&{containerOrigin:R},clogParams:P??{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:S}))}else(0,d.Ay)({getState:A}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",D)});p.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},4088523593:(N,g,e)=>{"use strict";e.d(g,{n:()=>n});var t=e(6304789565),s=e(2973590371),o=e(4117634716);const n=(0,t.Ay)("Opens a view in a different surface or falls back to opening in a regular surface",async(c,i,r)=>{const{e:a,navProps:l,clogParams:d}=r;await c((0,s.d)({e:a,navProps:l,clogParams:d}))||c((0,o.o)(l))});n.meta={name:"createThunk",key:"createThunkmaybeOpenInSurfaceOrNavigate",description:"Opens a view in a different surface or falls back to opening in a regular surface"}},2973590371:(N,g,e)=>{"use strict";e.d(g,{d:()=>i});var t=e(8729431059),s=e(4052707080),o=e(8950789382),n=e(485355941),c=e(6304789565);const i=(0,c.Ay)("Opens a view in a different surface",(r,a,l)=>{const{e:d,navProps:u,clogParams:f}=l,m=a();return(0,s.t)(m,{e:d})?(r((0,t.p)({navProps:u,...f&&{clogParams:{entryPoint:f.entryPoint}}})),!0):(0,n.Cz)(d)?(r((0,o.s)({viewId:u.id,params:u.params,...f&&{clogParams:{uiComponentName:f.uiComponentName,entryPoint:f.entryPoint}}})),!0):!1});i.meta={name:"createThunk",key:"createThunkmaybeOpenInSurface",description:"Opens a view in a different surface"}},7439773700:(N,g,e)=>{"use strict";e.d(g,{C_:()=>d,MH:()=>f,Zj:()=>h,ik:()=>v,kh:()=>i,tl:()=>l,tw:()=>u,vu:()=>m,xu:()=>p});var t=e(3564619745),s=e(7729538251),o=e(6471059816);const n=new o.Ay("prefs"),c=_(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,s.JK)();return t.nW[T]},"getLocaleSpecificDefaults"),i=_(function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,s.JK)();return{default:!0,fontFamily:c(T),label:t.qH,value:"lato"}},"getDefaultFontOption"),r=_(()=>{const T=n.t("{font} (Default)",{font:"Lato"}),A=n.t("{font} (System)",{font:t.qL}),C=t.qL?{label:A,value:"system-font",fontFamily:t.fd}:void 0,I=[{...i(),label:T},t.xw,t.ew,t.Ig,t.k7,t.zZ,t.Z2,t.qS];return C?I.concat([C]):I},"getSupportedFontOptions"),a=_(()=>({default:!1,label:n.t("Custom Font",{fallbackHash:"081ae3fdc403609cf6e760849ebb14117b7a50cb",fallbackHashNs:"emoji"}),value:"custom-font"}),"getCustomFontDefault"),l=_(T=>{let{includeCustomFont:A}=T;const C=r();return A?C.concat([a()]):C},"getAllFontOptions"),d=_(T=>{let{customFont:A,locale:C}=T;const I=C||(0,s.JK)(),D=c(I);return{...a(),fontFamily:`${A} , ${D}`}},"getCustomFontOption"),u=_(T=>T.slice().sort((A,C)=>{var I,D;return((I=A==null?void 0:A.label)!==null&&I!==void 0?I:"")<((D=C==null?void 0:C.label)!==null&&D!==void 0?D:"")?-1:1}),"sortFonts"),f=_(T=>Object.values(t.xo).some(A=>A.includes(T.toLowerCase())),"isSupportedFont"),m=_(T=>T.default===!0,"isDefaultFont"),h=_(T=>Object.keys(t.xo).find(A=>t.xo[A].includes(T.toLowerCase())),"getSupportedFontValue"),v=_(T=>{let{fontValue:A,includeCustomFont:C}=T;var I;return(I=l({includeCustomFont:C}).find(D=>D.value===A))!==null&&I!==void 0?I:void 0},"getFontOptionForFontValue"),p=_(T=>!t.hb.includes(T),"isCustomTypefaceSupportedLocale")},4116177835:(N,g,e)=>{"use strict";e.d(g,{A:()=>Y});var t=e(3134334389),s=e(3297051565),o=e.n(s),n=e(9391594207),c=e(3514831633),i=e(6122756707),r=e(2409900369),a=e(6471059816),l=e(6916052175),d=e(4980558152),u=e(1002129445),f=e(9236644324),m=e(8668318456),h=e(3170230049),v=e(9456841042),p=e(5644445851),T=e(9506008067),A=e(2891736215),C=e(6952523491),I=e(2762206868),D=e(5795074931),y=e(8677230210),P=e(613926746),E=e(8276911661),M;(function(Z){Z.GO_TO_APP="go_to_app",Z.VIEW_DIRECTORY="view_directory",Z.COPY_APP_NAME="copy_app_name",Z.COPY_APP_LINK="copy_app_link",Z.REMOVE_FROM_CHANNEL="remove_from_channel",Z.VIEW_PROFILE="view_profile"})(M||(M={}));const S=new a.Ay("menu"),R=_(Z=>{var V;const{memberId:ne,serviceId:q,homeWorkspaceId:me,children:ue,appId:ae,includeRemoveFromChannelAction:le,channelId:fe}=Z,he=(0,T.d4)(C.J),ie=(0,T.d4)($=>(0,y.AF)($,q)),X=(0,T.d4)($=>(0,E.nv)($,ne)),j=(0,l.u)(X),w=ie?ie.app_id:void 0,Q=(0,T.d4)($=>he?(0,I.sO)($,{appId:ae||w,memberId:ne,serviceId:q}):(0,A.G2)($,{appId:ae||w,serviceId:q,homeWorkspaceId:me,memberId:ne})),G=ne||(Q==null||(V=Q.app_user)===null||V===void 0?void 0:V.id),J=(0,i.wA)(),te=(0,u.fj)(Q),se=(0,T.d4)($=>(0,u.vu)($,Q)),ce=(0,T.d4)($=>(0,u.FN)($,Q)),Ee=(0,T.d4)($=>(0,u.i1)($,Q)),de=se&&ce||Ee,re=(0,T.d4)($=>(0,u.iV)($,Q)),_e=(0,T.d4)(D.TZ),ve=(0,T.d4)(h.e),ge=(0,t.useCallback)($=>{ve.track(m.EventId.CONTEXT_MENU_ACTION,{label:$,is_iap1:!0})},[ve]),Le=(0,t.useCallback)(()=>{ge(M.VIEW_DIRECTORY)},[ge]),ke=(0,t.useCallback)(()=>{ge(M.GO_TO_APP),(0,P.Z)({memberId:G})},[ge,G]),Ke=(0,t.useCallback)(()=>{ge(M.COPY_APP_NAME),(0,f.x3)(te)},[ge,te]),Ne=(0,t.useCallback)(()=>{ge(M.COPY_APP_LINK),(0,f.x3)(de)},[ge,de]),Re=(0,t.useCallback)(()=>{ge(M.REMOVE_FROM_CHANNEL),fe&&J((0,p.A)({memberId:ne,channelId:fe}))},[fe,ge,J,ne]),xe=(0,t.useCallback)(()=>{ge(M.VIEW_PROFILE),J((0,v.b)({memberId:ne}))},[ge,J,ne]),We=(0,t.useCallback)(()=>{const $=[];return de&&!j&&($.push({label:S.t("View in Slack Marketplace"),href:de,click:Le,dataQa:"bot_context_menu_app_directory"}),$.push({type:"separator"})),G&&re&&!j&&($.push({label:S.t("Go to app"),click:ke}),$.push({type:"separator"})),j&&$.push({label:S.t("View profile"),click:xe}),$.push({label:S.t("Copy name"),click:Ke}),de&&!j&&$.push({label:S.t("Copy link"),click:Ne}),le&&fe&&($.push({type:"separator"}),$.push({label:S.t("Remove from channel"),click:Re,danger:!0})),$},[de,j,G,re,Ke,le,fe,Le,ke,xe,Ne,Re]);return!_e||!q?(0,r.A)(ue):t.createElement(d.A,{getTemplate:We,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},ue)},"BotContextMenu");R.displayName="BotContextMenu";const k=R;var O=e(306565116),U=e(8847766420),W=e(3244118357),x=e(82287009);function L(){return L=Object.assign||function(Z){for(var V=1;V<arguments.length;V++){var ne=arguments[V];for(var q in ne)Object.prototype.hasOwnProperty.call(ne,q)&&(Z[q]=ne[q])}return Z},L.apply(this,arguments)}_(L,"_extends");const b={children:o().oneOfType([o().element.isRequired,o().func.isRequired]).isRequired,menuProps:o().object,serviceId:o().string,memberId:o().string,homeWorkspaceId:o().string,memberIsHuman:o().bool,profileCardProps:o().object,appId:o().string,channelId:o().string},F={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,profileCardProps:void 0,appId:void 0,channelId:void 0};let B=_(class extends t.Component{render(){const{serviceId:V,memberId:ne,homeWorkspaceId:q,memberIsHuman:me,appId:ue,channelId:ae}=this.props;return ne&&me?t.createElement(O.A,{id:ne},le=>this.renderTrigger(le)):V&&!me?t.createElement(k,{appId:ue,serviceId:V,memberId:ne,homeWorkspaceId:q,channelId:ae},le=>this.renderTrigger(le)):this.renderTrigger()}constructor(...V){var ne;super(...V),ne=this,this.renderProfileCard=q=>{const{serviceId:me,memberId:ue,homeWorkspaceId:ae,memberIsHuman:le,appId:fe}=this.props;return(0,x.E9)({menuProps:q,serviceId:me,memberId:ue,homeWorkspaceId:ae,memberIsHuman:le,appId:fe})},this.renderTrigger=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:me,serviceId:ue,memberId:ae,homeWorkspaceId:le,memberIsHuman:fe,...he}=ne.props;return t.createElement(c.cQ,L({renderMenu:ne.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},he),ie=>(0,r.A)(me,ie,q))}}},"ProfileCardTrigger");B.displayName="ProfileCardTrigger",B.propTypes=b,B.defaultProps=F;const K=_((Z,V)=>{const{userId:ne,botId:q,botProfile:me,serviceId:ue}=V,{member:ae,bot:le,memberIsHuman:fe}=(0,y.Od)(Z,{userId:ne,botId:q||ue,botProfile:me});let he=null;if(!fe||ue){const X=(0,U.ZT)(Z);he=(0,W.AW)({member:ae,bot:le,botProfile:me,currentTeamId:X})}var ie;return{serviceId:le&&le.id||ue,memberId:ae&&ae.id,homeWorkspaceId:he,memberIsHuman:fe,appId:(ie=V.appId)!==null&&ie!==void 0?ie:le==null?void 0:le.app_id}},"mapStateToProps"),Y=(0,n.N)(K)(B)},3405119017:(N,g,e)=>{"use strict";e.d(g,{An:()=>n,Bp:()=>m,Ez:()=>r,MT:()=>a,Mm:()=>l,NR:()=>i,S9:()=>s,VC:()=>v,_o:()=>d,b5:()=>u,eq:()=>p,ie:()=>f,ne:()=>A,r:()=>T,wy:()=>C});var t=e(8668318456);const s=_(I=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"comparePlansLink",onClick:{enableClogAction:!0},stepVariant:I}),"getStpComparePlansAutoClogProp"),o={eventId:t.EventId.NEWXP_TEAM_CREATE,action:t.UiAction.CLICK,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,onClick:{enableClogAction:!0}},n={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"pro-forward-accordion"},c={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_STRAIGHT_TO_PAID_UPGRADE_PRO_BUTTON,elementName:"sidebar_menu_straight_to_paid_upgrade_pro_button",onClick:{enableClogAction:!0}};function i(I){return{...c,stepVariant:I}}_(i,"getStraightToPaidSidebarMenuOfferButtonAutoClogProps");const r={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_PRIMARY_TIME_LIMIT,elementName:"straight_to_paid_workspace_menu_primary_time_limit",clogImpression:!0},a={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_cta",clogImpression:!0},l={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_button",onClick:{enableClogAction:!0}},d=_(I=>{let{isProVariant:D,stepVariant:y}=I;return{...o,elementName:`plans_lite_modal_start_${D?"pro":"free"}_button`,stepVariant:y}},"getModalButtonAutoClogProps"),u=_(I=>{let{isProVariant:D,stepVariant:y}=I;return{...o,elementName:D?"start_pro_button":"start_free_button",stepVariant:y}},"getStpCardsFreeOrProButtonAutoClogProps"),f=_(()=>({uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,stepVariant:"plans_lite_modal"}),"getStraightToPaidPlansLiteModalAutoclogProp"),m=_(()=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"plans_lite_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getSTPCheckoutLiteModalComparePlansAutoclogProp"),h={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"checkout_compare_plans_open_modal_link",onClick:{enableClogAction:!0}};function v(){return{contexts:{ui_context:{action:t.UiAction.COMPLETE,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"complete_checkout",element_type:t.ElementType.BUTTON}}}}}_(v,"getStraightToPaidCheckoutComplete");const p=_(I=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_HEADER_STRAIGHT_TO_PAID_OFFER,elementName:"sidebar_menu_header_straight_to_paid_offer",stepVariant:I}),"getStpSidebarMenuOfferAutoClogProp");function T(I){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.SKIP,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"ineligible_for_straight_to_paid"},...I&&{entry_point:I}}}}}_(T,"getStraightToPaidSkippedClog");function A(I,D,y){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,step_variant:I,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"plans_step"},...D&&{entry_point:D},...y&&{ui_component_variant:y}}}}}_(A,"getProForwardImpressionClog");function C(I){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,ui_properties:{element_name:"guided_trial_sidebar_peek_view_stp_cta"},step_variant:I}}}}_(C,"getStraightToPaidTrialsPeekCTAImpressionClog")},8142308213:(N,g,e)=>{"use strict";e.d(g,{C6:()=>l,Q5:()=>m,Q8:()=>f,eA:()=>h});var t=e(4518410378),s=e(4094753332),o=e(1318506593),n=e(8856751930),c=e(7883982244),i=e(3009309149),r=e(4761125736),a=e(259340838);const l={ADMIN:"admin",WORKSPACES:"workspaces",WORKSPACE_SWITCHER:"workspace_switcher",TAB_RAIL:"tab_rail",OS_MENU:"os_menu",SIGNIN_HEADER:"signin_header",SIGNIN_CREATE_WORKSPACE_ALERT:"signin_create_workspace_alert",WORKSPACE_SIGNIN:"workspace_signin",PROMO_SUCCESS:"promo_success",PROMO_FAILED:"promo_failed",FAQS:"faqs",LANDING_CHANGE_EMAIL:"landing_change_email",LANDING_SYSTEM_ERROR:"landing_system_error",LANDING_DIFFERENT_EMAIL:"landing_different_email",LANDING_WORKSPACE_NOT_FOUND:"landing_workspace_not_found",SSB_LANDING:"ssb_landing",SHARED_INVITE_LANDING:"shared_invite_landing",NO_WORKSPACE:"no_workspace",FIND_WORKSPACE:"find_workspace",HEADER:"header",SLACK_CONNECT:"slack_connect",PRIVACY:"privacy_visibility"},d={"salesforce.com":"salesforce","google.com":"google"},u=_(v=>v?decodeURIComponent(v).trim():"","sanitizeParam"),f=(0,i.Ay)(v=>{var p;if(!((0,r._Z)(v,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:A,utm_source:C,source:I}=(0,o.qN)(t.J.location.href),D=(0,c.W)(),y=(0,a.JK)(v),P=(0,n.fo)(),E=u((p=t.J.document)===null||p===void 0?void 0:p.referrer),M=u(I),S=u(A),R=u(C);var k;const O=(k=d[R])!==null&&k!==void 0?k:R;return D?"remote_promo":y||P||S||O||M||E||"unknown"});f.meta={name:"createSelector",key:"createSelectorgetEntrypointFromURL",description:v=>{var p;if(!((0,r._Z)(v,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:A,utm_source:C,source:I}=(0,o.qN)(t.J.location.href),D=(0,c.W)(),y=(0,a.JK)(v),P=(0,n.fo)(),E=u((p=t.J.document)===null||p===void 0?void 0:p.referrer),M=u(I),S=u(A),R=u(C);var k;const O=(k=d[R])!==null&&k!==void 0?k:R;return D?"remote_promo":y||P||S||O||M||E||"unknown"}};const m=(0,i.Ay)(function(v,p){let{skipExperimentCheck:T=!1,getOnlyValue:A=!1,skipUrlCheck:C=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=!T&&(0,r._Z)(v,"add_team_creation_flow_segmentation")==="on";if(!T&&!I)return;const{entry_point:D}=(0,o.qN)(t.J.location.href);if(!C&&D)return;let y=p;return(0,s.y3)()&&(y=`${p}_ssb`),A?y:`entry_point=${y}`});m.meta={name:"createSelector",key:"createSelectorgetEntrypointString",description:function(v,p){let{skipExperimentCheck:T=!1,getOnlyValue:A=!1,skipUrlCheck:C=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=!T&&(0,r._Z)(v,"add_team_creation_flow_segmentation")==="on";if(!T&&!I)return;const{entry_point:D}=(0,o.qN)(t.J.location.href);if(!C&&D)return;let y=p;return(0,s.y3)()&&(y=`${p}_ssb`),A?y:`entry_point=${y}`}};const h=_(()=>t.J.location.search?`${t.J.location.search}&`:"?","getQueryString")},4173072539:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),s=e(6690263587),o=e(6839188756),n=e(2312625946),c=e(7171435821);const i=_(a=>{let{invitingTeam:l}=a;const d=l.domain&&`${(0,o.k7)(l.id,l.domain)}.${(0,c.Xk)()}`,u=t.createElement(s.A,{id:l.id,team:l,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0,bold:!0,tabIndex:d?0:void 0});return d?t.createElement(n.Ay,{tip:d},t.createElement("span",null,u)):u},"InvitingTeamName");i.displayName="InvitingTeamName";const r=i},3694049677:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(2805783620),o=e(2312625946);const n=_(i=>{let{invitingUser:r,showEmailTooltip:a=!0}=i;var l;const d=r==null||(l=r.profile)===null||l===void 0?void 0:l.email,u=a&&d,f=t.createElement(s.A,{member:r,skipPrefCompliance:!0,tabIndex:u?0:void 0});return u?t.createElement(o.Ay,{tip:d},f):f},"InvitingUserName");n.displayName="InvitingUserName";const c=n},2408732225:(N,g,e)=>{"use strict";e.d(g,{n:()=>l});var t=e(3134334389),s=e(3150724727),o=e(5622140641),n=e(3656161791),c=e(6415587347);let i=null;const a=_(()=>(i===null&&(i=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),i),"isPrimer");class l extends t.PureComponent{render(){var u,f;const{className:m,team:h,user:v,size:p,allowDefaultProfileImage:T,fallbackUserIcon:A,fallbackUserIcon2x:C,isInteractive:I,hideUserIcon:D}=this.props,y=!!(!((u=v.profile)===null||u===void 0)&&u.is_custom_image),P=!!A||!!C,E=!(!((f=h.icon)===null||f===void 0)&&f.image_default),{imageUrl:M,imageUrl2x:S}=this.getProfileImages();if((y||T||P)&&!D){const R=v.profile.real_name;return t.createElement(s.f1,{className:m,imageUrl:y||T?M:A,imageUrl2x:y||T?S:C,memberOrBotName:R,size:p,teamId:h.id,team:h,isInteractive:I&&!a()&&!!v.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:v.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...n.C}})}return E?t.createElement(o.U,{teamName:h.name,icon:h.icon,size:p,className:m}):null}constructor(u){super(u),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var p;const{team:T,user:A,size:C}=this.props,I=(0,c.Ay)({size:C,teamOrEnterpriseId:T.id,memberId:A.id,avatarHash:(p=A.profile)===null||p===void 0?void 0:p.avatar_hash}),D=(I==null?void 0:I.imageUrl)||"",y=I!=null&&I.imageUrl2x?`${I.imageUrl2x} 2x`:"";return{imageUrl:D,imageUrl2x:y}};const{team:f,allowTeamInitials:m,shouldRenderTeamBadge:h,teamIconSize:v}=u;h&&(this.renderTeamBadge=(0,s.fp)({isExternal:!0,team:f,teamId:f.id,allowTeamInitials:m,teamIconSize:v}))}}_(l,"UserIcon"),l.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1},l.displayName="UserIcon"},7599421656:(N,g,e)=>{"use strict";e.d(g,{B:()=>o});var t=e(2384831516),s=e(4761125736);const o=(0,t.Mz)(n=>(0,s._Z)(n,"shortcuts_workspace_picker")==="on");o.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:n=>(0,s._Z)(n,"shortcuts_workspace_picker")==="on"}},7094978947:(N,g,e)=>{"use strict";e.d(g,{T:()=>i,o:()=>r});var t=e(3134334389),s=e(8683010724),o=e(9506008067),n=e(7026948475);function c(){return c=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(a[u]=d[u])}return a},c.apply(this,arguments)}_(c,"_extends");const i=_(function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,o.d4)(d=>(0,n.e)(d,a))},"useSlackAiIconProps"),r=_(a=>{let{type:l,useFilledIcon:d,...u}=a;const f=i({type:l,useFilledIcon:d});return t.createElement(s.A,c({},u,f))},"SlackAiIcon");r.displayName="SlackAiIcon"},6174202672:(N,g,e)=>{"use strict";e.d(g,{Ev:()=>r,Fp:()=>d,NE:()=>u,XV:()=>n,bg:()=>l,e9:()=>i,i2:()=>o,jA:()=>c,vH:()=>f,x:()=>a});var t=e(7274827479),s=e(4761125736);const o=_(m=>(0,s._Z)(m,"slackbot_canvas_ai_fe")==="on"&&(0,t.OT)(m),"isSlackbotCanvasAiFeEnabled"),n=_(m=>(0,s._Z)(m,"slack_ai_action_items_admin_setting")==="on","isSlackAiActionItemsAdminDashboardEnabled"),c=_(m=>(0,s._Z)(m,"slack_ai_huddles_automatic_notes")==="on","isSlackAiHuddlesAutomaticNotesEnabled"),i=_(m=>(0,s._Z)(m,"slack_ai_huddle_notes_reply_nudge")==="on"&&(0,t.Vf)(m),"isSlackAiHuddleNotesReplyNudgeEnabled"),r=_(m=>(0,s._Z)(m,"slack_ai_huddles_automatic_notes")==="on","isSlackAiHuddlesAutomaticNotesAdminDashboardEnabled"),a=_(m=>(0,s._Z)(m,"ai_message_analysis")==="on"&&(0,t.OT)(m),"isAiMessageAnalysisEnabled"),l=_(m=>(0,s._Z)(m,"ai_analyze_message_action")==="on"&&(0,t.OT)(m),"isAiAnalyzeMessageActionEnabled"),d=_(m=>(0,s._Z)(m,"ai_analyze_fastmode")==="on"&&(0,t.OT)(m),"isAiFastModeEnabled"),u=_(m=>(0,s._Z)(m,"native_ai_profile_summary")==="on"&&(0,t.OT)(m),"isAiProfileSummaryEnabled"),f=_(m=>(0,s._Z)(m,"ai_profile_summaries_i18n")==="on","isAiProfileSummariesI18nEnabled")},9874616273:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(9432515904);const o=_(c=>{let{width:i=20,height:r=20,className:a="",theme:l}=c;const d=l===s.Sx.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.createElement("div",{role:"banner"},t.createElement("img",{className:a,src:d,alt:"Slack",width:i,height:r}))},"SlackLogo");o.displayName="SlackLogo";const n=o},5144644376:(N,g,e)=>{"use strict";e.d(g,{n:()=>o});var t=e(8180302442),s=e(5597672932);const o=_(n=>!(!(0,t.g)(n)||!(0,s.xp)(n,"allow_custom_solution_templates")),"isCustomSolutionsEnabledForUser")},7841516218:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(4711108074),s=e.n(t),o=e(8668318456),n=e(56548687),c=e(5477482530);function i(r,a,l){let d=0;const u=new(s()),f=(0,n.e)();return r.forEach(m=>{const h=m.globalIndex-d;if(h>0&&u.retain(h),l&&m.type==="emoji"){u.retain(m.length),d=m.globalIndex+m.length;return}if(u.delete(m.length),m.type==="emoji"){const v={slackemoji:{text:m.label}};u.insert(v,{...m.formats})}else{const v=(0,c.A)(m.id,m.label,a);m.id==="UNVERIFIED"?f.track(o.EventId.MSG_AUTO_POTENTIAL_MENTION_CREATED,{}):f.track(o.EventId.MSG_AUTO_MENTION_CREATED,{}),u.insert(m.label,{...m.formats,slackmention:v})}d=m.globalIndex+m.length}),u}_(i,"buildPotentialMentionsDelta")},9410394460:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3890290905),s=e(337319621);function o(n){let{globalIndex:c,results:i,matchLength:r,formats:a}=n;const l=i[0];return(0,s.Wo)().info("AUTOSLUG",`Creating emoji (${l.id})`),{id:l.id,label:`:${(0,t.Y)({name:l.name||""})}:`,globalIndex:c,length:r,formats:a,type:"emoji"}}_(o,"createPotentialEmojiObject")},6102481218:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(8086952004),s=e(8289365785),o=e(3929724715),n=e(4590455802),c=e(337319621);function i(r){let{globalIndex:a,results:l,matchLength:d,formats:u}=r;const f=(0,t.A)(l,v=>!(0,o.lo)(v)),m=(0,s.A)(l);if(!f&&!m)return null;const h=f||m;return(0,c.Wo)().info("AUTOSLUG",`Creating channel mention (${h==null?void 0:h.id})`),{id:(h==null?void 0:h.id)||"",label:`#${(0,n.j)(h)}`,globalIndex:a,length:d,formats:u,type:"mention"}}_(i,"createPotentialMentionChannelObject")},7334334660:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(8840779375),s=e(362134992),o=e(235108050),n=e(3078252698),c=e(8086952004),i=e(7035389884),r=e(337319621),a=e(181849556),l=e(4291335534);function d(u){let{state:f,text:m,label:h,globalIndex:v,localIndex:p,results:T,matchLength:A,formats:C}=u,I,D;const y={id:"UNVERIFIED",label:h,globalIndex:v,length:h.length,formats:C,type:"mention"};if(T.length===1&&T[0].is_broadcast_keyword)return(0,r.Wo)().info("AUTOSLUG",`Creating broadcast keyword mention (${T[0].id})`),I=(0,i.KX)(T[0]),{id:T[0].id,label:I,globalIndex:v,length:A,formats:C,type:"mention"};let P=(0,t.A)(T,E=>(0,l.Pc)((0,i.KX)(E)));P=P.concat((0,t.A)(T,E=>(0,l.Pc)((0,i.KP)(E)))),P=(0,s.A)((0,o.A)(P)),P.sort((E,M)=>((0,n.A)(M)?M.length:0)-((0,n.A)(E)?E.length:0));for(let E=0;E<P.length&&(D=P[E]||"",!(h.length>D.length));E+=1){const M=(0,l.Og)(D,m,p);if(M||T.length<=1){const S=T.filter((0,i.jE)(D));if((0,l.fN)(D,h)&&S.length===1&&(M||!S[0].is_usergroup))return(0,r.Wo)().info("AUTOSLUG",`Inserting real mention, only a single matching result (${S[0].id}). ${T.length} total results`),I=(0,i.KX)(S[0]),{id:S[0].id,label:I,globalIndex:v,length:T.length===1&&!M?y.length:D.length,formats:C,type:"mention"};if((0,l.fN)(D,h)&&S.length>1){(0,r.Wo)().info("AUTOSLUG",`${S.length} matching results, trying to break tie using frecency`);const R=f?(0,a.Zh)(f,{query:h,list:S}):[];if(R&&R.length>1&&R[0].rawFrecencyScore-R[1].rawFrecencyScore>=30){const k=(0,c.A)(S,{id:R[0].id});return I=k?(0,i.KX)(k):"",(0,r.Wo)().info("AUTOSLUG",`Inserting real mention, tie was broken using frecency (${R[0].id}=${R[0].rawFrecencyScore};${R[1].id}=${R[1].rawFrecencyScore})`),{id:(k==null?void 0:k.id)||"",label:I,globalIndex:v,length:T.length===1&&!M?y.length:D.length,formats:C,type:"mention"}}}if(M)return(0,r.Wo)().info("AUTOSLUG",`Inserting maybe-mention mention, expanded mention to cover name (${T.length} total results)`),y.label=m.substr(p,D.length),y.length=D.length,y}}return(0,r.Wo)().info("AUTOSLUG",`Fallback: Inserting maybe-mention (${T.length} total results)`),y}_(d,"createPotentialMentionObject")},2453977996:(N,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(3078252698),s=e(8509961938),o=e(512148710),n=e(8405695339),c=e(3726677001),i=e(3183335528),r=e(9017940688),a=e(308057085),l=e(4547907890);const d=o.Nb.concat(["@","#","`","$","%","^","&","+","=","|",'"',"/"]),u=d.filter(A=>A!==".").map(A=>`\\${A}`).join("|"),f=d.filter(A=>A!=="."&&A!=="_").map(A=>`\\${A}`).join("|"),m=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${u}|$)`,"g"),h=new RegExp(`(?:^|\\s)(?:[\\{|\\[|\\(|<|>|\\*|_|\\/|"|\u201C|\u2018|'|:]?)([@\uFF20#\uFF03].*?)(?=\\s|'s|\u2018s|\u2019s|\u2026|${f}|$)`,"g"),v=new RegExp(`[\\.|\\s|${u}]+$`),p=new RegExp(`(${(0,s.A)().source})`,"g");function T(A){let{useChannelTagging:C=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!A)return[];let I=0;const D=[],y=C?h:m;return(0,n.A)(A,(P,E)=>{if((0,r.A)(E)||!(0,l.A)(P)||(0,i.A)(P)||(0,a.Ay)(P)){I+=(0,c.A)(P);return}(0,t.A)(P.insert)&&P.insert.replace(y,(S,R,k)=>{let O=k,U=R;const W=S.indexOf("@");W>0&&(O+=W);const x=S.indexOf("\uFF20");if(x>0&&(O+=x),C){const F=S.indexOf("#");F>0&&(O+=F);const B=S.indexOf("\uFF03");B>0&&(O+=B)}const L=R.length;U=R.replace(v,"");const b=C?U.replace(/^[@\uFF20#\uFF03]/,""):U.replace(/^[@\uFF20]/,"");b.length&&D.push({type:C&&["#","\uFF03"].includes(R.charAt(0))?"channel":"member",text:(0,t.A)(P.insert)?P.insert:"",matchLength:L,label:U,labelWithoutPrefix:b,localIndex:O,globalIndex:O+I})}),(0,t.A)(P.insert)&&P.insert.replace(p,(S,R,k,O)=>{let U=O;const W=S.indexOf(":");W>0&&(U+=W);const x=R.length,L=R.replace(/:/g,"");if(!L.length)return;const b=/^:[0-9]+:$/.test(S),F=(0,t.A)(P.insert)?P.insert.substring(0,O):"",B=/(^|\s)[0-9]+$/.test(F);b&&B||D.push({type:"emoji",text:(0,t.A)(P.insert)?P.insert:"",matchLength:x,label:R,labelWithoutPrefix:L,localIndex:U,globalIndex:U+I})}),I+=(0,c.A)(P)}),D}_(T,"getPotentialMentionMatches")},4206015041:(N,g,e)=>{"use strict";e.d(g,{A:()=>O});var t=e(3078252698),s=e(6217320234),o=e(4711108074),n=e.n(o),c=e(6845144532),i=e(7582939986),r=e(8509961938),a=e(8792003313),l=e(2056853624),d=e(3982736577),u=e(6317044431),f=e(9936232041),m=e(9907843289),h=e(1632207548),v=e(8405695339),p=e(1089076149),T=e(3726677001),A=e(3183335528),C=e(9017940688),I=e(2827252833),D=e(308057085),y=e(4547907890),P=e(8581994840),E=e(6859521351),M=e(6533394955),S=e(3829348308);const R=new RegExp(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"ig"),k=_(U=>R.test(U),"isUnicodeChar");function O(U){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{useWysiwyg:!1,usePlainTextMode:!1,inlineEmojiIsEnabled:!1,emojiNames:[],locale:void 0,replaceNativeEmoji:!1,teamId:void 0};const x=new(n());let L=0,b=0;if(!W.inlineEmojiIsEnabled)return x;let F=null;return(0,v.A)(U,(B,K)=>{const H=!(0,C.A)(K),Y=(0,T.A)(B);if(!H||!(0,y.A)(B)||(0,D.Ay)(B)||(0,A.A)(B)){L+=Y,F=B;return}const Z=B.attributes;let V=[];const ne=W.useWysiwyg&&!W.usePlainTextMode,q=(0,c.F)().getLocaleForLastViewedTeam();let me="";(0,m.DU)(q)&&(0,t.A)(B.insert)?me=B.insert.replace(/\uFF1A/g,":"):me=(0,t.A)(B.insert)?B.insert:"";const ue=ne?[]:(0,h.A)(me);me.replace((0,r.A)(),(le,fe,he)=>{if(!ne&&(0,P.A)(he,ue)||!ne&&(0,E.A)((0,p.A)(U,0,L+he)))return;let ie=(0,l.A)(le,{emojiNames:W.emojiNames,locale:W.locale||"",teamId:W.teamId||""});if(ie){const X=/^:[0-9]+:$/.test(ie),j=me.substring(0,he),w=/(^|\s)[0-9]+$/.test(j);X&&w&&(ie="")}ie&&V.push({match:ie,index:he,matchLength:le.length,attributes:Z})});const ae=W.teamId&&(0,M.$D)(W.teamId);if(W.replaceNativeEmoji){const le=(0,u.A)(W.teamId);me.replace(le,(fe,he,ie,X)=>{if(X>0){const G=me.charAt(X-1);if(G===i._x||k(G)&&u.p.includes(fe))return}const j=(0,d.A)(fe)||"",w=(0,S.qJ)(ae,j),Q=w?`:${w}:`:null;Q&&V.push({match:Q,index:X,matchLength:fe.length,nativeEmojiReplacement:!0,attributes:Z})})}if(V=(0,s.A)(V,"index"),V.length){let le=0,fe=0;V.forEach((he,ie)=>{let X=!1,j=he.match,w=0,Q=he.matchLength;ie===0?w=L+he.index-b:w=he.index-le-fe;const G=j.match(a.x);let J=null,te=null;if(G&&(te=parseInt(G[2],10)||null,J=parseInt(G[3],10)||null),!he.nativeEmojiReplacement&&ie===0&&he.index===0&&G&&F&&(0,I.Ay)(F)){const se=(0,f.A)((0,I.Um)(F));(!J&&(0,S.Fm)(ae,{text:(se==null?void 0:se.name)||"",teamId:W.teamId||""})||J&&te!==J&&(0,S.pA)(ae,{text:(se==null?void 0:se.name)||"",teamId:W.teamId||""}))&&(w-=1,Q+=1,j=`:${se==null?void 0:se.name}:${j}`,X=!0)}le=he.index,fe=he.matchLength,b=L+le+fe,(X||!J)&&(w&&x.retain(w),x.delete(Q).insert({slackemoji:{text:j}},he.attributes))})}L+=Y,F=B}),x}_(O,"buildEmojiReplacementDelta")},6989432693:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(6471059816),o=e(4031325387),n=e(8170643398),c=e(8921478798),i=e(9506008067),r=e(8276911661);const a=new s.Ay("channel_token"),l=_(u=>{let{userId:f,isFirst:m,isSelf:h}=u;var v;const p=(v=(0,i.d4)(A=>(0,r.nv)(A,f)))!==null&&v!==void 0?v:void 0;let T=(0,i.d4)(A=>(0,c.I)(A,f));return(0,n.t8)(p)?t.createElement(o.A,{type:"unknown",subtler:!0}):(0,n.QR)(p)?t.createElement(o.A,{type:"non-existent",subtler:!0}):(h&&(T=m?a.t("You"):a.t("you")),t.createElement(t.Fragment,null,T))},"TooltipMemberName");l.displayName="TooltipMemberName";const d=t.memo(l)},924300050:(N,g,e)=>{"use strict";e.d(g,{A:()=>xe});var t=e(3134334389),s=e(2664504268),o=e(9674520607),n=e(5220162857),c=e(7949425452),i=e(5431290584),r=e(1388835426),a=e(2683115972),l=e(980293773),d=e(7626894131),u=e.n(d),f=e(29804293),m=e.n(f),h=e(7749140866),v=e.n(h),p=e(5913806097),T=e.n(p),A=e(6636363964),C=e.n(A),I=e(9916635837),D=e.n(I),y=e(5760619139),P=e.n(y),E=e(668694090),M=e.n(E),S=e(555040584),R=e.n(S),k=e(6820844347),O=e.n(k),U=e(1347747715),W=e.n(U),x=e(8187362417),L=e.n(x),b=e(2005200212),F=e.n(b),B=e(2563333228),K=e.n(B),H=e(6754250580),Y=e.n(H),Z=e(1714394002),V=e.n(Z),ne=e(6435768457),q=e.n(ne),me=e(7417918922),ue=e.n(me),ae=e(6869712815),le=e.n(ae),fe=e(8089589194),he=e.n(fe),ie=e(5748605292),X=e.n(ie),j=e(4071181961),w=e.n(j),Q=e(8071475775),G=e.n(Q),J=e(9733499682),te=e.n(J),se=e(6050136004),ce=e.n(se),Ee=e(5006029593),de=e.n(Ee),re=e(9753292423),_e=e.n(re),ve=e(3289703835),ge=e.n(ve),Le=e(9598582073),ke=e.n(Le);function Ke(){return Ke=Object.assign||function(We){for(var $=1;$<arguments.length;$++){var ee=arguments[$];for(var Ve in ee)Object.prototype.hasOwnProperty.call(ee,Ve)&&(We[Ve]=ee[Ve])}return We},Ke.apply(this,arguments)}_(Ke,"_extends");const Ne={elementName:"explore_pro_features_btn",onClick:{enableClogAction:!0}},Re=_(We=>{let{featureList:$,modalTitle:ee,modalSubtitle:Ve,buttonText:ze,onCTAClick:st,customFooter:Ge,maxWidth:be,onRequestClose:Se,UNSAFE_parentSelector:we,videoTitle:Ce,experimentPnpGoGroupTreatment:Te}=We;const Ye=_(()=>t.createElement(n.Ay,{listItems:$}),"renderFeatureList"),De={closeModal:Se,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:be,UNSAFE_parentSelector:we},{translation:Pe,enableMediaCaptions:ye}=(0,r.S)({"de-DE":Te?u():Y(),"en-GB":Te?m():V(),"en-US":Te?v():q(),"es-ES":Te?T():ue(),"es-LA":Te?C():le(),"fr-FR":Te?D():he(),"it-IT":Te?P():X(),"ja-JP":Te?M():w(),"ko-KR":Te?R():G(),"pt-BR":Te?L():te(),"zh-CN":Te?F():_e(),"zh-TW":Te?K():ge()}),He=(0,s.A)(),Qe=(0,s.A)(),dt=[He,Qe].join(" "),Ot=(0,t.useMemo)(()=>{let yt=de(),Dt=ce();return Te&&(yt=O(),Dt=W()),{video:yt,videoPoster:Dt}},[Te]);return t.createElement(l.dW,Ke({closeButtonTone:"dark",className:ke().modalBackground,labelledby:dt},De),t.createElement(l.$m,{className:ke().modalBackground},t.createElement("div",{className:ke().bodyContainer},t.createElement("div",{className:ke().listContainer},t.createElement(c.J,{ariaHidden:!0,className:ke().proBadge,size:i.vj.Large}),t.createElement("h1",{id:He,className:ke().title},ee),t.createElement("h2",{id:Qe,className:ke().subtitle},Ve),Ye(),Ge||t.createElement(a.Ay,{size:"medium",onClick:st,className:ke().ctaButton,autoClogProps:Ne},ze)),t.createElement("div",{className:ke().videoContainer},t.createElement("div",{className:ke().videoPlayer},t.createElement(o.A,{src:Ot.video,vtt:Pe,enableMediaCaptions:ye,videoPoster:Ot.videoPoster,enableControls:!0,autoPlay:!1,title:Ce}))))))},"Modal");Re.displayName="Modal";const xe=Re},5220162857:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>K,CQ:()=>L,L_:()=>b,XC:()=>S,wj:()=>k});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9392104102),c=e(6471059816),i=e(7260399618),r=e.n(i),a=e(3555024406),l=e.n(a),d=e(6362113145),u=e.n(d),f=e(5612399517),m=e.n(f),h=e(9754713110),v=e.n(h),p=e(8644018899),T=e.n(p),A=e(8720577475),C=e.n(A),I=e(3801841745),D=e(7729538251),y=e(8683010724),P=e(6696573656),E=e.n(P);const M=new c.Ay("trial_expiration_modals"),S={history:v(),headphones:u(),canvas:l(),buildings:T(),bolt:r(),play:r(),tools:C(),lists:m(),"shared-channel":T()},R=_(()=>{switch((0,D.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE").then(e.t.bind(e,6800060962,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB").then(e.t.bind(e,5190658834,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR").then(e.t.bind(e,647591414,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP").then(e.t.bind(e,9297924654,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-slack-connect").then(e.t.bind(e,6342268209,23))}},"getSlackConnectAnimation"),k={history:()=>{switch((0,D.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE").then(e.t.bind(e,3828726715,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB").then(e.t.bind(e,4311997919,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR").then(e.t.bind(e,8274489555,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP").then(e.t.bind(e,1968927099,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-messages-en-US").then(e.t.bind(e,4244940908,23))}},headphones:()=>e.e("gantry-v2-async-lottie-trial-modal-huddles.json").then(e.t.bind(e,3020879619,23)),canvas:()=>e.e("gantry-v2-async-lottie-trial-modal-canvas.json").then(e.t.bind(e,5417726912,23)),buildings:R,play:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),bolt:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),tools:()=>e.e("gantry-v2-async-lottie-trial-modal-templates.json").then(e.t.bind(e,8131963541,23)),"shared-channel":R,lists:()=>e.e("gantry-v2-async-lottie-trial-modal-lists.json").then(e.t.bind(e,1734664547,23))},O={"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB.json").then(e.t.bind(e,2450338219,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR.json").then(e.t.bind(e,8873227255,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP.json").then(e.t.bind(e,8007093194,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE.json").then(e.t.bind(e,2760408041,23))},U={history:{"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB.json").then(e.t.bind(e,9570554074,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR.json").then(e.t.bind(e,7096086790,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP.json").then(e.t.bind(e,3015913705,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE.json").then(e.t.bind(e,3095723524,23))},buildings:O,"shared-channel":O},W=_(H=>H in U,"isLocalizedIconName"),x=_((H,Y)=>Y in H,"isLocale"),L=_((H,Y)=>{if(!W(H))return;const Z=U[H];return x(Z,Y)?Z[Y]:void 0},"getIconToAnimationMapLocalized"),b=_(function(){let{experimentPnpGoGroupTreatment:H=!1,newCopyVariant:Y=!1,trialAwarenessModalVariant:Z=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V={history:{iconName:"history",title:M.t("Unlimited message and file history"),text:M.t("Keep and find answers in your team\u2019s archive")},huddles:{iconName:"headphones",title:M.t("Group huddles"),text:M.t("Voice and video conversations with your team")},files:{iconName:"canvas",title:M.t("Canvases and lists"),text:M.t("Share and track work in Slack")},slackConnect:{iconName:"buildings",title:M.t("Slack Connect channels"),text:M.t("Work with people from other organizations")},workflows:{iconName:"bolt",title:M.t("More apps and unlimited workflows"),text:M.t("Connect tools to Slack and build no-code automations")}};return Y&&(V={...V,history:{...V.history,title:M.t("Unlimited message history"),text:M.t("Search and view all of your team\u2019s public messages and files, which are stored indefinitely on a paid plan.")},huddles:{...V.huddles,text:M.t("Talk things out live with audio and video huddles. Share your screen, annotate and enable live captions.")},tools:{iconName:"tools",title:M.t("Premium productivity tools and templates"),text:M.t("Share, track and manage work with canvases, lists, workflows and more.")},slackConnect:{...V.slackConnect,title:M.t("Work with people at other organizations"),text:M.t("Make collaborating with outside partners and clients as fast and simple as working with in-house teams.")},workflows:{...V.workflows,iconName:"play",title:M.t("More connected apps"),text:M.t("Schedule meetings, file tickets, track tasks, and more, by bringing tools your team already uses into Slack.")}}),H&&(V={...V,files:{...V.files,iconName:"tools",title:M.t("Premium productivity tools and templates"),text:M.t("Track and share work with lists and unlimited canvases")},slackConnect:{...V.slackConnect,iconName:"shared-channel",title:M.t("Slack Connect channels"),text:M.t("Work with people from other organizations")},huddles:{...V.huddles,title:M.t("Group voice and video huddles"),text:M.t("Instantly connect with screen sharing and more")},workflows:{...V.workflows,title:M.t("Unlimited apps and workflows"),text:M.t("Access tools you use everyday and automate tasks")}},Z&&(V={...V,files:{...V.files,text:M.t("Share, track and manage work with canvases and lists")},slackConnect:{...V.slackConnect,title:M.t("Slack Connect")},huddles:{...V.huddles,title:M.t("Group huddles"),text:M.t("Talk it out on a video call with screen sharing")},workflows:{...V.workflows,title:M.t("Unlimited apps and workflows"),text:M.t("Access tools you use everyday and automate tasks")}})),[V.history,V.huddles,...V.tools?[V.tools]:n.Ml,...Y?n.Ml:[V.files],V.slackConnect,V.workflows]},"getFeatureList"),F=_(H=>{let{iconClassName:Y,iconName:Z,title:V,text:ne}=H;return t.createElement(I.A,{alignItems:"flex-start"},t.createElement("div",{className:o()(E().icon,Y)},t.createElement(y.A,{name:Z,size:"20","aria-describedby":Z,role:"img","data-qa":`icon-${Z}`})),t.createElement(I.A,{flexDirection:"column"},t.createElement("div",{className:E().title},V),t.createElement("div",{className:E().text},ne)))},"FeaturesListItem");F.displayName="FeaturesListItem";const K=_(H=>{let{className:Y,iconClassName:Z,listItems:V}=H;return t.createElement(I.A,{gap:12,flexDirection:"column",className:o()(E().featuresListContainer,Y)},V.map(ne=>t.createElement(F,{key:ne.title,iconClassName:Z,iconName:ne.iconName,title:ne.title,text:ne.text})))},"FeaturesList")},6318661545:(N,g,e)=>{"use strict";e.d(g,{jY:()=>o,pm:()=>c,z6:()=>n});var t=e(8668318456);const s=t.EventId.UPGRDEXP_BENEFITS,o=_(()=>({eventId:s,uiComponentName:t.UiComponentName.PRO_TO_BIZ_PLUS_BOOST_MODAL}),"getProToBizPlusUpgradeModalAutoClogProps"),n=_(()=>({eventId:s,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalComparePlansAutoclogProp"),c=_(()=>({eventId:s,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_inquire_with_sales_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalInquireWithSalesAutoclogProp")},1267040415:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(7173172014),o=e(6471059816),n=e(2683115972),c=e(8739505998),i=e(2312625946),r=e(8668318456),a=e(6323355797),l=e(9506008067);function d(){return d=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var p=arguments[v];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(h[T]=p[T])}return h},d.apply(this,arguments)}_(d,"_extends");const u=new o.Ay("plan_change"),f=_(h=>{let{children:v,planLevel:p,entryPoint:T,feature:A,hash:C,action:I,useLink:D,refToForward:y,productId:P,productLevel:E,tooltipProps:M,...S}=h;const R=(0,l.d4)(U=>(0,a.m6)(U,{entryPoint:T,productId:P,productLevel:E,action:I,feature:A,hash:C,planLevel:p})),k=D?c.A:n.Ay,O=t.createElement(k,d({ref:y},S,{href:R}),v);return t.createElement(s.A,{eventId:r.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},M?t.createElement(i.Ay,d({tip:u.t("Upgrade")},M),O):O)},"PlansPageCTABase");f.displayName="PlansPageCTABase";const m=t.forwardRef((h,v)=>t.createElement(f,d({},h,{refToForward:v})))},4177200783:(N,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),s=e(6122756707),o=e(7173172014),n=e(6471059816),c=e(1743656885),i=e(5712872315),r=e(8719380546),a=e(8668318456),l=e(9506008067),d=e(4761125736),u=e(9003400431);const f=new n.Ay("msg_input"),m={elementName:"learn_more",onClick:{enableClogAction:!0}},h=_(I=>{let{isScheduledMessage:D}=I;const y=(0,s.wA)(),P=(0,t.useCallback)(()=>{y((0,u.O)())},[y]);if(!(0,l.d4)(R=>(0,d._Z)(R,"upgrd_5684")==="on"))return null;const M=D?f.t("Message not scheduled"):f.t("Message not sent"),S=f.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":R=>{let{text:k}=R;return t.createElement(c.A,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:m,forceOpenInBrowser:!0},k)}});return t.createElement(o.A,{eventId:a.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:a.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.createElement(r.A,{"data-qa":"message-limit-error-modal",title:M,titleIcon:"warning",bodyContent:S,onRequestClose:P,theme:i.B.ERROR}))},"MessageLimitErrorModal");h.displayName="MessageLimitErrorModal";const v=h;var p=e(6304789565),T=e(2375333597);const A=(0,p.Ay)("Open modal when a message send fails due to team having hit the message limit",function(I,D){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I((0,T.q)({element:t.createElement(v,y)}))});A.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};const C=A},8815446456:(N,g,e)=>{"use strict";e.d(g,{z:()=>c});var t=e(3134334389),s=e(6323355797),o=e(9506008067),n=e(3554387543);const c=_(()=>{const i=(0,o.d4)(n.sz),r=(0,o.d4)(n.yQ);return(0,t.useMemo)(()=>{const a={[s.F2.FREE]:{pro:!0,plus:!0,enterprise:!0},[s.F2.STD]:{pro:r,plus:!0,enterprise:!0},[s.F2.PLUS]:{pro:!1,plus:r,enterprise:!0},[s.F2.ENTERPRISE]:{pro:!1,plus:!1,enterprise:!1},[s.F2.COMPLIANCE]:{pro:!1,plus:!1,enterprise:!1}};return a[i]||a[s.F2.FREE]},[i,r])},"usePlanVisibility")},6518038516:(N,g,e)=>{"use strict";e.d(g,{A:()=>R});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816),c=e(9022734571),i=e(7994296598),r=e(1318506593),a=e(6839188756),l=e(6084388622),d=e(8739505998),u=e(8683010724),f=e(6323355797),m=e(9391594207),h=e(3559164431),v=e(8368515877),p=e(2222994823),T=e(4761125736),A=e(3554387543),C=e(3192808693),I=e(7182156071),D=e(1670069836);function y(){return y=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},y.apply(this,arguments)}_(y,"_extends");const P=new n.Ay("page_pricing");let E=_(class extends t.Component{getElementName(){const{isSmallFeaturesColumnButton:O,planLevel:U,activePlanLevel:W,isTeamOnTrial:x,isInvoiceCustomer:L,includeFreePlan:b}=this.props;let F;return U===f.i6.enterprise.name?F=`${U}_plan_contact_us`:L?F=`${U}_plan_contact_accounts`:!U&&b?F="free_plan_upgrade":O&&W===U&&!x?F=`${U}_get_slack_ai`:F=`${U}_plan_upgrade`,F}getHref(O){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const W=O+(0,c.iU)({...this.parsedUrlQueryParams,...U});return(0,a.Zl)(this.props.team,W)}async navigateToCheckoutFlow(O){const{isSlackAiToggleSelected:U,isTeamOnTrial:W,activePlanLevel:x,experimentPnpTwoGoGroupOn:L}=this.props;this.setState(()=>({isCTALoading:!0}));try{await this.props.fetchConfigurationData({productId:O})}catch(K){var b;(K==null||(b=K.data)===null||b===void 0?void 0:b.error)==="invalid_request"?(0,i.A)(`/account/request?entry_point=${this.props.entryPoint}`):(0,i.A)("/admin/billing");return}if(this.props.redirectUrl&&(0,p.I)(this.props.redirectUrl)){this.props.redirectUrl&&(0,i.A)(this.props.redirectUrl);return}const F=!W&&x==="",B=(0,f.Qn)({team:this.props.team,entryPoint:this.props.entryPoint,productId:O,addonTypes:!L&&F&&U?[f.wi.SlackAI]:void 0});(0,i.A)(B)}handleClick(){const{team:O,planLevel:U,activePlanLevel:W,isSmallFeaturesColumnButton:x,productId:L,slackAIAddonId:b,isTeamOnTrial:F,isSlackAiToggleSelected:B,experimentPnpTwoGoGroupOn:K,isV1FeaturePackage:H}=this.props;if(x&&W===U&&!F){const Z=B?[f.wi.SlackAI]:void 0;let V;K&&H&&W===f.i6.plus.name?V=(0,f.Qn)({team:O,entryPoint:"plans_page",productId:L}):V=(0,f.Qn)({team:O,entryPoint:"plans_page",addon:K?void 0:b,addonTypes:K?void 0:Z}),(0,i.A)(V)}else L&&this.navigateToCheckoutFlow(L)}renderPlanCTA(){const{activePlanLevel:O,planLevel:U,productId:W,activeProductId:x,"data-qa":L,isInvoiceCustomer:b,clogStepId:F,useLink:B,buttonType:K,openInNewTab:H,entryPoint:Y,isSmallFeaturesColumnButton:Z,isSalesforceFeaturesColumnButton:V,isTeamOnTrial:ne,discountPromoType:q,discountPromoSubtype:me,discountPercent:ue,experimentPnpDiscountsGroupOn:ae,experimentPnpTwoGoGroupOn:le,experimentSfEmbedGrowthToggleGroupOn:fe,className:he,isV1FeaturePackage:ie}=this.props;let X="outline",j="",w;const Q=H?"_blank":"_self";if(U===f.i6.enterprise.name)j=P.t("Contact Sales"),w=this.getHref("/contact-sales",{from_plans:1,campaign:"7013y000002UvizAAC"}),X="primary";else if(b)j=P.t("Contact Accounts"),w=this.getHref("/help/requests/new");else{if(U===f.i6.free.name)return null;if(X="primary",Z)!le&&O===U&&!ne?j=P.t("Get Slack AI"):q===f.k2.PricingAndPackagingPromo?j=(0,f.$K)({discountPromoSubtype:me,activePlanLevel:O,discountPercent:ue,planLevel:U,experimentPnpDiscountsGroupOn:ae}):ie&&O==="plus"?j=le?P.t("Renew"):"":j=P.t("Upgrade");else if(fe&&V)if(B)j=P.t("Buy Now"),w=this.getHref(`/${f.nc}`,{p:W,entry_point:Y,product_level:U});else{const ce=(0,f._N)(f.i6[U].name);j=P.t("Upgrade to {planName}",{planName:ce})}else{j=P.t("Upgrade Now");const ce=x?2:1;w=this.getHref(`/${f.nc}`,{s:ce,entry_point:Y})}}const G={className:o()("p-upgrade_cta plan_page",he),"data-qa":L,autoClogProps:{elementName:this.getElementName(),isPrimaryCTA:K==="primary",onClick:{enableClogAction:!0},clogStepId:F,productId:W}},J=K||X,te=w?{href:w,target:Q}:{type:J};let se=t.createElement(l.z9,y({},te,G),j);if(U!==f.i6.enterprise.name&&!b&&W&&!B)se=t.createElement(l.lV,y({onClick:this.handleClick,loading:this.state.isCTALoading},G,{type:J,"aria-label":j}),j);else if(B){const ce=w?{href:w,target:Q}:{};se=t.createElement(d.A,y({},ce,G,{className:`p-upgrade_cta--link ${G.className}`}),j,t.createElement("span",{className:"margin_left_25"},t.createElement(u.A,{name:"arrow-right"})))}return se}render(){return this.renderPlanCTA()}constructor(O){super(O),this.state={isCTALoading:!1},this.handleClick=this.handleClick.bind(this),this.parsedUrlQueryParams=(0,r.qN)(window.location.href)||{}}},"UpgradeCta");E.defaultProps={"data-qa":"plans_page_upgrade_cta",clogStepId:"",entryPoint:"plans_page"},E.displayName="UpgradeCta";const M=_((k,O)=>{const U=(0,A.EV)(k),W=(0,D.H7)(k),x=(0,A.$f)(k);return{team:W,productId:(0,A.UO)(k,O.planLevel,U),slackAIAddonId:(0,A.Zg)(k,x,U),activeProductId:(0,A.xU)(k),activePlanLevel:x,isTeamOnTrial:(0,A.yQ)(k),isInvoiceCustomer:(0,A.Nd)(k),redirectUrl:(0,h.oy)(k),nextPlanLevel:(0,A.Jf)(k),isSlackAiToggleSelected:(0,A.qK)(k),discountPercent:(0,A.WG)(k),discountPromoType:(0,A.ZQ)(k),discountPromoSubtype:(0,A.$3)(k),experimentPnpDiscountsGroupOn:(0,T._Z)(k,"pnp_discounts")==="on",experimentPnpTwoGoGroupOn:(0,I.k)(k),experimentSfEmbedGrowthToggleGroupOn:(0,C.hB)(k)}},"mapStateToProps"),S=_(k=>({fetchConfigurationData:O=>k((0,v.l)(O))}),"mapDispatchToProps"),R=(0,m.N)(M,S)(E)},7895785073:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(677609895),s=e(6323355797),o=e(9506008067),n=e(3554387543),c=e(7268021173),i=e(3192808693),r=e(7182156071);const l=_(d=>{const u=(0,o.d4)(n.nc),f=(0,o.d4)(H=>(0,n.C8)(H,d,s.ck.monthly)),m=(0,o.d4)(H=>(0,n.C8)(H,d,s.ck.yearly)),h=(0,o.d4)(H=>(0,n.MO)(H,d,s.ck.yearly)),v=(0,o.d4)(H=>(0,n.MO)(H,d,s.ck.monthly)),p=(0,o.d4)(H=>(0,n.h$)(H,d,s.ck.monthly)),T=(0,o.d4)(H=>(0,n.h$)(H,d,s.ck.yearly)),A=(0,o.d4)(n.$f),C=(0,o.d4)(n.tl),I=(0,o.d4)(H=>(0,n.od)(H,d,s.ck.monthly)),D=(0,o.d4)(n.yQ),y=(0,o.d4)(n.kz),P=(0,o.d4)(n.Gp);let E=(0,o.d4)(n.qK);const M=(0,o.d4)(r.k);M&&(E=!1);const S=(0,o.d4)(c.tV),R=(0,o.d4)(c.wM),k=(0,o.d4)(i.yD),O=(0,o.d4)(t.X),U=(0,o.d4)(H=>(0,i.qc)(H,d)),W=(0,o.d4)(H=>(0,i.Rr)(H,d)),x=(0,o.d4)(H=>(0,i._k)(H,d));let L,b,F,B;const K=!!(f&&!m);return K?(L=v,b=h,F=f,B=m&&m/12):(L=h,b=v,F=m&&m/12,B=f),{currentPlan:A,currency:u,isTeamOnTrial:D,isBespokeTeam:C,slackAIUnitCost:I,isSlackAIProvisioned:y,isSlackAiSelected:E,isCurrentPlanComplimentary:P,discountedMonthlyCostPerMonth:f,discountedYearlyCostPerYear:m,baseMonthDiscountPercentage:p,baseYearlyDiscountPercentage:T,baseMonthlyCostPerMonth:v,baseYearlyCostPerMonth:h,experimentPnpTwoGoGroupOn:M,hasFutureSwitch:S,nextProductLevel:R,showTrialCountdown:W,highlightSales:k,highlightPlan:x,canUserUpgrade:O,isActive:U,isPrimaryPricingMonthly:K,primaryBaseCostPerMonth:L,secondaryBaseCostPerMonth:b,primaryDiscountCostPerMonth:F,secondaryDiscountCostPerMonth:B}},"useSmallFeaturesColumnSelector")},328068115:(N,g,e)=>{"use strict";e.r(g),e.d(g,{default:()=>u});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(1717398439),c=e(5498730041),i=e(6471059816),r=e(4080324325),a=e.n(r);const l=new i.Ay("trial_banners"),d=_(f=>{let{className:m=""}=f;const h=_(()=>t.createElement(n.M,{className:a().linkInBody,entryPoint:"autoslack_post_trial_huddles_banner"}),"renderAutoSlackPostTrialCta");h.displayName="renderAutoSlackPostTrialCta";const v=l.rt("On the free version of Slack, your huddles are limited to two people. <cta></cta>",{"<cta>":h,fallbackHash:"0bc45a006fe2f132b578697e31ad8b1bbf51f301",fallbackHashNs:"trials_highlight_paid_features"});return t.createElement("div",{className:o()({[m]:!!m})},t.createElement(c.N,{title:v}))},"AutoSlackSalesforcePlusTrialAwarenessHuddlesBanner");d.displayName="AutoSlackSalesforcePlusTrialAwarenessHuddlesBanner";const u=d},1717398439:(N,g,e)=>{"use strict";e.d(g,{M:()=>v});var t=e(3134334389),s=e(6122756707),o=e(9026473207),n=e(7842233250),c=e(677609895),i=e(8739505998),r=e(6471059816),a=e(6323355797),l=e(9506008067),d=e(2375333597);const u=new r.Ay("trial_banners"),f={elementName:"auto_slack_post_trial_upgrade_cta",onClick:{enableClogAction:!0}},m={elementName:"auto_slack_post_trial_request_upgrade_cta",onClick:{enableClogAction:!0}},h={elementName:"auto_slack_post_trial_compare_plans_cta",onClick:{enableClogAction:!0}};function v(p){let{entryPoint:T="autoslack_post_trial_banner",className:A}=p;const C=(0,s.wA)(),I=(0,l.d4)(c.X),{hasPreviouslyRequestedPurchase:D,isAllowFeatureRequestEnabled:y,makeRequestToPurchaseRequest:P}=(0,n.JZ)(),E=(0,l.d4)(R=>(0,a.m6)(R,{action:"plans",entryPoint:T})),M=(0,t.useMemo)(()=>()=>{C((0,d.q)({element:t.createElement(o.x,{makeRequestToPurchaseRequest:P,entryPoint:T})}))},[C,T,P]);let S=t.createElement(i.A,{href:E,autoClogProps:h,className:A,target:"_blank"},u.t("Compare Plans"));return I?S=t.createElement(i.A,{href:E,autoClogProps:f,className:A,target:"_blank"},u.t("Upgrade Now")):y&&!D&&(S=t.createElement(i.A,{onClick:M,autoClogProps:m,className:A},u.t("Request Upgrade"))),t.createElement("strong",null,S)}_(v,"AutoSlackPostTrialCta"),v.displayName="AutoSlackPostTrialCta"},7472322262:(N,g,e)=>{"use strict";e.r(g),e.d(g,{default:()=>h});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7173172014),c=e(6852088830),i=e(7287809332),r=e(7878745420),a=e(8668318456),l=e(6471059816),d=e(8871937520);const u=r.g.AUTO_SLACK_SALESFORCE_PLUS_TRIAL_AWARENESS_HUDDLES_INVITE_BANNER,f=new l.Ay("trial_banners"),m=_(v=>{let{trialAwarenessInfo:p,className:T=""}=v;const{trialEndDate:A,canUserPurchase:C}=p,I=f.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialEndDate}</strong>.",{trialEndDate:(0,d.Pd)(A)}),D=f.rt("<strong>Huddles will soon be limited to two people</strong><br></br>Upgrade to continue using group huddles with your team.",{fallbackHash:"66f411f508f76d46d11536cf0088444b9374a48a",fallbackHashNs:"trials_highlight_paid_features"});return t.createElement(n.$,{eventId:a.EventId.UPGRDEXP_TRIAL,uiComponentName:a.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:o()({[T]:!!T})},t.createElement(c.B,{midTrialTitle:I,trialEndTitle:D,entryPoint:i.P,canUserPurchase:C})))},"AutoSlackSalesforcePlusTrialAwarenessHuddlesInviteBanner");m.displayName="AutoSlackSalesforcePlusTrialAwarenessHuddlesInviteBanner";const h=m},6852088830:(N,g,e)=>{"use strict";e.d(g,{B:()=>R});var t=e(3134334389),s=e(6122756707),o=e(2843556239),n=e(7287809332),c=e(7213730825),i=e(4819212603),r=e(7244235590),a=e(9026473207),l=e(7842233250),d=e(5655284373),u=e(5498730041),f=e(6471059816),m=e(4096483543),h=e(6323355797),v=e(9506008067),p=e(9003400431),T=e(2375333597),A=e(7268021173),C=e(3192808693),I=e(3193155968);function D(){return D=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},D.apply(this,arguments)}_(D,"_extends");const y=new f.Ay("trial_banners"),P={elementName:"expore_trial",onClick:{enableClogAction:!0}},E={elementName:"compare_plans",onClick:{enableClogAction:!0}},M={elementName:"upgrade_cta",onClick:{enableClogAction:!0}},S=t.forwardRef((k,O)=>{let{...U}=k;return t.createElement(r.E,D({},U,{ref:O,entryPoint:"salesforce_plus_trial_awareness_banner",renderRequestDisabledPlansFallbackCta:!0}))});function R(k){let{midTrialTitle:O,trialEndTitle:U,body:W,entryPoint:x="salesforce_plus_trial_awareness_banner",showHourglassIcon:L=!1,canUserPurchase:b,hideBadge:F=!1}=k;const B=(0,s.wA)(),{hasPreviouslyRequestedPurchase:K,isAllowFeatureRequestEnabled:H,makeRequestToPurchaseRequest:Y}=(0,l.JZ)(),Z=(0,v.d4)(C.lL),V=(0,v.d4)(A.zk)||0,ne=(0,n.d)(V),q=Z?y.t("Explore your trial"):"",me=Z?y.t("Upgrade Now"):"",ue=Z?y.t("Compare Plans"):"",ae=Z?y.t("Request Upgrade"):"",le=!!W,fe=(0,t.useMemo)(()=>(0,c.OV)(x,le),[x,le]),he=(0,v.d4)(Ee=>(0,h.m6)(Ee,{action:"plans",entryPoint:x})),{windowId:ie}=(0,t.useContext)(o._0),X=!ie||ie===I.N2,j=(0,m.A)(),w=(0,t.useMemo)(()=>({text:q,onClick:()=>{X&&B((0,p.O)()),B((0,i.z7)({source:"salesforce_plus_trial_awareness_banner"}))},autoClogProps:P}),[B,q,X]),Q=(0,t.useMemo)(()=>({text:me,href:he,autoClogProps:M}),[he,me]),G=(0,t.useMemo)(()=>({text:ue,href:he,autoClogProps:E}),[ue,he]),J=(0,t.useMemo)(()=>(0,c.f9)(x,"open_request_to_purchase_modal_cta"),[x]),te=(0,t.useMemo)(()=>({text:ae,autoClogProps:J,onClick:()=>{B((0,T.q)({element:t.createElement(a.x,{makeRequestToPurchaseRequest:Y,entryPoint:"salesforce_plus_trial_awareness_banner"})}))}}),[B,Y,J,ae]);if(le)return b?t.createElement(d.D,{autoClogProps:fe,title:U,body:W,primaryCta:Q,hideBadge:F}):t.createElement(d.D,{autoClogProps:fe,title:U,body:W,customPrimaryCta:S,customPrimaryCtaProps:J,primaryCta:te,hideBadge:F});let se=w;return ne||(se=b?Q:H&&!K?te:G),j||(se=b?Q:G),x===n.P&&!X&&(se=void 0),t.createElement(u.N,{autoClogProps:fe,title:ne?O:U,primaryCta:se,hideBadge:F,showHourglassIcon:L})}_(R,"SalesforcePlusTrialAwarenessBanner"),R.displayName="SalesforcePlusTrialAwarenessBanner"},7287809332:(N,g,e)=>{"use strict";e.d(g,{P:()=>s,d:()=>t});const t=_(o=>o>7,"isMidTrial"),s="huddles_invite_modal_salesforce_plus_trial_banner"},7213730825:(N,g,e)=>{"use strict";e.d(g,{Bi:()=>s,Es:()=>A,G2:()=>p,OV:()=>f,RW:()=>r,Vf:()=>l,W4:()=>d,bI:()=>C,eG:()=>c,f9:()=>u,q_:()=>T,rS:()=>o,tT:()=>a,uR:()=>n,wT:()=>i});var t=e(8668318456);const s=_(I=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_PAGE,clogImpression:!0,stepVariant:I}),"getPaidFeaturesPageImpressionClog"),o=_((I,D)=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_SUBPAGE,clogImpression:!0,stepVariant:I,uiComponentVariant:D}),"getPaidFeaturesSubpageImpressionClog"),n=_(I=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_PAGE,elementName:I,onClick:{enableClogAction:!0}}),"getPaidFeaturesPageCtaClickClog"),c=_(I=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_EXPLORE_PAID_FEATURES_SUBPAGE,elementName:I,onClick:{enableClogAction:!0}}),"getPaidFeaturesSubpageFeatureCtaClickClog"),i={eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_PEEK_VIEW,clogImpression:!0},r=_(I=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_PEEK_VIEW,elementName:I,onClick:{enableClogAction:!0}}),"getSalesForcePlusMenuItemClickClog"),a={eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_GUIDE_SUNROOF,onClick:{enableClogAction:!0}},l=_(I=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_MODAL,stepVariant:I,clogImpression:!0}),"getSfEmbedRequestToPurchaseModalImpressionClog"),d=_(I=>{let{entryPoint:D,elementName:y}=I;return{eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_MODAL,entryPoint:D,elementName:y,onClick:{enableClogAction:!0}}},"getSfEmbedRequestToPurchaseModalClickClog"),u=_((I,D)=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_CTA,entryPoint:I,stepVariant:D,clogImpression:!0,onClick:{enableClogAction:!0}}),"getSfEmbedRequestToPurchaseCtaClickClog"),f=_((I,D)=>({uiComponentName:t.UiComponentName.SALESFORCE_PLUS_TRIAL_AWARENESS_BANNER,clogImpression:!0,stepVariant:I,uiComponentVariant:D?"large-banner":"small-banner"}),"getSalesforcePlusTrialAwarenessBannerClog"),m="autoslack_team",h="autoslack_team_large_team",v="autoslack_team_small_team",p=_(I=>{let{isSfEmbedTeam:D,isLargeTeam:y}=I;return D?y?h:v:""},"getPlansPageUIComponentVariant"),T=_(I=>{let{uiStep:D,planLevel:y}=I;return{uiStep:D,elementName:`contact_sales_cta_${y}`,onClick:{enableClogAction:!0}}},"getContactSalesCtaClickClog"),A=_(()=>({eventId:t.EventId.PROMO_CAMPAIGN,uiComponentName:t.UiComponentName.SF_EMBED_CONTACT_SALES_MODAL,clogImpression:!0}),"getContactSalesImpressionModalClog"),C=_((I,D)=>{I.track(t.EventId.PROMO_CAMPAIGN,{contexts:{ui_context:{step:"contact_sales_submit",action:t.UiAction.CLICK,action_status:t.UiActionStatus.SUCCESS,ui_component:t.UiComponentName.SF_EMBED_CONTACT_SALES_MODAL,ui_properties:{element_type:t.ElementType.BUTTON,element_name:`contact_sales_submit_${D}`}}}})},"clogContactSalesSubmitSuccess")},1737513485:(N,g,e)=>{"use strict";e.d(g,{FG:()=>q,VJ:()=>ue,yq:()=>le});var t=e(6845144532),s=e(642761070),o=e.n(s),n=e(1811117303),c=e.n(n),i=e(4444244370),r=e.n(i),a=e(7723930552),l=e.n(a),d=e(43752938),u=e.n(d),f=e(4078816923),m=e.n(f),h=e(1263906496),v=e.n(h),p=e(1581921949),T=e.n(p),A=e(4341491627),C=e.n(A),I=e(4586065271),D=e.n(I),y=e(8713048688),P=e.n(y),E=e(1635550705),M=e.n(E),S=e(4611648208),R=e.n(S),k=e(129798702),O=e.n(k),U=e(5121486309),W=e.n(U),x=e(3026177781),L=e.n(x),b=e(5785171234),F=e.n(b),B=e(1141095027),K=e.n(B),H=e(2253304769),Y=e.n(H),Z=e(360570636),V=e.n(Z);const ne={cloudLeftAubergineDark:o(),cloudLeftCampfireDark:c(),cloudLeftCilantroDark:r(),cloudLeftOceanDark:u(),cloudRightAubergineDark:m(),cloudRightCampfireDark:v(),cloudRightCilantroDark:T(),cloudRightOceanDark:D(),cloudLeftLagoonDark:l(),cloudRightLagoonDark:C(),cloudLeftAubergine:P(),cloudLeftCampfire:M(),cloudLeftCilantro:R(),cloudLeftLagoon:O(),cloudLeftWhite:W(),cloudRightAubergine:L(),cloudRightCampfire:F(),cloudRightCilantro:K(),cloudRightLagoon:Y(),cloudRightWhite:V()},q=_(fe=>ne[fe],"getClouds"),me={"en-US":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-en-US").then(e.t.bind(e,8481804380,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-en-US").then(e.t.bind(e,549977053,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-en-US").then(e.t.bind(e,3924869011,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-en-US").then(e.t.bind(e,9898589507,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-en-US").then(e.t.bind(e,827866026,23))},"de-DE":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-de-DE").then(e.t.bind(e,6380301263,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-de-DE").then(e.t.bind(e,198689452,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-de-DE").then(e.t.bind(e,9016722062,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-de-DE").then(e.t.bind(e,864476310,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-de-DE").then(e.t.bind(e,2620822195,23))},"en-GB":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-en-GB").then(e.t.bind(e,9190682765,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-en-GB").then(e.t.bind(e,7095150830,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-en-GB").then(e.t.bind(e,9232189116,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-en-GB").then(e.t.bind(e,7365235564,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-en-GB").then(e.t.bind(e,2456080957,23))},"es-ES":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-es-ES").then(e.t.bind(e,494891977,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-es-ES").then(e.t.bind(e,1139509466,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-es-ES").then(e.t.bind(e,2591511600,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-es-ES").then(e.t.bind(e,784019960,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-es-ES").then(e.t.bind(e,4920836465,23))},"es-LA":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-es-LA").then(e.t.bind(e,9407846418,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-es-LA").then(e.t.bind(e,8870131463,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-es-LA").then(e.t.bind(e,4094690209,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-es-LA").then(e.t.bind(e,6170109985,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-es-LA").then(e.t.bind(e,7341988172,23))},"fr-FR":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-fr-FR").then(e.t.bind(e,4397414529,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-fr-FR").then(e.t.bind(e,2084259810,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-fr-FR").then(e.t.bind(e,2251746840,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-fr-FR").then(e.t.bind(e,3399272384,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-fr-FR").then(e.t.bind(e,2903117577,23))},"ja-JP":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-ja-JP").then(e.t.bind(e,2482053748,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-ja-JP").then(e.t.bind(e,749197925,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-ja-JP").then(e.t.bind(e,1072723963,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-ja-JP").then(e.t.bind(e,7108314699,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-ja-JP").then(e.t.bind(e,2053700514,23))},"pt-BR":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-pt-BR").then(e.t.bind(e,45115785,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-pt-BR").then(e.t.bind(e,485595546,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-pt-BR").then(e.t.bind(e,4072209776,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-pt-BR").then(e.t.bind(e,595331256,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-pt-BR").then(e.t.bind(e,3383181745,23))},"ko-KR":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-ko-KR").then(e.t.bind(e,9928530366,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-ko-KR").then(e.t.bind(e,1735847955,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-ko-KR").then(e.t.bind(e,7939136053,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-ko-KR").then(e.t.bind(e,5461120909,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-ko-KR").then(e.t.bind(e,3723222928,23))},"it-IT":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-it-IT").then(e.t.bind(e,4622901799,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-it-IT").then(e.t.bind(e,8618085332,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-it-IT").then(e.t.bind(e,4275472278,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-it-IT").then(e.t.bind(e,3839983134,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-it-IT").then(e.t.bind(e,8246174699,23))},"zh-CN":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-zh-CN").then(e.t.bind(e,8838186634,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-zh-CN").then(e.t.bind(e,7467947087,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-zh-CN").then(e.t.bind(e,543827881,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-zh-CN").then(e.t.bind(e,6677432105,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-zh-CN").then(e.t.bind(e,2378576132,23))},"zh-TW":{criticalAppsImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-critical-apps-img-zh-TW").then(e.t.bind(e,6105869626,23)),fullContextImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-full-context-img-zh-TW").then(e.t.bind(e,6913333311,23)),pageHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-page-hero-zh-TW").then(e.t.bind(e,5123241785,23)),slackAiImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-ai-img-zh-TW").then(e.t.bind(e,475012857,23)),slackConnectImg:()=>e.e("gantry-v2-async-client-explore-paid-feature-slack-connect-img-de-DE").then(e.t.bind(e,7396508928,23)),aiHero:()=>e.e("gantry-v2-async-client-explore-paid-feature-ai-hero-zh-TW").then(e.t.bind(e,7350730228,23))}},ue=_(async fe=>{const he=(0,t.F)().getLocaleForLastViewedTeam();try{var ie,X;return(await((X=(ie=me[he])===null||ie===void 0?void 0:ie[fe])!==null&&X!==void 0?X:me["en-US"][fe])()).default}catch{return(await me["en-US"][fe]()).default}},"getSfEmbedPageStaticAssets"),ae={"en-US":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-en-US.json").then(e.t.bind(e,3426033286,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-en-US.json").then(e.t.bind(e,2059705509,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-en-US.json").then(e.t.bind(e,7898629040,23))},"de-DE":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-de-DE.json").then(e.t.bind(e,5934603265,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-de-DE.json").then(e.t.bind(e,7538739490,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-de-DE.json").then(e.t.bind(e,6105594019,23))},"en-GB":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-en-GB.json").then(e.t.bind(e,3286276739,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-en-GB.json").then(e.t.bind(e,6694527036,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-en-GB.json").then(e.t.bind(e,7983381829,23))},"es-ES":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-es-ES.json").then(e.t.bind(e,6494696859,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-es-ES.json").then(e.t.bind(e,8731952980,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-es-ES.json").then(e.t.bind(e,8236374685,23))},"es-LA":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-es-LA.json").then(e.t.bind(e,4785268776,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-es-LA.json").then(e.t.bind(e,3800435519,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-es-LA.json").then(e.t.bind(e,8287785418,23))},"fr-FR":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-fr-FR.json").then(e.t.bind(e,5501858651,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-fr-FR.json").then(e.t.bind(e,568101396,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-fr-FR.json").then(e.t.bind(e,2754233181,23))},"ja-JP":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-ja-JP.json").then(e.t.bind(e,32085366,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-ja-JP.json").then(e.t.bind(e,1074502133,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-ja-JP.json").then(e.t.bind(e,7935503488,23))},"pt-BR":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-pt-BR.json").then(e.t.bind(e,1763889571,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-pt-BR.json").then(e.t.bind(e,7497468764,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-pt-BR.json").then(e.t.bind(e,252747877,23))},"ko-KR":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-ko-KR.json").then(e.t.bind(e,3107326104,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-ko-KR.json").then(e.t.bind(e,6564070479,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-ko-KR.json").then(e.t.bind(e,9600781210,23))},"it-IT":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-it-IT.json").then(e.t.bind(e,5013236201,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-it-IT.json").then(e.t.bind(e,3478264170,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-it-IT.json").then(e.t.bind(e,1450706795,23))},"zh-CN":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-zh-CN.json").then(e.t.bind(e,7256179920,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-zh-CN.json").then(e.t.bind(e,5261493095,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-zh-CN.json").then(e.t.bind(e,7620926386,23))},"zh-TW":{criticalAppsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-critical-apps-zh-TW.json").then(e.t.bind(e,573100548,23)),customerRelationshipsAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-slack-connect-zh-TW.json").then(e.t.bind(e,3438605355,23)),fullContextAnimationImport:()=>e.e("gantry-v2-async-lottie-explore-paid-feature-message-history-zh-TW.json").then(e.t.bind(e,4151062662,23))}},le=_(fe=>{var he;const ie=(0,t.F)().getLocaleForLastViewedTeam();return!((he=ae[ie])===null||he===void 0)&&he[fe]?ae[ie][fe]:ae["en-US"][fe]},"getSfEmbedPageAnimationImports")},4819212603:(N,g,e)=>{"use strict";e.d(g,{V$:()=>i,sB:()=>r,z7:()=>a});var t=e(4117634716),s=e(8822892075),o=e(7940058138),n=e(6304789565),c=e(3193155968),i;(function(l){l.CRITICAL_APPS="critical_apps",l.SLACK_AI="slack_ai",l.CUSTOMER_RELATIONSHIPS="customer_relationships",l.FULL_CONTEXT="full_context"})(i||(i={}));const r=[i.CRITICAL_APPS,i.SLACK_AI,i.CUSTOMER_RELATIONSHIPS,i.FULL_CONTEXT],a=(0,n.Ay)("Navigate to the paid features page or a specific tab in the page",async(l,d,u)=>{l((0,t.o)({...(0,s.ZF)(o.c.ExplorePaidFeatures),params:{targetTab:u==null?void 0:u.tab,source:u.source},options:{forceTab:c.k6.Home}}))});a.meta={name:"createThunk",key:"createThunknavigateToPaidFeaturesPage",description:"Navigate to the paid features page or a specific tab in the page"}},8355789844:(N,g,e)=>{"use strict";e.d(g,{W:()=>o});var t=e(3134334389),s=e(1737513485);const o=_(n=>{const[c,i]=(0,t.useState)({}),r=(0,t.useRef)();return(0,t.useEffect)(()=>{const a=n.join(",");if(r.current===a)return;r.current=a,_(async()=>{const d=Object.fromEntries(n.map(f=>[f,(0,s.VJ)(f)])),u=await Promise.all(Object.entries(d).map(async f=>{let[m,h]=f;return[m,await h]}));i(Object.fromEntries(u))},"loadImages")()},[n]),{loadedImages:c}},"useGetStaticPageAssets")},7244235590:(N,g,e)=>{"use strict";e.d(g,{E:()=>y});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(7213730825),i=e(9026473207),r=e(7842233250),a=e(6084388622),l=e(3165300465),d=e(8683010724),u=e(2312625946),f=e(6471059816),m=e(6323355797),h=e(9506008067),v=e(2375333597),p=e(3192808693),T=e(8941782998),A=e.n(T);function C(){return C=Object.assign||function(P){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(P[S]=M[S])}return P},C.apply(this,arguments)}_(C,"_extends");const I=new f.Ay("pnp_salesforce_embed_growth"),D=_(P=>{let{uiStep:E,className:M,buttonSize:S="medium",requestOnClick:R,renderCustomRequestCta:k,renderCustomRequestedCta:O,renderCustomRequestDisabledCta:U,renderRequestDisabledPlansFallbackCta:W,requestButtonType:x,requestedButtonType:L,refToForward:b,entryPoint:F}=P;const B=(0,s.wA)(),[K,H]=(0,t.useState)(!1),Y=(0,h.d4)(p.lL),{hasPreviouslyRequestedPurchase:Z,isAllowFeatureRequestEnabled:V,makeRequestToPurchaseRequest:ne}=(0,r.JZ)(),q=(0,m.hZ)({entryPoint:"salesforce_embed_request_to_purchase_cta"}),me=(0,t.useMemo)(()=>!V&&W,[V,W]),ue=(0,t.useMemo)(()=>{let ie=R?"request_to_purchase_on_click_cta":"open_request_to_purchase_modal_cta";return me&&(ie="compare_plans_cta"),(0,c.f9)(F,ie)},[F,R,me]),ae=(0,t.useCallback)(()=>{R?ne({onBeforeRequest:()=>H(!0),onAfterRequest:()=>H(!1)}):B((0,v.q)({element:t.createElement(i.x,{uiStep:E,makeRequestToPurchaseRequest:ne,entryPoint:F})}))},[B,E,R,ne,F]),le=(0,t.useCallback)(()=>t.createElement(l.A,{ref:b,className:n()(A().cta,M),onClick:ae,loading:K,"aria-label":I.t("Request Upgrade"),type:x??"primary",size:S,autoClogProps:ue},t.createElement("div",{className:"display_flex align_items_center"},t.createElement("div",{className:"margin_right_25"},t.createElement(d.A,{name:"rocket",size:"20",role:"img"})),Y?I.t("Request Upgrade"):"")),[b,M,ae,K,x,S,Y,ue]),fe=(0,t.useCallback)(()=>{const ie=Y?I.t("We\u2019ll send your request to people on your team with permission to purchase."):"";return k?t.createElement(t.Fragment,null,k({makeRequestToPurchaseRequest:ne})):R?t.createElement(u.Ay,{tip:ie,delay:u.PK},t.createElement(le,null)):t.createElement(le,null)},[le,ne,k,Y,R]),he=(0,t.useCallback)(()=>O?t.createElement(t.Fragment,null,O()):t.createElement(l.A,{ref:b,className:M,onClick:ae,"aria-label":Y?I.t("Upgrade Requested"):"",loading:K,disabled:!0,type:L??"outline",size:S},t.createElement("div",{className:"display_flex align_items_center"},t.createElement("div",{className:"margin_right_25"},t.createElement(d.A,{name:"check-circle",size:"20",role:"img"})),Y?I.t("Upgrade Requested"):"")),[b,M,ae,O,Y,K,L,S]);return!V&&U?t.createElement(t.Fragment,null,U()):me?t.createElement(a.Ay,{type:"primary",href:q,className:M,autoClogProps:ue},I.t("Compare Plans")):V?t.createElement(t.Fragment,null,Z?t.createElement(he,null):t.createElement(fe,null)):null},"SfEmbedRequestToPurchaseCtaBase");D.displayName="SfEmbedRequestToPurchaseCtaBase";const y=t.forwardRef((P,E)=>t.createElement(D,C({},P,{refToForward:E})))},9026473207:(N,g,e)=>{"use strict";e.d(g,{x:()=>h});var t=e(3134334389),s=e(6122756707),o=e(7173172014),n=e(6471059816),c=e(1471093810),i=e(7213730825),r=e(8355789844),a=e(8668318456),l=e(6323355797),d=e(9506008067),u=e(9003400431),f=e(3192808693);const m=new n.Ay("pnp_salesforce_embed_growth"),h=_(v=>{let{uiStep:p,makeRequestToPurchaseRequest:T,entryPoint:A}=v;const C=(0,s.wA)(),I=(0,d.d4)(f.lL),{loadedImages:D}=(0,r.W)(["criticalAppsImg","slackAiImg","slackConnectImg","fullContextImg"]),y=(0,l.hZ)({entryPoint:"request_to_purchase_modal"}),P=(0,t.useCallback)(()=>{C((0,u.O)())},[C]),E=(0,t.useCallback)(async()=>{T({onAfterRequest:P})},[T,P]),M=I?m.t("Level up with Business+"):"",S=I?m.t("Request to upgrade so you can keep access to all the paid features your team uses. We\u2019ll send your request to people on your team with permission to purchase."):"",R=I?m.t("Request Upgrade"):"",k=I?m.t("Compare plans"):"",O=(0,t.useMemo)(()=>({text:R,onClick:E}),[R,E]),U=(0,t.useMemo)(()=>({text:k,url:y}),[k,y]),W=I?m.t("Premium Salesforce integration"):"",x=I?m.t("Advanced AI features and automation"):"",L=I?m.t("Work securely with external organizations"):"",b=I?m.t("Unlimited message and file history"):"",F=(0,t.useMemo)(()=>[{key:"feature-one",imgSrc:D.criticalAppsImg||"",title:W,svgIconProps:{name:"sf-cloud"},theme:"lagoon",imgStyle:{container:{height:"260px"},img:{width:"80%"}}},{key:"feature-two",imgSrc:D.slackAiImg||"",title:x,svgIconProps:{name:"ai-sparkle"},theme:"sunflower",imgStyle:{container:{height:"260px"},img:{width:"120%"}}},{key:"feature-three",imgSrc:D.slackConnectImg||"",title:L,svgIconProps:{name:"buildings"},theme:"cilantro",imgStyle:{container:{height:"260px"},img:{width:"80%"}}},{key:"feature-four",imgSrc:D.fullContextImg||"",title:b,svgIconProps:{name:"history"},theme:"flamingo",imgStyle:{container:{height:"260px"},img:{width:"130%",maxWidth:"none",position:"absolute",bottom:"0",right:"-50%"}}}],[W,x,L,b,D]);return I?t.createElement(o.A,{eventId:a.EventId.NEWXP_JOIN_TEAM,uiComponentName:a.UiComponentName.SF_EMBED_REQUEST_TO_PURCHASE_CTA,uiStep:p},t.createElement(c.m,{title:M,subtitle:S,carouselFeatures:F,carouselContainerHeight:424,primaryCTA:O,secondaryCTA:U,autoClogProps:(0,i.Vf)(A),primaryCTAAutoClogProps:(0,i.W4)({entryPoint:A,elementName:"request_to_purchase_cta"}),secondaryCTAAutoClogProps:(0,i.W4)({entryPoint:A,elementName:"compare_plans_cta"})})):null},"SfEmbedRequestToPurchaseModal");h.displayName="SfEmbedRequestToPurchaseModal"},7842233250:(N,g,e)=>{"use strict";e.d(g,{JZ:()=>C,SO:()=>D,Vl:()=>I});var t=e(3134334389),s=e(6122756707),o=e(8815446456),n=e(1495538422),c=e(3559837422),i=e(2755566931),r=e(6471059816),a=e(6323355797),l=e(9506008067),d=e(1960898919),u=e(4741050461),f=e(4282737224),m=e(5597672932),h=e(3554387543),v=e(3192808693),p=e(5060694341);const T=new r.Ay("pnp_salesforce_embed_growth"),A=_(()=>(0,l.d4)(P=>!!(0,m.xp)(P,"allow_feature_request")&&!(0,c.DM)(P)),"useGetIsAllowFeatureRequestEnabled"),C=_(()=>{const y=(0,s.wA)(),[P,E]=(0,t.useState)(!1),M=(0,l.d4)(k=>(0,d.ax)(k,"has_requested_business_plus_on_sf_embed_team")),S=A(),R=(0,t.useCallback)(async k=>{let{onBeforeRequest:O,onAfterRequest:U}=k;O&&O();try{await y((0,n.K)({reason:"requesting-a-purchase",featRequestCode:"pnp_sf_embed_growth_request_biz_plus"})),y((0,f.S)({pref:"has_requested_business_plus_on_sf_embed_team",value:!0}));const W={name:"paper-plane"};y((0,p.M)({element:t.createElement(i.Ay,{svgIconProps:W},t.createElement("span",null,T.t("Success! Your request has been sent")))}))}catch{const x={name:"warning"};y((0,p.M)({element:t.createElement(i.Ay,{svgIconProps:x},t.createElement("span",null,t.createElement("span",null,T.t("Something went wrong"))))}))}finally{U&&U()}},[y]);return(0,t.useEffect)(()=>{typeof M>"u"&&!P&&(y((0,u.X)()),E(!0))},[M,P,y]),{hasPreviouslyRequestedPurchase:M,isAllowFeatureRequestEnabled:S,makeRequestToPurchaseRequest:R}},"useSfEmbedRequestToPurchaseHooks");C.displayName="useSfEmbedRequestToPurchaseHooks";var I;(function(y){y[y.REQUEST=0]="REQUEST",y[y.DEFAULT=1]="DEFAULT",y[y.HIDDEN=2]="HIDDEN",y[y.SALESFORCE_EMBED=3]="SALESFORCE_EMBED"})(I||(I={}));const D=_(()=>{const y=(0,l.d4)(v.hB),P=(0,l.d4)(v.$X),E=(0,l.d4)(h.sz),M=(0,l.d4)(h.yQ),S=A(),R=(0,o.z)();if(P)return{[a.i6.free.name]:I.HIDDEN,[a.i6.standard.name]:S&&E===a.F2.STD&&M?I.REQUEST:I.HIDDEN,[a.i6.plus.name]:S&&(E===a.F2.PLUS&&M||E===a.F2.FREE)?I.REQUEST:I.HIDDEN,[a.i6.enterprise.name]:I.SALESFORCE_EMBED};if(y)return{[a.i6.free.name]:I.SALESFORCE_EMBED,[a.i6.standard.name]:I.SALESFORCE_EMBED,[a.i6.plus.name]:I.SALESFORCE_EMBED,[a.i6.enterprise.name]:I.SALESFORCE_EMBED};const k=_(x=>x?I.DEFAULT:I.HIDDEN,"getCtaVariantBasedOnVisibility"),{pro:O,plus:U,enterprise:W}=R;return{[a.i6.free.name]:I.HIDDEN,[a.i6.standard.name]:k(O),[a.i6.plus.name]:k(U),[a.i6.enterprise.name]:k(W)}},"useSfEmbedPlansPageRequestToPurchaseHooks")},8576613356:(N,g,e)=>{"use strict";e.d(g,{C:()=>y});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(73855031),c=e(6518038516),i=e(6069260775);const r=(0,t.memo)(P=>{let{onLoad:E}=P;return(0,t.useEffect)(()=>()=>{E()},[E]),null});var a=e(9506008067),l=e(2047021170),d=e(5577296129),u=e.n(d);const f=(0,t.memo)(P=>{let{alt:E,className:M,getAnimationImport:S,index:R,onLoad:k,src:O,autoplay:U=!0,loop:W=!0}=P;const x=(0,t.useCallback)(()=>k(R),[R,k]),L=(0,t.useCallback)(()=>t.createElement(r,{onLoad:x}),[x]);return(0,a.d4)(F=>(0,l.ty)(F,"a11y_animations"))&&S?t.createElement(i.e,{autoplay:U,className:o()(u().featureImage,M),description:E,getAnimationImport:S,loop:W,renderLoading:L}):t.createElement("img",{alt:E,className:o()(u().featureImage,M),key:O,onLoad:x,src:O,"aria-hidden":"true","data-qa":"feature_image_static"})});var m=e(5641442783),h=e(6308822),v=e(6044196829),p=e(980293773),T=e(8668318456),A=e(6323355797),C=e(8985946788),I=e.n(C);const D={subtitle:"accordion-feature-list-modal-subtitle",imageContainer:"accordion-feature-list-modal-image-container",textContent:"accordion-feature-list-modal-text-content"},y=_(P=>{let{accordionClassNames:E={},className:M="",customFooter:S,customHeaderIcon:R,autoClogProps:k,closeModal:O,entryPoint:U,featureListItems:W,featureImageClassName:x="",hideProBadge:L,imageContainerBackground:b="horchata",linkButtonText:F,linkButtonAutoClogProps:B,listContainerClassName:K="",onClickLink:H,subtitle:Y,subtitleClassName:Z="",title:V,ariaLabel:ne="",UNSAFE_parentSelector:q}=P;const[me,ue]=(0,t.useState)(0),ae=(0,t.useCallback)(X=>{ue(X)},[]),le=(0,t.useMemo)(()=>W.map((X,j)=>({...X,onExpand:()=>{var w;ae(j),(w=X.onExpand)===null||w===void 0||w.call(X)}})),[W,ae]),fe=(0,t.useRef)(new Array(le.length).fill(!0)),he=(0,t.useCallback)(X=>{fe.current=[...fe.current.slice(0,X),!1,...fe.current.slice(X+1)]},[]),ie="accordion-feature-list-modal-description";return t.createElement(p.dW,{autoClogProps:k,centered:!0,className:o()(I().accordionFeatureListModal,M),closeModal:O,maxWidth:900,UNSAFE_parentSelector:q,contentLabel:ne,describedby:ie},t.createElement("div",{className:o()(I().bodyContainer,{[I().horchataBg]:b==="horchata",[I().aubergineBg]:b==="aubergine"})},t.createElement("div",{className:o()(I().listContainer,K),"data-qa":D.textContent},t.createElement("div",{className:I().header},!L&&(R??t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(m.A,{uiComponentVariant:T.UiComponentVariant.SOLUTIONS_GALLERY_UPGRADE_MODAL,"aria-hidden":!0}))),t.createElement("h1",{id:ie,className:I().title},V),t.createElement("h2",{className:o()(I().subtitle,Z),"data-qa":D.subtitle},Y)),t.createElement("div",{className:o()(I().accordionListContainer,E==null?void 0:E.listContainerClassName)},t.createElement(n.n,{accordionItems:le,className:E==null?void 0:E.className,showImageCaret:!0,showItemBorder:!1,itemClassName:I().accordionItem,itemHeaderClassName:o()(I().accordionItemHeader,E==null?void 0:E.itemHeaderClassName),itemHeaderButtonClassName:o()(I().accordionItemHeaderButton,E==null?void 0:E.itemHeaderButtonClassName),itemDescriptionClassName:o()(I().accordionItemDescription,E==null?void 0:E.itemDescriptionClassName),expandedIconClassName:o()(I().accordionExpandedIcon,E==null?void 0:E.expandedIconClassName),collapsedIconClassName:o()(I().accordionCollapsedIcon,E==null?void 0:E.collapsedIconClassName),imageCaretClassName:o()({[I().horchataCaret]:b==="horchata",[I().aubergineCaret]:b==="aubergine"}),applyCustomAnimation:!0})),S??t.createElement("div",{className:I().footer},t.createElement(c.A,{"button-type":"primary",className:I().upgradeCta,entryPoint:U,openInNewTab:!0,planLevel:A.i6.standard.name}),F&&t.createElement(v.A,{className:"margin_top_100",onClick:H,autoClogProps:B},t.createElement("span",null,F)))),t.createElement("div",{className:o()(I().imageContainer),"data-qa":D.imageContainer},fe.current[me]&&t.createElement(h.A,{className:I().spinner,size:"large"}),le.map((X,j)=>{let{getAnimationImport:w,getLocalizedAnimationImport:Q,imageAlt:G,imageSrc:J}=X;return t.createElement(f,{key:`${J}-${me}`,getAnimationImport:Q??w,index:j,src:J,alt:G,autoplay:me===j,loop:!1,className:o()(I().featureImage,{flex:me===j,align_items_center:me===j,display_none:me!==j},x),onLoad:he})}))))},"AccordionFeatureListModal");y.displayName="AccordionFeatureListModal"},7241534324:(N,g,e)=>{"use strict";e.d(g,{AH:()=>D,DN:()=>i,DX:()=>S,F5:()=>u,Fq:()=>f,HM:()=>h,KH:()=>O,Kq:()=>y,Rk:()=>k,Sr:()=>a,TJ:()=>M,Xh:()=>c,j:()=>R,ko:()=>d,lD:()=>E,tC:()=>m,tt:()=>l,wV:()=>P});var t=e(8668318456);const s="autocharge_feature_trial";function o(U,W){const x=U??"",L=W?`-${W}`:"";return`${x}${L}`}_(o,"getCombinedPromoTypeStr");function n(U){return U?"discount":"regular"}_(n,"getDiscountStr");function c(U,W,x){return{clogImpression:!0,elementName:`${s}_modal`,stepVariant:o(W,x),elementType:t.ElementType.MODAL,eventId:t.EventId.NEWXP_TEAM_CREATE,uiComponentName:n(U)}}_(c,"getAutoChargeFeatureTrialModalAutoClogProps");function i(U){return{elementName:`${s}_try_slack_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK,uiComponentName:n(U)}}_(i,"getTrySlackProLinkButtonAutoClogProps");const r={elementName:`${s}_view_all_paid_features`,elementType:t.ElementType.LINK,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},a={...r,isPrimaryCTA:!0},l={elementName:`${s}_upgrade_to_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},d=r,u=s,f={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${s}_start_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},m={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${s}_upgrade_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},h=s,v="autocharge_feature_trial_admin_overview",p={uiComponentName:`${s}_cancel_pro_plan_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},T={uiComponentName:`${s}_change_plan_details_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},A={clogImpression:!0,uiComponentName:`${s}_cancel_confirmation_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.ADMIN_TEAM_BILLING},C={uiComponentName:`${s}_confirm_cancel_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},I={uiComponentName:`${s}_back_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},D={elementName:`${s}_payment_section_reveal`,elementType:t.ElementType.COMPONENT,action:t.UiAction.COMPLETE},y={elementName:`${s}_all_features_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},P={clogImpression:!0,uiComponentName:`${s}_comparison_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.BILLING_CHECKOUT_V2},E={elementName:`${s}_compare_plans_link`,onClick:{enableClogAction:!0}},M={elementName:`${s}_checkout_next_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},S={clogImpression:!0,uiComponentVariant:`${s}_review_step`,action:t.UiAction.IMPRESSION},R={elementName:"purchase_order",elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,action:t.UiAction.CLICK,onClick:{enableClogAction:!0},stepVariant:s},k={elementName:`${s}_checkout_back_billing_info_button`,elementType:t.ElementType.BUTTON,action:t.UiAction.CLICK,onClick:{enableClogAction:!0}};function O(U,W){return{action:t.UiAction.COMPLETE,element_name:`${s}_complete_checkout`,element_value:o(U,W)}}_(O,"getSubmitCompleteAutoChargeTrialStartProp")},5270990260:(N,g,e)=>{"use strict";e.d(g,{J:()=>L});var t=e(3134334389),s=e(6122756707),o=e(5562796568),n=e(9196706215),c=e(4094753332),i=e(6471059816),r=e(1030162945),a=e(5220162857),l=e(8576613356),d=e(7241534324),u=e(4117634716),f=e(8822892075),m=e(7729538251),h=e(7940058138),v=e(6839188756),p=e(677609895),T=e(6084388622),A=e(8739505998),C=e(9907843289),I=e(4452574402),D=e(6323355797),y=e(9506008067),P=e(4761125736),E=e(9003400431),M=e(3554387543),S=e(4005238080),R=e(7169590072),k=e(1670069836),O=e(3366751172),U=e.n(O);const W=new i.Ay("trials");function x(b,F,B,K){return b?F:K?W.rt("{price} per person/month after trial. ",{price:B}):""}_(x,"getFooterText");function L(b){let{onCloseModal:F,entryPoint:B,isEligibleForTrial:K,promoType:H,promoSubtype:Y,trialEndDate:Z}=b;const V=(0,s.wA)(),ne=(0,t.useCallback)(()=>V((0,E.O)()),[V]),q=(0,y.d4)(k.H7),me=(0,v.F1)(q),ue=(0,v.tc)(q),ae=(0,y.d4)(R.$J),le=(0,y.d4)(M.Pr),fe=(0,y.d4)(Ve=>(0,P._Z)(Ve,"paid_feature_trial_auto_charge_translation",!1)==="on"),he=(0,y.d4)(M.nc),ie=(0,y.d4)(Ve=>(0,M.MO)(Ve,D.i6.standard.name,D.ck.monthly)),X=(0,y.d4)(Ve=>(0,M.UO)(Ve,D.i6.standard.name,D.ck.monthly)),j=(0,y.d4)(p.X),w=(0,y.d4)(Ve=>(0,M.iR)(Ve,D.i6.standard.name,D.ck.monthly)),Q=(0,y.d4)(Ve=>(0,M.h$)(Ve,D.i6.standard.name,D.ck.monthly)),G=(0,y.d4)(Ve=>(0,M.Tm)(Ve,D.i6.standard.name,D.ck.monthly)),J=Boolean(w),te=(0,n.Ay)(Z).format("MMMM Do"),se=ie?(0,I.ZV)(ie,(0,C.Yp)(),{style:"currency",currency:he,currencyDisplay:"symbol"}):void 0,ce=fe?W.rt("Free {featureTrialLength} day trial, then a {discountPercent}% off for {discountDuration, plural, =1 {month} other {# months}}, then {monthlyPrice} per person/month. ",{featureTrialLength:D.ew.PAID_FEATURE_TRIAL,monthlyPrice:se,discountPercent:Q,discountDuration:G}):"",Ee=(0,D.tc)({team:q,promoType:H,promoSubtype:Y,entryPoint:B}),de=(0,D.Qn)({team:q,productId:X,excludeDomain:!0,entryPoint:H}),re=(0,D.hZ)({planLevel:ue?void 0:D.i6.standard.id,entryPoint:H}),_e=x(J,ce,se,le),ve=(0,t.useCallback)(()=>{window.open(Ee,(0,c.y3)()?"_blank":"_self")},[Ee]),ge=(0,t.useCallback)(()=>{V((0,u.o)((0,f.ZF)(h.c.PaidBenefits))),ne()},[V,ne]),Le=(0,t.useCallback)(()=>{const Ve=(0,m.JK)();return(0,a.L_)({experimentPnpGoGroupTreatment:ae}).map(Ge=>({id:Ge.iconName,header:Ge.title,description:Ge.text,iconProps:{name:Ge.iconName},imageAlt:Ge.title,imageSrc:a.XC[Ge.iconName],getAnimationImport:a.wj[Ge.iconName],getLocalizedAnimationImport:(0,a.CQ)(Ge.iconName,Ve)}))},[ae]),ke=(0,d.Xh)(J,H,Y),Ke=(0,d.DN)(J);(0,o.A)(()=>{V((0,R.E5)()),le||V((0,S.A)())});const Ne=(0,t.useMemo)(()=>j?t.createElement(t.Fragment,null,t.createElement(T.z9,{autoClogProps:d.tt,href:de,type:"primary",className:U().cta},W.t("Upgrade to Pro")),t.createElement(A.A,{autoClogProps:d.ko,href:re,className:U().link},W.t("View all paid features"))):t.createElement(T.z9,{autoClogProps:d.Sr,href:re,className:U().cta},W.t("View all paid features")),[j,re,de]),Re=(0,t.useMemo)(()=>t.createElement("div",{className:U().footer},K&&j?t.createElement(t.Fragment,null,t.createElement(T.z9,{autoClogProps:Ke,onClick:ve,type:"primary",className:U().cta},W.rt("Try Slack Pro <span>Free for 30 days</span>",null,Ve=>{let{text:ze}=Ve;return t.createElement("span",{className:U().light},ze)})),t.createElement("p",{className:U().disclaimer},_e,W.t("Cancel anytime."))):Ne),[Ne,K,j,_e,ve,Ke]),xe=(0,t.useMemo)(()=>t.createElement("div",{className:U().footer},t.createElement(T.z9,{onClick:ge,className:U().cta},W.t("View all Pro Benefits"))),[ge]),We=(0,t.useMemo)(()=>t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(r.Ay,{text:"tada",emojiSize:r.lw.LARGE})),[]);let $=W.rt("Explore the premium features of our most popular plan with a free {trialLength}-day trial.",{trialLength:D.ew.PAID_FEATURE_TRIAL});(!K||!j)&&($=W.rt("Get access to the premium features of our most popular plan."));let ee=W.t("Do even more with Slack Pro");return ue||(ee=W.t("{teamName} now on Slack Pro",{teamName:me}),$=W.rt("Your team now has access to all the goodness of Slack\u2019s Pro plan for free until <strong>{trialEndDate}</strong>",{trialEndDate:te})),t.createElement(l.C,{autoClogProps:ke,closeModal:F||ne,customFooter:ue?Re:xe,entryPoint:B,featureListItems:Le(),subtitle:$,title:ee,customHeaderIcon:ue?void 0:We})}_(L,"AutoChargeTrialEntryModal"),L.displayName="AutoChargeTrialEntryModal"},7345807809:(N,g,e)=>{"use strict";e.d(g,{e:()=>d});var t=e(2279207117),s=e(7914553163),o=e(6839188756),n=e(5082930587),c=e(4096483543),i=e(6323355797),r=e(6533394955),a=e(4761125736),l=e(1670069836);function d(u,f,m,h){const v=(0,r.oK)(m);if(!v)return null;const p=(0,c.A)(),T=(0,a._Z)(v.getState(),"pnp_two_go")==="on";if(!u||u===s.MX.TrialFetching)return null;const A=(0,t.FK)(u,T),C=t.np[u];switch(u){case s.MX.TrialIneligible:return{text:A,onClick:()=>{(0,o.gC)((0,l.H7)(v.getState()),"/plans")},autoClogProps:C};case s.MX.TrialEligible:return{text:A,onClick:(0,t.w9)(v.dispatch,f,u),autoClogProps:C};case s.MX.TrialIneligibleUserCannotUpgrade:return{text:A,onClick:()=>{(0,o.gC)((0,l.H7)(v.getState()),"/plans")},autoClogProps:C};case s.MX.TrialTeam:return{text:A,onClick:()=>{if(p){(0,t.uY)(v.dispatch)();return}(0,o.gC)((0,l.H7)(v.getState()),"/help/articles/115003205446-Slack-plans-and-features")},autoClogProps:C};case s.MX.TrialExpiry:return{text:A,onClick:()=>{(0,o.gC)((0,l.H7)(v.getState()),(0,i.Qn)({team:(0,l.H7)(v.getState()),excludeDomain:!0,entryPoint:h}))},autoClogProps:C};default:(0,n.Kh)(u)}}_(d,"freemiumPrimaryCtaAttributes")},2279207117:(N,g,e)=>{"use strict";e.d(g,{FK:()=>C,aD:()=>A,np:()=>T,uY:()=>D,w9:()=>I});var t=e(5082930587),s=e(9392104102),o=e(7171435821),n=e(6471059816),c=e(509725077),i=e(7914553163),r=e(4117634716),a=e(8822892075),l=e(7940058138),d=e(6323355797);const u=new n.Ay("trials_highlight_paid_features"),f={elementName:"start_free_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},m={elementName:"learn_more_usage_limits",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},h={elementName:"compare_plans",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},v={isPrimaryCTA:!0,elementName:"upgrade_link",onClick:{enableClogAction:!0}},p={isPrimaryCTA:!0,elementName:"upgrade_now",onClick:{enableClogAction:!0}},T={[i.MX.TrialFetching]:s.t0,[i.MX.TrialIneligible]:v,[i.MX.TrialEligible]:f,[i.MX.TrialIneligibleUserCannotUpgrade]:h,[i.MX.TrialTeam]:m,[i.MX.TrialExpiry]:p};function A(y,P){switch(y){case i.MX.TrialTeam:return`https://${(0,o.Xk)()}/help/articles/115003205446-Slack-plans-and-features`;case i.MX.TrialIneligibleUserCannotUpgrade:return(0,d.hZ)({entryPoint:P});default:(0,t.Kh)(y)}}_(A,"getHref");function C(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(y){case void 0:case null:case i.MX.TrialFetching:return"";case i.MX.TrialIneligible:return P?u.t("Upgrade Now"):u.t("See Upgrade Options");case i.MX.TrialEligible:return u.t("Start Free Trial");case i.MX.TrialIneligibleUserCannotUpgrade:return u.t("Compare Plans");case i.MX.TrialTeam:return P?u.t("Compare Plans"):u.t("Learn More");case i.MX.TrialExpiry:return u.t("Upgrade Now");default:(0,t.Kh)(y)}}_(C,"getDefaultCopy");function I(y,P,E,M){return()=>{y((0,c.A)({uiComponentVariant:M,promoSubtype:P,freemiumVariant:E}))}}_(I,"getTrialEligibleHandler");function D(y){return()=>y((0,r.o)((0,a.ZF)(l.c.PaidBenefits)))}_(D,"getTrialTeamHandler")},6005700845:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(6122756707),o=e(1267040415),n=e(2279207117),c=e(7914553163),i=e(6084388622),r=e(8739505998),a=e(5082930587),l=e(4096483543),d=e(9506008067),u=e(3810478625);const f=_(h=>{let{variant:v,children:p,promoSubtype:T,modalVariant:A,useLink:C=!1,ctaClassName:I,entryPoint:D}=h;const y=(0,s.wA)(),P=(0,d.d4)(u.g),E=(0,l.A)();if(!v||v===c.MX.TrialFetching)return null;const M=C?r.A:i.z9,S=(0,n.FK)(v,P),R=n.np[v];switch(v){case c.MX.TrialIneligible:return t.createElement(o.A,{useLink:C,autoClogProps:R,className:I},p??S);case c.MX.TrialEligible:return t.createElement(M,{onClick:(0,n.w9)(y,T,v,A),autoClogProps:R,className:I},p??S);case c.MX.TrialIneligibleUserCannotUpgrade:return t.createElement(M,{href:(0,n.aD)(v,D),autoClogProps:R,className:I},p??S);case c.MX.TrialTeam:return t.createElement(M,{href:E?void 0:(0,n.aD)(v,D),autoClogProps:R,onClick:E?(0,n.uY)(y):void 0,className:I},p??S);case c.MX.TrialExpiry:return t.createElement(o.A,{useLink:C,action:"checkout",autoClogProps:R},p??S);default:(0,a.Kh)(v)}},"FreemiumPrimaryCTA");f.displayName="FreemiumPrimaryCTA";const m=f},509725077:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(8300630630),s=e(6323355797),o=e(6304789565),n=e(962959561),c=e(7859253282),i=e(398781533);const r=(0,o.Ay)("Open freemium trial offer modal",async(l,d,u)=>{const f=s.ZO.PaidFeatureTrial,{promoSubtype:m}=u;return l((0,i.Q)({entryPoint:"open_trial_offer_modal",campaignType:f,campaignSubType:m,reason:"freemium_all_features_modal"})),await l((0,t.A)({campaignType:f,campaignSubType:m,reason:m})),(0,n.L9)(d())?l((0,c.r)({promoType:f,promoSubtype:m,entryPoint:"freemium_all_auto_charge_trial_entry_point"})):Promise.resolve()});r.meta={name:"createThunk",key:"createThunkopenFreemiumTrialOfferModal",description:"Open freemium trial offer modal"};const a=r},7914553163:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>v,MX:()=>u,yk:()=>f});var t=e(3134334389),s=e(6122756707),o=e(6839188756),n=e(677609895),c=e(6323355797),i=e(9506008067),r=e(8871937520),a=e(7268021173),l=e(1384076438),d=e(1670069836);const u={TrialFetching:"trial_fetching",TrialTeam:"trial_team",TrialExpiry:"trial_expiry",TrialEligible:"trial_eligible",TrialIneligible:"trial_ineligible",TrialIneligibleUserCannotUpgrade:"trial_ineligible_user_cannot_upgrade"},f=_(p=>p===u.TrialFetching||p===u.TrialEligible||p===u.TrialIneligible||p===u.TrialIneligibleUserCannotUpgrade,"isFreeVariant"),m=_(p=>p===u.TrialTeam||p===u.TrialExpiry,"isTrialVariant"),v=_(p=>{let{promoType:T=c.ZO.PaidFeatureTrial,promoSubtype:A,context:C,reason:I,isEligibleForTrial:D,trialEndDate:y,isEnabled:P=!0,isPurchaser:E}=p;const M=(0,s.wA)(),S=(0,i.d4)(F=>(0,o.tc)((0,d.H7)(F))),R=(0,i.d4)(a.iH),k=(0,i.d4)(n.X),O=E??k,U=(0,i.d4)(F=>(0,a.hq)(F,T,A)),[W,x]=(0,t.useState)(S);if((0,t.useEffect)(()=>{P&&S&&M((0,l.A)({campaignType:T,campaignSubType:A,context:C,reason:I})).then(()=>{x(!1)})},[M,S,T,A,C,I,U,P]),!P||!(S||R))return null;const L=D!=null;if(W&&!L)return u.TrialFetching;if(R){const B=(0,r.qe)(y);return y!==void 0&&B<=7?u.TrialExpiry:u.TrialTeam}const b=L&&W?D:U;return!b&&!O?u.TrialIneligibleUserCannotUpgrade:b?u.TrialEligible:u.TrialIneligible},"useFreemium")},4085119397:(N,g,e)=>{"use strict";e.d(g,{A:()=>Ne});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(5562796568),i=e(7173172014),r=e(6471059816),a=e(5000515034),l=e(3405119017),d=e(6318661545),u=e(1267040415),f=e(1743656885),m=e(924300050),h=e(5220162857),v=e(2934784510),p=e(4117634716),T=e(8822892075),A=e(7940058138),C=e(6839188756),I=e(6084388622),D=e(8668318456),y=e(9506008067),P=e(8871937520),E=e(9003400431),M=e(5512605238),S=e(7169590072),R=e(1670069836),k=e(4970458e3),O=e.n(k);const U=new r.Ay("trials"),W={elementName:"view_all_paid_benefits_primary_cta",onClick:{enableClogAction:!0}},x=_(Re=>{let{trialExpirationDate:xe,uiStep:We}=Re;const $=(0,s.wA)(),ee=(0,t.useCallback)(()=>{$((0,E.O)())},[$]),Ve=(0,t.useCallback)(()=>{$((0,E.O)()),$((0,p.o)((0,T.ZF)(A.c.PaidBenefits)))},[$]),ze=(0,y.d4)(we=>(0,C.F1)((0,R.H7)(we))),st=(0,y.d4)(M.F),Ge=(0,y.d4)(S.$J);(0,c.A)(()=>{$((0,S.E5)())});const be=(0,t.useMemo)(()=>({...W,uiStep:We}),[We]),Se=_(()=>t.createElement(I.Ay,{"aria-label":U.t("Paid benefits link"),autoClogProps:be,className:O().primaryCta,onClick:Ve},U.rt("Explore All Pro Features")),"getCustomFooter");return t.createElement(i.A,{eventId:D.EventId.UPGRDEXP_TRIAL,uiComponentName:D.UiComponentName.TRIAL_START_SHOWCASE_ALL_FEATURES_MODAL,uiStep:We},t.createElement(m.A,{featureList:(0,h.L_)({experimentPnpGoGroupTreatment:Ge}),modalTitle:U.rt("{teamName} is on a free trial \u{1F389}",{teamName:ze}),modalSubtitle:U.rt("Explore all the premium features of our most popular plan, Slack Pro, through {trialExpirationDate}.",{trialExpirationDate:t.createElement("strong",null,(0,P.Pd)(xe))}),customFooter:Se(),onRequestClose:ee,maxWidth:832,videoTitle:U.t("Comparison of free vs. paid Slack Video for users on free teams")}),t.createElement(v.A,{shouldShow:st}))},"TrialStartAllFeaturesModal");x.displayName="TrialStartAllFeaturesModal";const L=x;var b=e(6304789565),F=e(2375333597);const B=(0,b.Ay)("Open global trial start all features modal",async(Re,xe,We)=>{let{trialExpirationDate:$}=We;return Re((0,F.q)({element:t.createElement(L,{trialExpirationDate:$,uiStep:D.UiStep.GLOBAL_TRIAL_START_MODAL})}))});B.meta={name:"createThunk",key:"createThunkopenTrialStartAllFeaturesModal",description:"Open global trial start all features modal"};const K=B;var H=e(2551341535),Y=e(3226207882),Z=e(5641442783),V=e(4963725897),ne=e(8739505998),q=e(8683010724),me=e(9702400417),ue=e(9907843289),ae=e(4452574402),le=e(6323355797),fe=e(6259241484),he=e(3554387543),ie=e(3009309149),X=e(4761125736);const j=(0,ie.Ay)(Re=>(0,X._Z)(Re,"promote_plan_visibility_v2",!1)==="treatment");j.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsTreatment",description:Re=>(0,X._Z)(Re,"promote_plan_visibility_v2",!1)==="treatment"};var w=e(9377084484),Q=e.n(w);const G=0,J=new r.Ay("promote_plan_visibility");function te(Re){let{canUserPurchase:xe=!1,isTrialEligible:We=!1,hideLastRow:$=!1}=Re;const ee=(0,s.wA)(),Ve=(0,y.d4)(j),ze=(0,y.d4)(S.$J);(0,c.A)(()=>{ee((0,S.E5)())});const st=(0,y.d4)(At=>(0,he.MO)(At,le.i6.standard.name,le.ck.monthly)),Ge=(0,y.d4)(At=>(0,he.C8)(At,le.i6.standard.name,le.ck.monthly)),be=(0,y.d4)(At=>(0,he.MO)(At,le.i6.plus.name,le.ck.monthly)),Se=(0,y.d4)(At=>(0,he.C8)(At,le.i6.plus.name,le.ck.monthly)),we=(0,y.d4)(he.nc),Ce=(0,y.d4)(he.Pr),Te=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":J.t("Feature available"),className:"p-icon_container p-check_icon_container"},t.createElement(q.A,{name:"check-filled"})),[]),Ye=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":J.t("Feature unavailable"),className:"p-icon_container"},t.createElement(q.A,{name:"minus-filled"})),[]),De=(0,t.useMemo)(()=>[fe.xu.CLIENT_HEADER_RIGHT,fe.xu.SIDEBAR_FOOTER,fe.xu.SIDEBAR_MENU_HEADER],[]),Pe=(0,t.useMemo)(()=>t.createElement("div",{className:Q().missingText},t.createElement(a.A,{size:"large"}),t.createElement(a.A,{size:"large"})),[]),ye=(0,t.useMemo)(()=>{if(Ce){const At=(0,me.A)(st,we),Zt=Ge?(0,me.A)(Ge,we):null,jt=t.createElement(t.Fragment,null,t.createElement("div",{className:Q().costLabel,"data-qa":"plans-cost-label"},At),t.createElement("div",{className:Q().costLabelSubtitle},J.t("per person/month"))),Ht=t.createElement(t.Fragment,null,t.createElement("div",{className:Q().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:Q().discountedPrice},Zt),t.createElement("span",{className:Q().typicalPriceWithStrikethrough},At)),t.createElement("div",{className:Q().costLabelSubtitle},J.t("per person/month")));return Ge?Ht:jt}return Pe},[Ce,st,we,Ge,Pe]),He=(0,t.useMemo)(()=>{if(Ce){const At=(0,me.A)(be,we),Zt=Se?(0,me.A)(Se,we):null,jt=t.createElement(t.Fragment,null,t.createElement("div",{className:Q().costLabel,"data-qa":"plans-cost-label"},At),t.createElement("div",{className:Q().costLabelSubtitle},ze?J.t("per person/month"):"")),Ht=t.createElement(t.Fragment,null,t.createElement("div",{className:Q().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:Q().discountedPrice},Zt),t.createElement("span",{className:Q().typicalPriceWithStrikethrough},At)),t.createElement("div",{className:Q().costLabelSubtitle},ze?J.t("per person/month"):""));return Se?Ht:jt}return Pe},[Ce,be,we,Se,ze,Pe]),Qe=(0,t.useMemo)(()=>{const At=_(()=>{if(Ce){const Zt=(0,ae.ZV)(G,(0,ue.Yp)(),{style:"currency",currency:we,currencyDisplay:"symbol",maximumFractionDigits:0});return t.createElement("span",{className:Q().costLabel},Zt)}return Pe},"getFreePrice");return At.displayName="getFreePrice",t.createElement(t.Fragment,null,t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("div",{className:Q().planHeaderContainer},t.createElement("span",{className:n()(Q().planLabel,Q().freeLabel)},J.t("Free")),t.createElement("div",{className:"p-cost_label_container"},At())))},[Ce,we,Pe]),dt=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("div",{className:Q().planHeaderContainer},t.createElement("span",{className:n()(Q().planLabel,Q().proLabel)},J.t("Slack Pro"),t.createElement("div",{className:Q().trialProBadge},t.createElement(Z.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:D.UiComponentVariant.PLANS_AT_GLANCE}))),ye)),Ot=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:Q().planHeaderContainer},t.createElement("span",{className:n()(Q().planLabel,Q().bizPlusLabel)},ze?J.t("Business+"):""),He)),yt=(0,t.useCallback)(()=>{const At=ze?(0,Y.dQ)(ze):(0,Y.QH)();return At.map((Zt,jt)=>{const{key:Ht,description:Pt,freeDesc:Ft,descriptionToolTip:En,title:Rt,paidDesc:rn,descriptionClassName:nn,bizPlusDesc:at}=Zt;let tt;const ft=$&&At.length-1===jt;Ft==="included"?tt=Te:Ft==="-"?tt=Ye:tt=Ft;let wt=rn||Te;wt==="-"&&(wt=Ye);const Jt=at||Te;return Rt?t.createElement("div",{key:Ht,className:"p-grid_item p-first_column p-feature_heading"},Rt):t.createElement(H.A,{key:Ht,description:Pt,freeDesc:tt,paidDescription:wt,descriptionToolTip:En,descriptionClassName:nn,isExperimentPromotePlanVisibilityGroupTreatment:Ve,bizPlusDescription:Jt,lastItem:ft})})},[Te,ze,Ve,Ye,$]),Dt=(0,y.d4)(At=>(0,le.m6)(At,{action:"checkout",productLevel:le.i6.standard.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),Ct=(0,y.d4)(At=>(0,le.m6)(At,{action:"checkout",productLevel:le.i6.plus.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),kt=(0,t.useCallback)(At=>{let{trialExpirationDate:Zt}=At;ee(K({trialExpirationDate:Zt}))},[ee]),vt=(0,t.useMemo)(()=>xe||We?t.createElement(I.z9,{href:Ct,autoClogProps:Y.m2,disabled:!Ce,type:"outline",className:Q().bizPlusUpgradeButton},ze?J.t("Upgrade Now"):""):null,[xe,We,ze,Ce,Ct]),Nt=(0,t.useMemo)(()=>{switch(!0){case(xe&&!We||Ve&&xe):return t.createElement(I.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:Dt,autoClogProps:Y.m2,disabled:!Ce},t.createElement("span",{className:Q().upgradeRocketIcon},t.createElement(q.A,{name:"rocket"})),J.t("Upgrade Now"));case(!Ve&&We):return t.createElement("div",{className:Q().trialEligibleCellContainer},t.createElement(V.A,{"data-qa":"plans-at-glance-trial-start-btn",reason:"plan_visibility_plans_at_glance_modal",className:Q().trialStartCta,megaphoneSpacesToRefresh:De,onRequestComplete:kt,promoType:le.ZO.GlobalEntrypointTrial,autoClogProps:Y.Go,disabled:!Ce},J.t("Start Free Trial")),t.createElement(ne.A,{"data-qa":"plans-at-glance-trial-eligible-upgrade-now-link-btn",href:Dt,className:Q().upgradeLink,autoClogProps:Y.m2,disabled:!Ce},J.t("Upgrade Now")));default:return J.rt("Contact your team admin to upgrade. Learn more about <a>Slack plans and features</a>",{},At=>{let{text:Zt}=At;return t.createElement(f.A,{className:"bold",articleId:115003205446},Zt)})}},[xe,Dt,Ve,Ce,We,De,kt]),It=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row "},t.createElement(I.Ay,{type:"outline",className:n()([Q().disabledCurrentPlanButton],{[Q().trialEligibleCurrentPlanBtn]:!Ve&&We}),disabled:!0},J.t("Current Plan"))),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,Nt))),ze?t.createElement("div",{className:"p-grid_item p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,vt))):null),[We,Ve,Nt,ze,vt]);return t.createElement("div",{"data-qa":"plan_visibility_plans_at_glance_table",className:n()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_container--with_biz_plus":ze})},t.createElement("div",{className:"p-grid_item p-first_column p-top_left_ele"}),t.createElement("div",{className:"p-grid_item p-free_heading"},Qe),t.createElement("div",{className:n()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!ze})},dt),ze?t.createElement("div",{className:"p-grid_item p-top_right_ele p-biz_plus_heading"},Ot):null,yt(),!$&&It())}_(te,"PlanVisibilityPlansTable");var se=e(7241534324),ce=e(1022447908),Ee=e(980293773),de=e(3328068409),re=e(4005238080),_e=e(3547923876),ve=e(5512849639),ge=e.n(ve);function Le(){return Le=Object.assign||function(Re){for(var xe=1;xe<arguments.length;xe++){var We=arguments[xe];for(var $ in We)Object.prototype.hasOwnProperty.call(We,$)&&(Re[$]=We[$])}return Re},Le.apply(this,arguments)}_(Le,"_extends");const ke=new r.Ay("guided_trials"),Ke=_(Re=>{let{onComplete:xe,canUserPurchase:We=!1,onFreeButtonClick:$,onProButtonClick:ee,from:Ve,isProFirst:ze=!1,trialEligible:st,maxWidth:Ge=1e3}=Re;const be=(0,s.wA)(),Se=(0,y.d4)(de.to),we=Ve===Y.FM.setup,Ce=Ve===Y.Cx.trialCheckout,Te=(0,y.d4)(j),Ye=(0,y.d4)(S.$J);(0,c.A)(()=>{be((0,S.E5)())});const Pe=(0,y.d4)(_e.RN)&&Ve===Y.$X.proUpgradeToBizPlus,ye=(0,y.d4)(he.Pr),He=(0,y.d4)(jt=>(0,he.h$)(jt,le.i6.standard.name,le.ck.monthly)),Qe=(0,y.d4)(he.Ik),dt=(0,y.d4)(jt=>(0,he.ZQ)(jt)===le.k2.Local);(0,t.useEffect)(()=>{ye||be((0,re.A)())},[ye,be]);const Ot=(0,t.useCallback)(()=>t.createElement(ce.A,{from:Ve,canUserPurchase:We,onProButtonClick:ee,onFreeButtonClick:$,isProFirst:ze}),[Ve,We,ee,$,ze]),yt=(0,t.useCallback)(()=>t.createElement(te,{canUserPurchase:We,isTrialEligible:st,hideLastRow:Ce}),[We,st,Ce]),Dt=ke.t("More analytics, data exports, control and access."),Ct=(0,t.useCallback)(()=>Pe?Dt:ye?He?we?dt?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},ke.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>",{discountPercentage:He},jt=>{let{text:Ht,key:Pt}=jt;return t.createElement("span",{key:Pt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Ht,"*")})):t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},ke.rt("Pro plan includes <span>{discountPercentage}% off discount</span> on your first {discountDuration} months",{discountPercentage:He,discountDuration:Qe},jt=>{let{text:Ht,key:Pt}=jt;return t.createElement("span",{key:Pt,className:"p-plans_at_glance_modal_subtitle--highlight"},Ht)})):Ye?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},Qe?ke.rt("All plan prices include a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:He,discountDuration:Qe},jt=>{let{text:Ht,key:Pt}=jt;return t.createElement("span",{key:Pt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Ht)}):ke.rt("All plan prices include a <span>{discountPercentage}% off discount</span>.",{discountPercentage:He},jt=>{let{text:Ht,key:Pt}=jt;return t.createElement("span",{key:Pt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Ht)})):Te?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},Qe?ke.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:He,discountDuration:Qe},jt=>{let{text:Ht,key:Pt}=jt;return t.createElement("span",{key:Pt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Ht)}):ke.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>.",{discountPercentage:He},jt=>{let{text:Ht,key:Pt}=jt;return t.createElement("span",{key:Pt,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Ht)})):null:null:t.createElement(a.A,{className:"p-plans_at_glance_subtitle--loader",size:"large"}),[ye,He,we,Ye,Te,dt,Qe,Pe,Dt]);let kt=we?(0,l.ie)():{};we?kt=(0,l.ie)():Ce?kt=se.wV:Pe&&(kt=(0,d.jY)());let vt;we?vt=(0,l.Bp)():Te?vt={elementName:"compare_plans_link",onClick:{enableClogAction:!0}}:Ce?vt=se.lD:Pe?vt=(0,d.z6)():vt={};const Nt=ke.t("Compare all plans and features"),It=(0,t.useCallback)(()=>{let jt="",Ht=ke.t("Compare all plans");return We&&!Te?jt="guided_trials_plans_at_glance_compare_plans_cta":Te&&(jt="plan_visibility_plans_at_glance_compare_plans_cta"),we&&(jt="straight_to_paid_plans_modal_cta"),Ce&&(jt="auto_charge_feature_trial_modal_cta"),Pe&&(jt="pro_to_biz_plus_upgrade_boost",Ht=Nt),t.createElement(u.A,{"data-qa":"plans-at-glance-compare-plans-btn",className:n()({"p-plans_at_glance_compare_plans_cta":We&&!Te,"p-plans_at_glance_compare_plans_cta_ppv":Te}),useLink:!0,entryPoint:jt,autoClogProps:vt},Ht,t.createElement("div",{className:"margin_left_25 p-plans_at_glance_new_window_icon_color"},t.createElement(q.A,{name:"new-window"})))},[We,vt,Te,Ce,Pe,we,Nt]),At=ke.t("Do more with Business+"),Zt=(0,t.useMemo)(()=>Ye?ke.t("Choose the plan that\u2019s right for you"):Pe?At:ke.t("Compare Free and Slack Pro Plans"),[Ye,Pe,At]);return t.createElement(i.A,Le({uiComponentName:Te?D.UiComponentName.PPV_PLANS_AT_GLANCE_MODAL:D.UiComponentName.GUIDED_TRIAL_PLANS_AT_GLANCE_MODAL},kt,{clogImpression:!0}),t.createElement(Ee.aF,{maxWidth:Ge,centered:!0,isOpen:!0,labelledby:"trials_plans_at_glance_modal",className:n()("p-plans_at_glance_modal",`p-plans_at_glance_modal--${Se}`,{"p-plans_at_glance_modal--pro_to_biz_plus_upgrade":Pe}),onClose:xe,closeButtonTone:Pe?"dark":void 0},t.createElement(Ee.rQ,null,t.createElement(Ee.Rc,{"data-qa":"plans_at_glance_heading",title:Zt,subtitle:Ct(),className:n()({"p-plans_at_glance_modal_title":!Te,"p-plans_at_glance_modal_title_ppv":Te}),titleTextClassName:n()({"p-plans_at_glance_modal_title--discount":we,"p-plans_at_glance_modal_title_ppv--discount":Te&&He})},Pe?t.createElement("img",{className:"p-plans_at_glance_modal_header_img",src:ge(),alt:""}):null)),t.createElement(Ee.$m,{className:n()({"p-plans_at_glance_modal_content":!Te,"p-plans_at_glance_modal_content_ppv":Te||Ce})},t.createElement(Ee.qf,{className:Te?"p-plans_at_glance_modal_section_ppv":"p-plans_at_glance_modal_section"},Te&&!we||Ce?yt():Ot()),t.createElement(Ee.qf,{className:n()("p-plans_at_glance_compare_plans_section",{"p-plans_at_glance_modal_section_ppv":Te,"p-plans_at_glance_modal_section":!Te})},dt&&t.createElement("div",{className:"p-plans_at_glance_modal_offer_disclaimer"},"*Limited-time offer subject to change at Slack\u2019s discretion."),(We||Te)&&It()))))},"PlansAtGlance");Ke.displayName="PlansAtGlance";const Ne=Ke},2551341535:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8739505998),c=e(2312625946),i=e(9506008067),r=e(7169590072);function a(d){let{description:u,freeDesc:f,paidDescription:m,descriptionToolTip:h,descriptionClassName:v,isExperimentPromotePlanVisibilityGroupTreatment:p,isProFirst:T=!1,showBizPlus:A=!0,bizPlusDescription:C,isProToBizPlusUpgrade:I=!1,lastItem:D=!1}=d;const y=(0,i.d4)(r.$J),P=h?t.createElement(c.Ay,{tip:h,tipClassName:o()({"p-plans_at_glance_tooltip_ppv":p}),position:"top"},t.createElement(n.A,{className:o()("p-grid_item__description--tooltip",{"p-grid_item__description--tooltip-ppv":p})},t.createElement("span",{className:o()({[`${v}`]:!!v})},u))):u;if(y&&A)return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column"},P),t.createElement("div",{className:"p-grid_item p-mid_column"},f),t.createElement("div",{className:"p-grid_item p-last_column"},m),t.createElement("div",{className:"p-grid_item p-mid_column"},C));const E=_(()=>I?t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":D})},m),t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":D,"p-bottom-right-ele":D})},C)):T?t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":D})},m),t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":D,"p-bottom-right-ele":D})},f)):t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-mid_column",{"p-last_row":D})},f),t.createElement("div",{className:o()("p-grid_item p-last_column",{"p-last_row":D,"p-bottom-right-ele":D})},m)),"getRowItems");return E.displayName="getRowItems",t.createElement(t.Fragment,null,t.createElement("div",{className:o()("p-grid_item p-first_column",{"p-last_row":D,"p-bottom_left_row_ele":D})},P),E())}_(a,"RowItem"),a.displayName="RowItem";const l=a},1022447908:(N,g,e)=>{"use strict";e.d(g,{A:()=>U});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(5562796568),i=e(6471059816),r=e(5000515034),a=e(6318661545),l=e(1267040415),d=e(2551341535),u=e(3226207882),f=e(7949425452),m=e(5641442783),h=e(2978178368),v=e(6839188756),p=e(6084388622),T=e(8739505998),A=e(8683010724),C=e(8668318456),I=e(9702400417),D=e(9907843289),y=e(4452574402),P=e(6323355797),E=e(9506008067),M=e(3554387543),S=e(3547923876),R=e(7169590072),k=e(1670069836);const O=new i.Ay("guided_trials");function U(W){let{from:x,canUserPurchase:L=!1,onProButtonClick:b,onFreeButtonClick:F,isProFirst:B=!1}=W;const[K,H]=(0,t.useState)(!1),Y=(0,s.wA)(),Z=(0,E.d4)(R.$J);(0,c.A)(()=>{Y((0,R.E5)())});const V=x===u.FM.setup,ne=(0,E.d4)(we=>(0,M.MO)(we,P.i6.standard.name,P.ck.monthly)),q=(0,E.d4)(we=>(0,M.MO)(we,P.i6.plus.name,P.ck.monthly)),me=(0,E.d4)(we=>(0,M.MO)(we,P.i6.plus.name,P.ck.yearly)),ue=(0,E.d4)(M.nc),ae=(0,E.d4)(M.Pr),le=(0,E.d4)(we=>(0,M.C8)(we,P.i6.standard.name,P.ck.monthly)),fe=(0,E.d4)(we=>(0,M.C8)(we,P.i6.plus.name,P.ck.monthly)),he=(0,E.d4)(we=>(0,M.C8)(we,P.i6.standard.name,P.ck.monthly)),ie=(0,E.d4)(we=>(0,M.MO)(we,P.i6.standard.name,P.ck.monthly)),X=(0,E.d4)(we=>(0,M.MO)(we,P.i6.standard.name,P.ck.yearly)),w=(0,E.d4)(S.RN)&&x===u.$X.proUpgradeToBizPlus,Q=(0,E.d4)(M.EV),G=(0,E.d4)(k.H7),J=x&&x===u.eX.proDowngradeToFree,te=x&&x===u.eX.bizPlusDowngradeToPro,se=x&&x===u.eX.bizPlusDowngradeToFree,ce=J||te||se,Ee=(0,t.useMemo)(()=>t.createElement("div",{className:"p-check_icon_container"},w?t.createElement(A.A,{name:"check-circle-filled",size:"20"}):t.createElement(A.A,{name:"check-filled"})),[w]),de=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":Z?O.t("Feature unavailable"):"",className:"p-icon_container"},t.createElement(A.A,{name:"minus-filled"})),[Z]),re=(0,t.useCallback)(()=>{if(J){const we=(0,u.H0)().filter(Ye=>!Ye.isHidden),Ce=K?we:[],Te=[...(0,u.KJ)(J)];return Te.splice(5,1),[...Te,...Ce]}return te?K?(0,u.NQ)():(0,u.Qv)():se?K?(0,u.qD)():(0,u.Rq)():Z?(0,u.dQ)(Z):V?(0,u.VK)():w?(0,u.G)():(0,u.KJ)()},[Z,V,J,K,te,se,w]),_e=(0,t.useCallback)(()=>re().map(Ce=>{const{key:Te,description:Ye,freeDesc:De,descriptionToolTip:Pe,title:ye,paidDesc:He,descriptionClassName:Qe,bizPlusDesc:dt}=Ce;let Ot,yt=He||Ee;const Dt=dt||Ee;return De==="included"?Ot=Ee:Z&&De==="-"?Ot=de:Ot=De,Z&&yt==="-"&&(yt=de),ye?t.createElement("div",{key:Te,className:"p-grid_item p-first_column p-feature_heading"},ye):t.createElement(d.A,{key:Te,description:Ye,freeDesc:Ot,paidDescription:yt,descriptionToolTip:Pe,descriptionClassName:Qe,isProFirst:B,bizPlusDescription:Dt,showBizPlus:!V&&!ce,isProToBizPlusUpgrade:w})}),[re,Ee,Z,B,V,de,ce,w]),ve=O.t("Recommended"),ge=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,t.createElement("div",null)," ",t.createElement("div",null)," ",t.createElement("div",{className:"p-business_plus_recommended_label"},ve)),[ve]),Le=O.t("per person/month"),ke=(0,t.useMemo)(()=>{if(ae){const we=fe??q,Ce=(0,I.A)(me,ue)||"",Te=(0,I.A)(we,ue)||"";return w?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},Ce),t.createElement(h.d,{plan:P.i6.plus.name},t.createElement("div",{className:n()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},Le))):t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},Z?O.rt("<strong>{price}</strong> per person/month",{price:Te}):"")}return t.createElement(r.A,{size:"large"})},[Z,ae,q,me,fe,ue,w,Le]),Ke=(0,t.useMemo)(()=>{if(ae){const we=le??ne,Ce=(0,I.A)(X,ue)||"",Te=(0,I.A)(we,ue)||"",Ye=t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},O.rt("<strong>{price}</strong> per person/month",{price:Te}));return w?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},Ce),t.createElement(h.d,{plan:P.i6.standard.name},t.createElement("div",{className:n()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},Le))):V||he?t.createElement("div",{className:"p-plans_at_glance_cost-label-container"},t.createElement("span",{className:"p-plans_at_glance_original-label","data-qa":"plans-cost-full"},O.rt("<s>{price} per person/month</s>",{price:(0,y.ZV)(ie,(0,D.Yp)(),{style:"currency",currency:ue,currencyDisplay:"symbol"})||""})),t.createElement("span",{className:"p-plans_at_glance_discount-label","data-qa":"plans-cost-discount"},he&&O.rt("<strong>{price}</strong> per person/month",{price:(0,y.ZV)(he,(0,D.Yp)(),{style:"currency",currency:ue,currencyDisplay:"symbol"})||""}))):Ye}return t.createElement(r.A,{size:"large"})},[ae,le,ne,ie,X,ue,V,he,w,Le]),Ne=O.t("Current"),Re=O.t("Pro"),xe=(0,t.useCallback)(()=>w?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-mid_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},t.createElement("div",{className:"p-plans_at_glance_table_heading_with_badge_container"},Re,t.createElement("div",{className:"p-plans_at_glance_table_current_plan_badge"},Ne)),t.createElement("div",{className:"p-cost_label_container"},Ke))),t.createElement("div",{className:"p-grid_item p-top_right_ele p-last_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},O.t("Business+"),t.createElement("div",{className:"p-cost_label_container"},ke)))):B?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-last_column"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},O.t("Slack Pro")),t.createElement(m.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:C.UiComponentVariant.PLANS_AT_GLANCE}),J&&t.createElement(f.J,{autoClogProps:u.t8}))),t.createElement("div",{className:"p-grid_item p-free_heading p-top_right_ele"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},O.t("Free")))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-free_heading"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},te?O.t("Slack Pro"):O.t("Free"))),t.createElement("div",{className:n()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!Z&&!V})},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro "}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},te||se?O.t("Business+"):O.t("Slack Pro")),t.createElement(m.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:C.UiComponentVariant.PLANS_AT_GLANCE}),J&&t.createElement(f.J,{autoClogProps:u.t8})))),[Z,se,te,J,ke,Ke,B,w,V,Ne,Re]),We=(0,E.d4)(we=>(0,P.m6)(we,{action:"checkout",productLevel:P.i6.standard.id,entryPoint:"guided_trials_plans_at_glance_upgrade_cta"})),$=(0,E.d4)(we=>(0,P.m6)(we,{action:"checkout",productId:Q===P.ck.yearly?"plus_y":"plus_m",entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),ee=O.t("Learn More"),Ve=(0,t.useMemo)(()=>L?t.createElement(p.z9,{href:$,autoClogProps:u.m2,type:w?"primary":"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},O.t("Upgrade Now")):w?t.createElement(p.z9,{className:"p-plans_at_glance_upgrade_now_btn--biz_plus",href:"plans/plus",target:"_blank",type:"primary",autoClogProps:u.j3},ee):t.createElement(l.A,{entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:u.lp,type:"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},O.t("See Upgrade Options")),[L,$,w,ee]),ze=(0,t.useMemo)(()=>t.createElement(p.Ay,{type:"outline",className:"full_width",onClick:F},O.t("Start with Free")),[F]),st=(0,t.useMemo)(()=>V?t.createElement(p.Ay,{onClick:b,type:"primary",className:"p-plans_at_glance__pro-button"},O.t("Start with Pro")):L?t.createElement(p.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:We,autoClogProps:u.m2},t.createElement("span",{className:"margin_right_50"},t.createElement(A.A,{name:"rocket"})),O.t("Upgrade Now")):t.createElement(l.A,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:u.lp},O.t("See Upgrade Options")),[L,We,V,b]),Ge=(0,t.useCallback)(()=>{H(we=>!we)},[]),be=O.rt("Inquire with Sales"),Se=(0,t.useCallback)(()=>{if(J||te||se){let we=O.t("See full comparison");return K&&(we=O.t("Collapse list")),t.createElement("div",{className:"p-grid_item p-last-row-expander"},t.createElement(p.jV,{autoClogProps:u.Dp,onClick:Ge,"data-qa":"p-plans_table_extend_list_cta"},we))}return B&&V?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-last_column p-last_row"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},Ke),t.createElement("div",{className:"margin_top_50"},st))),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row p-bottom-right-ele p-free-btn"},ze)):w?t.createElement(t.Fragment,null,t.createElement("div",{className:n()("p-grid_item","p-first_colum","p-last_row","p-bottom_left_ele")}),t.createElement("div",{className:n()("p-grid_item  p-mid_column p-last_row")}),t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele p-last_column"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"margin_top_50"},Ve),t.createElement(T.A,{className:"p-plans_at_glance_inquire_with_sales_label",href:(0,v.Zl)(G,"/contact-sales?campaign=7013y000002UvizAAC"),autoClogProps:(0,a.pm)()},t.createElement(A.A,{name:"message",size:"16"}),be)))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:n()("p-grid_item  p-mid_column p-last_row",{"p-free-btn":V})},V&&t.createElement(t.Fragment,null,ze)),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},Ke),t.createElement("div",{className:"margin_top_50"},st))),!V&&Z?t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},ke),t.createElement("div",{className:"margin_top_50"},Ve))):null)},[J,B,V,Ke,ze,st,Z,ke,Ve,K,Ge,te,se,w,G,be]);return t.createElement("div",{"data-qa":"plans_at_glance_table",className:n()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_downgrade_container":ce,"p-plans_at_glance_table_container--with_biz_plus":Z&&!V&&!ce,"p-plans_at_glance_table_container--pro_to_biz_plus_upgrade":w}),key:"plans-at-glance-table"},w?ge:null,t.createElement("div",{className:n()("p-grid_item  p-first_column p-top_left_ele",{"p-first_column_heading":J||te||se})},J?O.t("Compare features across plans"):"",(te||se)&&O.t("Compare impacted features"),w?"Plan Features":""),xe(),!V&&Z&&!ce&&!w?t.createElement("div",{className:"p-grid_item p-top_right_ele p-free_heading"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},Z?O.t("Business+"):""))):null,_e(),Se())}_(U,"PlansTable")},7109376014:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4085119397),o=e(6304789565),n=e(2375333597);const c=(0,o.Ay)("Opens the plans at glance modal",function(r,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{onComplete:d,canUserPurchase:u=!1,onProButtonClick:f,onFreeButtonClick:m,from:h,isProFirst:v=!1,trialEligible:p}=l;return r((0,n.q)({element:t.createElement(s.A,{onComplete:d,canUserPurchase:u,onProButtonClick:f,onFreeButtonClick:m,from:h,isProFirst:v,trialEligible:p}),isStackable:!1}))});c.meta={name:"createThunk",key:"createThunkopenPlansAtGlanceModal",description:"Opens the plans at glance modal"};const i=c},3226207882:(N,g,e)=>{"use strict";e.d(g,{$X:()=>i,Cx:()=>a,Dp:()=>p,FM:()=>r,G:()=>S,Go:()=>f,H0:()=>C,KJ:()=>T,NQ:()=>y,QH:()=>I,Qv:()=>P,Rq:()=>M,VK:()=>A,dQ:()=>D,eX:()=>c,j3:()=>h,lp:()=>m,m2:()=>u,qD:()=>E,t8:()=>v});var t=e(8668318456),s=e(6471059816),o=e(6323355797);const n=new s.Ay("guided_trials");var c;(function(R){R.proDowngradeToFree="proDowngradeToFree",R.bizPlusDowngradeToPro="bizPlusDowngradeToPro",R.bizPlusDowngradeToFree="bizPlusDowngradeToFree"})(c||(c={}));var i;(function(R){R.proUpgradeToBizPlus="proUpgradeToBizPlus"})(i||(i={}));var r;(function(R){R.setup="setup"})(r||(r={}));var a;(function(R){R.trialCheckout="trialCheckout"})(a||(a={}));var l;(function(R){R.MESSAGES_AND_HISTORY="messages_and_history",R.PRODUCTIVITY_AND_COLLABORATION="productivity_and_collaboration",R.CONNECT_WITH_EXTERNAL_PEOPLE="connect_with_external_people",R.HUDDLE_WITH_SCREEN_SHARE="huddles_with_screen_share",R.CANVASES_FEATURE="canvases_feature",R.AV_CLIPS="av_clips",R.APPS_AND_AUTOMATION="apps_and_automation",R.SIDE_BAR_ORGANIZATION="side_bar_organization",R.APPS="apps",R.WORKFLOWS="workflows",R.CUSTOMER_SUPPORT="customer_support",R.SLACK_AI="slack_ai",R.AUTOMATION_TOLLS_TITLE="automation_tolls",R.INTEGRATION_WITH_OTHER_APPS="integratins_with_other_apps",R.WORKFLOW_BUILDER="workflow_builder",R.CUSTOM_WORKFLOW_STEP="custom_workflow_step",R.DEPLOY_APPS_TO_SLACK="deploy_apps_to_slack",R.AUTOMATION_USAGE_TITLE="automation_usage",R.PUBLISH_WORKFLOWS="published_workflows",R.STANDARD_WORKFLOWS="standard_workflows",R.PREMIUM_WORKFLOWS="premium_workflows",R.SECURITY_TITLE="security",R.DATA_ENCRYPTION="data_encryption",R.TWO_FACTOR_AUTH="two_factor_auth",R.SSO="sso",R.COMPLIANCE_TITLE="compliance",R.CUSTOMER_RETENTION="customer_retention",R.ADMINSTRATION_TITLE="adminstration",R.WORKSPACES="workspaces",R.CHANNEL_PERMISSION="channel_permission",R.CUSTOM_USER_GROUP="custom_user_group",R.ADMIN_ANALYTICS_DASHBOARD="admin_analytics_dashboard",R.SUPPORT_TITLE="support",R.ACCESS_CUSTOMER_SUPPORT="access_customer_support",R.HUDDLES="huddles",R.LISTS="lists",R.SLACK_CONNECT="slack_connect",R.DATA_STORAGE_AND_RETENTION="data_storage_and_retention",R.MESSAGE_ACTIVITY_ANALYTICS="message_activity_analytics",R.ADMIN_ANALYTICS_API="adming_analytics_api",R.SCIM_MEMBER_MANAGEMENT="scim_member_management",R.DATA_EXPORT_MESSAGES="messaging_data_exports"})(l||(l={}));var d;(function(R){R.SEE_UPGRADE_OPTIONS="see_upgrade_options_cta",R.UPGRADE_NOW="upgrade_now_cta",R.COMPARE_ALL_PLANS="compare_all_plans",R.SEE_MORE_COLLAPSE="see_more_collapse",R.START_FREE_TRIAL="start_free_trial_cta",R.LEARN_MORE="learn_more"})(d||(d={}));const u={elementName:d.UPGRADE_NOW,onClick:{enableClogAction:!0}},f={elementName:d.START_FREE_TRIAL,onClick:{enableClogAction:!0}},m={elementName:d.SEE_UPGRADE_OPTIONS,onClick:{enableClogAction:!0}},h={elementName:d.LEARN_MORE,onClick:{enableClogAction:!0}},v={uiComponentVariant:t.UiComponentVariant.PLANS_AT_GLANCE},p={elementName:d.SEE_MORE_COLLAPSE,onClick:{enableClogAction:!0}},T=_(R=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:n.t("Unlimited messages & file history"),freeDesc:n.t("Limited to past 90 days"),descriptionToolTip:R?n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files."):""},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:R?n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts."):""},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:n.t("Group audio and video huddles"),freeDesc:n.t("1:1 only"),descriptionToolTip:R?n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch."):""},{key:`row_${l.CANVASES_FEATURE}`,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:R?n.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!"):""},{key:`row_${l.AV_CLIPS}`,description:n.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:R?n.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like."):""},{key:`row_${l.APPS_AND_AUTOMATION}`,description:n.t("Unlimited apps and automations"),freeDesc:n.t("Limited to 10")},{key:`row_${l.SIDE_BAR_ORGANIZATION}`,description:n.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:R?n.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar."):""}],"getRowsData"),A=_(()=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:n.t("Unlimited messages & file history"),freeDesc:n.t("Limited to past 90 days"),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:n.t("Group audio and video conversations"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{key:`row_${l.CANVASES_FEATURE}`,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:n.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${l.AV_CLIPS}`,description:n.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:n.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${l.APPS}`,description:n.t("Unlimited apps"),freeDesc:n.t("Limited to 10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${l.WORKFLOWS}`,description:n.t("Unlimited workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${l.SLACK_AI}`,description:n.t("Slack AI"),freeDesc:"-",descriptionToolTip:n.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:n.t("Add-on available")}],"getStpRowsData"),C=_(()=>[{title:n.t("Automation tools"),key:l.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:l.INTEGRATION_WITH_OTHER_APPS,description:n.t("Integrations with other apps"),freeDesc:"",descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.WORKFLOW_BUILDER,description:n.t("Workflow Builder"),freeDesc:"included",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.CUSTOM_WORKFLOW_STEP,description:n.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:n.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:l.DEPLOY_APPS_TO_SLACK,description:n.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:n.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:n.t("Automation usage"),key:l.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:l.PUBLISH_WORKFLOWS,description:n.t("Total published workflows or integrations with other apps"),freeDesc:n.t("10"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:`row_${l.WORKFLOWS}`,description:n.t("Workflows"),freeDesc:"-",paidDesc:n.t("No code"),descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:n.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.DATA_ENCRYPTION,description:n.t("Data encryption at rest and in transit"),freeDesc:"-",descriptionToolTip:n.t("By default, Slack encrypts data at rest and data in transit as part of our foundational security controls.")},{title:"",key:l.TWO_FACTOR_AUTH,description:n.t("Two-factor authentication"),freeDesc:"-",descriptionToolTip:n.t("If your password is compromised or stolen, you\u2019ll have peace of mind knowing that only you can sign in.")},{title:"",key:l.SSO,description:n.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:n.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:n.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:n.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:n.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:n.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:n.t("Workspaces"),freeDesc:n.t("1"),paidDesc:n.t("1"),descriptionToolTip:n.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:n.t("Manage channel posting permissions"),freeDesc:n.t("Limited to #general channel only"),paidDesc:n.t("Limited to #general channel only"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.CUSTOM_USER_GROUP,description:n.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:n.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:n.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:n.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:n.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:n.t("Access to customer support"),freeDesc:n.t("Standard support"),paidDesc:n.t("24/7 support"),descriptionToolTip:n.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getExtendedRowsData"),I=_(()=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:n.t("Search all messages & file history"),freeDesc:n.t("Limited to past {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:n.t("Voice/video huddles with screen share"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{key:`row_${l.CANVASES_FEATURE}`,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:n.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${l.AV_CLIPS}`,description:n.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:n.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${l.APPS}`,description:n.t("Unlimited apps"),freeDesc:n.t("Limited to 10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${l.WORKFLOWS}`,description:n.t("Workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${l.SLACK_AI}`,description:n.t("Slack AI"),freeDesc:"-",descriptionToolTip:n.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:n.t("Add-on available")}],"getPlanVisibilityRowData"),D=_(R=>[{title:"",key:`row_${l.MESSAGES_AND_HISTORY}`,description:n.t("Message and file access"),freeDesc:n.t("Limited to {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:`row_${l.SLACK_CONNECT}`,description:n.t("Slack Connect"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:`row_${l.HUDDLES}`,description:n.t("Huddles"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{title:"",key:`row_${l.CANVASES_FEATURE}`,description:R?n.t("Slack canvases"):"",freeDesc:R?n.t("Channels and DMs only"):"",descriptionToolTip:n.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:`row_${l.LISTS}`,description:R?n.t("Slack lists"):"",freeDesc:"-",descriptionToolTip:R?n.t("Lists bring work management to where teams are already collaborating. You can visualize and organize tasks from your conversations so you can track cross-functional projects, requests, approvals, and more."):""},{title:"",key:`row_${l.APPS}`,description:n.t("Apps connected to Slack"),freeDesc:n.t("10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:`row_${l.WORKFLOWS}`,description:n.t("Workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:`row_${l.DATA_STORAGE_AND_RETENTION}`,description:R?n.t("Data storage and retention"):"",freeDesc:n.t("Up to 1 year"),descriptionToolTip:n.t("Retain access to your entire message and file history. On the free version of Slack, your data will be deleted after one year.")},{title:"",key:l.SSO,description:R?n.t("SAML-based single sign-on (SSO)"):"",freeDesc:"-",descriptionToolTip:R?n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta."):"",paidDesc:n.t("-")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:R?n.t("User provisioning (SCIM)"):"",freeDesc:"-",descriptionToolTip:R?n.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."):"",paidDesc:n.t("-")},{title:"",key:l.DATA_EXPORT_MESSAGES,description:R?n.t("Data exports for all messages"):"",freeDesc:"-",descriptionToolTip:R?n.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."):"",paidDesc:n.t("-")},{title:"",key:`row_${l.SLACK_AI}`,description:n.t("Slack AI"),freeDesc:"-",paidDesc:n.t("Add-on available"),descriptionToolTip:n.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",bizPlusDesc:n.t("Add-on available")}],"getPricingAndPackagingRowData"),y=_(()=>[{title:n.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.SSO,description:n.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:n.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:n.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:n.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:n.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:n.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:n.t("Workspaces"),freeDesc:n.t("1"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:n.t("Manage channel posting permissions"),freeDesc:n.t("Limited to #general channel only"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:n.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:n.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:n.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")},{title:n.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:n.t("Access to customer support"),freeDesc:n.t("24/7 support"),paidDesc:n.t("24/7 support with four-hour first response time"),descriptionToolTip:n.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToProAllRowsData"),P=_(()=>[{title:"",key:l.SSO,description:n.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.CHANNEL_PERMISSION,description:n.t("Unlimited channel posting permissions"),freeDesc:n.t("#general only"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:n.t("SCIM member management"),freeDesc:"-",descriptionToolTip:n.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:n.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToProRowsData"),E=_(()=>[{title:n.t("Productivity & collaboration"),key:l.PRODUCTIVITY_AND_COLLABORATION,freeDesc:"",description:""},{title:"",key:l.MESSAGES_AND_HISTORY,description:n.t("Search all messages & file history"),freeDesc:n.t("Limited to past {messageLimit} days",{messageLimit:o.RF}),descriptionToolTip:n.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:l.CONNECT_WITH_EXTERNAL_PEOPLE,description:n.t("Work with external people in channels"),freeDesc:n.t("1:1 direct messages only"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:l.CANVASES_FEATURE,description:n.t("Unlimited canvases to share knowledge"),freeDesc:n.t("Channel canvases only"),descriptionToolTip:n.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:l.APPS_AND_AUTOMATION,description:n.t("Apps and automations"),freeDesc:n.t("Limited to 10"),descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2014 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.HUDDLE_WITH_SCREEN_SHARE,description:n.t("Slack huddles"),freeDesc:n.t("1:1 only"),descriptionToolTip:n.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{title:"",key:l.SIDE_BAR_ORGANIZATION,description:n.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:n.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar.")},{title:n.t("Automation tools"),key:l.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKFLOW_BUILDER,description:n.t("Workflow Builder"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.CUSTOM_WORKFLOW_STEP,description:n.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:n.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:l.DEPLOY_APPS_TO_SLACK,description:n.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:n.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:n.t("Automation usage"),key:l.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:l.PUBLISH_WORKFLOWS,description:n.t("Total published workflows or integrations with other apps"),freeDesc:n.t("10"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:l.STANDARD_WORKFLOWS,description:n.t("Standard workflows"),freeDesc:"-"},{title:"",key:l.PREMIUM_WORKFLOWS,description:n.t("Premium workflows"),freeDesc:"-",paidDesc:n.t("2000 runs/month")},{title:n.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.SSO,description:n.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:n.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:n.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:n.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:n.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:n.t("Workspaces"),freeDesc:n.t("1"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:n.t("Manage channel posting permissions"),freeDesc:n.t("Limited to #general channel only"),paidDesc:n.t("Unlimited"),descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.CUSTOM_USER_GROUP,description:n.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:n.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:n.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:n.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:n.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:n.t("Access to customer support"),freeDesc:n.t("Standard support"),paidDesc:n.t("24/7 support within 4 hours"),descriptionToolTip:n.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToFreeAllRowsData"),M=_(()=>[{title:"",key:l.WORKFLOWS,description:n.t("Workflows"),freeDesc:"-",descriptionToolTip:n.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.APPS_AND_AUTOMATION,description:n.t("Unlimited apps connected to slack"),freeDesc:"-",descriptionToolTip:n.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.SSO,description:n.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:n.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.CHANNEL_PERMISSION,description:n.t("Unlimited channel posting permissions"),freeDesc:"-",descriptionToolTip:n.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:n.t("SCIM member management"),freeDesc:"-",descriptionToolTip:n.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:n.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToFreeRowsData"),S=_(()=>[{title:"",key:l.CONNECT_WITH_EXTERNAL_PEOPLE,description:n.t("Work with external people"),descriptionToolTip:n.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect.")},{title:"",key:l.HUDDLES,description:n.t("Huddles"),descriptionToolTip:n.t("Work together in real time with up to 50 people through audio and video meetings (including screen sharing) using Slack huddles.")},{title:"",key:l.CANVASES_FEATURE,description:n.t("Unlimited lists and canvases"),descriptionToolTip:n.t("Document key resources and track projects without ever leaving Slack.")},{title:"",key:l.WORKFLOWS,description:n.t("Apps and workflows"),descriptionToolTip:n.t("App integrations are installed apps you can access from within Slack (like Google Drive or Office 365). And workflows allows you to automate routine tasks and processes right in Slack, no code needed. They can even be connected to apps you use to get work done.")},{title:"",key:l.SSO,description:n.t("Single sign-on (SSO)"),paidDesc:n.t("Limited to Google"),descriptionToolTip:n.t("Set up single sign-on with Google OAuth or choose from one of up to 12 SAML-based SSO configurations, including OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:n.t("User management with SCIM"),descriptionToolTip:n.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."),paidDesc:n.t("\u2014")},{title:"",key:l.DATA_EXPORT_MESSAGES,description:n.t("Data exports for all messages"),descriptionToolTip:n.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."),paidDesc:n.t("\u2014")},{title:"",key:l.CHANNEL_PERMISSION,description:n.t("Advanced channel permissions"),descriptionToolTip:n.t("Adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction-free."),paidDesc:n.t("\u2014")},{title:"",key:l.ADMIN_ANALYTICS_API,description:n.t("Admin Analytics API"),descriptionToolTip:n.t("Retrieve analytics data for a given date, presented as a compressed JSON file."),paidDesc:n.t("\u2014")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:n.t("Message activity analytics"),descriptionToolTip:n.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization."),paidDesc:n.t("\u2014")}],"getBoostBusPlusRowData")},952756744:(N,g,e)=>{"use strict";e.d(g,{s:()=>c});var t=e(3134334389),s=e(4902318931),o=e(6259241484);const n={[o.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,8240993983)))},[o.ze.AUTO_SLACK_FREE_HUDDLES_INVITE_MODAL_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,328068115)))},[o.ze.AUTO_SLACK_SALESFORCE_PLUS_TRIAL_AWARENESS_HUDDLES_INVITE_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,7472322262)))}},c=_(()=>t.createElement(s.Ay,{spaceName:o.xu.HUDDLE_INVITE_MODAL,notifications:n,componentClassName:"margin_top_50 margin_bottom_50"}),"HuddleInviteModalTrialBannerV2MegaphoneWrapper");c.displayName="HuddleInviteModalTrialBannerV2MegaphoneWrapper"},8240993983:(N,g,e)=>{"use strict";e.r(g),e.d(g,{HuddleInviteModalTrialBannerV2:()=>C,default:()=>I});var t=e(3134334389),s=e(6122756707),o=e(5562796568),n=e(7173172014),c=e(6471059816),i=e(1267040415),r=e(5641442783),a=e(7433432223),l=e(6084388622),d=e(8112788848),u=e(8668318456),f=e(6323355797),m=e(9506008067),h=e(8871937520),v=e(7169590072);const p=new c.Ay("guided_trials"),T={elementName:"upgrade_now_cta",onClick:{enableClogAction:!0}},A={elementName:"see_upgrade_options_cta",onClick:{enableClogAction:!0}},C=_(D=>{let{trialEndDate:y,canUserPurchase:P}=D;const E=(0,s.wA)(),M=(0,m.d4)(v.$J),S=(0,m.d4)(k=>(0,f.m6)(k,{action:"checkout",productLevel:f.i6.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"}));(0,o.A)(()=>{E((0,v.E5)())});const R=_(()=>P?t.createElement(l.z9,{autoClogProps:T,href:S,className:"p-huddle_invite_modal__cta_upgrade",size:"small","data-qa":"huddle-invite-modal-upgrade-cta"},M?p.t("Upgrade to Pro"):p.t("Upgrade Now")):t.createElement(i.A,{feature:f.c4.SLACK_HUDDLES,autoClogProps:A,size:"small",type:M?"primary":"outline"},M?p.t("Compare plans"):p.t("See Upgrade Options")),"getCTA");return R.displayName="getCTA",t.createElement(n.A,{eventId:u.EventId.UPGRDEXP_TRIAL,uiComponentName:u.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement(a.A,{className:"p-huddle_invite_modal_trial_banner_v2__container","data-qa":"huddle_invite_modal_trial_banner",primaryCTA:R()},t.createElement("div",null,M?p.rt("<strong>Huddles will soon be limited to two people</strong>"):p.rt("<strong>Group huddles aren\u2019t available for much longer</strong>"),t.createElement(r.A,{className:"p-huddle_invite_modal_trial_banner_v2__pro_tooltip",uiComponentVariant:u.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:d.m.MenuAboveFullScreen})),M?p.rt("Upgrade to continue using group huddles with your team."):p.rt("If you choose not to upgrade by {trialEndDate}, your team won\u2019t be able to huddle with more than one other person.",{trialEndDate:(0,h.Pd)(y),fallbackHash:"e680e704766e6c0c74ca66a78c581927a4b36bdf"})))},"HuddleInviteModalTrialBannerV2");C.displayName="HuddleInviteModalTrialBannerV2";const I=C},9953252450:(N,g,e)=>{"use strict";e.d(g,{A:()=>I,x:()=>A});var t=e(3134334389),s=e(6122756707),o=e(5562796568),n=e(7173172014),c=e(6471059816),i=e(2481088989),r=e(7433432223),a=e(3328083357),l=e(8739505998),d=e(8668318456),u=e(6323355797),f=e(9506008067),m=e(8871937520),h=e(7268021173),v=e(7169590072);const p=new c.Ay("trials_highlight_paid_features"),T={elementName:"view_all_pro_features",onClick:{enableClogAction:!0}},A=_(D=>{let{trialEndTs:y,experimentPnpGoGroupTreatment:P,viewAllProFeaturesLink:E,v2ClassName:M}=D;return P?t.createElement(n.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:M},t.createElement(r.A,{className:"padding_left_125"},(0,i.A)(p.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialExpirationDate}. <viewAllProFeaturesLink>View all Pro features</viewAllProFeaturesLink></strong>",{trialExpirationDate:(0,m.Pd)(y),"<viewAllProFeaturesLink>":E}),{position:i.D.LEFT_ALIGNED})))):t.createElement(n.A,{eventId:d.EventId.UPGRDEXP_TRIAL,uiComponentName:d.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(a.A,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},p.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:(0,m.Pd)(y)}))))},"HuddleInviteModalTrialBanner");A.displayName="HuddleInviteModalTrialBanner";const C=_(D=>{let{v2ClassName:y}=D;const P=(0,s.wA)();(0,o.A)(()=>{P((0,v.E5)())});const E=(0,f.d4)(v.$J),M=(0,f.d4)(h.Sk),S=(0,t.useCallback)(R=>{let{text:k}=R;return t.createElement(l.A,{href:(0,u.hZ)({entryPoint:"huddle_invite_modal_trial_banner"}),autoClogProps:T},k)},[]);return t.createElement(A,{trialEndTs:M,experimentPnpGoGroupTreatment:E,viewAllProFeaturesLink:S,v2ClassName:y})},"ConnectedHuddleInviteModalTrialBanner");C.displayName="ConnectedHuddleInviteModalTrialBanner";const I=C},4220141877:(N,g,e)=>{"use strict";e.d(g,{A:()=>D});var t=e(3134334389),s=e(6069260775),o=e(1267040415),n=e(5791262841),c=e(266169032),i=e(6471059816),r=e(6323355797);const a=new i.Ay("huddles"),l=r.ew.PAID_FEATURE_TRIAL,d=_(y=>{let{startTrialContext:P=c.M.huddlesTrialEntryPointModal,uiComponentVariant:E,onSpeedbumpContinue:M,promoType:S,promoSubtype:R,isEligibleForTrial:k}=y;const O=_(B=>{let{text:K}=B;return t.createElement(o.A,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},K)},"renderPlansPageLink"),U=a.t("Try huddles with more people"),W=k?a.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:l,"<plansPageLink>":O}):a.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":O}),x=a.t("With more people, you can:"),L=(0,t.useCallback)(()=>[a.t("Host a team brainstorm from anywhere"),a.t("Get the group\u2019s feedback with a live screenshare"),a.t("Touch base on the go, without all the typing")],[]),b=(0,t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(e,7378585700,23)),[]),F=(0,t.useMemo)(()=>t.createElement(s.e,{getAnimationImport:b,autoplay:!0,loop:!0}),[b]);return t.createElement(n.A,{modalTitle:U,modalSubtitle:W,modalLottieAnimation:F,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:x,modalChecklistItems:L(),promoType:S,promoSubtype:R,startTrialContext:P,uiComponentVariant:E,onSpeedbumpContinue:M,isEligibleForTrial:k})},"HuddleTrialEntryPointModal");d.displayName="HuddleTrialEntryPointModal";const u=d;var f=e(8300630630),m=e(6304789565),h=e(2375333597),v=e(7268021173),p=e(962959561),T=e(7859253282),A=e(398781533);function C(){return C=Object.assign||function(y){for(var P=1;P<arguments.length;P++){var E=arguments[P];for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&(y[M]=E[M])}return y},C.apply(this,arguments)}_(C,"_extends");const I=(0,m.Ay)("Open huddles trial entry point modal",async(y,P,E)=>{const M=r.ZO.PaidFeatureTrial,S=r.zG.Vhq;y((0,A.Q)({entryPoint:"open_huddle_trial_entry_point_modal",campaignType:M,campaignSubType:S,reason:"huddle_trial_entry_point_modal"})),await y((0,f.A)({campaignType:M,campaignSubType:S,reason:"huddle_trial_entry_point_modal"}));const R=(0,v.hq)(P(),M,S);return(0,p.L9)(P())?y((0,T.r)({promoType:M,promoSubtype:S,entryPoint:"slack_connect_auto_charge_trial_entry_point"})):y((0,h.q)({element:t.createElement(u,C({},E,{promoType:M,promoSubtype:S,isEligibleForTrial:R}))}))});I.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};const D=I},8300630630:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),s=e(5165209241),o=e(6304789565),n=e(2375333597),c=e(1384076438);const i=(0,o.Ay)("Display loading modal and fetch data for trial entry point modal",async(a,l,d)=>(a((0,n.q)({element:t.createElement(s.A,{className:"p-trial_entry_point_modal__loading_modal"})})),a((0,c.A)(d))));i.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"};const r=i},6455962125:(N,g,e)=>{"use strict";e.d(g,{y:()=>a});var t=e(3134334389),s=e(5431290584),o=e(6471059816),n=e(9506008067),c=e(3192808693);const i=new o.Ay("trials"),r={name:"slack-logo",size:"inherit"},a=_(l=>{let{ariaHidden:d,className:u,autoClogProps:f,badgeTheme:m,size:h}=l;const v=(0,n.d4)(c.lL);return t.createElement(s.rg,{ariaHidden:d,ariaLabel:v?i.t("Paid feature"):"",badgeText:v?i.t("Paid"):"",badgeTheme:m,className:u,autoClogProps:f,size:h,"data-qa":"paid-badge",icon:r})},"PaidBadge");a.displayName="PaidBadge"},6148716148:(N,g,e)=>{"use strict";e.d(g,{a:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(229412938),c=e(6455962125),i=e(7949425452),r=e(6323355797),a=e(9506008067),l=e(3192808693);const d=_(u=>{let{featurePlan:f,ariaHidden:m,className:h,autoClogProps:v,badgeTheme:p,size:T}=u;const A=(0,a.d4)(y=>(0,l.s_)(y,!0)),C=(0,a.d4)(l.Zg),I=A||C;let D=i.J;return I?D=c.y:f===r.F2.PLUS&&(D=n.y),t.createElement(D,{ariaHidden:m,badgeTheme:p,className:o()(h,{"p-with_pro_badge__paid-badge":I}),autoClogProps:v,size:T})},"PaidFeatureBadge");d.displayName="PaidFeatureBadge"},7949425452:(N,g,e)=>{"use strict";e.d(g,{J:()=>c});var t=e(3134334389),s=e(5431290584),o=e(6471059816);const n=new o.Ay("trials"),c=_(i=>{let{ariaHidden:r,className:a,autoClogProps:l,badgeTheme:d,size:u}=i;return t.createElement(s.rg,{ariaHidden:r,ariaLabel:n.t("Pro feature"),badgeText:n.t("PRO"),badgeTheme:d,className:a,autoClogProps:l,size:u,"data-qa":"pro-badge"})},"ProBadge");c.displayName="ProBadge"},5641442783:(N,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6148716148),c=e(5431290584),i=e(9371668729),r=e(6839188756),a=e(6471059816),l=e(6323355797),d=e(9506008067),u=e(7268021173),f=e(1670069836);function m(){return m=Object.assign||function(T){for(var A=1;A<arguments.length;A++){var C=arguments[A];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(T[I]=C[I])}return T},m.apply(this,arguments)}_(m,"_extends");const h=new a.Ay("trials"),v=_(T=>{let{badgeTheme:A=c.Vu.Purple,badgeSize:C=c.vj.Medium,className:I,hideTooltip:D,uiComponentVariant:y,...P}=T;const E=(0,d.d4)(k=>(0,r.tc)((0,f.H7)(k))),M=(0,d.d4)(k=>(0,u.tu)(k)===l.i6.standard.id),S=(0,t.useMemo)(()=>({uiComponentVariant:y}),[y]);if(!(E||M))return null;const R=h.t("PRO");return D?t.createElement(n.a,{autoClogProps:S,badgeTheme:A,className:I,featurePlan:"std",size:C}):t.createElement(i.A,m({ariaLabel:R,uiComponentVariant:y},P),t.createElement("span",{className:o()("p-trial_pro_badge",I),"data-qa":"trial_pro_badge"},t.createElement(n.a,{featurePlan:"std",autoClogProps:S,badgeTheme:A,size:C})))},"TrialProBadge");v.displayName="TrialProBadge";const p=v},5431290584:(N,g,e)=>{"use strict";e.d(g,{Vu:()=>l,rg:()=>f,vj:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9113979368),c=e(7173172014),i=e(8683010724),r=e(8668318456);function a(){return a=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},a.apply(this,arguments)}_(a,"_extends");const l={Purple:"purple",White:"white"},d={Small:"small",Medium:"medium",Large:"large"},u={eventId:r.EventId.UPGRDEXP_TRIAL,uiComponentName:r.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},f=_(m=>{let{ariaHidden:h=!1,ariaLabel:v,badgeText:p,className:T,autoClogProps:A,badgeTheme:C=l.Purple,size:I=d.Medium,icon:D}=m;const y=h?{"aria-hidden":!0}:{"aria-label":v,role:"img"},P=t.createElement("div",a({className:o()("p-pro_badge",`p-pro_badge--${C}`,`p-pro_badge--${I}`,T),"data-qa":"pro_badge"},y),D?t.createElement("div",{className:"p-pro_badge-with-icon"},t.createElement(i.A,{name:D.name})," ",p):t.createElement("span",null,p));return(0,n.A)(A)?P:t.createElement(c.A,a({},u,A),P)},"UpgradesBadge");f.displayName="UpgradesBadge"},3994181705:(N,g,e)=>{"use strict";e.d(g,{A:()=>m,G:()=>d});var t=e(3134334389),s=e(6122756707),o=e(6471059816),n=e(6323355797),c=e(9506008067),i=e(3810478625),r=e(7268021173),a=e(1384076438);const l=new o.Ay("trials");var d;(function(h){h.HuddlesFreemiumDeprecated="huddles_freemium"})(d||(d={}));const u=n.ew.PAID_FEATURE_TRIAL,m=_(h=>{let{isFreemium:v,tooltipText:p,promoType:T,promoSubtype:A,variant:C}=h;const I=(0,s.wA)(),D=(0,c.d4)(i.g),y=(0,c.d4)(r.iH);(0,t.useEffect)(()=>{T&&I((0,a.A)({campaignType:T,campaignSubType:A,reason:"trial_tooltip"}))},[I,T,A]);const P=(0,c.d4)(k=>T?(0,r.bp)(k,T,A):!1),E=(0,c.d4)(k=>T?(0,r.hq)(k,T,A):!1),M=_(()=>{if(y)switch(C){case d.HuddlesFreemiumDeprecated:return D?void 0:l.t("Huddles with more than two people are a paid feature, available with your free trial");default:return l.t("This is a paid feature, available with your free trial")}if(E)switch(C){case d.HuddlesFreemiumDeprecated:return D?void 0:l.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:u});default:return l.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:u})}switch(C){case d.HuddlesFreemiumDeprecated:return D?void 0:l.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return l.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),S=_(()=>y?l.t("This feature is unlimited with your free trial"):E?l.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:u}):l.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(P)return{};const R=v?S():M();return p?{tooltipTitle:p,tooltipBody:R}:{tooltipTitle:R}},"useTrialProBadgeTooltipText")},2481088989:(N,g,e)=>{"use strict";e.d(g,{A:()=>r,D:()=>c});var t=e(3134334389),s=e(6148716148),o=e(5641442783),n=e(5431290584);const c={RIGHT_ALIGNED:"right_aligned",LEFT_ALIGNED:"left_aligned"};function i(a){let{position:l=c.RIGHT_ALIGNED,isTrialVariant:d,uiComponentVariant:u,size:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{position:c.RIGHT_ALIGNED,isTrialVariant:!1,uiComponentVariant:void 0,size:n.vj.Medium};const m=t.createElement("span",{className:`p-with_pro_badge__text--${l}`},a);let h=t.createElement(s.a,{featurePlan:"std",className:"p-with_pro_badge__badge",size:f});d&&(h=t.createElement(o.A,{className:"p-with_pro_badge__badge",uiComponentVariant:u,badgeSize:f}));let v;return l===c.RIGHT_ALIGNED?v=t.createElement(t.Fragment,null,m,h):v=t.createElement(t.Fragment,null,h,m),t.createElement("div",{className:"p-with_pro_badge"},v)}_(i,"WithProBadge"),i.displayName="WithProBadge";const r=i},2978178368:(N,g,e)=>{"use strict";e.d(g,{d:()=>T});var t=e(3134334389),s=e(6122756707),o=e(7895785073),n=e(9702400417),c=e(6471059816);const i=new c.Ay("guided_trials"),r=_(A=>{let{primaryDiscountCostPerMonth:C,secondaryDiscountCostPerMonth:I,primaryBaseCostPerMonth:D,secondaryBaseCostPerMonth:y}=A;return C?{monthlyPrice:C,yearlyPrice:I||y}:{monthlyPrice:D,yearlyPrice:y}},"getPrices"),a=_(A=>{let{experimentPnpTwoGoGroupOn:C,currency:I,isPrimaryPricingMonthly:D,primaryDiscountCostPerMonth:y=0,secondaryDiscountCostPerMonth:P=0,primaryBaseCostPerMonth:E,secondaryBaseCostPerMonth:M}=A;const{monthlyPrice:S,yearlyPrice:R}=r({primaryDiscountCostPerMonth:y,secondaryDiscountCostPerMonth:P,primaryBaseCostPerMonth:E,secondaryBaseCostPerMonth:M}),k=D?"monthly":"yearly",O=D?"yearly":"monthly",U=C&&y?i.t(" (discount applied)"):"",W=(0,n.A)(S,I),x=(0,n.A)(R,I);return i.rt(`{monthlyPrice}\xA0per person/month when billed {primaryBillingType}{discountDisclaimer}. 
 {yearlyPrice} per person/month when billed {secondaryBillingType}`,{monthlyPrice:W,yearlyPrice:x,primaryBillingType:k,secondaryBillingType:O,discountDisclaimer:U,fallbackHash:"6cc919e7efe7051ee1f94af38170e3d9d2c92e7d"})},"getTooltipContent");var l=e(2312625946),d=e(9506008067),u=e(3554387543),f=e(4005238080),m=e(7182156071),h=e(4483113171),v=e.n(h);function p(){return p=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(A[D]=I[D])}return A},p.apply(this,arguments)}_(p,"_extends");const T=_(A=>{let{children:C,plan:I,...D}=A;const y=(0,s.wA)(),P=(0,d.d4)(m.k),E=(0,d.d4)(u.Pr),{currency:M,isPrimaryPricingMonthly:S,primaryBaseCostPerMonth:R,secondaryBaseCostPerMonth:k,primaryDiscountCostPerMonth:O,secondaryDiscountCostPerMonth:U}=(0,o.A)(I),W=a({currency:M,isPrimaryPricingMonthly:S,primaryDiscountCostPerMonth:O,secondaryDiscountCostPerMonth:U,primaryBaseCostPerMonth:R,secondaryBaseCostPerMonth:k,experimentPnpTwoGoGroupOn:P});return(0,t.useEffect)(()=>{E||y((0,f.A)())},[y,E]),E?t.createElement(l.Ay,p({tip:W},D),t.createElement("span",{className:v().tooltipText},C)):C},"PricingBreakdownTooltip");T.displayName="PricingBreakdownTooltip"},5655284373:(N,g,e)=>{"use strict";e.d(g,{D:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7173172014),c=e(2481088989),i=e(2878488941),r=e(8739505998),a=e(8683010724),l=e(8668318456),d=e(2283801392),u=e.n(d),f=e(8312761259),m=e.n(f);function h(){return h=Object.assign||function(T){for(var A=1;A<arguments.length;A++){var C=arguments[A];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(T[I]=C[I])}return T},h.apply(this,arguments)}_(h,"_extends");const v=t.forwardRef((T,A)=>{let{children:C,iconProps:I,...D}=T;return t.createElement(r.A,h({},D,{ref:A}),I&&t.createElement("span",{className:"margin_right_25"},t.createElement(a.A,{name:I.name,size:I.size||"16",inline:!0})),C)}),p=_(T=>{let{className:A,autoClogProps:C,title:I,body:D,primaryCta:y,customPrimaryCta:P,customPrimaryCtaProps:E,secondaryCta:M,hideBadge:S=!1}=T;const R=_(()=>t.createElement("p",{className:m().bodyText},D),"getBodyText");return R.displayName="getBodyText",t.createElement(n.A,h({eventId:l.EventId.UPGRDEXP_TRIAL,clogImpression:!0,enableClogImpressionOffScreen:!0},C),t.createElement(i.A,{type:i.V.fixed,bannerContainerClass:o()(m().banner,A),headingText:S?I:(0,c.A)(I,{position:c.D.RIGHT_ALIGNED}),bodyText:R(),imgSrc:u(),closeOnSecondaryCTAClick:!1,closeOnPrimaryCTAClick:!1,primaryCTAText:y==null?void 0:y.text,primaryCTAHref:y==null?void 0:y.href,onPrimaryCTAClick:y==null?void 0:y.onClick,primaryCTAClogProps:y==null?void 0:y.autoClogProps,customPrimaryCTA:P,customPrimaryCTAProps:E,secondaryCTAText:M==null?void 0:M.text,secondaryCTAClogProps:M==null?void 0:M.autoClogProps,customSecondaryCTA:v,customSecondaryCTAProps:M,"data-qa":"trial-awareness-banner-lg"}))},"LargeTrialAwarenessBanner");p.displayName="LargeTrialAwarenessBanner"},5498730041:(N,g,e)=>{"use strict";e.d(g,{N:()=>h});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7173172014),c=e(2481088989),i=e(3801841745),r=e(2645587768),a=e(8739505998),l=e(8683010724),d=e(8668318456),u=e(8312761259),f=e.n(u);function m(){return m=Object.assign||function(v){for(var p=1;p<arguments.length;p++){var T=arguments[p];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(v[A]=T[A])}return v},m.apply(this,arguments)}_(m,"_extends");const h=_(v=>{let{className:p,autoClogProps:T,title:A,showHourglassIcon:C,primaryCta:I,hideBadge:D=!1}=v;const y=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,t.createElement("span",{className:f().titleText},A),I&&t.createElement("span",{className:f().linkWrapper},t.createElement(a.A,m({className:f().link,autoClogProps:I.autoClogProps,onClick:I.onClick},I.href?{href:I.href}:{renderAsSpan:!0}),I.text))),[A,I]);return t.createElement(n.A,m({eventId:d.EventId.UPGRDEXP_TRIAL,clogImpression:!0,enableClogImpressionOffScreen:!0},T),t.createElement(r.Ay,{type:"neutral",showCloseButton:!1,isFixedPosition:!1,className:o()(f().banner,p),"data-qa":"trial-awareness-banner-sm"},t.createElement(i.A,null,!D&&!C&&(0,c.A)(y,{position:c.D.LEFT_ALIGNED}),C&&t.createElement(t.Fragment,null,t.createElement("span",{className:f().icon},t.createElement(l.A,{name:"hourglass",size:"20"})),t.createElement("div",null,y)),D&&!C&&y)))},"SmallTrialAwarenessBanner");h.displayName="SmallTrialAwarenessBanner"},5791262841:(N,g,e)=>{"use strict";e.d(g,{A:()=>O});var t=e(3134334389),s=e(6122756707),o=e(7173172014),n=e(9392104102),c=e(6471059816),i=e(1267040415),r=e(2934784510),a=e(4963725897),l=e(267465465),d=e(280819219),u=e(8719380546),f=e(8683010724);const h=_(U=>{let{checklistItems:W,checklistHeading:x}=U;return t.createElement("div",{className:"p-modal_content_checklist__checklist"},t.createElement("div",{className:"p-modal_content_checklist__heading"},x),W.map(L=>t.createElement("div",{key:L,className:"p-modal_content_checklist__checklist_item"},t.createElement("div",{className:"p-modal_content_checklist__checklist_check"},t.createElement(f.A,{name:"check-filled",size:"16"})),t.createElement("div",null,L))))},"ModalContentChecklist");var v=e(4117634716),p=e(8822892075),T=e(7940058138),A=e(980293773),C=e(8668318456),I=e(9506008067),D=e(6259241484),y=e(8871937520),P=e(9003400431),E=e(5512605238);const M=new c.Ay("trials"),S={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},R={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},k=_(U=>{let{modalClassName:W,modalCloseButtonTheme:x,modalSubtitle:L,modalTitle:b,modalType:F=l.H.VERTICAL_BANNER,modalVideoClassName:B,modalVideoFileName:K,modalLottieAnimation:H,modalVideoPosterExtension:Y="",modalBannerBackgroundColor:Z="",modalChecklistHeading:V="",modalChecklistItems:ne=n.Ml,promoType:q,promoSubtype:me,imgSrc:ue,isEligibleForTrial:ae,startTrialContext:le,uiPage:fe,uiComponentVariant:he,uiStep:ie,onSpeedbumpContinue:X,onSpeedbumpContinueLabel:j,onTrialStart:w,skipSpeedbump:Q,"data-qa":G,omitSecondaryCTA:J=!1}=U;const te=(0,s.wA)(),se=(0,I.d4)(E.F),[ce,Ee]=(0,t.useState)(!1),de=(0,t.useRef)(""),re=(0,t.useCallback)(()=>{te((0,P.O)())},[te]),_e=(0,t.useCallback)(async function(){let{trialExpirationDate:Ve}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ve&&(de.current=Ve,w==null||w(),Q?re():Ee(!0))},[re,w,Q]),ve=(0,t.useCallback)(()=>{re(),te((0,v.o)((0,p.ZF)(T.c.PaidBenefits)))},[te,re]),ge=(0,t.useCallback)(()=>{re(),X==null||X()},[re,X]),Le=t.createElement(h,{checklistHeading:V,checklistItems:ne}),ke=(0,t.useMemo)(()=>[D.xu.SIDEBAR_MENU_HEADER],[]),Ke=t.createElement(a.A,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:S,reason:"start_trial_from_trial_entry_point_modal",context:le,promoType:q,promoSubtype:me,onRequestComplete:_e,megaphoneSpacesToRefresh:ke},M.t("Start Free Trial")),Ne=t.createElement(i.A,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:R,onClick:re},M.t("See Upgrade Options")),Re=ae?Ke:Ne,xe=l.H.HORIZONTAL_BANNER?"800px":"586px",We=_(()=>{if(!de.current)return null;const Ve=t.createElement("div",{className:"display_flex"},t.createElement(d.A,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),M.t("Ta-da! Your team\u2019s on a free trial")),ze=t.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},M.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:(0,y.Pd)(de.current)})),Ge=_(()=>j||(X?M.t("Continue"):M.t("Find Out More")),"getContinueButtonLabel")();let be=M.t("Dismiss"),Se=ve,we=re,Ce="speedbump_learn_more",Te="speedbump_dismiss";return X&&(be=M.t("Learn More"),Se=ge,we=ve,Ce="speedbump_continue",Te="speedbump_learn_more"),t.createElement(A.ty,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:Ve,description:ze,continueButtonLabel:Ge,cancelButtonLabel:be,onCancel:J?void 0:we,onContinue:Se,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:Ce,onClick:{enableClogAction:!0}},cancelButton:{elementName:Te,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");We.displayName="renderSpeedbump";const $=t.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},M.t("No credit card required.")),ee=t.createElement("div",{className:"p-trial_entry_point_modal__footer"},Re,ae&&$,ae&&t.createElement(r.A,{shouldShow:se}),ce&&We());return t.createElement(o.A,{eventId:C.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:C.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:he,uiStep:ie,uiPage:fe},t.createElement(u.A,{bannerBackgroundColor:Z,"data-qa":G,imgSrc:ue,title:b,subtitle:L,bodyContent:Le,footerContent:ee,onRequestClose:re,maxWidth:xe,className:W,closeButtonTheme:x,type:F,videoFilename:K,videoPosterExtension:Y,videoClassName:B,lottieAnimation:H}))},"TrialEntryPointModal");k.displayName="TrialEntryPointModal";const O=k},2934784510:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(6122756707),o=e(6069260775),n=e(9506008067),c=e(2047021170),i=e(1939990292);const a=t.memo(l=>{let{shouldShow:d=!1}=l;const u=(0,s.wA)(),[f,m]=(0,t.useState)(),[h,v]=(0,t.useState)(!1),p=(0,t.useCallback)(C=>{C&&C.then(I=>m(I))},[m]),T=(0,n.d4)(C=>!(0,c.ty)(C,"a11y_animations")),A=(0,t.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(e,4831955131,23)),[]);return!d||T||h?null:(f&&f._cbs&&f.addEventListener("complete",()=>{u((0,i.DJ)(!1)),v(!0)}),t.createElement(o.e,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:A,ref:p}))})},4963725897:(N,g,e)=>{"use strict";e.d(g,{A:()=>U});var t=e(3134334389),s=e(6122756707),o=e(7715417323),n=e(7173172014),c=e(7241534324),i=e(4585652590),r=e(6084388622),a=e(8739505998),l=e(5733135148),d=e(8668318456),u=e(6471059816),f=e(9506008067),m=e(1655938719),h=e(1939990292),v=e(962959561),p=e(398781533),T=e(677609895),A=e(56548687),C=e(6323355797),I=e(6304789565),D=e(1384076438),y=e(1670069836);const P=(0,I.Ay)("Open trial checkout or plans page if user can purchase",async(W,x,L)=>{let{campaignType:b,campaignSubType:F,entryPoint:B}=L;const K=x(),H=(0,y.H7)(K),Y=(0,C.tc)({team:H,promoType:b,promoSubtype:F,entryPoint:B}),Z=(0,C.hZ)({entryPoint:b,team:H}),V=(0,A.e)({state:K}),{isEligible:ne}=await W((0,D.A)({campaignType:b,campaignSubType:F,reason:"auto_charge_trial_start_cta"}));ne&&(0,v.L9)(x())&&(0,T.X)(x())?(V.track(d.EventId.NEWXP_TEAM_CREATE,c.Fq),window.open(Y,"_blank")):(V.track(d.EventId.NEWXP_TEAM_CREATE,c.tC),window.open(Z,"_blank"))});P.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeOpenTrialCheckout",description:"Open trial checkout or plans page if user can purchase"};var E=e(9360742940);function M(){return M=Object.assign||function(W){for(var x=1;x<arguments.length;x++){var L=arguments[x];for(var b in L)Object.prototype.hasOwnProperty.call(L,b)&&(W[b]=L[b])}return W},M.apply(this,arguments)}_(M,"_extends");const S=new u.Ay("trials"),R={name:"warning"},k=_(W=>{let{children:x,reason:L,context:b,megaphoneSpacesToRefresh:F,promoType:B,promoSubtype:K,onClick:H,onRequestComplete:Y=o.A,onRequestError:Z=o.A,useLink:V,type:ne,refToForward:q,...me}=W;const ue=(0,s.wA)(),ae=(0,f.d4)(E.Ii),le=(0,v.aJ)({campaignType:B,campaignSubType:K}),[fe,he]=(0,t.useState)(!1),[ie,X]=(0,t.useState)(!1),j=(0,t.useCallback)(()=>{he(!0),X(!1),Z()},[Z]),w=(0,t.useCallback)(()=>{ie||(X(!0),he(!1),ue((0,i.a)({reason:L,campaignType:B,campaignSubType:K,context:b})).then(J=>{let{trial_expiration_date:te}=J;ue((0,h.DJ)(!0)),Y({trialExpirationDate:te}),ue((0,m.yJ)({additionalSpaces:F,megaphoneReason:"trial_start_request_complete"})),te||j()}).catch(j))},[ie,ue,L,B,K,b,j,Y,F]),Q=(0,t.useCallback)(()=>{const J="trial_start_cta";ue((0,p.Q)({entryPoint:J,campaignType:B,campaignSubType:K,reason:"auto_charge_trial_check"})),ae&&le?ue(P({campaignType:B,campaignSubType:K,entryPoint:J})):w(),H==null||H()},[H,w,ue,B,K,ae,le]),G=V?t.createElement(a.A,M({ref:q},me,{onClick:Q}),x):t.createElement(r.lV,M({ref:q},me,{type:ne,onClick:Q,loading:ie,"aria-label":void 0}),x);return t.createElement(n.A,{eventId:d.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0,stepVariant:ae&&le?c.F5:void 0},G,fe&&t.createElement(l.Ay,{svgIconProps:R,svgIconClassName:"align_self_start",shouldAutoFade:!1},S.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");k.displayName="TrialStartCTABase";const U=t.forwardRef((W,x)=>t.createElement(k,M({},W,{refToForward:x})))},1388835426:(N,g,e)=>{"use strict";e.d(g,{S:()=>s});var t=e(9907843289);const s=_(o=>{switch((0,t.Yp)()){case"de-DE":return{translation:o["de-DE"],enableMediaCaptions:!0};case"en-GB":return{translation:o["en-GB"],enableMediaCaptions:!1};case"en-US":return{translation:o["en-US"],enableMediaCaptions:!1};case"es-ES":return{translation:o["es-ES"],enableMediaCaptions:!0};case"es-LA":return{translation:o["es-LA"],enableMediaCaptions:!0};case"fr-FR":return{translation:o["fr-FR"],enableMediaCaptions:!0};case"it-IT":return{translation:o["it-IT"],enableMediaCaptions:!0};case"ja-JP":return{translation:o["ja-JP"],enableMediaCaptions:!0};case"ko-KR":return{translation:o["ko-KR"],enableMediaCaptions:!0};case"pt-BR":return{translation:o["pt-BR"],enableMediaCaptions:!0};case"zh-CN":return{translation:o["zh-CN"],enableMediaCaptions:!0};case"zh-TW":return{translation:o["zh-TW"],enableMediaCaptions:!0};default:return{translation:o["en-US"],enableMediaCaptions:!0}}},"useVideoTranslation")},5712872315:(N,g,e)=>{"use strict";e.d(g,{B:()=>s,D:()=>t});var t;(function(o){o.SMALL="small",o.MEDIUM="medium",o.LARGE="large"})(t||(t={}));var s;(function(o){o.NONE="none",o.PURPLE="purple",o.LIGHT_PURPLE="light_purple",o.BLUE="blue",o.ERROR="error",o.HORCHATA="horchata",o.SUNFLOWER="sunflower",o.GRADIENT="gradient",o.RADIAL_GRADIENT="radial_gradient"})(s||(s={}))},3328083357:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816),c=e(5712872315),i=e(280819219),r=e(581167618),a=e(6105929840),l=e(8668318456);const d=new n.Ay("upgrades_kit"),u={action:l.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:l.ElementType.X},f=_(h=>{let{className:v,iconType:p,customIcon:T,image:A,heading:C,children:I,onDismiss:D,useRoundedCorners:y=!0,showBorder:P=!0,size:E=c.D.MEDIUM,theme:M=c.B.PURPLE,"data-qa":S="",primaryCTA:R,secondaryCTA:k}=h;const O=_(()=>{let b;const F="p-upgrades_alert_banner__icon";return T?b=t.createElement("div",{className:F},T):A?b=t.createElement("div",{className:o()(F,"p-upgrades_alert_banner__icon--image")},A):p&&(b=t.createElement(i.A,{className:F,size:E,theme:M,type:p})),b},"renderIcon");O.displayName="renderIcon";const U=_(()=>t.createElement(a.A,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":d.t("Dismiss"),onClick:D,autoClogProps:u}),"renderCloseIcon");U.displayName="renderCloseIcon";const W=_(()=>!R&&!k?null:t.createElement("div",{className:"p-upgrades_alert_banner__button_container"},R,k),"renderButtons");W.displayName="renderButtons";const x=O(),L=o()("p-upgrades_alert_banner",`p-upgrades_alert_banner--${E}`,`p-upgrades_alert_banner--${M}`,v,{"p-upgrades_alert_banner--with_close_icon":!!D,"p-upgrades_alert_banner--rounded_corners":y,"p-upgrades_alert_banner--no_border":!P,"p-upgrades_alert_banner--with_image":!!A});return t.createElement("div",{className:"full_width"},t.createElement(r.Ay,{className:L,"data-qa":S,customIcon:x,heading:C,type:x?r.QE.boxed:r.QE.custom},t.createElement("div",{className:"p-upgrades_alert_banner__body"},I),W(),D&&U()))},"AlertBanner");f.displayName="AlertBanner";const m=f},7433432223:(N,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816),c=e(5712872315),i=e(6755588906),r=e(581167618),a=e(6084388622),l=e(6308822),d=e(6105929840),u=e(8683010724),f=e(8668318456);function m(){return m=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},m.apply(this,arguments)}_(m,"_extends");const h=new n.Ay("upgrades_kit"),v=425,p={action:f.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:f.ElementType.X},T=_(I=>{let{className:D,image:y,heading:P,isLoading:E,children:M,onDismiss:S,useRoundedCorners:R=!0,showBorder:k=!0,size:O=c.D.MEDIUM,theme:U=c.B.HORCHATA,primaryCTA:W,secondaryCTA:x,withMargins:L,iconProps:b,"data-qa":F,columnWidth:B=0}=I;const K=_(()=>t.createElement(d.A,{className:"p-upgrades_alert_banner_v2__close_icon",icon:"times",size:"small","aria-label":h.t("Dismiss"),onClick:S,autoClogProps:p}),"renderCloseIcon"),H=_(()=>{const ne=t.createElement("div",null,t.createElement("div",{className:"p-upgrades_alert_banner_v2__heading"},P),t.createElement("div",{className:"p-upgrades_alert_banner_v2__body"},M));if(b){const q={inline:!0,size:"20",...b};return t.createElement("div",{className:"display_flex"},t.createElement("span",{className:`margin_right_50 p-upgrades_alert_banner_v2__icon--${U}`},t.createElement(u.A,m({},q))),t.createElement("div",{className:"display_flex flex_direction_column"},ne))}return ne},"renderContent");H.displayName="renderContent";const Y=_(()=>!W&&!x?null:t.createElement("div",{className:"p-upgrades_alert_banner_v2__button_container"},E?t.createElement(a.lV,{loading:!0,"aria-label":void 0}):t.createElement(t.Fragment,null,W,x)),"renderButtons");Y.displayName="renderButtons";const Z=B<v,V=o()("p-upgrades_alert_banner_v2",`p-upgrades_alert_banner_v2--${O}`,`p-upgrades_alert_banner_v2--${U}`,D,{"p-upgrades_alert_banner_v2--with_close_icon":!!S,"p-upgrades_alert_banner_v2--rounded_corners":R,"p-upgrades_alert_banner_v2--no_border":!k,"p-upgrades_alert_banner_v2--with_image":!!y,"p-upgrades_alert_banner_v2--with_margins":L,"p-upgrades_alert_banner_v2--narrow":Z});return t.createElement("div",{className:"full_width"},t.createElement(r.Ay,{className:V,type:r.QE.inline,"data-qa":F},t.createElement("div",{className:"p-upgrades_alert_banner_v2__content"},E?t.createElement(l.A,{color:"white",inline:!0}):H(),Y(),S&&K())))},"AlertBanner");T.displayName="AlertBanner";const C=(0,i.tu)(T)},267465465:(N,g,e)=>{"use strict";e.d(g,{H:()=>t});var t;(function(s){s.MULTI_PANE="multi_pane",s.SINGLE_PANE="single_pane",s.VERTICAL_BANNER="vertical_banner",s.HORIZONTAL_BANNER="horizontal_banner"})(t||(t={}))},280819219:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5712872315);const i=t.memo(u=>{let{animationDelay:f,size:m="large"}=u;const h=48,v=h-(m==="large"?48:36),p=h*2,T="#1D9BD1",A="#F2C744",C="#007A5A",I="#E01E5A",D={animationDelay:`${f||0}s`},y=_((S,R)=>t.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:R,className:S,style:D}),"renderDrop"),P=_((S,R)=>t.createElement("circle",{r:"4",fill:R,className:S,style:D}),"renderCircle"),E=_((S,R)=>t.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:R,className:S,style:D}),"renderStar"),M=_((S,R)=>t.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:R,className:S,style:D}),"renderSprinkle");return t.createElement("svg",{className:o()("position_absolute",`p-upgrades_icon_celebration_animation--${m}`),style:{top:`-${h/2+v/2}px`,left:`-${h/2+v/2}px`},width:p,height:p,viewBox:`0 0 ${p} ${p}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},y("p-upgrades_icon_celebration_animation__drop_top_right",T),P("p-upgrades_icon_celebration_animation__circle_top_right",A),P("p-upgrades_icon_celebration_animation__circle_right",C),E("p-upgrades_icon_celebration_animation__star_bottom_right",A),P("p-upgrades_icon_celebration_animation__circle_bottom_right",A),M("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",I),y("p-upgrades_icon_celebration_animation__drop_left",A),P("p-upgrades_icon_celebration_animation__circle_top_left",T),E("p-upgrades_icon_celebration_animation__star_top_left",C),M("p-upgrades_icon_celebration_animation__sprinkle_top_left",I))});var r=e(1610251172);function a(){return a=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(u[h]=m[h])}return u},a.apply(this,arguments)}_(a,"_extends");const l=_(u=>{let{className:f,animationProps:m,hasBorder:h,type:v,size:p=n.D.MEDIUM,theme:T=n.B.PURPLE,showAnimation:A}=u;const C=o()(`p-upgrades_icon--${p}`,`p-upgrades_icon--${T}`,f),I=t.createElement(r.A,{className:C,size:"inherit",type:v});if(!h)return I;const D=o()("p-upgrades_icon_container",`p-upgrades_icon_container--${p}`,`p-upgrades_icon_container--${T}`,{"p-upgrades_icon_container--with_animation":A});return t.createElement("div",{className:D},I,A&&t.createElement(i,a({size:p},m)))},"UpgradesIcon");l.displayName="UpgradesIcon";const d=l},2878488941:(N,g,e)=>{"use strict";e.d(g,{A:()=>M,V:()=>D});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4426213732),i=e(6471059816),r=e(2664504268),a=e(5460331959),l=e(5712872315),d=e(3328083357),u=e(280819219),f=e(6084388622),m=e(6105929840),h=e(8739505998),v=e(8668318456),p=e(9391594207),T=e(8873215801);function A(){return A=Object.assign||function(S){for(var R=1;R<arguments.length;R++){var k=arguments[R];for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&(S[O]=k[O])}return S},A.apply(this,arguments)}_(A,"_extends");const C=new i.Ay("notification_banner"),I={elementType:v.ElementType.X,elementName:"close",action:v.UiAction.CLOSE,onClick:{enableClogAction:!0}};var D;(function(S){S.default="default",S.alert="alert",S.fixed="fixed",S.noMarginFixed="no-margin-fixed"})(D||(D={}));const y=700;let P=_(class extends t.PureComponent{focus(){var R,k,O;const U=((R=this.primaryCTAButtonRef)===null||R===void 0?void 0:R.current)||((k=this.secondaryCTARef)===null||k===void 0?void 0:k.current)||((O=this.closeButtonRef)===null||O===void 0?void 0:O.current);U==null||U.focus()}onKeyDown(R){R.key==="Escape"&&(R.stopPropagation(),this.closeBanner())}closeBanner(){const{onCloseBanner:R,notificationPrefs:k}=this.props;k&&this.props.closeBanner(k),R&&R()}handlePrimaryCTA(){const{onPrimaryCTAClick:R,closeOnPrimaryCTAClick:k}=this.props;k&&this.closeBanner(),R&&R()}handleSecondaryCTA(){const{onSecondaryCTAClick:R,closeOnSecondaryCTAClick:k}=this.props;k&&this.closeBanner(),R&&R()}handleCloseIcon(){const{onCloseIcon:R}=this.props;this.closeBanner(),R&&R()}renderBody(){const{bodyText:R,theme:k}=this.props;return t.createElement("div",{className:`p-message_pane_banner__body--${k}`,"data-qa":"message_pane_banner_body",id:this.bodyId},R)}renderSecondaryCTA(){const{secondaryCTAHref:R,secondaryCTAText:k,secondaryCTAClogProps:O,secondaryCTAUseLink:U,customSecondaryCTA:W,customSecondaryCTAProps:x}=this.props,L={onClick:this.handleSecondaryCTA,href:R,autoClogProps:{onClick:{enableClogAction:!0},...O},"data-qa":"message_pane_banner_secondaryCTA",ref:this.secondaryCTARef,...W?x:{}},b=W||f.Ay;return U?t.createElement(h.A,A({className:"p-message_pane_banner__link"},L),k):t.createElement(b,A({className:"p-message_pane_banner__button",size:"medium",type:"outline"},L),k)}renderCloseIcon(){return(this.props.type===D.fixed||this.props.type===D.noMarginFixed)&&!this.props.forceCloseButton?null:t.createElement(m.A,{icon:"times",onClick:this.handleCloseIcon,"aria-label":C.t("Close"),className:"p-message_pane_banner__close_icon","data-qa":"message_pane_banner_close_icon",autoClogProps:I,ref:this.closeButtonRef})}renderPrimaryCTAButton(){const{primaryCTAText:R,primaryCTAHref:k,primaryCTAClogProps:O,customPrimaryCTA:U,customPrimaryCTAProps:W}=this.props,x={className:"p-message_pane_banner__button",onClick:this.handlePrimaryCTA,href:k,size:"medium","data-qa":"message_pane_banner_primaryCTA_button",autoClogProps:{isPrimaryCTA:!0,onClick:{enableClogAction:!0},...O},ref:this.primaryCTAButtonRef,...U?W:{}},L=U||f.Ay;return t.createElement(L,A({},x),R)}renderCTAButtons(){const{primaryCTAText:R,secondaryCTAText:k,theme:O}=this.props;return!R&&!k?null:t.createElement("div",{className:o()("p-message_pane_banner__buttons",`p-message_pane_banner__buttons--${O}`)},R&&this.renderPrimaryCTAButton(),k&&this.renderSecondaryCTA())}renderIcon(){const{icon:R,iconType:k,theme:O}=this.props;return k?t.createElement("div",{className:"p-message_pane_banner__banner_icon"},t.createElement(u.A,{hasBorder:!0,type:k,theme:O})):R?t.createElement("div",{className:"p-message_pane_banner__banner_icon"},R):null}renderHeading(){const{headingText:R,theme:k}=this.props;return R?t.createElement("h1",{className:o()("p-message_pane_banner__heading",`p-message_pane_banner__heading--${k}`),"data-qa":"message_pane_banner_heading_text",id:this.headerId},R):null}renderBanner(){const{type:R,bannerContainerClass:k,iconType:O,theme:U,imgSrc:W,imgAlt:x}=this.props,L=o()("p-message_pane_banner",`p-message_pane_banner--${R}`,`p-message_pane_banner--${U}`,k,{"p-message_pane_banner--ephemeral":R!==D.alert});return R===D.alert?t.createElement("div",{className:L},t.createElement(d.A,{size:l.D.SMALL,heading:this.renderHeading(),iconType:O,useRoundedCorners:!1,"data-qa":"message_pane_banner"},this.renderBody())):t.createElement(a.A,null,b=>{let{measureRef:F,width:B}=b;return t.createElement("div",{ref:F,className:o()(L,{"p-message_pane_banner--hide_image":B<y}),"data-qa":"message_pane_banner",role:"dialog","aria-labelledby":this.headerId,"aria-describedby":this.bodyId,onKeyDown:this.onKeyDown},this.renderIcon(),W?t.createElement("div",{className:"p-message_pane_banner__content_with_image"},t.createElement("div",{className:o()("p-message_pane_banner__content_with_image_text",`p-message_pane_banner__content_with_image_text--${R}`)},this.renderHeading(),this.renderBody(),this.renderCTAButtons()),t.createElement("div",{className:"p-message_pane_banner__image_container"},this.renderCloseIcon(),t.createElement("img",{className:"p-message_pane_banner__image",src:W,alt:x}))):t.createElement("div",null,this.renderHeading(),this.renderBody(),this.renderCTAButtons(),this.renderCloseIcon()))})}render(){const R=o()("p-message_pane_banner__container",`p-message_pane_banner__container--${this.props.type}`);return t.createElement("div",{className:R},this.renderBanner())}constructor(R){super(R),this.primaryCTAButtonRef=t.createRef(),this.secondaryCTARef=t.createRef(),this.closeButtonRef=t.createRef(),(0,c.v)(this,["focus","handlePrimaryCTA","handleSecondaryCTA","handleCloseIcon","onKeyDown"]),this.headerId=(0,r.A)(),this.bodyId=(0,r.A)()}},"MessagePaneBanner");P.defaultProps={type:D.default,onPrimaryCTAClick:n.A,closeOnPrimaryCTAClick:!0,onSecondaryCTAClick:n.A,closeOnSecondaryCTAClick:!0,secondaryCTAUseLink:!1,onCloseIcon:n.A,onCloseBanner:n.A,theme:l.B.PURPLE,imgAlt:""},P.displayName="MessagePaneBanner";const E=_(S=>({closeBanner:R=>S((0,T.A)(R))}),"mapDispatchToProps"),M=(0,p.N)(null,E)(P)},5207331754:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(980293773);const i=_(r=>{let{children:a,className:l}=r;return t.createElement(n.qf,{className:o()("p-upgrades_modal__content_section",l)},a)},"ModalBody")},9240394198:(N,g,e)=>{"use strict";e.d(g,{N:()=>C,A:()=>D});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(267465465),c=e(6148716148),i=e(5207331754),r=e(6000244203),a=e(3357053101),l=e(1935364562),d=e(3801841745),u=e(581167618),f=e(980293773);const h=_(y=>{let{banner:P,bodyContent:E,footerContent:M,showProBadge:S=!0,subtitle:R,title:k,error:O}=y;return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.createElement(d.A,{flexDirection:"column",gap:20},O&&t.createElement(u.Ay,{icon:"warning",level:"error",className:"p-upgrades_modal_with_banner_horizontal__error_alert"},O),t.createElement(a.A,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:k},S&&t.createElement(c.a,{featurePlan:"std",className:"p-upgrades_modal_with_banner_horizontal__pro_badge"}))),t.createElement(f.$m,null,R&&t.createElement(l.A,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:R}),t.createElement(i.A,{className:"p-upgrades_modal_with_banner_horizontal__body"},E)),t.createElement(r.A,{className:"p-upgrades_modal_with_banner_horizontal__footer"},M)),P)},"ModalContentHorizontalBanner"),v=_(y=>{let{banner:P,bodyContent:E,footerContent:M,showProBadge:S=!0,subtitle:R,title:k}=y;const O=t.createElement(t.Fragment,null,k,S&&t.createElement(c.a,{featurePlan:"std",className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.createElement(t.Fragment,null,t.createElement(a.A,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:O},P),t.createElement(f.$m,null,R&&t.createElement(l.A,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:R}),t.createElement(i.A,{className:"p-upgrades_modal_with_banner_vertical__body"},E)),t.createElement(r.A,null,M))},"ModalContentVerticalBanner");v.displayName="ModalContentVerticalBanner";const p=v;var T=e(7729538251);function A(){return A=Object.assign||function(y){for(var P=1;P<arguments.length;P++){var E=arguments[P];for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&(y[M]=E[M])}return y},A.apply(this,arguments)}_(A,"_extends");var C;(function(y){y.LIGHT="light",y.DARK="dark",y.GOLD="gold",y.GRAY="gray",y.DARK_GRAY="dark_gray"})(C||(C={}));const I=_(y=>{let{bannerBackgroundColor:P,bodyContent:E,centered:M,className:S,closeButtonTheme:R=C.DARK,closeModal:k,dataQa:O,footerContent:U,hero:W,imgSrc:x,imgSrcSet:L,maxWidth:b,shouldCloseOnOverlayClick:F,showProBadge:B=!0,subtitle:K,title:H,error:Y,type:Z,videoFilename:V,videoPosterExtension:ne="png",videoClassName:q,lottieAnimation:me,...ue}=y;const ae=(0,T.JK)(),le=`${V}${ae==="en-US"?"":`.${ae}`}`,fe=`p-upgrades_modal_with_banner__banner--${Z}`,he=_(()=>W?t.createElement("div",{className:fe},W):L?t.createElement("img",{className:fe,alt:"",srcSet:L}):x?t.createElement("img",{className:fe,alt:"",src:x}):V?t.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:o()(fe,q),poster:`${le}.${ne}`},t.createElement("source",{type:"video/mp4",src:`${le}.mp4`}),t.createElement("source",{type:"video/webm",src:`${le}.webm`})):me?t.createElement("div",{className:"p-upgrades_modal__lottie_container"},me):null,"getModalBanner");he.displayName="getModalBanner";const ie=t.createElement("div",{style:{backgroundColor:P},className:`p-upgrades_modal_with_banner__banner_container--${Z}`},he());return t.createElement(f.dW,A({className:o()("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${Z}`,`p-upgrades_modal_with_banner--close_button_${R}`,"p-upgrades_modal_with_banner--close_button",S),centered:M,closeModal:k,dataQa:O,maxWidth:b,shouldCloseOnOverlayClick:F},ue),Z===n.H.VERTICAL_BANNER?t.createElement(p,{banner:ie,bodyContent:E,footerContent:U,showProBadge:B,subtitle:K,title:H}):t.createElement(h,{banner:ie,bodyContent:E,footerContent:U,showProBadge:B,subtitle:K,title:H,error:Y}))},"ModalContentWithBanner");I.displayName="ModalContentWithBanner";const D=I},6000244203:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(980293773);const i=_(r=>{let{children:a,className:l}=r;return t.createElement(n.jl,{className:"p-upgrades_modal__footer"},t.createElement(n.ox,{className:o()("p-upgrades_modal__footer_actions",l)},a))},"ModalFooter")},3357053101:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(980293773);const i=_(r=>{let{headerClassName:a,titleClassName:l,children:d,title:u}=r;return t.createElement(n.rQ,{className:o()("p-upgrades_modal__header",a)},d,t.createElement(n.Rc,{className:o()("p-upgrades_modal__title",l),title:u}))},"ModalHeader")},1935364562:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(4844578989),o=e.n(s);const c=_(i=>{let{className:r,subtitle:a}=i;return t.createElement("div",{className:o()("p-upgrades_modal__subtitle",r)},a)},"ModalSubtitle")},8719380546:(N,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(267465465),c=e(5712872315),i=e(280819219),r=e(5207331754),a=e(6000244203),l=e(3357053101),d=e(1935364562),u=e(980293773);const m=_(C=>{let{subtitle:I,bodyContent:D,footerContent:y,title:P,titleImage:E,titleVideo:M,titleVideoClassName:S,titleIcon:R,showTitleIconAnimation:k,headerClassName:O,footerActionsClassName:U,theme:W}=C;return t.createElement(t.Fragment,null,t.createElement(l.A,{headerClassName:o()(O,{"p-upgrades_modal__header--with_animation":k}),title:P},E,M&&t.createElement("div",{className:o()(S)},M),R&&t.createElement("div",{className:"p-upgrades_modal__icon"},t.createElement(i.A,{hasBorder:!0,size:c.D.LARGE,type:R,showAnimation:!!k,theme:W}))),I&&t.createElement(d.A,{subtitle:I}),D&&t.createElement(u.$m,null,t.createElement(r.A,null,D)),t.createElement(a.A,{className:U},y))},"ModalContent");var h=e(9240394198),v=e(4376397139);function p(){return p=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var y in D)Object.prototype.hasOwnProperty.call(D,y)&&(C[y]=D[y])}return C},p.apply(this,arguments)}_(p,"_extends");const T=_(C=>{const{className:I,maxWidth:D,onRequestClose:y,type:P,"data-qa":E,UNSAFE_parentSelector:M}=C,R={className:o()("p-upgrades_modal__container",I),closeModal:y,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:D,dataQa:E,UNSAFE_parentSelector:M};return P===n.H.MULTI_PANE?t.createElement(v.A,p({},C,R)):P===n.H.VERTICAL_BANNER||P===n.H.HORIZONTAL_BANNER?t.createElement(h.A,p({},C,R)):t.createElement(u.dW,p({},R),t.createElement(m,p({},C)))},"Modal");T.displayName="Modal";const A=T},9371668729:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7173172014),c=e(6148716148),i=e(5431290584),r=e(3994181705),a=e(2312625946),l=e(8668318456),d=e(9506008067),u=e(7268021173);function f(){return f=Object.assign||function(v){for(var p=1;p<arguments.length;p++){var T=arguments[p];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(v[A]=T[A])}return v},f.apply(this,arguments)}_(f,"_extends");const m=_(v=>{let{ariaLabel:p,tooltipText:T,children:A,onClick:C,isFreemium:I,promoType:D,promoSubtype:y,showProBadge:P,tooltipClassName:E,uiComponentVariant:M,variant:S,toolTipZIndex:R,toolTipPosition:k,...O}=v;const{tooltipTitle:U,tooltipBody:W}=(0,r.A)({isFreemium:I,tooltipText:T,promoType:D,promoSubtype:y,variant:S}),x=(0,d.d4)(F=>(0,u.bp)(F,D,y)),L=W?`${U} - ${W}`:U;if(x)return A;const b=t.createElement(n.A,{clogImpression:!0,eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:M},t.createElement("div",{className:"p-trial_feature_tooltip"},t.createElement("span",{className:"p-trial_feature_tooltip__title"},P&&t.createElement(c.a,{featurePlan:"std",badgeTheme:i.Vu.White,className:"p-trial_feature_tooltip__pro_badge"}),t.createElement("div",{className:"p-trial_feature_tooltip__title_text"},U)),t.createElement("div",{className:"p-trial_feature_tooltip__body"},W)));return t.createElement(a.Ay,f({tipClassName:o()("p-trial_feature_tooltip__container",E),tip:b,onClick:C,zIndex:R,position:k,"aria-label":p?`${p}: ${L}`:`${L}`},O),A)},"TrialFeatureTooltip");m.displayName="TrialFeatureTooltip";const h=m},3801841745:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3134334389);const s=_(n=>{let{children:c,className:i,flexGrow:r,flexDirection:a="row",alignItems:l="normal",alignSelf:d="auto",justifyContent:u,gap:f=0}=n;return t.createElement("div",{className:i,style:{display:"flex",flexGrow:r,flexDirection:a,alignItems:l,alignSelf:d,justifyContent:u,gap:`${f}px`}},c)},"Stack");s.displayName="Stack";const o=s},7749101058:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>s,em:()=>t.em,r4:()=>t.r4});var t=e(4158195343);const s=t.Ay},4158195343:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>c,em:()=>i,r4:()=>o});var t=e(3134334389);function s(){return s=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(r[d]=l[d])}return r},s.apply(this,arguments)}_(s,"_extends");const o=(0,t.createContext)(void 0),c=_(r=>{let{id:a,children:l}=r;return t.createElement(o.Provider,{value:a},l)},"View");function i(r){const a=t.forwardRef((l,d)=>t.createElement(o.Consumer,null,u=>t.createElement(r,s({},l,{ref:d,viewContext:u}))));return a.displayName=`withView(${r.displayName})`,a}_(i,"withView"),i.displayName="withView"},4874502712:(N,g,e)=>{"use strict";e.d(g,{y:()=>o});var t=e(2384831516),s=e(4761125736);const o=(0,t.Mz)(n=>(0,s._Z)(n,"improved_workflows_to_channel",!1)==="on");o.meta={name:"createSelector",key:"createSelectorisImprovedWorkflowsToChannelEnabled",description:n=>(0,s._Z)(n,"improved_workflows_to_channel",!1)==="on"}},6755588906:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>n,j4:()=>i,tu:()=>c});var t=e(3134334389);function s(){return s=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(r[d]=l[d])}return r},s.apply(this,arguments)}_(s,"_extends");const o=t.createContext(void 0);o.displayName="ColumnLayoutContext";const n=o;function c(r){return a=>t.createElement(o.Consumer,null,l=>{var d;return t.createElement(r,s({},a,{columnLayout:l==null?void 0:l.layout,columnIdentifier:l==null?void 0:l.columnIdentifier,columnWidth:l==null||(d=l.layout)===null||d===void 0?void 0:d.width,isMainCollapsed:l==null?void 0:l.isMainCollapsed,shouldShowSidebarToggleButton:l==null?void 0:l.shouldShowSidebarToggleButton}))})}_(c,"withColumnLayout"),c.displayName="withColumnLayout";function i(){return(0,t.useContext)(o)}_(i,"useColumnLayoutContext")},6066192332:(N,g,e)=>{"use strict";e.d(g,{D:()=>A});var t=e(3134334389),s=e(2428912116),o=e(3255440563),n=e(2843556239),c=e(9323322135),i=e(7937864072),r=e(9506008067),a=e(7067820909),l=e(4761125736);const d="IMG-ANIM-MGR",u=_(C=>{C.src=C.src},"resetImageAnimation"),f=_(C=>{Array.from(C.querySelectorAll("img[src]")).forEach(u)},"resetAllImageAnimations"),m=_((C,I)=>{const D=(0,i.A)(),y=(0,r.d4)(E=>{var M;const S=(0,a.u_)(E,I);var R;return(R=S==null||(M=S.frame)===null||M===void 0?void 0:M.isFocused)!==null&&R!==void 0?R:!0}),P=(0,r.d4)(E=>(0,l._Z)(E,"desktop_toggle_image_animation_policy")==="on");(0,t.useEffect)(()=>{if(I&&!(typeof y>"u")&&P&&c.K6K.isAvailable()){const E=y?"animate":"noAnimation";D.info(d,"Applying image animation policy on focus change",{windowToken:I,imageAnimationPolicy:E}),(0,c.K6K)(I,E).then(()=>{var M;const S=(M=C.deref())===null||M===void 0?void 0:M.document;S&&f(S)})}},[y,C,I,D,P])},"useImageAnimationManager");var h=e(4588514760),v=e(8107496483),p=e(4094753332),T=e(3193155968);const A=_(C=>{let{children:I,windowRef:D,shouldNavigateInContextContainerRules:y}=C;const P=(0,i.A)({label:"window-context"}),E=(0,t.useMemo)(()=>{var S;const R=D.deref();if(!R)return P.warn("Window ref no longer exists"),n.Jh;const k=R===window.self,O=!k;var U;const W=k?T.N2:(U=(0,h.f5)(R))!==null&&U!==void 0?U:v.OA,x=k?(0,c.Xgz)():(S=R)===null||S===void 0?void 0:S.browserWindowId;return typeof x!="number"&&(0,p.y3)()&&P.error(new Error("Window is missing windowToken")),O&&!W&&P.error(new Error("Child window is missing windowId")),{windowRef:D,windowId:W,windowToken:x}},[P,D]),M=(0,t.useMemo)(()=>({shouldNavigateInContextContainerRules:y}),[y]);return m(E.windowRef,E.windowToken),t.createElement(n._0.Provider,{value:E},t.createElement(o.C.Provider,{value:E},t.createElement(s.v.Provider,{value:M},I)))},"WindowContextProvider");A.displayName="WindowContextProvider"},4387298515:(N,g,e)=>{"use strict";e.d(g,{$m:()=>o,AH:()=>v,Ac:()=>c,D0:()=>u,Mh:()=>m,VR:()=>l,th:()=>r});var t=e(6045824189);const s=(0,t.Nh)(["callsScreenshare","createBorderWindow"]),o=_(async(p,T)=>{s.isAvailable()&&s(p,T)},"createBorderWindow"),n=(0,t.Nh)(["callsScreenshare","showBorder"]),c=_(async()=>{n.isAvailable()&&n()},"showBorder"),i=(0,t.Nh)(["callsScreenshare","hideBorder"]),r=_(async()=>{i.isAvailable()&&i()},"hideBorder"),a=(0,t.Nh)(["callsScreenshare","setWindowOrScreenId"]),l=_(async p=>{a.isAvailable()&&a(p)},"setWindowOrScreenId"),d=(0,t.Nh)(["callsScreenshare","setWindowBorderWidth"]),u=_(async p=>{d.isAvailable()&&d(p)},"setWindowBorderWidth"),f=(0,t.Nh)(["callsScreenshare","setWindowBorderColor"]),m=_(async(p,T,A,C)=>{f.isAvailable()&&f(p,T,A,C)},"setWindowBorderColor"),h=(0,t.Nh)(["callsScreenshare","getWindowPositionAndDimensions"]),v=_(async()=>{if(h.isAvailable())return h()},"getWindowPositionAndDimensions")},9289216704:(N,g,e)=>{"use strict";e.d(g,{Oi:()=>o,XC:()=>s,aH:()=>c,mt:()=>n});var t=e(4094753332);const s=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture":(0,t.uF)()?"ms-settings:privacy":null,o=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera":(0,t.uF)()?"ms-settings:privacy-webcam":null,n=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone":(0,t.uF)()?"ms-settings:privacy-microphone":null,c=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.Sound.prefPane":(0,t.uF)()?"ms-settings:sound":null},1583163054:(N,g,e)=>{"use strict";e.d(g,{Ce:()=>u,Pe:()=>l,fI:()=>f,zS:()=>c});var t=e(4094753332),s=e(6471059816),o=e(9323322135);const n=new s.Ay("prefs"),c=(0,o.g9M)()&&o.MD7.isAvailable()?(0,o.MD7)():"nightly",i={PROD:"prod",BETA:"beta",DOGFOOD:c},r=[i.PROD,i.BETA],a=[i.PROD,i.BETA,i.DOGFOOD];function l(m){return(m?a:r).map(v=>({value:v,label:d(v)}))}_(l,"getReleaseChannelOptions");function d(m){switch(m){case i.PROD:return n.t("Production");case i.BETA:return n.t("Beta");case i.DOGFOOD:return n.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return n.t("Unknown")}}_(d,"getReleaseChannelDisplayName");function u(){return(0,o.g9M)()&&!(0,o.Z9F)()&&!(0,t.j9)()}_(u,"canSeeReleaseChannel");function f(){return u()&&["MSI","SlackSonic","SlackPilot"].every(m=>!navigator.userAgent.includes(m))}_(f,"canModifyReleaseChannel")},4923013394:(N,g,e)=>{"use strict";e.d(g,{Jd:()=>d,X6:()=>u,bO:()=>i,c6:()=>a,fD:()=>v,lJ:()=>h,ve:()=>r,zb:()=>l});var t=e(3398586081),s=e(4094753332),o=e(9323322135),n=e(3259512346);const c="sunroof_init",i="fullscreen-ui",r=(0,t.A)(()=>!1),a=(0,t.A)(()=>(0,n.s)("25.1.1")),l=(0,t.A)(()=>(0,o.Z9F)()?(0,s.dY)("38.0.0"):!0),d=(0,t.A)(()=>{if(!(0,s.y3)())return!1;const{titleBarStyle:p}=(0,o.oQe)("environment")||{},{debugFeatures:T}=(0,o.oQe)("settings")||{};return p==="custom-extension"||(T==null?void 0:T.includes("window-chrome"))}),u=(0,t.A)(()=>(0,s.WB)()&&(0,s.dY)("4.33.90")),f=_(()=>{if(!u())return!1;const{useHwAcceleration:p,windowVibrancy:T}=(0,o.oQe)("settings")||{};return p&&T},"shouldEnableWindowSunroof"),m=(0,t.A)(()=>!(0,s.dY)("4.35.97")),h=_(()=>f()?(0,s.cX)()?{transparent:m(),vibrancy:i,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function v(p){const{windowVibrancy:T}=(0,o.oQe)("settings")||{};if(typeof T>"u")return;if(T&&(!p.experimentDesktopIa4SunroofEnabled||!f())){(0,o.cGU)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(c)}catch{}return}const A=!!localStorage.getItem(c);if(p.experimentDesktopIa4SunroofEnabled&&!A&&!T&&u()){(0,o.cGU)({name:"windowVibrancy",value:!0});try{localStorage.setItem(c,"1")}catch{}}}_(v,"maybeToggleSunroof")},4979734995:(N,g,e)=>{"use strict";e.d(g,{d:()=>i,j:()=>c});var t=e(1545824888),s=e(2878685908),o=e(337319621),n=e(4096483543);function c(r,a,l){const d="noversion",u=Date.now()/1e3,f=`/api/${r}?_x_id=${d}-${u}`,m=new XMLHttpRequest;m.onreadystatechange=()=>{if(m.readyState===4){m.onreadystatechange=null;let T;if(m.status===200||m.status===429)try{T=JSON.parse(m.responseText)}catch{(0,o.Wo)().warn("API","Unable to do anything with api response")}T=T||{ok:!1},l?l(T.ok,T,a):(0,s.Cu)()&&((0,o.Wo)().warn("API","No callback provided. Printing response"),(0,o.Wo)().warn("API",T.ok,T,a))}};const h=!0;m.open("POST",f,h);const v=new FormData;let p=!1;a?Object.keys(a).forEach(T=>{T[0]!=="_"&&(v.append(T,a[T]),p=!0)}):(0,s.Cu)()&&(0,o.Wo)().warn("API","No args provided. Bold, very bold."),p?m.send(v):m.send()}_(c,"callSlackApiUnauthed");const i=_((r,a)=>new t.S(l=>{c(r,a,(d,u)=>{l(u)})}),"callSlackApiUnauthedAsync");(0,n.A)()||(window.callSlackAPIUnauthed=(r,a,l)=>{(0,o.Wo)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),c(r,a,l)})},4540171876:(N,g,e)=>{"use strict";e.d(g,{Db:()=>l,O3:()=>d,OB:()=>u,TE:()=>m,xB:()=>f});var t=e(2101927269),s=e(1545824888),o=e(6439846314),n=e(8935621861),c=e(462591818),i=e(337319621),r=e(4525554634),a=e(2384831516);const l=(0,a.C6)("Get call info from callId",(h,v,p)=>{let{callIds:T,reason:A}=p;const C=(0,i.Ay)({getState:v});return T.length>3&&C.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${T.length}`),s.S.map(T,I=>h((0,o.apiCall)({method:"screenhero.rooms.info",args:{room:I},reason:A||"huddles-call-info"})).then(D=>{let{room:y}=D;return(0,r.Q)(y)}).catch(D=>(C.error(D,`Error while fetching call: ${I}`),null))).then(t.A)});l.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const d=(0,a.C6)("Join a calls / huddle room",(h,v,p)=>{let{channelId:T,roomId:A,threadTs:C,shouldFetchRegion:I,teamId:D,traceId:y,parentSpanId:P,reason:E,isMultiDevice:M=!1}=p;return(I?n.A.getInstance().getNearestChimeMediaRegion(D):s.S.resolve("")).then(S=>h((0,o.apiCall)({method:"rooms.join",args:{...A&&{id:A},...T&&{channel_id:T},...C&&{thread_ts:C},regions:S,multidevice:M},traceId:y,parentSpanId:P,reason:E||"calls-api/joinRoom"})).then(R=>{var k;return{server:(0,c.YY)(R.call),roomId:R.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:A,channelId:(k=R.huddle)===null||k===void 0?void 0:k.channels[0],...R.canvas&&R.canvas.root_thread_ts&&{rootThreadTs:R.canvas.root_thread_ts},...R.canvas&&R.canvas.canvas_file_id&&{canvasFileId:R.canvas.canvas_file_id}}}))});d.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const u=(0,a.C6)("Notify member to join huddle",(h,v,p)=>{let{reason:T,channelId:A,userId:C}=p;return h((0,o.apiCall)({method:"rooms.notifyMember",args:{channel_id:A,user_id:C},reason:T}))});u.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const f=(0,a.C6)("Set a huddle topic / rename the call",(h,v,p)=>{let{roomId:T,name:A}=p;return h((0,o.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:T,room_name:A}}))});f.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const m=(0,a.C6)("Get a link to a huddle",(h,v,p)=>{let{reason:T,channelId:A}=p;return h((0,o.apiCall)({method:"rooms.getLink",reason:T,args:{channel_id:A}}))});m.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},7509608227:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(1545824888),s=e(1874577777),o=e(6439846314),n=e(6932877194),c=e(2028988448),i=e(5257368278);let r=!1;const a=(0,i.A)("Sends a message",function(u,f){let{message:m,traceId:h,parentSpanId:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!m)return;const p={...m},T=f();return m.blocks&&typeof m.blocks=="object"&&(p.blocks=JSON.stringify(m.blocks)),m.unfurl&&typeof m.unfurl=="object"&&(p.unfurl=JSON.stringify(m.unfurl)),r?new t.K((A,C)=>{setTimeout(()=>{C(new Error("chat-postmessage-api forceFail in effect"))},2e3)}):(0,s.A)(T)?u((0,n.apiCallPersisted)({method:"chat.postMessage",args:p,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:h,parentSpanId:v})):u((0,o.apiCall)({method:"chat.postMessage",args:p,reason:"webapp_message_send",EXPEDITED:!0,traceId:h,parentSpanId:v}))});a.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"};const l=a,d=_(u=>{r=!!u},"setForceMessageFailure");(0,c.ul)("setForceMessageFailure",d)},4746302747:(N,g,e)=>{"use strict";e.d(g,{O:()=>d});var t=e(8840779375),s=e(6439846314),o=e(6642124196),n=e(2927826522),c=e(337319621),i=e(5257368278),r=e(212572833),a=e(5795074931),l=e(3683482182);const d=(0,i.A)("Calls client.counts endpoint",function(u,f){let{reason:m="client-counts-api/fetchClientCounts"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const h={thread_counts_by_channel:!0,org_wide_aware:!0,include_file_channels:!0},v=(0,r.t)(f()),p=(0,l.Cc)(f());return p&&(v?h.counts_last_fetched=p:h.dry_run_last_fetched=p),u((0,s.apiCall)({method:"client.counts",args:h,reason:m})).then(T=>{if(!T||!T.ok)return{};try{const R=["U0620EL8G","WFKHTCZ29","WKLQEGRRB"],k=(0,a.WR)(f());if(R.indexOf(k)>-1){const O=(0,t.A)(T.ims,W=>({id:W.id})),U=(0,t.A)(T.mpims,W=>({id:W.id}));(0,c.Ay)({getState:f}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:O,mpim_list:U})}}catch(R){(0,c.Ay)({getState:f}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:R})}const{channels:A=[],ims:C=[],mpims:I=[],threads:D={},file_channels:y={has_unreads:!1,mention_count:0,quip:void 0},channel_badges:P={},alerts:E=null,counts_last_fetched:M=null}=T,S={channels:A,ims:C.map(R=>({...R,is_im:!0})),mpims:I.map(R=>({...R,is_mpim:!0})),threads:D,alerts:E,fileChannels:y,channelBadges:P,countsLastFetched:M};return T.saved&&(S.saved=(0,n.A)(T.saved)),(0,o.isTodosEnabled)(f())&&T.todos&&(S.todos=(0,n.A)(T.todos)),S})});d.meta={name:"createFetcher",key:"createFetcherfetchClientCounts",description:"Calls client.counts endpoint"}},9256397769:(N,g,e)=>{"use strict";e.d(g,{c:()=>y});var t=e(9113979368),s=e(1545824888),o=e(6870671137),n=e(6439846314),c=e(9268451279),i=e(5969942984),r=e(7982171047),a=e(3600241593),l=e(1189736859),d=e(2830750181),u=e(3862871806),f=e(5257368278),m=e(4960345891),h=e(6789682833),v=e(5780637120),p=e(358675944),T=e(4686051014),A=e(1234667274),C=e(5975971606),I=e(6811525189),D=e(6934022494);const y=(0,f.A)("Creates a draft",function(P,E){let{draft:M,reason:S,origClientDraftId:R,acknowledgedUnfurls:k}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var O;if((0,t.A)(M))return s.S.reject(new Error("No draft provided"));const U=(0,c.ue)(M),W=R??U,x=(0,c._l)(M),L=P((0,m.A)({msgOps:x}))||o.B,b=(0,c.l7)(M),F=(0,i.A)(M),B=E();let K=P((0,A.a)({draftId:W,ops:x}));const H=(0,D.BH)(B),Y=(0,D.bc)(B,{draftId:U}),Z=(0,l.e)(B),V=(0,u.ck)(B,{draftId:U}),ne=(((O=(0,T.Ki)(B,W,[p.Xq]))===null||O===void 0?void 0:O.length)||0)>0;K||(K=ne?JSON.stringify([]):void 0);const q=(0,r.Cq)(B)?P((0,v.G)({draftId:U})):void 0;let me=q?(0,a.A)(q):[];if(H&&Y){const ae=(0,h.y)(B,{draftId:U,status:I.t.DRAFT});me=me.concat(ae)}if(Z&&V&&U){const ae=(0,u.sz)(B,{draftId:U,status:d.o.DRAFT});ae.length&&(me=me.concat([{blocks:ae}]))}const ue=P((0,C.f)({draftId:U}));return P((0,n.apiCall)({method:"drafts.create",args:{blocks:JSON.stringify(L),client_msg_id:(0,c.EF)(M),attachments:me,destinations:JSON.stringify(b),file_ids:JSON.stringify(F),unfurl:k||K,is_from_composer:(0,c.sC)(M),date_scheduled:(0,c.V)(M),file_permissions:ue},reason:S}))});y.meta={name:"createFetcher",key:"createFetchercreateDraftApi",description:"Creates a draft"}},8466415572:(N,g,e)=>{"use strict";e.d(g,{J:()=>y});var t=e(9113979368),s=e(1545824888),o=e(6870671137),n=e(6439846314),c=e(9268451279),i=e(5969942984),r=e(7982171047),a=e(3600241593),l=e(1189736859),d=e(2830750181),u=e(3862871806),f=e(5257368278),m=e(4960345891),h=e(6789682833),v=e(5780637120),p=e(358675944),T=e(4686051014),A=e(1234667274),C=e(5975971606),I=e(6811525189),D=e(6934022494);const y=(0,f.A)("Updates a draft",function(P,E){let{draft:M,reason:S,syncDateScheduled:R,origClientDraftId:k,acknowledgedUnfurls:O}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var U;if((0,t.A)(M))return s.S.reject(new Error("No draft provided"));const W=M,x=(0,c.ue)(W),L=E(),b=(0,D.BH)(L),F=(0,D.bc)(L,{draftId:x}),B=(0,l.e)(L),K=(0,u.ck)(L,{draftId:x}),H=(0,c.iS)(W);if(!H)return s.S.reject(new Error("Draft does not have a server generated ID"));const Y=(0,c._l)(W),Z=P((0,m.A)({msgOps:Y}))||o.B,V=(0,c.l7)(W),ne=(0,i.A)(W),q=k??x;let me=P((0,A.a)({draftId:q,ops:Y}));const ue=(((U=(0,T.Ki)(L,q,[p.Xq]))===null||U===void 0?void 0:U.length)||0)>0;me||(me=ue?JSON.stringify([]):void 0);const ae=(0,r.Cq)(L)?P((0,v.G)({draftId:x})):void 0;let le=ae?(0,a.A)(ae):[];if(b&&F){const he=(0,h.y)(L,{draftId:x,status:I.t.DRAFT});le=le.concat(he)}if(B&&K&&x){const he=(0,u.sz)(L,{draftId:x,status:d.o.DRAFT});he.length&&(le=le.concat([{blocks:he}]))}const fe=P((0,C.f)({draftId:x}));return P((0,n.apiCall)({method:"drafts.update",args:{blocks:JSON.stringify(Z),client_last_updated_ts:(0,c.sp)(W).toString(),attachments:le,destinations:JSON.stringify(V),draft_id:H,file_ids:JSON.stringify(ne),unfurl:O||me,date_scheduled:R?(0,c.V)(W):void 0,is_from_composer:(0,c.sC)(W),file_permissions:fe},reason:S}))});y.meta={name:"createFetcher",key:"createFetcherupdateDraftApi",description:"Updates a draft"}},6870671137:(N,g,e)=>{"use strict";e.d(g,{B:()=>t});const t=[{type:"rich_text",elements:[]}]},1194535350:(N,g,e)=>{"use strict";e.d(g,{KO:()=>i,_J:()=>r,zx:()=>a});var t=e(3297051565),s=e.n(t),o=e(6439846314),n=e(5257368278),c=e(4318855015);const i=(0,n.A)("Fetch all available and installed emoji collections from the API",function(l,d){let{reason:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l((0,o.apiCall)({method:"emoji.collections.list",reason:u,args:{installed_only:"0"}}))});i.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},i.propTypes={reason:s().string.isRequired};const r=(0,n.A)("Add an emoji collection",(l,d,u)=>{let{collectionId:f,reason:m}=u;return l((0,o.apiCall)({method:"emoji.addCollection",args:{collection_id:f},reason:m})).catch(h=>{if(h.name!=="already_installed")throw h})});r.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},r.propTypes={collectionId:s().string.isRequired,reason:s().string.isRequired};const a=(0,n.A)("Remove an emoji collection",(l,d,u)=>{let{collectionId:f,reason:m}=u;return l((0,c.$x)({collectionId:f})),l((0,o.apiCall)({method:"emoji.removeCollection",reason:m,args:{collection_id:f}}))});a.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},a.propTypes={collectionId:s().string.isRequired,reason:s().string.isRequired}},490494914:(N,g,e)=>{"use strict";e.d(g,{Cl:()=>r,Is:()=>a,af:()=>i});var t=e(2121833688),s=e(2149300053),o=e(5257368278),n=e(8847766420),c=e(6892115804);const i=(0,o.A)("Queries Flannel for a list of external connected orgs/teams",(l,d,u)=>{let{count:f,filter:m,marker:h}=u;return(0,s.P)((0,n.JY)(d()),{method:s.J8.EXTERNAL_TEAMS_LIST,args:{count:f,filter:m,marker:h}})});i.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const r=(0,o.A)("Queries Flannel for channel counts of external connected orgs/teams",(l,d,u)=>{let{teamIds:f,count:m,marker:h}=u;return(0,s.P)((0,n.JY)(d()),{method:s.J8.EXTERNAL_TEAMS_COUNTS,args:{team_ids:f,count:m,marker:h}}).then(v=>v)});r.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const a=(0,o.A)("Fetches and upserts external teams that match a query",(l,d,u)=>{const f=(0,n.JY)(d());return(0,t.Cj)(f,u).then(m=>{let{objects:h,next_marker:v}=m;return l((0,c.OU)({teams:h})),{externalTeams:h,nextMarker:v}})});a.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},165535451:(N,g,e)=>{"use strict";e.d(g,{iV:()=>T,ib:()=>I,oP:()=>f,oQ:()=>C,uV:()=>A});var t=e(6439846314),s=e(28129577),o=e(2927826522),n=e(3246555800),c=e(337319621),i=e(6323355797),r=e(5257368278),a=e(3559164431),l=e(3554387543);const d=_(y=>{let{taxName:P,isVat:E,effectiveTaxPercentage:M=0,salesTaxAmt:S,taxPercentage:R}=y,k=i.Zt.sales_tax;P?k=i.Zt[P.toString().toLowerCase()]||i.Zt.sales_tax:E&&(k=i.Zt.vat);const O=M>0?M:null;return{value:S||0,type:k,percentage:O||R||0}},"formatTaxData"),u=_(y=>{const P=y.tax;return d({taxName:P==null?void 0:P.tax_name,isVat:P==null?void 0:P.is_vat,effectiveTaxPercentage:P==null?void 0:P.effective_tax_percentage,salesTaxAmt:P==null?void 0:P.sales_tax_amt,taxPercentage:P==null?void 0:P.tax_percentage})},"getTaxData"),f=_(y=>d(y),"getAddonTaxData"),m=_(y=>{var P;const E=y.term==="12m"?i.ck.yearly:i.ck.monthly,M=y.term==="12m"?i.OY.yearly:i.OY.monthly,S=(P=y.available_addons)===null||P===void 0?void 0:P.map(R=>({id:R.addon_id,addonType:R.addon_type,upfrontUnitCostPerM:R.upfront_unit_cost_per_m,upfrontUnitCostPerTerm:R.upfront_unit_cost_per_term}));return{id:y.product_id,term:E,currency:y.currency,level:y.level,lengthOfTermInMonths:M,costPerMonth:y.cost_per_m,costPerTerm:y.cost_per_term,isInvoice:y.is_inv||!1,maxInvoiceSeats:y.max_invoice_seats,minInvoiceSeats:y.min_invoice_seats,availableAddons:S}},"getPlanDataInstance"),h=_(y=>Object.keys(y).reduce((P,E)=>{const M=y[E];return P.availablePlans[E]={[i.i6.standard.id]:{[i.uq.CREDIT_CARD]:{[i.ck.monthly]:{default:m(M.std_m)},[i.ck.yearly]:{default:m(M.std_y)}},[i.uq.INVOICE]:{[i.ck.yearly]:{default:m(M.inv_std_y)}}},[i.i6.plus.id]:{[i.uq.CREDIT_CARD]:{[i.ck.monthly]:{default:m(M.plus_m)},[i.ck.yearly]:{default:m(M.plus_y)}},[i.uq.INVOICE]:{[i.ck.yearly]:{default:m(M.inv_plus_y)}}},[i.i6.compliance.id]:{[i.uq.CREDIT_CARD]:{[i.ck.yearly]:{default:m(M.compliance_y)}},[i.uq.INVOICE]:{[i.ck.yearly]:{default:m(M.inv_compliance_y)}}}},P},{availablePlans:{}}),"parsePlanAPIResponse"),v=_(y=>{var P,E,M,S,R,k;const O=u(y),U={currentCredits:y.credits.total_credits,creditsRemaining:y.credits.credits_remaining,creditsApplied:y.credits.credits_applied,proratedRefundCredits:y.prorated_refund,totalCreditsRemaining:y.credits.total_credits_remaining||0,totalCreditsApplied:y.credits.total_credits_applied||0},W=y.discount?(0,o.A)(y.discount):void 0,x={purchase:!((P=y.addons)===null||P===void 0)&&P.purchase&&Object.keys((E=y.addons)===null||E===void 0?void 0:E.purchase).length>0?Object.entries((M=y.addons)===null||M===void 0?void 0:M.purchase).reduce((b,F)=>{let[B,K]=F;return[...b,{id:B,addonType:K.addon_type,baseUpfrontUnitCost:K.base_upfront_unit_cost,term:K.term,baseProratedSubtotal:K.base_prorated_subtotal,numUsers:K.num_users}]},[]):[],refund:!((S=y.addons)===null||S===void 0)&&S.refund&&Object.keys((R=y.addons)===null||R===void 0?void 0:R.refund).length>0?Object.entries((k=y.addons)===null||k===void 0?void 0:k.refund).reduce((b,F)=>{let[B,K]=F;return[...b,{id:B,addonType:K.addon_type,term:K.term,amount:K.amount,numUsers:K.num_users}]},[]):[]};return{activePlanCost:{id:y.product_id,subtotal:y.subtotal,undiscountedSubtotal:y.undiscounted_subtotal,billableActiveUsers:y.billable_active_users,discount:W,tax:O,credits:U,totalRecurring:y.total_recurring,totalDueToday:y.total_due_today,quotedTermEnd:y.quoted_term_end,quotedTermStart:y.quoted_term_start,paidSeats:y.paid_seats,outstandingInvoiceAmount:y.outstanding_invoice_amount||0,addons:x}}},"mapCostToPropsFromAPI"),p=_(y=>{const P=h(y.plans).availablePlans;if(y.additional_addon_info){const E={isSlackAiLanguageUnsupported:y.additional_addon_info.is_slack_ai_language_unsupported};return{availablePlans:P,additionalAddonInfo:E}}return{availablePlans:P}},"parseRetailPlansAPIResponse"),T=(0,r.A)("Fetch Available Plans",(y,P,E)=>y((0,t.apiCall)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:E})).then(M=>p(M)));T.meta={name:"createFetcher",key:"createFetcherfetchAvailablePlans",description:"Fetch Available Plans"};const A=(0,r.A)("Fetch Available Plans",(y,P,E)=>{let{productId:M,country:S,region:R,postalCode:k,street:O,isBusinessPurchase:U,isInvoice:W,numInvoiceSeats:x,isFinalReview:L,isFutureProductSwitch:b,vatId:F,regionalId:B,countryMap:K}=E;const H=P(),Y=(0,n.KV)(K,S,R),Z=(0,a.lK)(H),V=(0,a.IK)(H),ne=(0,l.L)(H);let q;if(V!=null&&V.length){const ue=[];V.forEach(ae=>{const le=ne.find(fe=>fe.addonType===ae);le!=null&&le.id&&ue.push(le.id)});try{q=ue.length?JSON.stringify(ue):void 0}catch(ae){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${ae}`)}}const me={state:R,product_id:M,addon_ids:q,is_final_review:L,checkout_step:Z,is_future_switch:b,...L?{}:{country:S,street1:O,zip:k,is_business:Y?!1:U,is_vat_registered:Y?U:!1,vat_id:F||"",regional_tax_id:B},...W?{requested_invoice_seats:x}:{}};return y((0,t.apiCall)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:me})).then(ue=>{const ae=ue.plan_cost;if(!ae)throw new Error("retail.cost: plan_cost is undefined");return v(ae)})});A.meta={name:"createFetcher",key:"createFetcherfetchCost",description:"Fetch Available Plans"};const C=(0,r.A)("Fetch Cost Data for Addons Flow",(y,P,E)=>{let M;try{M=JSON.stringify([E.addonId])}catch(S){(0,c.Wo)().error(`Error with JSON.stringify in fetchCost, ${S}`)}return y((0,t.apiCall)({reason:"payments-plans-fetch-cost-for-addons",method:"retail.cost",args:{addon_ids:M}})).then(S=>_(k=>{var O;const U=k==null?void 0:k.addon_costs;if(!U)return null;const W=((O=U.addons)===null||O===void 0?void 0:O[E.addonId])||null;return W?{currency:U.currency,freeUsageLimit:W.free_usage_limit,upfrontUnitCost:W.base_upfront_unit_cost,usageUnitCost:W.base_usage_unit_cost,addonType:W.addon_type,term:W.term,recurringUpfrontSubtotal:W.recurring_upfront_subtotal,dueToday:(0,s.XK)(U.due_today),recurringCosts:(0,s.XK)(U.recurring_costs),discount:W.discount}:null},"formatApiResponse")(S))});C.meta={name:"createFetcher",key:"createFetcherfetchCostForAddons",description:"Fetch Cost Data for Addons Flow"};const I=(0,r.A)("Fetch Plans Page Boot Data",y=>y((0,t.apiCall)({reason:"payments-plans-fetch-plans-page-boot-data",method:"retail.getAvailablePlans",args:{}})));I.meta={name:"createFetcher",key:"createFetcherfetchPlansPageBootData",description:"Fetch Plans Page Boot Data"};const D={mapCostToPropsFromAPI:v,getTaxData:u,getAddonTaxData:f}},4811981249:(N,g,e)=>{"use strict";e.d(g,{Rs:()=>d,eS:()=>l,xs:()=>a});var t=e(8703681551),s=e(8571983633),o=e(303912245),n=e(4253639646),c=e(6992519982),i=e(5257368278);const r={"pins.list":{}},a=(0,i.A)("Get pinned items for channel",(f,m,h)=>{let{channelId:v,reason:p}=h;const T=r["pins.list"];return T[v]||(T[v]=f((0,n.u)({channel:v,reason:p})),T[v].finally(()=>delete T[v])),T[v]});a.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"};const l=(0,i.A)("Pin Message to channel",(f,m,h)=>{let{ts:v,fileId:p,fileCommentId:T,channelId:A,reason:C}=h;return f((0,o.T)({...(0,t.A)({timestamp:v,file:p,file_comment:T},s.A),channel:A,reason:C}))});l.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"};const d=(0,i.A)("Unpin Message from channel",(f,m,h)=>{let{ts:v,fileId:p,fileCommentId:T,channelId:A,reason:C}=h;return f((0,c.w)({...(0,t.A)({channel:A,timestamp:v,file:p,file_comment:T},s.A),channel:A,reason:C}))});d.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"};const u={resetActiveCalls:()=>{Object.keys(r).forEach(f=>{r[f]={}})}}},3924280006:(N,g,e)=>{"use strict";e.d(g,{lp:()=>Gn,SI:()=>xn,DC:()=>Ls,Yb:()=>Ns,aw:()=>Bs,g2:()=>Ln,U7:()=>Ae,eR:()=>Gt,sr:()=>$e,Do:()=>Vt,EM:()=>rt,AC:()=>ds,FF:()=>hn,A$:()=>mn,mi:()=>Wt,mK:()=>an,bE:()=>Oe,AQ:()=>Ze,Cs:()=>ys,J6:()=>et,LR:()=>ut,cD:()=>$t,jl:()=>zn,QH:()=>oe,DF:()=>cn,UC:()=>pt,fx:()=>Et,lS:()=>dn,A1:()=>Fe,H9:()=>Tt,ZD:()=>Hs,$P:()=>as,G2:()=>us,S:()=>ws});var t=e(8571983633),s=e(7715417323),o=e(7174777686),n=e(2141441167),c=e(897091071),i=e(1703559452),r=e(9113979368),a=e(9746734072),l=e(5503876160),d=e(4103274853),u=e(1566461842),f=e(2156087151),m=e(1545824888),h=e(2664504268),v=e(6916052175),p=e(5513050121),T=e(7599421656),A=e(6644049054),C=e(8956161330),I=e(4078437571),D=e(1190344069),y=e(1340402138),P=e(4446301238),E=e(6554371307),M=e(8017028002),S=e(490494914),R=e(5984521287),k=e(8419094353),O=e(9552526132),U=e(8352634987),W=e(2028988448),x=e(5613323535),L=e(3848977043),b=e(3683888369),F=e(6839188756),B=e(1507833885),K=e(4094753332),H=e(6471059816),Y=e(1670069836);const Z=new H.Ay("modals");function V(qe){return[{id:"downloads",name:Z.t("Downloads"),icon:"download",isEnabled:()=>(0,K.y3)()},{id:"invite_to_workspace",name:Z.t("Invite people to {workspaceName}",{workspaceName:(0,F.F1)((0,Y.H7)(qe))}),icon:"add-user",isEnabled:()=>(0,L.Lz)(qe)},{id:"create_a_channel",name:Z.t("Create a Channel"),icon:"plus",isEnabled:()=>(0,B.MM)(qe)},{id:"create_a_canvas",name:Z.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>(0,b.l)(qe)}]}_(V,"getAllModals");function ne(qe){return V(qe).filter(Qt=>Qt.isEnabled())}_(ne,"getAllEnabledModals");var q=e(7940058138),me=e(7520119303),ue=e(8414867410),ae=e(3929724715),le=e(1407713935),fe=e(5274604535),he=e(2298581483),ie=e(7969244833),X=e(6007206761),j=e(6495946979),w=e(4001737397),Q=e(1197508738),G=e(2647703359),J=e(5455782105),te=e(8170643398),se=e(4562579337),ce=e(5096647761),Ee=e(3792998666),de=e(3479134063),re=e(5765052177),_e=e(6536982570),ve=e(9889493721),ge=e(6120301420),Le=e(9001455011),ke=e(340763958),Ke=e(3212336858),Ne=e(2801540778),Re=e(2546018671),xe=e(4827886670),We=e(9931116838),$=e(3559837422),ee=e(3307632080),Ve=e(5772992709),ze=e(411655882),st=e(2229186),Ge=e(8668318456),be=e(9392104102),Se=e(82287009),we=e(7578434623),Ce=e(5770715593),Te=e(352142497),Ye=e(4761125736);const De=new H.Ay("ia4"),Pe={[Te.D.BrowseCanvases]:()=>De.t("All canvases"),[Te.D.BrowseChannels]:()=>De.t("All channels"),[Te.D.BrowsePeople]:()=>De.t("All people"),[Te.D.BrowseFiles]:()=>De.t("All files"),[Te.D.ExternalWorkspaceAllowedOrgPane]:()=>De.t("Organization"),[Te.D.RecentFiles]:()=>De.t("Recently Viewed Files"),[Te.D.FilesSharedWithYou]:()=>De.t("Files shared with you"),[Te.D.FilesCreatedByYou]:()=>De.t("Files created by you"),[Te.D.RecentCanvases]:()=>De.t("Recently Viewed Canvases"),[Te.D.CanvasesSharedWithYou]:()=>De.t("Canvases shared with you"),[Te.D.CanvasesCreatedByYou]:()=>De.t("Canvases created by you"),[Te.D.DeletedCanvases]:void 0,[Te.D.DmsList]:void 0,[Te.D.LaterList]:void 0,[Te.D.Channel]:void 0,[Te.D.AppSpace]:void 0,[Te.D.BrowseApps]:void 0,[Te.D.ExternalOrganizations]:()=>De.t("External organizations"),[Te.D.ExternalOrganization]:()=>De.t("External organization"),[Te.D.ExternalPeople]:()=>De.t("External people"),[Te.D.SlackConnectChannels]:()=>De.t("Slack Connect channels"),[Te.D.SlackConnectInvitations]:()=>De.t("Slack Connect invitations"),[Te.D.BrowseExternalWorkspace]:void 0,[Te.D.PostEvent]:void 0,[Te.D.BrowseShortcuts]:void 0,[Te.D.BrowseWorkflowsManagedByYou]:void 0,[Te.D.BrowseYourWorkflowTemplates]:void 0,[Te.D.BrowseWorkflowTemplates]:void 0,[Te.D.BrowseUserGroups]:void 0,[Te.D.OrgDirectory]:void 0,[Te.D.RecentPlatform]:()=>De.t("Recently used workflows"),[Te.D.SlackConnect]:void 0,[Te.D.Page]:void 0,[Te.D.Threads]:void 0,[Te.D.Thread]:void 0,[Te.D.Profile]:void 0,[Te.D.FileDetails]:void 0,[Te.D.Help]:void 0,[Te.D.UserGroup]:void 0,[Te.D.KeyboardShortcuts]:void 0,[Te.D.WhatsNew]:void 0,[Te.D.Feedback]:void 0,[Te.D.List]:void 0,[Te.D.ListRecord]:void 0,[Te.D.ListRecordDetails]:void 0,[Te.D.ListRecordThread]:void 0,[Te.D.ListRecordHistory]:void 0,[Te.D.ListHistory]:void 0,[Te.D.ComposeList]:void 0,[Te.D.Compose]:void 0,[Te.D.QuipCommentThread]:void 0,[Te.D.QuipCommentStream]:void 0,[Te.D.QuipActivityHistory]:void 0,[Te.D.QuipAutomationsOverview]:void 0,[Te.D.Quip]:void 0,[Te.D.Canvas]:void 0,[Te.D.ChannelCanvas]:void 0,[Te.D.CanvasBrowser]:void 0,[Te.D.HuddlePageCanvas]:void 0,[Te.D.PaidBenefits]:void 0,[Te.D.Setup]:void 0,[Te.D.SearchEmpty]:void 0,[Te.D.ActivityEmpty]:void 0,[Te.D.AboutWorkspace]:void 0,[Te.D.Unknown]:void 0,[Te.D.MorePeopleSidebar]:void 0,[Te.D.MoreCanvasesSidebar]:void 0,[Te.D.MoreSolutionsSidebar]:void 0,[Te.D.AppPopout]:void 0,[Te.D.MorePlatformSidebar]:void 0,[Te.D.Search]:void 0,[Te.D.ChannelList]:void 0,[Te.D.BrowseLists]:void 0,[Te.D.DeletedLists]:void 0,[Te.D.Tasks]:void 0,[Te.D.AssignedTasks]:void 0,[Te.D.Reminders]:void 0,[Te.D.Saved]:void 0,[Te.D.BrowseList]:void 0,[Te.D.ActivityList]:void 0,[Te.D.MoreFilesSidebar]:void 0,[Te.D.MoreListsSidebar]:void 0,[Te.D.UnifiedFilesSidebar]:void 0,[Te.D.MoreChannelsSidebar]:void 0,[Te.D.MoreHuddlesSidebar]:void 0,[Te.D.MoreExternalConnectionsSidebar]:void 0,[Te.D.HelpBrowser]:void 0,[Te.D.Huddle]:void 0,[Te.D.BrowseHuddles]:void 0,[Te.D.KeyboardShortcutsBrowser]:void 0,[Te.D.WhatsNewBrowser]:void 0,[Te.D.FeedbackBrowser]:void 0,[Te.D.ExternalWorkspaceSidebar]:void 0,[Te.D.ExternalWorkspacePeopleBrowser]:void 0,[Te.D.ExternalWorkspaceChannelBrowser]:void 0,[Te.D.AiSummaryDetails]:void 0,[Te.D.DailyDigest]:void 0,[Te.D.SearchSummary]:void 0,[Te.D.BrowseUnifiedFiles]:()=>De.t("All docs"),[Te.D.BrowseUnifiedFilesCanvases]:()=>De.t("Canvases"),[Te.D.BrowseUnifiedFilesLists]:()=>De.t("Lists"),[Te.D.BrowseUnifiedFilesFolders]:()=>De.t("Folders"),[Te.D.DeletedUnifiedFiles]:void 0,[Te.D.Today]:void 0,[Te.D.Record]:void 0,[Te.D.MyTaskApproval]:void 0,[Te.D.TableauDetails]:void 0,[Te.D.WorkObject]:void 0,[Te.D.RecordChannelCreate]:void 0,[Te.D.RecordChannelRelatedList]:void 0,[Te.D.RecordRelatedConversationsChannelsList]:void 0,[Te.D.RecordRelatedConversationsThreadsList]:void 0,[Te.D.SalesAdministration]:void 0,[Te.D.SalesBulkGrid]:void 0,[Te.D.SalesHome]:void 0,[Te.D.SalesListViewBrowser]:void 0,[Te.D.SalesLogActivity]:void 0,[Te.D.SalesCreateRecord]:void 0,[Te.D.SalesNotifications]:void 0,[Te.D.SalesSidebar]:void 0,[Te.D.SalesAutoSlackLaunchpad]:void 0,[Te.D.AssistantThread]:void 0,[Te.D.AssistantHome]:void 0,[Te.D.Solutions]:void 0,[Te.D.Admin]:void 0,[Te.D.ActivityChannelUnreadsList]:void 0,[Te.D.TodayV2]:()=>De.t("Today"),[Te.D.Agents]:void 0,[Te.D.YourAgents]:void 0,[Te.D.AgentConversation]:void 0,[Te.D.AgentHomeConversation]:void 0,[Te.D.MoreAgentsSidebar]:void 0,[Te.D.Sidekicks]:void 0,[Te.D.SidekickConversation]:void 0,[Te.D.MoreSidekicksSidebar]:void 0,[Te.D.SolutionsFiltered]:void 0,[Te.D.BrowseYourSolutions]:void 0,[Te.D.BrowseYourCompanySolutions]:void 0,[Te.D.SlackKitPlayground]:void 0,[Te.D.AiApp]:void 0,[Te.D.MultiTurnSearch]:void 0,[Te.D.MultiTurnSearchSidebar]:void 0,[Te.D.AboutAiApp]:void 0,[Te.D.BookmarksFolder]:void 0,[Te.D.ActionItems]:void 0,[Te.D.Inbox]:void 0,[Te.D.ActivityInbox]:void 0,[Te.D.HuddleTranscriptDetails]:void 0,[Te.D.WorkflowDetails]:()=>De.t("Workflow details"),[Te.D.AppDetails]:qe=>(0,Ye._Z)(qe,"app_flexpane")==="on"?De.t("App Details"):"App Details",[Te.D.WorkflowEditor]:()=>De.t("Workflow Editor"),[Te.D.WorkflowTemplateEditor]:void 0,[Te.D.WorkflowBeingCreated]:void 0,[Te.D.BBMMain]:qe=>(0,F.IE)(qe),[Te.D.BBMWorkspaceSwitcher]:void 0,[Te.D.SearchInChannel]:void 0,[Te.D.BBMMore]:void 0,[Te.D.AboutUserGroup]:void 0,[Te.D.MeetingDetails]:void 0,[Te.D.AiMessageAnalysis]:void 0,[Te.D.BrowseUnifiedFilesGoogleDrive]:void 0,[Te.D.BrowseUnifiedFilesOnedrive]:void 0,[Te.D.BrowseUnifiedFilesExternalResults]:void 0,[Te.D.ConversationCreate]:void 0,[Te.D.SlackbotAi]:void 0,[Te.D.UnifiedDirectory]:void 0},He=_((qe,Qt)=>{if(Qt in Pe){var Kt;return(Kt=Pe[Qt])===null||Kt===void 0?void 0:Kt.call(Pe,qe)}return""},"getDisplayNameForViewType");var Qe=e(4240442510),dt=e(6910192640),Ot=e(505908973),yt=e(4096483543),Dt=e(5600190572),Ct=e(4256321479),kt=e(8195161e3),vt=e(1948374838),Nt=e(1917953477),It=e(181849556),At=e(8935440161),Zt=e(1072784641),jt=e(6897117289),Ht=e(7646553093),Pt=e(4342685672),Ft=e(6304789565),En=e(8847766420),Rt=e(7260478587),rn=e(4119164726),nn=e(6533394955),at=e(2284446909),tt=e(6451390137),ft=e(2854654447),wt=e(5795074931),Jt=e(9107158149),sn=e(7688940281),z=e(207659888),Me=e(2235302340),Be=e(9101533895),nt=e(6728717861),Lt=e(3829348308),Bt=e(937317117),Yt=e(761034736),on=e(8840779375),An=e(9268023148),Sn=e(6494470131),In=e(5380461521),Pn=e(5209876365),bn=e(337319621);const wn=(0,Ft.Ay)("Fetch triggers with query",async(qe,Qt,Kt)=>{let{query:it,currentChannelId:mt,includeAutomatedTriggers:Mt=!1,strictExposureRules:St=!0,reason:zt}=Kt;const un=Qt(),Cn=(0,En.ZT)(un),fn=(0,vt.X)(un),Xt=Mt?["shortcut","event","webhook","scheduled","service"]:["shortcut"];if(!fn.containsPrefixOf(it))try{const ct=(await qe((0,Sn.v)({query:it,currentChannelId:mt,strictExposureRules:St,triggerTypes:Xt,reason:zt??"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,_t=5;return ct.length<_t&&(fn.addAsPrefix(it),fn.clearRequestInFlight()),Cn&&(0,In.X)().markObjectsAsFresh(Cn,(0,on.A)(ct,"id")),qe((0,Pn.z4)({triggers:ct})),ct}catch(Je){return(0,bn.Wo)().error(Je,"There was an issue fetching triggers with query"),[]}return[]});wn.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const qn=500,kn=(0,An.A)((qe,Qt)=>{let{query:Kt,includeAutomatedTriggers:it,strictExposureRules:mt,reason:Mt}=Qt;return qe(wn({query:Kt,includeAutomatedTriggers:it,strictExposureRules:mt,reason:Mt}))},qn,{leading:!0,trailing:!0}),Dn=(0,Ft.Ay)("debounced fetch and upsert triggers with query",(qe,Qt,Kt)=>{let{query:it,includeAutomatedTriggers:mt,strictExposureRules:Mt,reason:St}=Kt;return kn(qe,{query:it,includeAutomatedTriggers:mt,strictExposureRules:Mt,reason:St})});Dn.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"};const Un=null,Hn={DEBOUNCE_MS:qn};var jn=e(8227942655),Jn=e(970158643),ln=e(8276911661),ss=e(5688490863),vs=e(8149648525),ls=e(2047021170),Zn=e(4135820365),Rn=e(6892115804),Wn=e(1835177371),es=e(6508028729);const Gn={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0,includeRecordChannels:!0},mpims:{onlyVisibleMpims:!1,onlyExternallyShared:!1,includeExternallyShared:!0,onlyFromTeamId:void 0,useDisplayName:!0},members:{includeSelf:!1,includeSlackbot:!0,includeSecurityBot:!0,includeBots:!0,includeWorkflows:!1,includeAgents:!0,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[z.VZ.Standard]:!0,[z.VZ.Stars]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:Pt.KV},fuzzyLimit:3,beyondWordBoundaryFuzzyLimit:6,fuzzyJumpLimit:20,matchBeyondWordBoundaries:!1,fuzzyCJK:!0,returnMetadata:!1};function _s(qe){let{query:Qt,options:Kt}=qe;var it,mt,Mt;const St=(Mt=Kt==null?void 0:Kt.entities)!==null&&Mt!==void 0?Mt:{},zt=St==null?void 0:St.members;let un=!1;return zt&&zt!==!0&&(un=!!(zt!=null&&zt.matchEmailField)),{source:(Kt==null?void 0:Kt.searchViewContext)||(Kt==null||(it=Kt.sort)===null||it===void 0?void 0:it.source),tiered:Kt==null?void 0:Kt.tiered,is_searcher_sessions:!1,entities:Object.keys(St).filter(Cn=>!!St[Cn]).sort().toString(),query_length:Qt.length,is_member_email_search:(Kt==null||(mt=Kt.sort)===null||mt===void 0?void 0:mt.source)==="use-team-and-people-search"&&un}}_(_s,"getTraceTags");function ds(qe,Qt){var Kt,it;const{excludeElmChannels:mt,includePublic:Mt,includePrivate:St,includeFromAnotherTeam:zt,allowedInternalTeams:un,shouldAllowedInternalTeamsMatchAny:Cn}=(it=(Kt=Qt.entities)===null||Kt===void 0?void 0:Kt.channels)!==null&&it!==void 0?it:{};let fn=[];return Mt&&(fn=[...fn,...(0,Be.Wr)(qe,{includeFromAnotherTeam:!!zt})]),St&&(fn=[...fn,...(0,Be.sE)(qe,{includeFromAnotherTeam:!!zt})]),mt&&(fn=fn.filter(Xt=>!(0,ee.A)(qe,Xt))),un&&(fn=fn.filter(Xt=>{if((0,w.O)(Xt))return!!Cn;const Je=(0,he.R)(qe,Xt),ct=Cn?Je==null?void 0:Je.some(_t=>un.includes(_t)):Je==null?void 0:Je.every(_t=>un.includes(_t));return(Je==null?void 0:Je.length)&&ct})),fn}_(ds,"getLocalChannels");function Wt(qe,Qt){var Kt;const it=(0,En.ZT)(qe),mt=Qt==null||(Kt=Qt.entities)===null||Kt===void 0?void 0:Kt.teams;var Mt;const St=Object.values((Mt=es._===null||es._===void 0?void 0:(0,es._)())!==null&&Mt!==void 0?Mt:{}).filter(Xt=>Xt.id!==it);if(mt!=null&&mt.onlyNavigable){const Xt=(0,Zn._)(qe);return Xt.length?[...St,...Xt]:St}var zt;const un=(zt=(0,Y.iK)(qe))!==null&&zt!==void 0?zt:{},Cn=St.map(Xt=>Xt.id),fn=Object.values(un).filter(Xt=>!Cn.includes(Xt.id));return[...St,...fn].filter(Fe(qe,mt))}_(Wt,"getLocalTeams");const et=(0,Ft.Ay)("Get channels from flannel by query",(qe,Qt,Kt)=>{let{query:it,options:mt}=Kt;var Mt,St,zt,un;const{includeFromAnotherTeam:Cn,includeExternallyShared:fn,includeOnlyExternallyShared:Xt,onlyExternallyShared:Je,onlyFromTeamId:ct,onlyFromExternalWorkspaceId:_t,allowedInternalTeams:xt,shouldAllowedInternalTeamsMatchAny:en,includeRecordChannels:tn}=(un=(Mt=mt.entities)===null||Mt===void 0?void 0:Mt.channels)!==null&&un!==void 0?un:{},gt=((St=mt.entities)===null||St===void 0||(zt=St.channels)===null||zt===void 0?void 0:zt.remoteLimit)||mt.limit,pn=Qt(),vn=[],gn=" AND ",$n={query:it,count:gt||Gn.limit||24,fuzz:(0,Ye._Z)(pn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Ye._Z)(pn,"searcher_flannel_cjk")==="cjk"};return Cn&&vn.push("xws"),!(0,t.A)(fn)&&!fn&&vn.push("NOT shared"),!(0,t.A)(Xt)&&!Xt&&vn.push("NOT external"),!(0,t.A)(Je)&&Je&&vn.push("shared"),vn.length&&($n.filter=vn.join(gn)),ct&&($n.external_team=ct),_t&&($n.external_team=_t),xt&&($n.allowed_internal_teams=xt),en&&($n.should_allowed_internal_teams_match_any=en),tn&&($n.include_record_channels=!0),mt!=null&&mt.topChannels&&($n.top_channels=mt.topChannels),mt!=null&&mt.defaultWorkspace&&($n.default_workspace=mt.defaultWorkspace),qe((0,P.hq)({query:$n})).timeout(2e3).catch(s.A)});et.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const ot=(0,Ft.Ay)("Get mpims from flannel by query",(qe,Qt,Kt)=>{let{query:it,options:mt}=Kt;var Mt,St,zt,un;const{useDisplayName:Cn}=(un=(Mt=mt.entities)===null||Mt===void 0?void 0:Mt.mpims)!==null&&un!==void 0?un:{},fn=((St=mt.entities)===null||St===void 0||(zt=St.mpims)===null||zt===void 0?void 0:zt.remoteLimit)||mt.limit,Xt=Qt(),Je={query:it.replace(/,\s/g,","),count:fn||Gn.limit||24,fuzz:(0,Ye._Z)(Xt,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Ye._Z)(Xt,"searcher_flannel_cjk")==="cjk"};return Cn&&(Je.use_display_name=!0),qe((0,P.XU)({query:Je})).timeout(2e3).catch(s.A)});ot.meta={name:"createThunk",key:"createThunkgetRemoteMpims",description:"Get mpims from flannel by query"};const ut=(0,Ft.Ay)("Get emoji from flannel by query",(qe,Qt,Kt)=>{let{query:it,options:mt}=Kt;var Mt,St;const zt=((Mt=mt.entities)===null||Mt===void 0||(St=Mt.emoji)===null||St===void 0?void 0:St.remoteLimit)||mt.limit;return m.S.resolve(qe((0,M.l8)({query:{query:it,count:zt}}))).timeout(2e3).catch(s.A)});ut.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const pt=(0,Ft.Ay)("Get user groups from the search.team endpoint by query",(qe,Qt,Kt)=>{let{query:it,options:mt}=Kt;var Mt,St,zt,un,Cn,fn;const Xt=((Mt=mt.entities)===null||Mt===void 0||(St=Mt.userGroups)===null||St===void 0?void 0:St.remoteLimit)||mt.limit;return m.S.resolve(qe((0,k.cn)({query:{query:it,count:Xt,org_wide:(zt=mt.entities)===null||zt===void 0||(un=zt.userGroups)===null||un===void 0?void 0:un.includeFromAnotherTeam,channel:(Cn=mt.entities)===null||Cn===void 0||(fn=Cn.userGroups)===null||fn===void 0?void 0:fn.channel}}))).timeout(2e3).catch(s.A)});pt.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const Et=(0,Ft.Ay)("Get remote triggers with query",(qe,Qt,Kt)=>{let{query:it,includeAutomatedTriggers:mt,reason:Mt}=Kt;return qe(Dn({query:it,includeAutomatedTriggers:mt,reason:Mt}))});Et.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const Gt=(0,Ft.Ay)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(qe,Qt,Kt)=>{let{queries:it,options:mt}=Kt;var Mt,St,zt,un,Cn,fn;const Xt=((Mt=mt.entities)===null||Mt===void 0||(St=Mt.userGroups)===null||St===void 0?void 0:St.remoteLimit)||mt.limit;return m.S.resolve(qe((0,k.MZ)({query:{queries:it,count:Xt,org_wide:(zt=mt.entities)===null||zt===void 0||(un=zt.userGroups)===null||un===void 0?void 0:un.includeFromAnotherTeam,channel:(Cn=mt.entities)===null||Cn===void 0||(fn=Cn.userGroups)===null||fn===void 0?void 0:fn.channel}}))).timeout(2e3).catch(s.A)});Gt.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function $e(qe,Qt){const{includeArchived:Kt,includeRequired:it,onlyIfMember:mt,canPost:Mt,includeExternallyShared:St,includeOnlyExternallyShared:zt,onlyExternallyShared:un,onlyFromTeamId:Cn,onlyFromExternalWorkspaceId:fn}=Qt??{};return Xt=>{let Je=!0;if(Kt||(Je=Je&&!(0,X.F)(Xt)),!(0,t.A)(it)&&!it&&(Je=Je&&!(0,le.gx)(Xt)),un&&(Je=Je&&(0,ke.ju)(Xt)),(!St||!zt)&&(Je=Je&&!(0,ke.ju)(Xt)),mt&&(Je=Je&&(0,j.bl)(Xt)),Mt&&(Je=Je&&(0,xe.E)(qe,Xt.id)),Cn){var ct;Je=Je&&(((ct=(0,fe.A)(qe,Xt))===null||ct===void 0?void 0:ct.includes(Cn))||!1)}return fn&&(Je=Je&&(0,ae.ne)(qe,Xt)===fn),Je}}_($e,"getChannelFilterFunction");const oe=(0,Ft.Ay)("Get members from flannel by query",(qe,Qt,Kt)=>{let{query:it,options:mt}=Kt;var Mt,St,zt;const{includeDeleted:un,matchEmailField:Cn,onlyExternal:fn,includeExternal:Xt,includeAllExternal:Je,includeBots:ct,onlyFromExternalTeamId:_t,onlyFromExternalWorkspaceId:xt}=(zt=mt.entities.members)!==null&&zt!==void 0?zt:{},en=((Mt=mt.entities)===null||Mt===void 0||(St=Mt.members)===null||St===void 0?void 0:St.remoteLimit)||mt.limit,tn=Qt(),gt=(0,En.jV)(tn),pn=[],vn=(0,F.r7)((0,Y.H7)(tn))||!!gt,gn=vn?["NOT org"]:["NOT team"],$n=vn?["org"]:["team"],rs=!un,gs=" AND ",cs={query:it,count:en||Gn.limit||24,fuzz:(0,Ye._Z)(tn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||mt.fuzzyLimit===0?0:1,uax29_tokenizer:(0,Ye._Z)(tn,"searcher_flannel_cjk")==="cjk"};return rs&&pn.push("NOT deactivated"),(fn||_t)&&pn.push(...gn),(_t||xt)&&(cs.external_team=_t||xt),ct||pn.push("NOT bots"),Xt||pn.push(...$n),Xt&&Je&&(cs.include_all_external=!0),Cn&&(cs.search_email=!0),pn.length&&(cs.filter=pn.join(gs)),(0,Ye._Z)(tn,"searcher_member_workspace_ranking")==="treatment"&&(cs.enable_workspace_ranking=!0),mt!=null&&mt.topUsers&&(cs.top_users=mt.topUsers),mt!=null&&mt.currentChannel&&(cs.current_channel=mt.currentChannel),mt!=null&&mt.currentThreadUsers&&(cs.current_thread_users=mt.currentThreadUsers),m.S.resolve(qe((0,R.Wr)({query:cs}))).timeout(2e3).catch(s.A)});oe.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const Ae=(0,Ft.Ay)("Get members from flannel by query",(qe,Qt,Kt)=>{let{queries:it,options:mt}=Kt;var Mt,St,zt,un;const{includeDeleted:Cn,matchEmailField:fn}=(un=(Mt=mt.entities)===null||Mt===void 0?void 0:Mt.members)!==null&&un!==void 0?un:{},Xt=((St=mt.entities)===null||St===void 0||(zt=St.members)===null||zt===void 0?void 0:zt.remoteLimit)||mt.limit||24,Je=Qt(),ct=[],_t=!Cn,xt=" AND ",en={queries:it,count:Xt,fuzz:(0,Ye._Z)(Je,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,Ye._Z)(Je,"searcher_flannel_cjk")==="cjk"};return _t&&ct.push("NOT deactivated"),fn&&(en.match_email=!0),ct.length&&(en.filter=ct.join(xt)),m.S.resolve(qe((0,R.W9)({query:en}))).timeout(2e3).catch(s.A)});Ae.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function Oe(qe,Qt){const{includeSelf:Kt,includeSlackbot:it,includeSecurityBot:mt,includeBots:Mt,includeWorkflows:St,includeDeleted:zt,includeExternal:un,includeGuests:Cn,includeProfileOnlyUsers:fn,includeAgents:Xt,onlyLocalTeam:Je,onlyExternal:ct,onlyExternalFromTeams:_t,onlyFromExternalTeamId:xt,onlyAgents:en}=Qt??{};return tn=>{let gt=!0;if(ct&&(gt=gt&&(0,ce.g)(tn)&&!(0,se.A)(tn)),Kt||(gt=gt&&!(0,te.fy)(tn)),it||(gt=gt&&!(0,de.U)(tn)),mt||(gt=gt&&!(0,re.C)(tn)),Xt&&(0,wt.TZ)(qe)){const vn=(0,at.rs)(qe);vn&&vn.length&&(0,v.u)(tn)&&(gt=gt&&vn.includes(tn.id))}if(Xt||(gt=gt&&!(0,v.u)(tn)),_t)return(0,o.A)(_t,(0,_e.dQ)(tn));if(en){if((0,wt.TZ)(qe)){const vn=(0,at.rs)(qe);if(vn&&vn.length)return vn.includes(tn.id)}return(0,v.u)(tn)}if(xt)return Kt&&(0,te.fy)(tn)?!0:(0,ce.g)(tn)&&(0,_e.dQ)(tn)===xt;if(Mt||(gt=gt&&!(0,se.A)(tn)&&!(0,de.U)(tn)&&!(0,re.C)(tn)),St||(gt=gt&&!(0,te.v3)(tn)),zt||(gt=gt&&!(0,te.oy)(tn)),un||(gt=gt&&!(0,ce.g)(tn)),Cn||(gt=gt&&!(0,Ee.P)(tn)),fn||(gt=gt&&!(0,te.hh)(tn)),fn&&(0,te.hh)(tn)&&(gt=gt&&!(0,te.oy)(tn)),Je){const pn=(0,En.ZT)(qe);(0,te.hh)(tn)&&fn||(gt=gt&&(0,_e.nO)(tn,pn))}return gt}}_(Oe,"getMemberFilterFunction");function Fe(qe,Qt){var Kt;const{includeCurrentTeam:it,includeExternal:mt,onlyExternal:Mt,onlyCurrentOrg:St,onlyAvailableToCurrentOrg:zt,onlyMemberOnCurrentOrg:un}=Qt??{},Cn=(0,En.Kc)(qe),fn=(0,wt.WR)(qe),Xt=(0,ln.nv)(qe,fn),Je=(Xt==null||(Kt=Xt.enterprise_user)===null||Kt===void 0?void 0:Kt.teams)||[];return ct=>!(!it&&ct.id===(0,En.ZT)(qe)||Mt&&!(0,Ne.z)(qe,ct)||!mt&&!Mt&&!zt&&(0,Ne.z)(qe,ct)||St===!0&&ct.id!==Cn&&(0,F.Ss)(ct)!==Cn||zt===!0&&ct.id!==Cn&&(0,F.Ss)(ct)!==Cn&&!(0,Ne.z)(qe,ct)||un===!0&&!Je.includes(ct.id))}_(Fe,"getTeamFilterFunction");function Ze(qe,Qt){const{onlyVisibleMpims:Kt,onlyExternallyShared:it,includeExternallyShared:mt,onlyFromTeamId:Mt}=Qt??{};return St=>{let zt=!0;if(Kt&&(zt=zt&&(0,ae.w6)(qe,St)),it&&(zt=zt&&(0,ke.ju)(St)),mt===!1&&(zt=zt&&!(0,ke.ju)(St)),Mt){var un;zt=zt&&(((un=(0,fe.A)(qe,St))===null||un===void 0?void 0:un.includes(Mt))||!1)}return zt}}_(Ze,"getMpimFilterFunction");function rt(qe,Qt){const{onlyExternallyShared:Kt,includeExternallyShared:it,onlyFromTeamId:mt,onlyVisibleIms:Mt}=Qt??{};return St=>{let zt=!0;if(Mt&&(zt=zt&&(0,ae.PE)(qe,St)),Kt&&(zt=zt&&(0,ke.ju)(St)),it||(zt=zt&&!(0,ke.ju)(St)),mt){var un;zt=zt&&(((un=(0,fe.A)(qe,St))===null||un===void 0?void 0:un.includes(mt))||!1)}return zt}}_(rt,"getImFilterFunction");function Tt(qe,Qt){const{includeDeleted:Kt,includeFromAnotherTeam:it,onlyFromExternalWorkspaceId:mt}=Qt??{};return Mt=>{let St=!0;return it||(St=St&&!(0,Wn.dk)(qe,Mt.id)),Kt||(St=St&&(0,Re.V1)(Mt)),mt&&(St=St&&(0,Re.$Q)(Mt)===mt),St}}_(Tt,"getUserGroupFilterFunction");function Vt(qe,Qt){const{onlyCanvases:Kt=!1,onlyLists:it=!1,onlyWriteable:mt=!1,onlyChannelCanvases:Mt=!1,onlyTemplateCanvases:St=!1,onlySlackNative:zt=!1,includeChannelCanvases:un=!1,excludeTemplateCanvases:Cn=!1,excludeCannedCanvasTemplates:fn=!1}=Qt??{},Xt=(0,ge.hq)(qe),Je=(0,En.Kc)(qe),ct=(0,Y._J)(qe,Je),_t=ct&&!(0,F.qR)(ct);return xt=>{let en=!0;const tn=(0,G.wL)(xt)&&!_t||Xt&&un&&(0,G.aD)(xt),gt=(0,G.l7)(xt);return Kt&&(en=en&&tn,(0,G.dE)(xt)&&Cn||(0,G.ny)(xt)&&fn)?!1:(Xt&&(Mt||_t)&&(en=en&&!(0,G.wL)(xt)&&(0,G.aD)(xt)),St&&(en=en&&(0,G.dE)(xt)),it&&(en=en&&gt),mt&&(en=en&&(0,G.mW)(xt)),zt&&(en=gt||tn),en)}}_(Vt,"getFileFilterFunction");const cn=(0,Ft.Ay)("Get teams via API by query",(qe,Qt,Kt)=>{let{query:it,options:mt}=Kt;var Mt,St;const{onlyExternal:zt,includeExternal:un,remoteLimit:Cn}=(St=(Mt=mt.entities)===null||Mt===void 0?void 0:Mt.teams)!==null&&St!==void 0?St:{},fn=Qt();if((0,$.DM)(fn))return m.S.resolve();if(zt||un)return m.S.resolve(qe((0,S.Is)(it))).timeout(2e3).catch(s.A);const Xt=Cn||mt.limit||24;return qe((0,Rn.vB)({query:it,count:Xt})).timeout(2e3).catch(s.A)});cn.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const $t=(0,Ft.Ay)("Get files via API by query",(qe,Qt,Kt)=>{let{query:it,options:mt}=Kt;var Mt,St,zt;const{onlyCanvases:un,onlyChannelCanvases:Cn,onlyTemplateCanvases:fn,onlyLists:Xt,excludeTemplateCanvases:Je,bypassCache:ct}=(zt=(Mt=mt.entities)===null||Mt===void 0?void 0:Mt.files)!==null&&zt!==void 0?zt:{};let _t=it;fn?_t=`type:canvas_template ${it}`:un||Cn?_t=`${Je?"type:quip -type:canvas_template":"type:quip"} ${it}`:Xt&&(_t=`type:list ${it}`);var xt;return qe((0,E.yF)({query:_t,includeShares:!0,bypassCache:ct,reason:(xt=mt.searchViewContext)!==null&&xt!==void 0?xt:(St=mt.sort)===null||St===void 0?void 0:St.source})).timeout(2e3).catch(s.A)});$t.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function an(qe){const Qt=(0,ue.A4)(),Kt={},it=[];p.cw.forEach(Mt=>{const St=(0,Qe.A)(qe,{tab:Mt});(0,dt.A)(qe,Mt)&&St&&!(St in Kt)&&(it.push({id:Mt,name:St,is_view:!0,is_tab_view:!0}),Kt[St]=St)}),p.g5.forEach(Mt=>{const St=He(qe,Mt);(0,Ot.A)(qe,Mt)&&St&&!(St in Kt)&&(it.push({id:Mt,name:St,is_view:!0,is_mva_view:!0}),Kt[St]=St)}),Qt.forEach(Mt=>{if(!(0,ue.cH)(qe,Mt)&&!(Mt.id==="Pslack-connect"&&!(0,A.A)(qe))&&Mt.id!=="Pactivity"&&!(Mt.id===q.c.Apps&&!(0,Le.t)(qe))&&!(Mt.id===q.c.Shortcuts&&!(0,ve.Bf)(qe))&&!(Mt.id===q.c.BrowseWorkflowTemplates&&!(0,ve.fh)(qe))&&!(Mt.id===q.c.BrowseWorkflowsManagedByYou&&!(0,ve.EH)(qe))&&!(Mt.id===q.c.BrowseYourWorkflowTemplates&&!(0,ve.M7)(qe))&&((0,ue.l1)(qe,Mt)||Mt.id==="Punreads"&&(0,ls.ty)(qe,"enable_unread_view"))){const St=(0,me.yb)(qe,Mt);St&&!(St in Kt)&&(it.push({...Mt,name:St,is_view:!0,is_page_view:!0}),Kt[St]=St)}});const mt=(0,Dt.lI)("Vall_threads");return mt&&(0,ls.ty)(qe,"enable_threads_view")&&!(0,y.R)(qe)&&it.push(mt),it}_(an,"getLocalViews");function mn(qe){return ne(qe)}_(mn,"getLocalModals");function hn(qe){return(0,Ve.xf)(qe)?[{id:qe,score:0,item:{id:qe,value:qe,isEmail:!0}}]:[]}_(hn,"getLocalEmails");function Ln(qe,Qt){const Kt=!Qt;let it=be.Ml;if(Qt){const mt=(0,Be.OL)(qe,Qt);it=mt&&(0,ie.f)(qe,mt)||be.Ml}return(0,tt.PL)(qe).flatMap(mt=>{if(mt.teams&&(it.length||Kt)&&!mt.isWorkspaceAgnostic){const Mt=Kt?mt.teams:mt.teams.filter(St=>it.includes(St));if(Mt.length>1)return Mt.map(St=>{const zt=(0,Y._J)(qe,St),un=(0,F.F1)(zt);return{...mt,name:`${mt.name} ${un}`,applicableTeamId:St}})}return[mt]})}_(Ln,"getAppActionsWithEntriesPerApplicableTeam");function dn(qe,Qt,Kt){const it=(0,Be.OL)(qe,Qt),mt=it?(0,ie.f)(qe,it)||[]:[];return(0,Se.A_)(qe,Qt,!!Kt,!0).flatMap(Mt=>{if(Mt.teams&&mt.length&&Mt.appName!=="Slack"&&!Mt.isWorkspaceAgnostic){const St=Mt.teams.filter(zt=>mt.includes(zt));if(St.length>1)return St.map(zt=>({...Mt,id:(0,Ke.Bs)(Mt),isSlashCommand:!0,applicableTeamId:zt}))}return[{...Mt,id:(0,Ke.Bs)(Mt),isSlashCommand:!0}]})}_(dn,"getSlashCommandsListWithEntriesPerApplicableTeam");function Fn(qe,Qt){let Kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Hs(Qt);const it={},{appActions:mt,broadcastKeywords:Mt,canvasAiSuggestions:St,channels:zt,channelSections:un,emails:Cn,emoji:fn,files:Xt,helpArticles:Je,lists:ct,members:_t,modals:xt,mpims:en,salesListViews:tn,shortcuts:gt,teams:pn,topEngagedFiles:vn,userGroups:gn,views:$n,workflowTriggers:rs}=Qt.entities;if(zt&&(zt.includePublic||zt.includePrivate)&&(it.channels=ds(qe,Qt)),(en||zt!=null&&zt.includeMpims)&&(it.mpims=(0,Be.FS)(qe)),zt!=null&&zt.includeIms&&(it.ims=(0,Be._B)(qe)),_t&&(it.members=_t.onlyFromExternalWorkspaceId?be.Ml:(0,ln.I_)(qe).filter(Qn=>(0,Jt.zP)(qe,Qn.id))),pn&&(it.teams=Wt(qe,Qt)),gn&&(it.userGroups=(0,Wn.jJ)(qe)),mt&&(it.appActions=(0,T.B)(qe)?(0,tt.PL)(qe):Ln(qe,mt.channel)),Xt&&(it.files=(0,Bt.Gn)(qe)),vn){const Qn=(0,En.ZT)(qe);if(Qn){const Ts=(0,Ct.E)({teamId:Qn}).getStaleWhileRevalidate([]);it.topEngagedFiles=Ts}}if(ct&&(it.lists=(0,Jn.C0)(qe)),$n&&(it.views=an(qe)),xt&&(it.modals=mn(qe)),Mt){var gs;if(Mt.includeAll)it.broadcastKeywords=(0,ze.A)();else if(!(Mt==null||(gs=Mt.currentChannel)===null||gs===void 0)&&gs.id){var cs;it.broadcastKeywords=(0,st.A)(qe,Mt==null||(cs=Mt.currentChannel)===null||cs===void 0?void 0:cs.id)}else it.broadcastKeywords=[]}if(fn&&(it.emoji=(0,Lt.Gt)(qe)),un&&(it.channelSections=(0,n.A)((0,Me.jV)(qe))),(gt!=null&&gt.slashCommands||gt!=null&&gt.fakeGlobalActions)&&!(gt!=null&&gt.isAnnounceOnly)&&(it.slashCommands=(0,Se.A_)(qe,gt.channel,!!gt.threadTs,!0).map(Qn=>({...Qn,id:(0,Ke.Bs)(Qn),isSlashCommand:!0}))),gt!=null&&gt.slackGlobalActions&&(it.slackGlobalActions=(0,Se.Yk)(qe,gt.channel,gt.threadTs)),gt!=null&&gt.quipShortcutCommands&&(it.quipShortcutCommands=(0,rn.Aw)(qe,!!Kt)),gt!=null&&gt.channelActions&&(it.channelActions=(0,sn.fo)(qe,gt.channel)),gt!=null&&gt.fakeGlobalActions&&(it.fakeGlobalActions=(0,Se.JL)(qe,gt.channel,gt.threadTs)),gt!=null&&gt.callActions&&(it.callActions=(0,Se.Uw)(qe,gt.channel,gt.threadTs,gt.isAnnounceOnly)),rs){let Qn=(0,Se.NJ)(qe);rs.includeAutomated||(Qn=Qn.filter(Ts=>Ts.type===O.M.Shortcut)),rs.includeSalesHome||(Qn=Qn.filter(Ts=>!(0,jn.U)(Ts))),it.workflowTriggers=Qn}Cn&&(it.emails=hn(Kt));const Bn=(0,Ce.dL)(qe);if(Je&&Bn&&(it.helpArticles=(0,Yt.Fb)(qe,"searcher/fetch_all_articles")),tn){const{objectType:Qn,salesforceOrgId:Ts}=tn,xs=(0,ss.Up)(qe),Xn=Qn?(0,ss.Zs)(qe,Ts,Qn):(0,c.A)(Object.values((0,ss.m3)(qe,Ts)));it.salesListViews=Xn.map(Us=>xs[Us])}return St&&(it.canvasAiSuggestions=(0,Rt.rW)(qe,Qt)),ws(),it}_(Fn,"fetchLocal");const ts=(0,Ft.Ay)("Search for local entities within Slack based on options",(qe,Qt,Kt)=>{let{query:it,options:mt,autoTraceId:Mt,parentSpanId:St}=Kt;var zt;const un=Qt(),Cn=(zt=x.LI.get({label:x.gC.Searcher,id:Mt}))===null||zt===void 0?void 0:zt.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:St}}),fn=[],Xt=[],{channels:Je,mpims:ct,files:_t,members:xt,teams:en,userGroups:tn,appActions:gt,emoji:pn,helpArticles:vn,workflowTriggers:gn,salesListViews:$n}=mt.entities;if(xt){const Bn=qe(oe({query:it,options:mt}));xt.runaway?Xt.push(Bn):fn.push(Bn)}if(Je){const Bn=qe(et({query:it,options:mt}));Je.runaway?Xt.push(Bn):fn.push(Bn)}if(ct){const Bn=qe(ot({query:it,options:mt}));ct.runaway?Xt.push(Bn):fn.push(Bn)}if(pn){const Bn=qe(ut({query:it,options:mt}));pn.runaway?Xt.push(Bn):fn.push(Bn)}if(_t&&((0,f.A)(it)||it.length>3)){const Bn=(0,kt.G)(Qt());if(!Bn.contains(it)&&!Bn.isRequestInFlight()){Bn.add(it),Bn.setRequestInFlight();const Qn=qe($t({query:it,options:mt}));_t.runaway?Xt.push(Qn):fn.push(Qn)}}if(tn){const Bn=qe(pt({query:it,options:mt}));tn.runaway?Xt.push(Bn):fn.push(Bn)}if(en&&((0,J.k)(un)||en.onlyExternal||en.includeExternal)&&!en.onlyLocal){const Bn=qe(cn({query:it,options:mt}));en.runaway?Xt.push(Bn):fn.push(Bn)}if(gn){const Bn=(0,vt.X)(un);if(!Bn.contains(it)&&!Bn.isRequestInFlight()){var rs;Bn.add(it),Bn.setRequestInFlight();var gs;const Qn=qe(Et({query:it,includeAutomatedTriggers:gn.includeAutomated,reason:(gs=mt.searchViewContext)!==null&&gs!==void 0?gs:(rs=mt.sort)===null||rs===void 0?void 0:rs.source}));Qn&&(gn.runaway?Xt.push(Qn):fn.push(Qn))}}if((0,We.e)(un)&&gt){const Bn=m.S.resolve(qe((0,ft.G)())).timeout(2e3).catch(s.A);gt.runaway?Xt.push(Bn):fn.push(Bn)}const cs=(0,Ce.dL)(un);if(vn&&cs&&(0,Yt.Fb)(un,"searcher/fetch_all_articles"),(0,I.u)(it)&&$n){const{objectType:Bn,salesforceOrgId:Qn}=$n;fn.push(qe((0,vs.b)({query:it,objectType:Bn,salesforceOrgId:Qn})))}return m.S.all(fn).then(Bn=>{const Qn=Qt(),Ts=Fn(Qn,mt,it);if(Ts.remoteIds=zn(Bn),xt&&xt.onlyFromExternalWorkspaceId){var xs,Xn;Ts.members=(Xn=(xs=Bn.find(Cs=>!!Cs.members))===null||xs===void 0?void 0:xs.members)!==null&&Xn!==void 0?Xn:be.Ml}const Us=(0,i.A)((0,n.A)(Ts),"length");return Xt.length&&!Us?m.S.all(Xt).then(()=>Fn(Qt(),mt)):(Cn==null||Cn.close(),Ts)})});ts.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function zn(qe){const Qt={};return qe.forEach(Kt=>{Kt&&(Kt.appActions&&(Qt.appActions=new Set(Kt.appActions.map(it=>it.id))),Kt.channels&&(Qt.channels=new Set(Kt.channels.map(it=>it.id))),Kt.emoji&&(Qt.emoji=new Set(Kt.emoji.map(it=>it.name))),Kt.files&&(Qt.files=new Set(Kt.files.map(it=>it.id))),Kt.members&&(Qt.members=new Set(Kt.members.map(it=>it.id))),Kt.userGroups&&(Qt.userGroups=new Set(Kt.userGroups.map(it=>it.id))),Kt.teams&&(Qt.teams=new Set(Kt.teams.map(it=>it.id))))}),Qt}_(zn,"getRemoteIds");const as=(0,Ft.Ay)("Search for entities within Slack by query",(qe,Qt,Kt)=>{let{query:it="",options:mt=Gn}=Kt;var Mt;if(!it.length&&!mt.allowEmptyQuery)return m.S.resolve([]);const St=Qt(),zt=(0,we.Cy)({state:St}),un=(0,h.A)();zt.mark(`modern-searcher-search-mark-${un}`);const Cn=(0,Nt.O)(it,{shouldTrimEmoji:!1,shouldTrimDocument:!1});var fn;x.LI.start({label:x.gC.Searcher,id:un,options:{teamId:(fn=(0,En.ZT)(St))!==null&&fn!==void 0?fn:null,tags:_s({query:Cn,options:mt})}});const Xt=(Mt=x.LI.get({label:x.gC.Searcher,id:un}))===null||Mt===void 0?void 0:Mt.createChildSpan({name:"searcher:search"}),Je=Bs(mt,Gn,it);if((0,r.A)(Je))return m.S.resolve([]);if((0,Q.x)(St)!==nt.M9.ONLINE||!(mt!=null&&mt.allowEmptyQueryRemoteSearch)&&!Cn.length&&(0,yt.A)()&&(0,Ye._Z)(St,"searcher_local_empty_string")==="treatment")return m.S.resolve(us(St,{query:Cn,options:Je,autoTraceId:un,parentSpanId:Xt==null?void 0:Xt.getId()}));const ct=m.S.delay(0).then(()=>qe(ts({query:Cn,options:Je,autoTraceId:un,parentSpanId:Xt==null?void 0:Xt.getId()}))).then(_t=>{const xt=Qt();return Ss(xt,{query:Cn,data:_t,options:Je,autoTraceId:un,parentSpanId:Xt==null?void 0:Xt.getId()})});if(Je.tiered){const _t=us(St,{query:Cn,options:Je,autoTraceId:un,parentSpanId:Xt==null?void 0:Xt.getId()}),xt=ct.finally(()=>{Xt==null||Xt.close(),x.LI.stop({label:x.gC.Searcher,id:un})}),en=Object.assign(_t,{promise:xt});return m.S.resolve(en).finally(()=>{zt.measureAndClear(`modern-searcher-search-mark-${un}`,"modern-searcher-search-tiered")})}return ct.finally(()=>{zt.measureAndClear(`modern-searcher-search-mark-${un}`,"modern-searcher-search"),Xt==null||Xt.close(),x.LI.stop({label:x.gC.Searcher,id:un})})});as.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function us(qe,Qt){let{query:Kt="",options:it,autoTraceId:mt,parentSpanId:Mt}=Qt;var St;let zt=mt;if(!zt){zt=(0,h.A)();var un;x.LI.start({label:x.gC.Searcher,id:zt,options:{teamId:(un=(0,En.ZT)(qe))!==null&&un!==void 0?un:null,tags:_s({query:Kt,options:it})}})}const Cn=(St=x.LI.get({label:x.gC.Searcher,id:zt}))===null||St===void 0?void 0:St.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Mt}});if(!Kt.length&&!it.allowEmptyQuery)return[];const fn=Bs(it,Gn,Kt);if((0,r.A)(fn))return[];const Xt=(0,Nt.O)(Kt,{shouldTrimEmoji:!1}),Je=Fn(qe,fn),ct=Ss(qe,{query:Xt,data:Je,options:fn,autoTraceId:zt,parentSpanId:Cn==null?void 0:Cn.getId()});return Cn==null||Cn.close(),ct}_(us,"searchLocal");const fs=15,Ls=_(qe=>{let{clogger:Qt,data:Kt}=qe;const{source:it,query:mt,results:Mt,selectedItemId:St,displayedItemIds:zt,openMethod:un}=Kt,Cn=zt?zt.length:Mt.length,fn=zt&&St?zt.indexOf(St):Mt.findIndex(vn=>vn.item.id===St);if(fn<0)return;const Xt=Mt.find(vn=>vn.item.id===St);if(!Xt)return;const Je=Xt.type||"other",ct=(0,Nt.O)(mt),_t=Xt.source||"local";let xt;Xt.type==="mpim"?xt=Xt.scoreDetailsByMember:Xt.type==="member"&&St?xt={[St]:{is_exact_match:Xt.isExactMatch,exact_match_details:Xt.exactMatchDetails,score_details:Xt.scoreDetails}}:Xt.type==="emoji"&&St&&(xt={[St]:{is_exact_match:Xt.isExactMatch}});let en=[];Mt.some(vn=>vn.featureVector)&&(zt?en=zt.map(vn=>{const gn=Mt.find($n=>$n.item.id===vn);return gn&&gn.featureVector.serialize()||""}):en=Mt.map(vn=>{var gn,$n;return vn==null||(gn=vn.featureVector)===null||gn===void 0||($n=gn.serialize)===null||$n===void 0?void 0:$n.call(gn)}));let gt;(0,a.A)(mt)?gt=mt.reduce((vn,gn)=>vn+ys((0,Nt.O)(gn)),0):gt=ys(ct);const pn={source:it,query_length:ct.length?ct.length:0,query_terms_length:gt,results_length:Cn,selected_position:fn,selected_type:Je,selected_source:_t,selected_match_details:xt,feature_vector_list:en.slice(0,fs),open_method:un};Qt.track(Ge.EventId.SEARCHER_ACCEPT,pn)},"clogSearcherAccept"),Ns=_(qe=>{let{clogger:Qt,data:Kt}=qe;const{source:it,query:mt,results:Mt,displayedItemIds:St}=Kt,zt=St!==void 0?St.length:Mt.length,un=(0,Nt.O)(mt);let Cn;(0,a.A)(mt)?Cn=mt.reduce((Xt,Je)=>Xt+ys((0,Nt.O)(Je)),0):Cn=ys(un);const fn={source:it,query_length:un.length?un.length:0,query_terms_length:Cn,results_length:zt};Qt.track(Ge.EventId.SEARCHER_REJECT,fn)},"clogSearcherReject");function ys(qe){return qe?qe.split(At.u).filter(Qt=>Qt.length).length:0}_(ys,"getQueryTermsLength");function Ss(qe,Qt){let{query:Kt,data:it,options:mt,autoTraceId:Mt,parentSpanId:St}=Qt;var zt,un,Cn,fn,Xt;const Je=(zt=x.LI.get({label:x.gC.Searcher,id:Mt}))===null||zt===void 0?void 0:zt.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:St}});Hs(mt);const ct=(0,Ye._Z)(qe,"searcher_avoid_exact_member_match")==="treatment",_t=(0,Ye._Z)(qe,"nerf_email_fuzzy_match")==="treatment",xt=(0,Ye._Z)(qe,"searcher_emoji_cache_regex_work")==="treatment",en=(0,Ye._Z)(qe,"ml_fuzzy_match_beyond_word_boundaries")==="treatment",tn=(0,Ye._Z)(qe,"searcher_cache_fuzzy_match_n_grams")==="treatment",gt={},pn=_((Os,bs)=>{const ks=new Map;return[...Os,...bs].forEach(na=>{ks.set(na.id,na)}),Array.from(ks.values())},"mergeAndDeduplicate"),vn={...mt,sort:{...mt.sort,avoidExactMatchForMembers:ct},fuzzyEmailSearchForwardOnly:_t,optimizeEmojiRegexWork:xt,optimizeFuzzyMatchingNGramsWork:tn};en&&(vn.beyondWordBoundaryFuzzyLimit=6,vn.matchBeyondWordBoundaries=!0);const gn=new Zt.A({query:Kt,options:vn}),$n=(0,we.Cy)({state:qe});$n.mark("modern-searcher-matching-mark");const rs=(un=x.LI.get({label:x.gC.Searcher,id:Mt}))===null||un===void 0?void 0:un.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Je==null?void 0:Je.getId()}});if(it.channels&&(gt.channels=gn.filterChannels(qe,it.channels,$e(qe,mt.entities.channels))),it.members&&(gt.members=gn.filterMembers(qe,it.members,Oe(qe,mt.entities.members))),it.emails&&it.members&&!(!(gt==null||(Cn=gt.members)===null||Cn===void 0)&&Cn.length)&&(gt.emails=it.emails),it.mpims){var gs;gt.mpims=gn.filterMpims(qe,it.mpims,Ze(qe,(gs=mt.entities.mpims)!==null&&gs!==void 0?gs:mt.entities.channels))}it.ims&&(gt.ims=gn.filterIms(qe,it.ims,rt(qe,mt.entities.channels))),it.userGroups&&(gt.userGroups=gn.filterUserGroups(qe,it.userGroups,Tt(qe,mt.entities.userGroups))),it.teams&&(gt.teams=gn.filterTeams(qe,it.teams,Fe(qe,mt.entities.teams))),it.views&&(gt.views=gn.filterViews(qe,it.views)),it.modals&&(gt.modals=gn.filterModals(qe,it.modals)),it.appActions&&(gt.appActions=gn.filterAppActions(qe,it.appActions)),it.slashCommands&&(gt.slashCommands=gn.filterShortcuts(qe,it.slashCommands,!0)),it.slackGlobalActions&&(gt.slackGlobalActions=gn.filterShortcuts(qe,it.slackGlobalActions)),it.quipShortcutCommands&&(gt.quipShortcutCommands=gn.filterShortcuts(qe,it.quipShortcutCommands)),it.canvasAiSuggestions&&(gt.canvasAiSuggestions=gn.filterShortcuts(qe,it.canvasAiSuggestions)),it.channelActions&&(gt.channelActions=gn.filterShortcuts(qe,it.channelActions)),it.fakeGlobalActions&&(gt.fakeGlobalActions=gn.filterShortcuts(qe,it.fakeGlobalActions)),it.callActions&&(gt.callActions=gn.filterShortcuts(qe,it.callActions)),it.workflowTriggers&&(gt.workflowTriggers=gn.filterWorkflowTriggers(qe,it.workflowTriggers)),it.appActions&&(!(mt==null||(fn=mt.entities)===null||fn===void 0||(Xt=fn.shortcuts)===null||Xt===void 0)&&Xt.apps)&&(gt.apps=gn.filterApps(qe,it.appActions,it.fakeGlobalActions,it.slashCommands)),it.broadcastKeywords&&(gt.broadcastKeywords=gn.filterBroadcastKeywords(qe,it.broadcastKeywords)),it.emoji&&(gt.emoji=gn.filterEmoji(qe,it.emoji)),it.channelSections&&(gt.channelSections=gn.filterChannelSections(qe,it.channelSections,Os=>{var bs,ks;return!!(!((bs=mt.entities.channelSections)===null||bs===void 0||(ks=bs.includeTypes)===null||ks===void 0)&&ks[Os.type])})),it.files&&(gt.files=gn.filterFiles(qe,it.files,Vt(qe,mt.entities.files))),it.topEngagedFiles&&(gt.topEngagedFiles=gn.filterFiles(qe,it.topEngagedFiles,Vt(qe,mt.entities.topEngagedFiles))),it.lists&&(gt.lists=gn.filterLists(qe,it.lists));const cs=(0,Ce.dL)(qe);it.helpArticles&&cs&&(gt.helpArticles=gn.filterHelpArticles(qe,it.helpArticles)),it.salesListViews&&((0,C.hx)(qe)||(0,D.ZK)(qe))&&(gt.salesListViews=gn.filterSalesListViews(qe,it.salesListViews)),$n.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),rs==null||rs.close();const Bn=xn(gt,it.remoteIds||{});let Qn;Qn=Bn.topEngagedFiles,delete Bn.topEngagedFiles;const Ts=500,xs=3;var Xn;const Us=Math.min(((Xn=mt==null?void 0:mt.limit)!==null&&Xn!==void 0?Xn:1)*xs,Ts);let Cs=(0,c.A)(Object.values(Bn));if(mt.sort&&!mt.sort.bypassSorting){var la;let Os=!1;Cs.length<Us&&(Os=!0);const bs=new jt.A({query:Kt,options:{modelOnly:Os,...mt.sort,optimizeFuzzyMatchingNGramsWork:tn}}),ks=(la=x.LI.get({label:x.gC.Searcher,id:Mt}))===null||la===void 0?void 0:la.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Je==null?void 0:Je.getId()}});Cs=bs.sort(qe,Bn),ks==null||ks.close(),Qn&&(Qn=(0,It.jW)(qe,{query:Kt,list:Qn,bonusPoints:bs.getFrecencyBonusPointsFunction(qe)}))}if(Qn&&(Cs=pn(Cs,Qn)),mt.sort&&mt.sort.frecency&&!mt.sort.bypassSorting){var Ws;const Os=(Ws=x.LI.get({label:x.gC.Searcher,id:Mt}))===null||Ws===void 0?void 0:Ws.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Je==null?void 0:Je.getId()}});Cs=new Ht.A({query:Kt,options:{...mt.sort},teamId:(0,En.ZT)(qe),enterpriseId:(0,J.k)(qe)&&(0,En.jV)(qe)?(0,En.jV)(qe):void 0}).sort(qe,Cs.slice(0,Us)),Os==null||Os.close()}return mt.limit&&(Cs=(0,l.A)(Cs,mt.limit)),mt.returnMetadata||(Cs=Cs.map(Os=>Os.item)),ws(),Cs||[]}_(Ss,"processFetchedEntities");function xn(qe,Qt){return(0,d.A)(qe,(Kt,it)=>{const mt=Ds(it),Mt=Qt[it];let St=!1;return it==="topEngagedFiles"&&(St=!0),Kt.map(zt=>{const un=Mt&&Mt.has(zt.item.id)?"remote":"local";return{...zt,type:mt,source:un,isTopEngagedFile:St}})})}_(xn,"addResultMetadata");function Ds(qe){switch(qe){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"topEngagedFiles":return"file";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesListViews":return"salesListViews";case"canvasAiSuggestions":return"canvasAiSuggestions";default:return"other"}}_(Ds,"getTypeFromGroup");function Bs(qe,Qt,Kt){const{members:it,channels:mt,userGroups:Mt,broadcastKeywords:St,emoji:zt}=qe.entities,{members:un,channels:Cn,userGroups:fn}=Qt.entities;let Xt={},Je="";Kt!=null&&Kt.length&&(Je=Array.isArray(Kt)?"@":Kt.charAt(0)),(Je==="@"||Je==="\uFF20")&&(it||Mt||St)?(it&&(Xt.members=Ms(it,un)),Mt&&(Xt.userGroups=Ms(Mt,fn)),St&&(Xt.broadcastKeywords=Ms(St,{}))):(Je==="#"||Je==="\uFF03")&&mt?Xt.channels=Ms(mt,Cn):Je===":"&&zt?Xt.emoji=Ms(zt,{}):Xt=Object.keys(qe.entities).reduce((Xn,Us)=>{const Cs=qe.entities[Us];return Cs&&(Xn[Us]=Ms(Cs,Qt.entities[Us])),Xn},{});var ct;const _t=Ms((ct=qe==null?void 0:qe.sort)!==null&&ct!==void 0?ct:{},Qt.sort);var xt;const en=(xt=qe.limit)!==null&&xt!==void 0?xt:Qt.limit;var tn;const gt=(tn=qe.fuzzyLimit)!==null&&tn!==void 0?tn:Qt.fuzzyLimit;var pn;const vn=(pn=qe.beyondWordBoundaryFuzzyLimit)!==null&&pn!==void 0?pn:Qt.beyondWordBoundaryFuzzyLimit;var gn;const $n=(gn=qe.fuzzyJumpLimit)!==null&&gn!==void 0?gn:Qt.fuzzyJumpLimit;var rs;const gs=(rs=qe.matchBeyondWordBoundaries)!==null&&rs!==void 0?rs:Qt.matchBeyondWordBoundaries,cs=qe.fuzzyCJK||Qt.fuzzyCJK,Bn=qe.tiered,Qn=qe.filter,Ts=qe.allowEmptyQuery,xs=qe.returnMetadata||Qt.returnMetadata;return _t&&(_t.model=_t.model||(0,Pt.In)()),{entities:Xt,sort:_t,limit:en,tiered:Bn,filter:Qn,allowEmptyQuery:Ts,fuzzyLimit:gt,beyondWordBoundaryFuzzyLimit:vn,fuzzyJumpLimit:$n,matchBeyondWordBoundaries:gs,fuzzyCJK:cs,returnMetadata:xs,searchViewContext:qe.searchViewContext,topChannels:qe.topChannels,topUsers:qe.topUsers,currentChannel:qe.currentChannel,currentThreadUsers:qe.currentThreadUsers,defaultWorkspace:qe.defaultWorkspace}}_(Bs,"getAllOptions");function Ms(qe,Qt){if(!Qt||qe===!1)return qe;const Kt=qe===!0?{}:qe,it=Qt===!0?{}:Qt;return(0,u.A)(Kt,it)}_(Ms,"mergeOptions");function Hs(qe){const{members:Qt,channels:Kt,teams:it,userGroups:mt,appActions:Mt,files:St}=qe.entities;(Qt||Kt||it||mt||Mt||St)&&U.Ay.pauseRefetchIndefinitely()}_(Hs,"pauseConditionalFetching");function ws(){U.Ay.unpauseRefetchImmediately()}_(ws,"unpauseConditionalFetching"),(0,W.ul)("searcher",{search:(qe,Qt)=>(0,nn.Qw)(qe,as({options:Qt})),searchLocal:(qe,Qt)=>{const Kt=(0,nn.$D)(qe);return us(Kt,{options:Qt})}})},9406470849:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(344860614);function o(){return o=Object.assign||function(i){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},o.apply(this,arguments)}_(o,"_extends");const n=_(i=>{const r=i,a=t.forwardRef((l,d)=>{const u=(0,s.Zp)(),f=(0,s.wQ)(),m=(0,s.zy)(),h=(0,s.g)();return t.createElement(r,o({ref:d},l,{navigate:u,navigationType:f,location:m,params:h}))});return a.displayName=`withRouter(${r.displayName})`,a},"withRouter");n.displayName="withRouter";const c=n},1771500940:(N,g,e)=>{"use strict";e.d(g,{b:()=>t});function t(s){return{...s,options:{...s.options,forceRenderInSplitView:!0}}}_(t,"inSplitView")},5602423845:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(6122756707),s=e(56548687);function o(){const{getState:n}=(0,t.Pj)();return(0,s.e)({getState:n})}_(o,"useClogger")},6473800831:(N,g,e)=>{"use strict";e.d(g,{M:()=>o});var t=e(3134334389),s=e(6165267850);function o(n,c){let{element:i=document,isEnabled:r=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=(0,t.useRef)(c);a.current=c,(0,t.useEffect)(()=>{if(!r)return;const l=(0,s.h)(i);if(!l)return;const d=_(u=>{var f;(f=a.current)===null||f===void 0||f.call(a,u)},"handlerWrapper");return l.addEventListener(n,d),()=>{l.removeEventListener(n,d)}},[i,n,r])}_(o,"useEventListener")},1149563359:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(8420440042),o=e(8847766420),n=e(9506008067);function c(i,r){const{addFocusTransitionListener:a,removeFocusTransitionListener:l}=(0,s.Gx)(),d=(0,n.d4)(o.JY),u=(0,t.useCallback)(f=>{var m;const h=f==null||(m=f.options)===null||m===void 0?void 0:m.teamId;return h&&h!==d?!1:r(f)},[d,r]);(0,t.useEffect)(()=>(a(i,u),()=>{l(i,u)}),[a,u,l,i])}_(c,"useFocusTransitionListener")},8369079536:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3134334389);function s(){const o=(0,t.useRef)(!1);return(0,t.useEffect)(()=>(o.current=!0,()=>{o.current=!1})),o}_(s,"useMounted")},5204962244:(N,g,e)=>{"use strict";e.d(g,{d:()=>s});var t=e(3134334389);function s(o){const n=(0,t.useRef)();return n.current===void 0&&(n.current=o()),n.current}_(s,"useRefCreator")},3107743571:(N,g,e)=>{"use strict";e.d(g,{Z:()=>s});var t=e(3134334389);const s=_(function(o){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=(0,t.useRef)(),r=(0,t.useCallback)(()=>{const a=i.current;a&&(window.clearTimeout(a),i.current=void 0)},[]);return(0,t.useEffect)(()=>(r(),i.current=window.setTimeout(o,n),r),[o,r,n,...c]),r},"useTimeout")},4003148341:(N,g,e)=>{"use strict";e.d(g,{x:()=>o});var t=e(6122756707),s=e(3855029223);function o(){const{getState:n}=(0,t.Pj)();return(0,s.E)({getState:n})}_(o,"useTracer")},5519459863:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(6122756707),s=e(9506008067),o=e(2047021170),n=e(387484329);function c(i){const r=(0,t.wA)();return[(0,s.d4)(a=>(0,o.ty)(a,i)),a=>r((0,n.AZ)({pref:i,value:a}))]}_(c,"useUserPref")},4803841689:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(9323322135),o=e(4094753332);function n(){const c=(0,o.y3)()&&s.pRi.isAvailable(),i=c?(0,s.pRi)():1,[r,a]=(0,t.useState)(i);return(0,t.useEffect)(()=>{if(!c)return;function l(){const d=(0,s.pRi)();d!==r&&a(d)}return _(l,"onWindowResize"),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[c,r]),r}_(n,"useZoomFactor")},3320454392:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){const o=_(()=>{window.Cypress||s()},"unloadHandler");window.addEventListener("beforeunload",o)}_(t,"addUnloadHandler")},9853754481:(N,g,e)=>{"use strict";e.d(g,{Ep:()=>c,n2:()=>r,Ay:()=>l});var t=e(6313685253);const s=window.AudioContext||window.webkitAudioContext,o=window.AnalyserNode;var n=e(7299481592);const c=6;function i(d){let u=1;for(;u*2<d;)u*=2;return u}_(i,"getPowerof2LessThan");function r(d){let f=.01;for(const h of d)f=Math.max(f,(h-128)/128);const m=(Math.log(.01)-Math.log(f))/Math.log(.01);return Math.min(Math.max(m,0),1)}_(r,"computeStrength");function a(d){return(0,t.A)(d,(u,f)=>{const m=f.getSettings().sampleRate;return m!==void 0&&u!==void 0?Math.max(u,m):m},void 0)}_(a,"getMaxTrackSampleRate");let l=_(class{getLevel(){var u;return(u=this.analyserNode)===null||u===void 0||u.getByteTimeDomainData(this.data),r(this.data)/c}stop(){var u;if(this.analyserNode){var f;(f=this.audioNode)===null||f===void 0||f.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(u=this.audioCtx)===null||u===void 0||u.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(u,f){(0,n.M)(f>=0,"Level poll interval must be positive"),this.audioCtx=new s;const m=u.getAudioTracks();(0,n.M)(!!m.length,"Need audio tracks to run analyser");const v=(a(m)||48e3)*f/1e3,p=Math.max(32,Math.min(32768,i(v)));this.data=new Uint8Array(p),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=p,this.audioNode=this.audioCtx.createMediaStreamSource(u),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},1829947126:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(6267571562);class s{createPublisher(c){return this.publishers[c]=new t.G,this.publishers[c]}createAllPublisher(){return this.allPublisher=new t.G,this.allPublisher}publish(c,i){const r=this.publishers[c];r&&r.publish(i)}publishAll(c,i){var r;const a={peerId:c,value:i};(r=this.allPublisher)===null||r===void 0||r.publish(a)}subscribe(c,i){(this.publishers[c]||this.createPublisher(c)).subscribe(i)}subscribeAll(c){this.createAllPublisher().subscribe(c)}unsubscribe(c,i){const r=this.publishers[c];r&&r.unsubscribe(i)}constructor(){this.publishers={}}}_(s,"PeerPubSub");const o=new s},7396150282:(N,g,e)=>{"use strict";e.d(g,{x:()=>c});var t=e(9853754481),s=e(1829947126),o=e(9009528296);const n=100;class c{setPreviewStream(r){if(!r){this.previewAudioAnalyser=void 0;return}this.previewAudioAnalyser=new t.Ay(r,n)}cleanup(){var r,a;this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=0),(r=this.previewAudioAnalyser)===null||r===void 0||r.stop(),this.previewAudioAnalyser=void 0,(a=this.selfAudioAnalyser)===null||a===void 0||a.stop(),this.selfAudioAnalyser=void 0}constructor(){this.intervalHandle=window.setInterval(()=>{this.selfAudioAnalyser&&s.A.publish("self",this.selfAudioAnalyser.getLevel()),this.previewAudioAnalyser&&o.A.publish(this.previewAudioAnalyser.getLevel())},n)}}_(c,"PreviewAudioLevelMonitor")},9009528296:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(6267571562);const s=new t.G},5046160032:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(7084070851);const s=window.navigator&&typeof window.navigator.sendBeacon=="function";function o(n){let{apiUrl:c,method:i,token:r,args:a={},versionTs:l="",versionUid:d=""}=n,u=!1;const f=(0,t.D)();let m=`${c}${i}?_x_id=${d.substring(0,8)}-${Date.now()/1e3}`;f!==null&&(m+=`&fp=${f}`);const h=new FormData;if(h.append("token",r),Object.keys(a).forEach(v=>h.append(v,a[v])),s)u=navigator.sendBeacon(m,h);else{const v=new XMLHttpRequest;v.addEventListener("load",()=>{const{readyState:p,status:T,DONE:A}=v;p===A&&T===200&&(u=!0)}),v.open("POST",m,!0),v.setRequestHeader("X-Slack-Version-Ts",l),v.send(h)}return u}_(o,"beaconApiCall")},274973508:(N,g,e)=>{"use strict";e.d(g,{O:()=>t});class t{get(o){if(!this.cache.has(o))return;const n=this.cache.get(o);return this.cache.delete(o),this.cache.set(o,n),n}set(o,n){if(this.cache.has(o))this.cache.delete(o);else if(this.cache.size>=this.maxSize){const c=this.cache.keys().next().value;this.cache.delete(c)}this.cache.set(o,n)}has(o){return this.cache.has(o)}delete(o){this.cache.has(o)&&this.cache.delete(o)}size(){return this.cache.size}clear(){this.cache.clear()}constructor(o=20){this.cache=new Map,this.maxSize=o}}_(t,"LRUCacheMapOnly")},8935621861:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(1545824888),s=e(2801744021),o=e(6273911963);async function n(f){const m=new o.A({url:f?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const h=await new s.Ay().q(m);return JSON.parse(h).region}catch{return""}}_(n,"fetchNearestChimeMediaRegion");var c=e(3320454392),i=e(337319621);let r=_(class ta{writeRegions(m,h){const v=h?ta.GOV_REGION_STORAGE_KEY:ta.REGION_STORAGE_KEY,p={regions:m,timestamp:Date.now(),version:ta.VERSION};try{localStorage.setItem(v,JSON.stringify(p))}catch(T){(0,i.Wo)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",T.message)}}readRegions(m){const h=m?ta.GOV_REGION_STORAGE_KEY:ta.REGION_STORAGE_KEY,v=localStorage.getItem(h);if(!v)return null;let p=null;try{p=JSON.parse(v)}catch(T){return(0,i.Wo)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",T.message),null}return p.version!==ta.VERSION||this.ttl&&Date.now()-p.timestamp>this.ttl?null:p}constructor(m){this.ttl=m}},"ChimeRegionStorage");r.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",r.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",r.VERSION=1;var a=e(3390261877),l=e(7668372645),d=e(7311246228);let u=_(class Ks{static getInstance(){return Ks.instance||(Ks.instance=new Ks),Ks.instance}async getNearestChimeMediaRegion(m){return(m?(0,d.H)(m):!1)?this.getNearestChimeGovMediaRegion():this.getNearestChimeCommercialMediaRegion()}async getNearestChimeCommercialMediaRegion(){if(!this.commercialRegions){const m=this.storage.readRegions(!1);m&&(this.commercialRegions=m.regions)}return this.commercialRegions?this.commercialRegions:this.remoteGetNearestChimeMediaRegion(!1)}async getNearestChimeGovMediaRegion(){if(!this.govRegions){const m=this.storage.readRegions(!0);m&&(this.govRegions=m.regions)}return this.govRegions?this.govRegions:this.remoteGetNearestChimeMediaRegion(!0)}async remoteGetNearestChimeMediaRegion(m){const h=await t.S.resolve(n(m));return m?this.govRegions=h:this.commercialRegions=h,this.storage.writeRegions(h,m),h}init(){if(this.initialized)return 0;this.initialized=!0;const m=(0,l.z$)();let h=Ks.INITIAL_LOAD_DELAY;const v=this.storage.readRegions(m);v&&(m?this.govRegions=v.regions:this.commercialRegions=v.regions,h=Math.max(Ks.INITIAL_LOAD_DELAY,Ks.REFRESH_INTERVAL-(Date.now()-v.timestamp)));const p=setTimeout(async()=>{await this.remoteGetNearestChimeMediaRegion(m);const T=new a.A(Ks.REFRESH_INTERVAL);T.start(async()=>{await this.remoteGetNearestChimeMediaRegion(m)}),(0,c.A)(()=>{T.stop()})},h);return(0,c.A)(()=>{clearTimeout(p)}),h}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new r(Ks.REFRESH_INTERVAL)}},"ChimeRegionProvider");u.REFRESH_INTERVAL=3*24*60*60*1e3,u.INITIAL_LOAD_DELAY=5*1e3},3390261877:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});let t=_(class{start(o){this.stop(),this.timer=setInterval(o,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(o){this.intervalMs=o,this.timer=null}},"IntervalScheduler")},6728003438:(N,g,e)=>{"use strict";e.d(g,{F4:()=>S,GC:()=>W,lP:()=>U,no:()=>E});var t=e(9113979368),s=e(2028988448),o=e(8851980998),n=e(8872992289),c=e(8162259364),i=e(337319621),r=e(2250002584),a=e(3855029223),l=e(8847766420),d=e(6533394955),u=e(8802876335);const f="RTM-EVENT-METRICS",m=4;let h=!1,v;const p=50;function T(){return h?!0:(0,c.A)()?(v===void 0&&(v=(0,n.A)(p),v&&(0,i.Wo)({label:f}).info("Metrics collection enabled for the current interval.")),v):!1}_(T,"shouldSampleForInterval");let A={},C={},I={},D={},y={},P={};function E(B){let{teamOrEnterpriseId:K,rtmEventType:H,rtmEventSubtype:Y,duration:Z,msgs:V,fromEvtLog:ne}=B;var q;if(!T())return;const me=(0,l.Kc)((q=(0,d.jp)(K))===null||q===void 0?void 0:q.getState());if(!me)return;const ue=H==="message"?`message/${Y}`:H;ne&&M({bucket:y,teamOrEnterpriseId:me,eventType:ue,value:V.length}),M({bucket:C,teamOrEnterpriseId:me,eventType:ue,value:1}),M({bucket:I,teamOrEnterpriseId:me,eventType:ue,value:V.length}),M({bucket:D,teamOrEnterpriseId:me,eventType:ue,value:Z})}_(E,"incrementMetrics");function M(B){let{bucket:K,teamOrEnterpriseId:H,eventType:Y,value:Z}=B;var V;const ne=(V=K[H])!==null&&V!==void 0?V:{};var q;const me=(q=ne[Y])!==null&&q!==void 0?q:0;ne[Y]=me+Z,K[H]=ne}_(M,"incrementBucket");function S(B,K){if((0,t.A)(I)&&(0,t.A)(A)){x();return}const H=Object.keys({...I,...A}),Y=setInterval(()=>{const Z=(0,i.Wo)({label:f}),V=H.pop();if(!V){Z.info("Completed metrics aggregation",{traceId:B.getTraceId()}),clearInterval(Y);return}Z.info(`Sending metric report for id: ${V}`),O({teamOrEnterpriseId:V,clientMetricsTrace:B,performanceTracingTags:K}),k({teamOrEnterpriseId:V,clientMetricsTrace:B,performanceTracingTags:K}),L(V)},1e3)}_(S,"reportRtmMetrics");function R(B,K){const H=(0,d.$D)(B);return{...K,metric_version:m,slow_connection_count:(0,u.d4)(H)}}_(R,"getMetricsTraceMetatags");function k(B){let{teamOrEnterpriseId:K,clientMetricsTrace:H,performanceTracingTags:Y}=B;const Z=A[K];if(!Z)return;const V=(0,a.E)({teamOrEnterpriseId:K}),ne=V.createMetricsTrace({label:"rtm_incoming",tags:R(K,Y),traceId:H.getTraceId(),parentSpanId:H.getRootSpanId()});var q;const me=(q=P[K])!==null&&q!==void 0?q:{};let ue=0,ae=0;Object.entries(Z).forEach(le=>{let[fe,he=0]=le;var ie;const X=(ie=me[fe])!==null&&ie!==void 0?ie:0;ue+=he,ae+=X,ne.store({name:"rtm_incoming:event_count",value:he}).addTags({event_type:fe,eventlog_count:X,socket_count:he-X})}),ne.store({name:"rtm_incoming:total_event_count",value:ue}),ne.store({name:"rtm_incoming:total_event_count:socket",value:ue-ae}),ne.store({name:"rtm_incoming:total_event_count:eventlog",value:ae}),(0,i.Wo)({label:f}).info(`${K} total incoming event count: ${ue}`),V.reportTrace(ne)}_(k,"maybeReportRawEventCount");function O(B){let{teamOrEnterpriseId:K,clientMetricsTrace:H,performanceTracingTags:Y}=B;const Z=I[K];if(!Z)return;const V=(0,a.E)({teamOrEnterpriseId:K}),ne=V.createMetricsTrace({label:"rtm_dispatch",tags:R(K,Y),traceId:H.getTraceId(),parentSpanId:H.getRootSpanId()});var q;const me=(q=C[K])!==null&&q!==void 0?q:{};var ue;const ae=(ue=D[K])!==null&&ue!==void 0?ue:{};var le;const fe=(le=y[K])!==null&&le!==void 0?le:{};let he=0,ie=0;Object.entries(Z).forEach(X=>{let[j,w]=X;const Q=me[j],G=ae[j];if(Q===void 0||G===void 0)return;var J;const te=(J=fe[j])!==null&&J!==void 0?J:0;he+=w,ie+=te,ne.store({name:"rtm_dispatch:duration",value:G}).addTags({event_type:j,total_events:w,total_batches:Q,per_event_duration:G/w,eventlog_count:te,socket_count:w-te})}),ne.store({name:"rtm_dispatch:total_event_count",value:he}),ne.store({name:"rtm_dispatch:total_event_count:socket",value:he-ie}),ne.store({name:"rtm_dispatch:total_event_count:eventlog",value:ie}),(0,i.Wo)({label:f}).info(`${K} total dispatch event count: ${he}`),V.reportTrace(ne)}_(O,"maybeReportEventMetrics");function U(B){let{teamId:K,msgs:H}=B;if(!T())return;const Y=(0,d.$D)(K);var Z;const V=(Z=(0,l.Kc)(Y))!==null&&Z!==void 0?Z:K,ne=H.reduce((q,me)=>(!me||!me.type||(q[me.type]?q[me.type]+=1:q[me.type]=1),q),{});Object.entries(ne).forEach(q=>{let[me,ue]=q;M({bucket:A,teamOrEnterpriseId:V,eventType:me,value:ue}),M({bucket:P,teamOrEnterpriseId:V,eventType:me,value:ue})})}_(U,"countRawEventsVolumeFromEventLog");function W(B){let{teamId:K,msg:H}=B;if(!T()||!H||!H.type)return;const Y=(0,d.$D)(K);var Z;const V=(Z=(0,l.Kc)(Y))!==null&&Z!==void 0?Z:K;M({bucket:A,teamOrEnterpriseId:V,eventType:H.type,value:1})}_(W,"countRawEventVolume");function x(){v=void 0,A={},I={},C={},D={},y={},P={},(0,i.Wo)({label:f}).info("Metrics collection sampling has been reset.")}_(x,"resetAllCollections");function L(B){v=void 0,delete A[B],delete I[B],delete C[B],delete D[B],delete y[B],delete P[B],(0,i.Wo)({label:f}).info(`Metrics collection sampling has been reset for id: ${B}`)}_(L,"resetCollections");const b=_(()=>({rawEventCountBuckets:A,eventCountBuckets:I,batchCountBuckets:C,durationBuckets:D,eventLogEventCountBuckets:y,eventLogRawEventCountBuckets:P}),"debugGetBuckets");(0,s.ul)("rtmEventMetrics",{debugGetBuckets:b,debugToggleSampling:()=>{h=!h,x(),(0,i.Wo)({label:f}).info(`Interval sampling: ${h?"ON":"OFF"}`)},debugReportMetrics:()=>{const B=(0,r.F)(),K=B.createMetricsTrace({samplingOptions:{sampleType:o.tS.ALWAYS}});S(K,{}),B.reportTrace(K)}}),Object.defineProperty({resetAllCollections:x,debugGetBuckets:b,reportRtmMetrics:S,intervalSampleCache:v},"intervalSampleCache",{get:()=>v,set:B=>{v=B}})},6400853592:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(5950652755),s=e(337319621);let o=!1;const n=_(l=>{var d;if(!l)return;let u="";const f=l.srcElement||l.target,m=s.Wo&&(0,s.Wo)();if(f&&f.nodeName){if(f.nodeName==="SCRIPT"){const p=f.src;u=`[${l.type||"error"}] from script at ${p} (failed to load?)`}else if(f.nodeName==="IMG"){const p=f.src||f.currentSrc||"unknown";m.warn(`<img> fired error with url = ${p}`);return}}if(l.message==="ResizeObserver loop limit exceeded"||l.message==="ResizeObserver loop completed with undelivered notifications"){m.warn("ResizeObserver observation target modified in handler");return}if(l.message==="can't access dead object"||l.message==="rambox is not defined")return;if(l.error&&l.error.stack&&(u+=` ${l.error.stack}`),l.filename){const p=l.filename,T=l.lineno,A=l.colno;u+=` from ${p}`,T&&(u+=` @ line ${T}, col ${A}`)}let h;if(l.error&&l.error.stack?h=u:h=`${l.message||""} ${u}`,h&&h.replace&&(h=h.replace(/\s+/g," ").trim()),!h||!h.length)if(f){const p=f.nodeName||"unknown";if(p==="VIDEO")return;h=`error event from node of ${p}, no message provided?`}else h="error event fired, no relevant message or node found";h=`\u{1F41E} ${h}`;const v=((d=l.error)===null||d===void 0?void 0:d.subtype)||"js_runtime_error";c({error:l.error||l,msg:h,subtype:v})},"globalErrorHandler");function c(l){const{error:d,msg:u,subtype:f}=l,m={subtype:f};(0,s.Wo)().error(d,u,m)}_(c,"logError");const r=_(l=>{const d=l||window;if(o)return;d.bootGlobalErrorHandler&&(d.removeEventListener("error",d.bootGlobalErrorHandler,!0),d.removeEventListener("unhandledrejection",d.bootGlobalUnhandledRejectionHandler),delete d.bootGlobalErrorHandler,delete d.bootGlobalUnhandledRejectionHandler);const u=!0,f=(0,t.A)(n,1e4);d.addEventListener("error",f,u),d.addEventListener("unhandledrejection",m=>{var h;const v=m==null||(h=m.detail)===null||h===void 0?void 0:h.reason;v&&v instanceof Error&&(v.constructor!==Error||v.subtype)&&n({error:v,filename:"promise_rejection"})}),o=!0},"registerRuntimeErrorHandler"),a={globalErrorHandler:n};Object.defineProperty(a,"logError",{get:()=>c,set:l=>{c=l}}),Object.defineProperty(a,"hasRegisteredRuntimeErrorHandler",{get:()=>o,set:l=>{o=l}})},3794236791:(N,g,e)=>{"use strict";e.d(g,{AZ:()=>R,OF:()=>D,ZI:()=>O,xv:()=>k});var t=e(3398586081),s=e(5154341017),o=e(6890312250),n=e(2240330919),c=e(5238395322),i=e(2028988448),r=e(8851980998),a=e(8872992289),l=e(337319621),d=e(7578434623),u=e(2250002584),f=e(4096483543),m=e(2791814261);const h=7;let v;const p=[],T=[];let A,C;(0,i.zv)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:p.concat(A),backgroundTeams:T.concat(C)}}));const I=(0,t.A)(()=>(0,a.A)(1)||(0,m.c)());function D(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!(0,f.A)()||!I())return;const W=Math.floor(Date.now()/1e3);if(v!==W){let x=0;if(v){const L=W-v;L>60?(A=void 0,C=void 0,p.length=0,T.length=0):L>1&&(x=W-v)}if(v=W,A!==void 0){p.push(A),T.push(C);for(let b=0;b<x;b++)p.push(0),T.push(0);const L=15*60;if(p.length>=L){const b=(0,d.rh)(),F=(0,s.A)((0,o.A)(p),1),B=(0,n.A)(p)||0,K=(0,c.A)(p);(0,l.Wo)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${K} total, ${B} per second at peak, ${F} per second average`);const Y={is_count:!0,allow_zero:!0};b.store(`rtm_nq_at${h}_avg`,F,Y),b.store(`rtm_nq_at${h}_max`,B,Y),b.store(`rtm_nq_at${h}_total`,K,Y),p.length=0,T.length=0}}A=0,C=0}A=(A||0)+U}_(D,"maybeMeasureEnqueueVelocity");let y=0,P=0,E=Date.now(),M=Date.now();const S=5*60*1e3;function R(U){const W=Date.now();y=Math.max(y,U.length),E+S<W&&((0,d.rh)().count("rtm_queue_length_max",y),y=0,E=W)}_(R,"maybeMeasureMaxQueueLength");function k(U){const x=U[0]._enqueuedAt,L=Date.now(),b=x&&L-x;if(P=b?Math.max(P,b):P,M+S<L){const F=(0,u.F)(),B=F.createMetricsTrace({label:"rtm_queue"});B.store({name:"rtm_queue_delay_max",value:P}),F.reportTrace(B),P=0,M=L}}_(k,"maybeMeasureMaxQueueDelay");function O(U,W){const x=(0,u.F)(),L=x.createMetricsTrace({label:"rtm_state_modified",samplingOptions:{sampleType:r.tS.CALL,sampleRate:.01}}),b=W?`${U}/${W}`:U;L.count({name:`rtm_state_modified:${b}`}),x.reportTrace(L)}_(O,"countRTMStateModified")},2044530601:(N,g,e)=>{"use strict";e.d(g,{dj:()=>ae,d1:()=>le,uH:()=>ue,bo:()=>ie,sw:()=>Le,mt:()=>ge,OX:()=>he,yH:()=>_e});var t=e(3398586081),s=e(7715417323),o=e(1545824888),n=e(1509951422),c=e(1658558415),i=e(5470425448),r=e(5071086688),a=e(8352634987),l=e(2028988448),d=e(6728003438),u=e(3078252698),f=e(8571983633),m=e(4446301238),h=e(3929724715),v=e(1407713935),p=e(7334104107),T=e(8040098042),A=e(8847766420),C=e(6533394955),I=e(9101533895),D=e(7042557635);function y(Re,xe,We){return!Re.text||!(p.$2.test(Re.text)||p.Oh.test(Re.text)||p.K0.test(Re.text)||p.y7.test(Re.text))||!(0,I.hh)(We(),Re.channel)?o.K.resolve():xe((0,D.L)({channelId:Re.channel})).catch(s.A)}_(y,"maybeEnsureMemberCount");let P=_(async(Re,xe)=>{const We=xe(),$=_(function(){for(var st=arguments.length,Ge=new Array(st),be=0;be<st;be++)Ge[be]=arguments[be];return(0,C.Qw)((0,A.ZT)(We),...Ge)},"dispatch"),ee=Re.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${Re.type} and subtype: ${Re.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${Re.type}`,ze=(0,u.A)(Re.channel)&&(0,T.A)(Re.channel)&&!(0,I.hh)(We,Re.channel)?$((0,m.pX)({ids:[Re.channel],reason:ee,callSource:m.aI.EnsureModelObsArePresent})):o.K.resolve();await o.K.all([ze,y(Re,$,xe)]).catch(s.A)},"ensureModelObsInMessageArePresent");async function E(Re,xe){if(Re.subtype)return;const We=!1,$=(0,I.OL)(xe(),Re.channel,We);if(!$||!(0,v.JM)($))return;const ee=(0,f.A)((0,h._V)(xe(),$));(0,h.nT)($)&&!ee||await(0,C.Qw)((0,A.ZT)(xe()),(0,m.jP)({channel:$.id,reason:(0,h.nT)($)&&ee?"preprocess-rtm-message/open-channel-no-last-read":"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))}_(E,"ensureModelObsInMessageAreOpen");async function M(Re,xe){if(Re.type==="message")try{await P(Re,xe),await E(Re,xe)}catch{}}_(M,"preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:y,ensureModelObsInMessageAreOpen:E},"ensureModelObsInMessageArePresent",{get:()=>P,set:Re=>{P=Re}});var R=e(3794236791),k=e(7578217447),O=e(337319621),U=e(2681892953),W=e(1369898444),x=e(6304789565),L=e(5795074931),b=e(4761125736);const F="RTM",B=16;let K={},H={},Y={};function Z(Re){var xe;return(xe=H[Re])!==null&&xe!==void 0?xe:K[Re]}_(Z,"getHandler");function V(Re){return Re.__isShared}_(V,"isSharedHandler");function ne(Re){return Re.teamOrEnterpriseId}_(ne,"getTeamOrEnterpriseId");function q(Re){let{messages:xe,teamOrEnterpriseId:We}=Re;if(xe.msgs.length===0)return;const $=Z(xe.rtmEventType);if($)return{handler:$,messages:xe,teamOrEnterpriseId:We}}_(q,"getRoutedHandler");function me(Re,xe){if(Y[Re]){const $=isJasmine()||isJest()?`addRtmErrorHandler: duplicate call to add a handler for ${Re}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${Re}`;throw new Error($)}Y[Re]=xe}_(me,"addRtmErrorHandler");function ue(Re,xe){fe({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:Re});const We=Object.assign(xe,{__isShared:!0});H[Re]=We}_(ue,"addSharedRtmHandler");function ae(Re,xe){fe({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:Re}),K[Re]=xe}_(ae,"addBatchRtmHandler");function le(Re,xe){ae(Re,(We,$,ee)=>{for(const Ve of We)xe(Ve,$,ee)})}_(le,"addRtmHandler");function fe(Re){let{functionName:xe,handlersName:We,rtmEventType:$}=Re;if(!K[$]&&!H[$])return;const Ve=(0,n.A)()||(0,c.A)()?`${xe}: duplicate call to add a handler for ${$}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${We}', {});\` to work around it.`:`${xe}: a handler is already registered for ${$}`;throw new Error(Ve)}_(fe,"throwIfHandlerRegistered");function he(Re){delete K[Re]}_(he,"removeRtmHandler");function ie(Re){return!!K[Re]}_(ie,"doesHandlerExist");function X(){return K}_(X,"debugGetHandlers");const j=(0,t.A)(Re=>{var xe;if(!(0,W.M)())return!1;const We=(xe=(0,C.oK)(Re))===null||xe===void 0?void 0:xe.getState();return We&&(0,b._Z)(We,"profile_rtm")==="on"});let w=null,Q={},G=null;function J(){Q={},w=new Profiler({maxBufferSize:1e4,sampleInterval:0}),w.addEventListener("samplebufferfull",_(function(){const xe=this.sampleInterval,We=Q;this.stop().then($=>{const ee=performance.timeOrigin;for(const[Ve,ze]of Object.entries(We)){if(!ze.length)continue;const st=new Date(ee+ze[0].start),Ge=new Date(ee+ze[ze.length-1].end);(0,U.lM)("rtm",Ve,(0,W.W)($,ze),{from:st,until:Ge,sample_interval:xe})}}),J()},"samplebufferfull"))}_(J,"startProfiling");let te=!1;function se(Re){try{if(te||!j(Re))return;w||J(),G=performance.now()}catch(xe){te=!0,(0,O.Ay)({label:F,teamOrEnterpriseId:Re}).warn("Unable to begin profiled section",xe)}}_(se,"beginProfiledSection");function ce(Re){!w||G===null||(Re in Q||(Q[Re]=[]),Q[Re].push({start:G,end:performance.now()}),G=null)}_(ce,"endProfiledSection");function Ee(Re){const{rtmEventType:xe,rtmEventSubtype:We,msgs:$,fromEvtLog:ee}=Re.messages,Ve=ne(Re),ze=(0,O.Ay)({label:F,teamOrEnterpriseId:Ve});se(Ve);const st=performance.now();try{a.Ay.pauseRefetchIndefinitely();const Se=Re.handler,we=(0,C.oK)(Re.teamOrEnterpriseId),Ce=we==null?void 0:we.getState();V(Se)?Se($,Re.teamOrEnterpriseId):Se($,we.dispatch,we.getState);const Te=we==null?void 0:we.getState();Ce!==Te&&(0,R.ZI)(xe,We)}catch(Se){throw ze.error(`Error processing ${xe}: ${Se.message}`),Se}finally{a.Ay.unpauseRefetchImmediately()}const Ge=performance.now();ce(Ve);const be=Ge-st;try{(0,d.no)({teamOrEnterpriseId:Ve,rtmEventType:xe,rtmEventSubtype:We,duration:be,msgs:$,fromEvtLog:ee}),r.A.publish({type:i.lx.RtmMetrics,update:be})}catch{}if(be>B){let Se=`Processed ${$.length} ${xe}`;We&&(Se+=`:${We}`),Se+=" event(s)";const we=[];$.forEach(Ce=>{var Te;const Ye=(Te=Ce)===null||Te===void 0?void 0:Te.channel;Ye&&we.push(Ye)}),we.length&&(Se+=` in channel(s) ${we.join(",")}`),Se+=` over ${be.toFixed(2)}ms`,ze.info(Se)}}_(Ee,"dispatchMessages");const de=50;async function re(Re){let{msgs:xe,getState:We}=Re;const $={},ee=3e4,Ve=o.S.delay(ee,$),ze=o.S.map(xe,Ge=>M(Ge,We).catch(s.A),{concurrency:1});await o.S.race([ze,Ve])===$&&(0,O.Ay)({getState:We}).warn("Preprocessing messages took too long; continue to process queue")}_(re,"preprocessRtmMessagesWithTimeout");async function _e(Re){let{messages:xe,teamOrEnterpriseId:We,elapsed:$}=Re;const ee=q({messages:xe,teamOrEnterpriseId:We});return!ee||ke(We)?$:ve({routedHandler:ee,elapsed:$})}_(_e,"routeMessages");async function ve(Re){let{routedHandler:xe,elapsed:We}=Re;const $=performance.now(),ee=(0,C.oK)(xe.teamOrEnterpriseId);await re({msgs:xe.messages.msgs,getState:ee.getState});const Ve=performance.now();Ee(xe);let ze=We;return Ve-$>de&&(ze=0),ze+=performance.now()-Ve,ze}_(ve,"dispatchMessagesWithPreprocessing");const ge=(0,x.Ay)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(Re,xe,We)=>{const $=(0,A.ZT)(xe()),ee=q({messages:{rtmEventType:We.type,rtmEventSubtype:We.subtype,msgs:[We],fromEvtLog:(0,k.Wu)(We)},teamOrEnterpriseId:$});ee&&Ee(ee)});ge.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const Le=(0,x.Ay)("Calls the relevant handler for the given message",(Re,xe,We)=>{if(!Y[We]){if(We&&We.includes&&We.includes("started_with_org_token")){var $;(0,O.Ay)({getState:xe}).error(new Error(`Unexpected start error: ${We}`),JSON.stringify({error:We,pathname:window==null||($=window.location)===null||$===void 0?void 0:$.pathname}),{subtype:"gs_start_error"})}else(0,O.Ay)({getState:xe}).error(new Error(`Unexpected start error: ${We}`),JSON.stringify({error:We}),{subtype:"gs_start_error"});return}Y[We](We,Re,xe)});Le.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function ke(Re){const xe=(0,C.$D)(Re);return(0,L.wx)(xe)&&!(0,L.$U)(xe)}_(ke,"shouldIgnoreRtmStream");const Ke=(0,x.Ay)("Fake an RTM event for testing only",(Re,xe,We)=>{const $=(0,A.ZT)(xe()),ee=q({messages:{rtmEventType:We[0].type,rtmEventSubtype:We[0].subtype,msgs:We,fromEvtLog:(0,k.Wu)(We[0])},teamOrEnterpriseId:$});ee&&Ee(ee)});Ke.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const Ne={shouldIgnoreRtmStream:ke,errorHandlers:Y,handlers:K,sharedHandlers:H};Object.defineProperty(Ne,"errorHandlers",{get:()=>Y,set:Re=>{Y=Re}}),Object.defineProperty(Ne,"handlers",{get:()=>K,set:Re=>{K=Re}}),Object.defineProperty(Ne,"sharedHandlers",{get:()=>H,set:Re=>{H=Re}}),(0,l.ul)("rtm",{handlers:K,errorHandlers:Y,interceptHandler:(Re,xe)=>{const We=K[Re];K[Re]=function(){for(var $=arguments.length,ee=new Array($),Ve=0;Ve<$;Ve++)ee[Ve]=arguments[Ve];xe(We,...ee)}}})},5387083734:(N,g,e)=>{"use strict";e.d(g,{IE:()=>h});var t=e(862210999),s=e(4518410378),o=e(337319621),n=e(4473827453),c=e.n(n),i;(function(v){v.Background="background",v.UserVisible="user-visible",v.UserBlocking="user-blocking"})(i||(i={}));const r=(0,o.Wo)({label:"SCHEDULER"}),a="scheduler"in s.J&&(0,t.A)(s.J.scheduler.postTask),l=50;let d=0,u=null;const f=_((v,p)=>{let{label:T,priority:A,delay:C}=p;if(!a)return v();d+=1;const I=performance.now();return s.J.scheduler.postTask(()=>{const D=performance.now(),y=D-I,P=u?D-u:0;u=D,y-C>l&&r.debug(`${T} task (${A}) executed with delay of ${Math.round(y)}ms and a configured delay of ${C}ms - time since last task: ${P}ms - Task queue length: ${d}`);const M=v();return d-=1,M},{priority:A,delay:C})},"runWithPriority"),m=_(()=>{if(a)return d},"getTaskQueueLength"),h=_((v,p,T)=>f(p,{label:v,priority:i.Background,delay:(T==null?void 0:T.delay)||0}),"runWithBackgroundPriority")},6143061638:(N,g,e)=>{"use strict";e.d(g,{ig:()=>u});var t=e(2763437247),s=e(6533394955),o=e(6209625934),n=e(4761125736);function c(h,v){const p=Object.values((0,s.jm)());for(const T of p){if(!T)continue;const A=T.getState(),C=(0,n.KK)(A,h);C&&C.log_exposures&&v===C.group&&(0,o.K)(h,C,A)}}_(c,"logExposuresForSession");var i=e(7002741921),r=e(337319621),a=e(9272190578);function l(h,v){if((0,t.SC)(h),v)try{v()}catch(p){(0,r.Wo)().error(`caught error from cleanupCallback: ${p}`)}}_(l,"rollbackToggle");function d(h){let{toggleName:v,toggleGroup:p}=h;return(0,i._)(v,p,!1)}_(d,"defaultToggleGroupMatcher");function u(h,v){var p;const T=(p=v==null?void 0:v.customToggleGroupMatcher)!==null&&p!==void 0?p:d,A=(0,t.M_)(h),C=f(h,A,T);if(v.nonMemoized&&C!==t.dw.NoGroup&&c(h,C),A===null&&C!==t.dw.NoGroup){(0,t.jc)(h,C);return}C===t.dw.NoGroup&&(0,t.GI)(A)?(l(h,v==null?void 0:v.cleanupCallback),v.forceReloadOnRollback&&(0,t.zt)(A)&&(0,a.As)({reason:`Rolling back ${h} toggle`,reasonKey:`rollback_${h}_toggle`})):C!==A?(0,t.jc)(h,C):C===A&&c(h,A)}_(u,"setToggleGroupForNextSession");function f(h,v,p){const T=p({toggleName:h,toggleGroup:t.dw.Treatment}),A=p({toggleName:h,toggleGroup:t.dw.Control}),C=p({toggleName:h,toggleGroup:t.dw.On}),I=p({toggleName:h,toggleGroup:t.dw.Off});return T&&A?v===t.dw.Treatment?t.dw.Treatment:v===t.dw.Control?t.dw.Control:Math.random()<.5?t.dw.Treatment:t.dw.Control:C&&I?v===t.dw.On?t.dw.On:v===t.dw.Off?t.dw.Off:Math.random()<.5?t.dw.On:t.dw.Off:T?t.dw.Treatment:A?t.dw.Control:C?t.dw.On:I?t.dw.Off:t.dw.NoGroup}_(f,"getCurrentToggleGroup");const m={getCurrentToggleGroup:f}},6140401014:(N,g,e)=>{"use strict";e.d(g,{E6:()=>I,cV:()=>y});var t=e(9746734072),s=e(1649982175),o=e(8289365785),n=e(5082930587),c=e(6946629059),i=e(337319621);let r=_(class{label(){return this._data.label}isUnknown(){return!1}isText(){return!1}isRichText(){return!1}isTimestamp(){return!1}isDate(){return!1}isImage(){return!1}isUser(){return!1}isSlackUser(){return!1}isChannel(){return!1}isTag(){return!1}isLong(){return!1}input(){return this._data.input}static makeField(E){try{switch(E.field_type){case"date":return new h(E);case"user":return new d(E);case"slack_user":return new u(E);case"text":return new l(E);case"rich_text":return new m(E);case"image":return new v(E);case"timestamp":return new T(E);case"tag":return new p(E);case"channel":return new f(E);default:try{(0,n.Kh)(E.field_type)}catch{(0,i.Wo)().warn(`unrecognized work object field type: ${E.field_type}`)}return new a(E)}}catch(M){(0,i.Wo)().error(new Error(`invalid field: ${M}`));return}}data(){return this._data}constructor(E){this._data=E}},"BaseField"),a=_(class extends r{isUnknown(){return!0}value(){return this._value}constructor(E){if(E.rich_text===void 0)throw new Error("missing rich_text property");super(E),this._value=E.rich_text}},"UnknownField"),l=_(class extends r{isText(){return!0}value(){return this._value}isLong(){return this._isLong}constructor(E){if(E.text===void 0)throw new Error("missing text property");super(E),this._value=E.text,this._isLong=!!(E!=null&&E.long)}},"TextField"),d=_(class extends r{isUser(){return!0}value(){return this._value}constructor(E){if(E.user===void 0)throw new Error("missing user property");super(E),this._value=E.user}},"UserField"),u=_(class extends r{isSlackUser(){return!0}value(){return this._value}constructor(E){if(E.slack_user===void 0)throw new Error("missing slack_user property");super(E),this._value=E.slack_user}},"SlackUserField"),f=_(class extends r{isChannel(){return!0}value(){return this._value}constructor(E){if(E.channel===void 0)throw new Error("missing channel property");super(E),this._value=E.channel}},"ChannelField"),m=_(class extends r{isRichText(){return!0}value(){return this._value}isLong(){return this._isLong}constructor(E){if(E.rich_text===void 0)throw new Error("missing rich_text property");super(E),this._value=E.rich_text,this._isLong=!!(E!=null&&E.long)}},"RichTextField"),h=_(class extends r{isDate(){return!0}value(){return this._value}constructor(E){if(E.date===void 0)throw new Error("missing date property");if(E.date.length<1)throw new Error("empty date array");super(E),this._value=E.date[0]}},"DateField"),v=_(class extends r{isImage(){return!0}value(){return this._value}constructor(E){if(E.image===void 0)throw new Error("missing image property");if(E.image.length!==1)throw new Error("image array does not contain exactly one element");super(E),this._value=E.image[0]}},"ImageField"),p=_(class extends r{isTag(){return!0}value(){return this._value}constructor(E){if(E.tag===void 0)throw new Error("missing tag property");if(E.tag.length<1)throw new Error("empty tags array");super(E),this._value=E.tag}},"TagField"),T=_(class extends r{isTimestamp(){return!0}value(){return this._value}constructor(E){if(E.timestamp===void 0)throw new Error("missing timestamp property");if(E.timestamp.length<1)throw new Error("empty timestamp array");super(E),this._value=E.timestamp[0]}},"TimestampField"),A=_(class{key(){return this._key}title(){return this.layout.title.text}subtitle(){var E;return(E=this.layout.subtitle)===null||E===void 0?void 0:E.text}fields(){return this._fields}hasImage(){return this._fields.some(E=>E.isImage())}hasDate(){return this._fields.some(E=>E.isDate())}hasFields(){return!!this._fields.length}headerTitle(){var E;return(E=this.layout.header_title)===null||E===void 0?void 0:E.text}entityId(){return this._entityId}constructor(E,M){this._key=M;const S=E.layouts[this._key];if(!S)throw new Error("invalid layout");this.layout=S;const R=S.fields;var k;this._fields=(k=R==null?void 0:R.elements.map(O=>r.makeField(O)).filter(c.b))!==null&&k!==void 0?k:[],this._entityId=E.entity_id}},"Layout");class C extends A{hoverSubtitle(){var E;return(E=this.layout.hover_subtitle)===null||E===void 0?void 0:E.text}productIcon(){return this.layout.product_icon}constructor(E){super(E,"compact")}}_(C,"CompactLayout");class I extends A{hoverSubtitle(){var E;return(E=this.layout.hover_subtitle)===null||E===void 0?void 0:E.text}productIcon(){return this.layout.product_icon}actions(){return this.layout.actions}constructor(E){super(E,"expanded")}}_(I,"ExpandedLayout");class D extends A{headerTitle(){var E;return(E=this.layout.header_title)===null||E===void 0?void 0:E.text}headerSubtitle(){var E;return(E=this.layout.header_subtitle)===null||E===void 0?void 0:E.text}subtitleUrl(){var E;return(E=this.layout.subtitle)===null||E===void 0?void 0:E.url}subtitleImage(){var E;return(E=this.layout.subtitle)===null||E===void 0?void 0:E.image}isEditable(){var E;return(E=this.layout.editable)!==null&&E!==void 0?E:!1}actions(){return this.layout.actions}titleInput(){return this.layout.title.input}constructor(E){super(E,"full")}}_(D,"FullLayout");class y{static create(E){try{return new y(E)}catch(M){(0,i.Wo)().error(new Error(M));return}}compact(){try{return new C(this.data)}catch{return}}expanded(){try{return new I(this.data)}catch{return}}full(){try{return new D(this.data)}catch{return}}appId(){return this.data.app_id}entityId(){return this.data.entity_id}externalUrl(){return this.data.external_url}authProviderKey(){return this.data.auth_provider_key}lookupFunction(){return this.data.lookup_function}displayType(){return this.data.display_type}entityTypeForClogging(){return this.data.work_object_entity_type}type(){return this.data.work_object_type}appName(){return this.data.app_name}ts(){return this.data.ts}unfurlLayout(){return this.expanded()||this.compact()}hasLayout(){return Object.keys(this.data.layouts).length>0}static isDeprecatedArrayFormat(E){var M,S,R,k,O,U;return[(M=E.layouts)===null||M===void 0||(S=M.compact)===null||S===void 0?void 0:S.fields,(R=E.layouts)===null||R===void 0||(k=R.expanded)===null||k===void 0?void 0:k.fields,(O=E.layouts)===null||O===void 0||(U=O.full)===null||U===void 0?void 0:U.fields].some(x=>this.fieldsContainsDeprecatedValues(x))}static fieldsContainsDeprecatedValues(E){return E?E.elements.some(S=>(0,t.A)(S.rich_text)||["long_text","short_text"].includes(S.field_type)):!1}static transformDeprecatedArrayFormat(E){const M=E.layouts;if(!M)return;const S=M.compact,R=M.expanded,k=M.full;return{...E,layouts:{...S?{compact:this.transformDeprecatedLayout(S)}:{},...R?{expanded:this.transformDeprecatedLayout(R)}:{},...k?{full:this.transformDeprecatedLayout(k)}:{}}}}static transformDeprecatedLayout(E){return{...(0,s.A)(E,"fields"),...y.transformDeprecatedArrayFields(E.fields)}}static transformDeprecatedArrayFields(E){if(!E)return{};const M=E.elements;return{fields:{...E,elements:M.map(S=>{const R=(0,o.A)(S.rich_text);return{...(0,s.A)(S,["rich_text"]),field_type:this.transformDeprecatedArrayFieldType(S),...R?{rich_text:R}:{}}})}}}static transformDeprecatedArrayFieldType(E){switch(E.field_type){case"long_text":return"rich_text";case"short_text":return E.rich_text?"rich_text":"text";case"timestamp":case"date":case"image":case"user":return E.field_type;default:(0,n.Kh)(E.field_type)}}isFullSizePreviewEnabled(){var E,M;return(M=(E=this.data.full_size_preview)===null||E===void 0?void 0:E.is_supported)!==null&&M!==void 0?M:!1}fullSizePreview(){var E;return(E=this.data)===null||E===void 0?void 0:E.full_size_preview}constructor(E){const M=y.isDeprecatedArrayFormat(E)?y.transformDeprecatedArrayFormat(E):E;if(!M)throw new Error("invalid work object");const S=M.layouts;if(!S)throw new Error("invalid work object");this.data={...M,layouts:S}}}_(y,"WorkObjectModel")},2180140255:(N,g,e)=>{"use strict";e.d(g,{A:()=>A});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2230482111),c=e(6471059816),i=e(1275630749),r=e(3202757386),a=e(5057176955),l=e(1318506593),d=e(9874616273),u=e(6084388622),f=e(1610251172),m=e(5249175977);function h(){return h=Object.assign||function(C){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var y in D)Object.prototype.hasOwnProperty.call(D,y)&&(C[y]=D[y])}return C},h.apply(this,arguments)}_(h,"_extends");const v=new c.Ay("find_team");function p(C,I){if((0,r.A)())return(0,l.M6)(location.href,"locale",I);const D=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return C==="en-us"?D:`/intl/${C}${D}`}_(p,"getUrlForLocale");let T=_(class extends t.Component{render(){const{hideRegionPicker:I,showLogo:D,govSlackTheme:y,joinerRedesignTreatment:P}=this.props,E=o()("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":y}),M=o()("full_width",{"p-refreshed_page__full_width_footer":P}),S=t.createElement("footer",{className:"p-refreshed_page__footer"},t.createElement(u.jV,{href:(0,i.v)("/legal"),className:E,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},v.rt("Privacy & Terms")),t.createElement(u.jV,{href:(0,i.v)("/help/requests/new"),className:E,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},v.rt("Contact Us")),!I&&t.createElement(m.Wv,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:this.renderPopover},t.createElement("div",null,t.createElement(u.jV,{onClick:this.onClickChangeRegion,href:"#",className:E,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.createElement(f.A,{type:"globe",size:"inherit",className:"margin_right_25"}),v.rt("Change region"),t.createElement(f.A,{type:"chevron-medium-down",size:"inherit"})))));return t.createElement("div",{className:M},t.createElement("div",{className:o()("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":y})},t.createElement(t.Fragment,null,D&&t.createElement(d.A,{width:80,height:20,className:"p-app_slack_logo"}),S)))}constructor(I){super(I),this.onClickChangeRegion=D=>{D.preventDefault()},this.onClickLocale=D=>{let{locale:y,geocode:P}=D;return()=>{const E=(0,a.LL)((0,n.v8)("c")||"")||{};E.geocode=P;const M=(0,a.Zf)(E,{space:""});(0,n.n0)("i18n_locale",y,365*10,"slack.com"),M&&(0,n.n0)("c",M,365*10,"slack.com")}},this.renderPopover=D=>t.createElement(m.AM,h({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:v.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0,reactRootSelector:"[data-reactroot]"},D),t.createElement("div",{className:"p-refreshed_page__footer_locales"},t.createElement("div",{className:"bold margin_bottom_50"},v.rt("Change region")),t.createElement("div",{className:"margin_bottom_100"},v.rt("Selecting a different region will change the language and content of Slack.com.")),t.createElement("div",{className:"display_flex"},[{title:v.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:v.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:v.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(y=>{let{title:P,locales:E}=y;return t.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:P},t.createElement("div",{className:"bold margin_bottom_50"},P),E.map(M=>{let{locale:S,geocode:R,name:k}=M;return t.createElement(u.jV,{key:S,href:p(R,S),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:S,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:S,geocode:R})},k)}))})))),this.popoverTriggerRef=t.createRef(),this.state={}}},"RefreshedFooter");T.displayName="RefreshedFooter";const A=T},2308565927:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(4844578989),o=e.n(s);const n=_(i=>{let{children:r,heading:a,subHeading:l,titleImage:d,headingClassName:u,subHeadingClassName:f,dataQa:m,showFullWidthContent:h,className:v,isSharedWorkspaceInvite:p}=i;return t.createElement("div",{className:o()("p-refreshed_page",{"p-refreshed_page--workspace":p,full_width:h},v),"data-qa":m},d&&d,a&&t.createElement("h1",{className:o()("p-refreshed_page__heading",u,{margin_bottom_200:!l,full_width:h,"p-refreshed_page__heading--workspace":p})},a),l&&t.createElement("div",{className:o()("p-refreshed_page__sub_heading",f,{full_width:h})},l),r)},"RefreshedPageContent");n.displayName="RefreshedPageContent";const c=n},9539184071:(N,g,e)=>{"use strict";e.d(g,{A:()=>B});var t=e(3134334389),s=e(2180140255),o=e(4844578989),n=e.n(o),c=e(9432515904),i=e(4518410378),r=e(6471059816),a=e(8142308213),l=e(6176558010),d=e(6084388622),u=e(8739505998),f=e(8683010724),m=e(6764196364),h=e(9506008067),v=e(9994038664),p=e.n(v),T=e(2301861866),A=e.n(T),C=e(2527471159),I=e.n(C),D=e(7972463975),y=e.n(D);const P=new r.Ay("refreshed_header"),E={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},M={elementName:"header_signin",onClick:{enableClogAction:!0}},S={elementName:"header_create_account",onClick:{enableClogAction:!0}},R={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},k=I()&&y()?`${I()}, ${y()} 2x`:void 0,O=_(K=>{let{showSignInLink:H=!1,showCreateAccountLink:Y=!1,showCreateWorkspaceLink:Z=!1,showHorchataBackground:V=!1,confirmedEmailPill:ne,hideLogo:q=!1,isSSBBrowserSignin:me=!1,showSfLogo:ue=!1,isWarningBannerDisplayed:ae=!1,govSlackTheme:le=!1,isLandingPage:fe=!1,clientTheme:he,joinerRedesignTreatment:ie=!1,isDevProgSignin:X=!1,isMobileWebViewSignup:j=!0,experimentMobileWebSignupGroupTreatment:w=!1,mobileHeaderTitle:Q="",handleBackNavigation:G,stepProgress:J,experimentOptimizeGetStartedFlowGroupTreatment:te}=K;const se=(0,h.d4)(_e=>(0,a.Q5)(_e,a.C6.SIGNIN_HEADER)),ce=(0,a.eA)(),Ee=se?`${me?"/ssb":""}/get-started${ce}${se}#${l.EU.CreateNew}`:`${me?"/ssb":""}/get-started${i.J.location.search}#${l.EU.CreateNew}`,de=(0,t.useCallback)(()=>{G?G():i.J.history.back()},[G]),re=(0,t.useRef)(null);return(0,t.useEffect)(()=>{re.current&&J!==void 0&&re.current.style.setProperty("--progress-width",`${J}%`)},[J]),t.createElement("header",{ref:re,className:n()("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!ne,"p-refreshed_page__header--is_horchata_landing_bg":V,"p-refreshed_page__header--no_logo":!!q,"p-refreshed_page__header--sf_slack_logo":ue,"p-refreshed_page__header--display_warning_banner":ae,"p-refreshed_page__header--gov_slack":le,"p-refreshed_page__header--landing":fe,"p-refreshed_page__full_background":ie,"p-refreshed_page__header--mobile":j})},t.createElement("div",{className:"left-col"},j&&t.createElement(d.Nm,{onClick:de},t.createElement(f.A,{name:"caret-left",inline:!0,size:"20"}))),t.createElement("div",{className:"center-col"},!j&&t.createElement(t.Fragment,null,ue&&q&&t.createElement("img",{srcSet:k??void 0,src:I(),alt:""}),!q&&t.createElement(u.A,{href:(0,m.A)(),autoClogProps:E,target:"_self"},t.createElement("img",{alt:"Slack",src:le||he===c.Sx.Dark?p():A(),height:"26",title:"Slack"})),ne),j&&t.createElement("div",{className:"p-refreshed_page__header--mobile-title"},Q,!Q&&w?P.t("Sign Up"):"")),t.createElement("div",{className:"right-col"},H&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},P.t("Already have an account?"),t.createElement("br",null),t.createElement(u.A,{href:"/signin",className:"bold",autoClogProps:M,target:"_self"},P.t("Sign in instead"))),Y&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},P.t("Don\u2019t have an account yet?"),t.createElement("br",null),t.createElement(u.A,{href:`/signup${i.J.location.search}`,className:"bold",autoClogProps:S,target:"_self"},P.t("Create an account"))),Z&&!X&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},te?P.t("Missing something?",{fallbackHash:"3cd1f507d7fa186b84b3a13e6a1a6dcbb4629f87"}):P.t("New to Slack?"),t.createElement("br",null),t.createElement(u.A,{href:Ee,className:"bold",autoClogProps:R,target:"_self"},te?P.t("Sign in to another account",{fallbackHash:"3f4f547d73646d774e8f690b36333e8c9572894b"}):P.t("Create an account"))),X&&t.createElement("div",{className:"p-refreshed_page__header_sidelink","data-qa":"dev-prog-create-account"},P.t("New to Slack\u2019s Developer Program?"),t.createElement("br",null),t.createElement(u.A,{href:"/developer-program/join",className:"bold",autoClogProps:R,target:"_self"},P.t("Create an account")))))},"RefreshedHeader");O.displayName="RefreshedHeader";const U=O;var W=e(7216810781),x=e(8178126019);const L=_(K=>{let{inviteDetails:H,children:Y}=K;return!H||!(0,x.YB)(H)?Y:t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},t.createElement(W.z,{invite:H,bottomMargin:!0}),t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},Y))},"ExternalWorkspaceInviteBrandingWrapper");L.displayName="ExternalWorkspaceInviteBrandingWrapper";const b=L,F=_(K=>{let{children:H,showHorchataBackground:Y,showSignInLink:Z,showCreateAccountLink:V,showCreateWorkspaceLink:ne,hideRegionPicker:q,clientTheme:me,hideFooter:ue=!1,confirmedEmailPill:ae,hideHeader:le=!1,isSSBBrowserSignin:fe=!1,showSfLogo:he=!1,isWarningBannerDisplayed:ie=!1,govSlackTheme:X=!1,isLandingPage:j=!1,joinerRedesignTreatment:w=!1,inviteDetails:Q,isDevProgSignin:G=!1,isMobileWebViewSignup:J=!1,experimentMobileWebSignupGroupTreatment:te=!1,mobileHeaderTitle:se="",handleBackNavigation:ce,stepProgress:Ee,experimentOptimizeGetStartedFlowGroupTreatment:de}=K;return t.createElement(b,{inviteDetails:Q},t.createElement(t.Fragment,null,!le&&t.createElement(U,{showSignInLink:Z,showCreateAccountLink:V,showCreateWorkspaceLink:ne,showHorchataBackground:Y,confirmedEmailPill:ae,isSSBBrowserSignin:fe,showSfLogo:he,hideLogo:he,isWarningBannerDisplayed:ie,govSlackTheme:X,isLandingPage:j,clientTheme:me,joinerRedesignTreatment:w,isDevProgSignin:G,isMobileWebViewSignup:J,experimentMobileWebSignupGroupTreatment:te,mobileHeaderTitle:se,handleBackNavigation:ce,stepProgress:Ee,experimentOptimizeGetStartedFlowGroupTreatment:de}),X?t.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},H):H,!ue&&t.createElement(s.A,{hideRegionPicker:q,govSlackTheme:X,joinerRedesignTreatment:w})))},"RefreshedPageLayout");F.displayName="RefreshedPageLayout";const B=F},6176558010:(N,g,e)=>{"use strict";e.d(g,{EU:()=>s});var t=e(8668318456),s;(function(a){a.Start="/",a.Find="/find",a.Create="/create",a.CreateNew="/createnew",a.Confirm="/confirm",a.Check="/check",a.FindAgain="/find_again",a.Email="/email",a.Error="/error",a.ConfirmationCode="/confirmemail",a.DomainClaimed="/domain",a.Landing="/landing",a.ConfirmTrust="/confirmtrust",a.IgnoreInvite="/ignoreinvite",a.SignIn="/signin",a.Workspaces="/workspaces",a.SharedInviteLoggedOut="/sharedinvite",a.SharedInviteLanding="/sharedinvitelanding",a.SelectWorkspaces="/select",a.AppleSignIn="/apple",a.AddName="/addname"})(s||(s={}));var o;(function(a){a.SharedChannelInviteAlreadyAccepted="invite_used",a.SharedChannelInviteInvlidLink="invalid_link",a.DirectMessageInviteInactive="inactive_invite",a.Generic="generic"})(o||(o={}));const n={[s.Start]:t.UiStep.START_WITH_A_WORKSPACE,[s.Create]:t.UiStep.CREATE_NEW_WORKSPACE,[s.CreateNew]:t.UiStep.CREATE_NEW_WORKSPACE,[s.Find]:t.UiStep.FIND_YOUR_WORKSPACE,[s.Check]:t.UiStep.CHECK_YOUR_EMAIL,[s.FindAgain]:t.UiStep.FIND_YOUR_WORKSPACE,[s.Email]:t.UiStep.ENTER_EMAIL,[s.Confirm]:t.UiStep.ENTER_EMAIL,[s.Error]:t.UiStep.GET_STARTED_ERROR,[s.ConfirmationCode]:t.UiStep.GET_STARTED_CONFIRM_CODE,[s.DomainClaimed]:t.UiStep.GET_STARTED_DOMAIN_CLAIMED,[s.Landing]:t.UiStep.GET_STARTED_CREATOR_LANDING,[s.SignIn]:t.UiStep.GET_STARTED_SIGN_IN,[s.Workspaces]:t.UiStep.GET_STARTED_WORKSPACES,[s.SharedInviteLoggedOut]:t.UiStep.SHARED_INVITE_LOGGED_OUT,[s.SharedInviteLanding]:t.UiStep.SHARED_INVITE_LANDING,[s.SelectWorkspaces]:t.UiStep.GET_STARTED_SELECT_WORKSPACES,[s.AppleSignIn]:t.UiStep.GET_STARTED_APPLE_SIGN_IN,[s.ConfirmTrust]:t.UiStep.GET_STARTED_CONFIRM_TRUST,[s.IgnoreInvite]:t.UiStep.GET_STARTED_IGNORE_INVITE,[s.AddName]:t.UiStep.GET_STARTED_ADD_NAME};var c;(function(a){a.Invited="invited",a.Joined="joined",a.Whitelisted="whitelisted"})(c||(c={}));var i;(function(a){a.Email="email",a.GoogleIdToken="google_id_token",a.Apple="apple_id_token"})(i||(i={}));const r={newUser:"new_user",existingUser:"existing_user"}},2768056446:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>h,UU:()=>f,lS:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816),c=e(9406470849),i=e(1610251172),r=e(8739505998);const a=new n.Ay("team_creation");var l;(function(v){v.Unchecked="unchecked",v.Empty="empty-status",v.Processing="processing",v.Ratelimited="ratelimited",v.Expired="expired",v.RequestNewCode="request-new-code",v.Error="error",v.Blocked="ratelimited-blocked",v.GoogleTokenExpired="google-token-expired",v.Unknown="unknown",v.Success="success",v.CaptchaFailed="captcha-failed"})(l||(l={}));const u={RequestNewCode:"code_check_status_request_new_code_link"};class f extends t.Component{getStatusMessage(){const{status:p,onRequestNewCode:T}=this.props;let A=null;switch(p){case l.Unchecked:A=t.createElement("span",{className:"small_desc"},a.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case l.Processing:A=t.createElement(t.Fragment,null,t.createElement(i.A,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.createElement("span",{className:"c-alert__message"},a.t("Checking your code\u2026",{fallbackHash:"41a08e01909771ac149f5a8735eedeec3421261c"})));break;case l.Ratelimited:A=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,a.t("Whoa, you\u2019re going too fast!")),t.createElement("br",null),a.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case l.Error:A=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("That code wasn't valid. Give it another go!")));break;case l.Expired:A=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case l.Blocked:A=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,a.t("Temporarily blocked")),t.createElement("br",null),a.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case l.GoogleTokenExpired:A=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,C=>{let{text:I}=C;return t.createElement(r.A,{href:`/get-started${window.location.search}#create`},I)})));break;case l.RequestNewCode:T&&(A=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},C=>{let{text:I}=C;return t.createElement(r.A,{"data-qa":u.RequestNewCode,onClick:T},I)}))));break;case l.Unknown:A=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("Oops! Looks like something went wrong.")));break;case l.Success:A=t.createElement("span",{className:"small_desc"},a.t("Success!"));break;default:break}return A}render(){const{status:p,isCentered:T,id:A,className:C}=this.props;if(!p)return null;const I=o()("c-alert confirmation_code_state_message",C,{"c-alert--boxed":p!==l.Unchecked,"c-alert--level_default":p===l.Processing,"c-alert--level_warning":p===l.Ratelimited||p===l.Expired||p===l.RequestNewCode,"c-alert--level_error":p===l.Error||p===l.Blocked||p===l.Unknown||p===l.CaptchaFailed,"invisible c-alert--level_default":p===l.Empty,"c-alert--align_center":T},p);return this.getStatusMessage()?t.createElement("div",{className:"confirmation_code_checker","data-state":p,"data-qa":p,id:A},t.createElement("p",{role:"alert",className:I},this.getStatusMessage())):null}}_(f,"CodeCheckStatus"),f.displayName="CodeCheckStatus";let m=_(class extends f{getStatusMessage(){const{status:p}=this.props;return p===l.RequestNewCode?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},T=>{let{text:A}=T;return t.createElement(r.A,{href:"#",onClick:this.handleNavigateBackToEmailEntry},A)}))):p===l.CaptchaFailed?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("Code confirmation timed out, can you <link>please enter your email again</link>",{"<link>":T=>{let{text:A}=T;return t.createElement(r.A,{href:"#",onClick:this.handleNavigateBackToEmailEntry},A)}}))):super.getStatusMessage()}constructor(...p){super(...p),this.handleNavigateBackToEmailEntry=T=>{T.preventDefault();const{navigate:A}=this.props;A(-1)}}},"CodeCheckStatusWithRouter");const h=(0,c.A)(m)},4645337865:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(9867500491),o=e(6471059816),n=e(4844578989),c=e.n(n),i=e(8646591923),r=e(3700949338),a=e(219228829);function l(){return l=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var p=arguments[v];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(h[T]=p[T])}return h},l.apply(this,arguments)}_(l,"_extends");let d=_(class extends t.Component{render(){const{isDisabled:v,isInvalid:p=!1,ariaDescribedBy:T,className:A}=this.props;return t.createElement("div",{className:c()("split_input_item",A,{focused:this.props.hasFocus})},t.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":T,disabled:v,"aria-disabled":v,"aria-invalid":p}))}constructor(...v){super(...v),this.onKeyDown=p=>{switch(p.keyCode){case i.G_:{p.currentTarget.value||this.props.moveLeft();return}case i.UQ:return p.preventDefault(),this.props.moveLeft();case i.LE:return p.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=p=>{const{isNumbersOnly:T}=this.props;(T?!(0,r.A)(p.which):!(0,r.$)(p.which))&&p.charCode&&!(0,a.A)(p)&&p.preventDefault()},this.onChange=p=>{const T=p.target.value,{isNumbersOnly:A}=this.props;((A?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(T)||T==="")&&this.props.onChange(T.toUpperCase())},this.onPaste=p=>{p.preventDefault();const{isNumbersOnly:T}=this.props,A=window.clipboardData||p.clipboardData,C=A.getData("text")||A.getData("text/plain"),I=T?/\D/g:/[^a-zA-Z0-9]/g,D=C.replace(I,"");this.props.onPaste(D)}}},"CodeInput");d.displayName="CodeInput";const u=t.forwardRef((h,v)=>t.createElement(d,l({},h,{refToForward:v}))),f=new o.Ay("team_creation");let m=_(class extends t.Component{focusInput(v){const p=this.inputRefs[v];p&&p.current&&p.current.focus()}moveLeft(v){v<=0||this.focusInput(v-1)}moveRight(v){v>=this.state.values.length-1||this.focusInput(v+1)}isComplete(v){return!v.some(p=>!p)}clear(){this.setState(v=>({values:v.values.map(()=>"")})),this.focusInput(0)}onChange(v,p){const T=this.state.values.slice();T[v]=p,this.setState(()=>({values:T}),()=>{p&&!this.isComplete(this.state.values)&&this.moveRight(v)})}componentDidUpdate(v,p){if(!this.isComplete(p.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&p.values.join("")!==this.state.values.join("")){const T=this.state.values.join("");this.props.onFillCode(T)}else p.values.join(",")!==this.state.values.join(",")&&this.props.onChange();v.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(v,p){const{isDisabled:T,isNumbersOnly:A=!0,isInvalid:C=!1,ariaDescribedBy:I,govSlackTheme:D=!1}=this.props;return this.state.values.slice(v,p).map((y,P)=>{const E=P+v;return t.createElement(u,{isNumbersOnly:A,key:E,ref:this.inputRefs[E],moveLeft:()=>this.moveLeft(E),moveRight:()=>this.moveRight(E),onChange:M=>this.onChange(E,M),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:E})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===E,value:this.state.values[E],ariaLabel:f.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:E+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:I,isInvalid:C,isDisabled:T,className:D?"split_input_item--gov_slack":""})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50 split_input_item--container","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(v){super(v),this.onPaste=p=>{const T=this.state.focusedInputIndex;if(T===-1)return;const A=this.state.values.length-T,C=p.substring(0,A).split(""),I=this.state.values.slice();C.forEach((D,y)=>{const P=y+T;I[P]=D}),this.setState(()=>({values:I}),()=>{this.focusInput(Math.min(this.state.values.length-1,T+C.length))})},this.state={values:(0,s.A)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"SplitInput");m.defaultProps={isNumbersOnly:!0}},3700949338:(N,g,e)=>{"use strict";e.d(g,{$:()=>s,A:()=>t});function t(o){return o>=48&&o<=57}_(t,"isNumericKey");function s(o){const n=String.fromCharCode(o);return!!/[a-zA-Z0-9]/.test(n)}_(s,"isAlphaNumericKey")},7520119303:(N,g,e)=>{"use strict";e.d(g,{K_:()=>y,XR:()=>I,yb:()=>D});var t=e(7909758472),s=e(8666996079),o=e(5858219536),n=e(7940058138),c=e(6271402872),i=e(337319621),r=e(6471059816),a=e(6324904206),l=e(7268021173),d=e(3192808693),u=e(6841242574),f=e(8615732884),m=e(7182156071);const h=new r.Ay("client"),v=_(P=>(0,a.iT)(P)?h.t("Calendar"):h.t("Huddles"),"huddlePageLabel"),p=_(P=>{const E=(0,m.k)(P),M=(0,l.iH)(P);return E?M?h.t("Get started"):h.t("Explore AI features"):h.t("Paid Plan Benefits")},"paidBenefitsPageLabel"),T=_(P=>(0,d.lL)(P)?h.t("Explore paid features"):"","explorePaidFeaturesLabel"),A={[n.c.Composer]:()=>h.t("New message"),[n.c.Drafts]:()=>h.t("Drafts & sent"),[n.c.EmailInbox]:P=>(0,s.w3)(P)?h.t("Emails"):"",[n.c.ScheduledMessages]:()=>h.t("Scheduled"),[n.c.Sent]:()=>h.t("Sent"),Pthread:()=>h.t("Thread"),[n.c.Empty]:()=>{},[n.c.Unreads]:()=>h.t("Unreads"),[n.c.Apps]:()=>h.t("Apps"),[n.c.Shortcuts]:()=>h.t("Workflows"),[n.c.BrowseWorkflowsManagedByYou]:()=>h.t("Workflows managed by you"),[n.c.BrowseYourWorkflowTemplates]:()=>h.t("Your workflow templates"),[n.c.BrowseWorkflowTemplates]:()=>h.t("Templates"),[n.c.WorkflowEditor]:P=>(0,c.Lh)(P)?h.t("Workflow Editor"):"",[n.c.WorkflowBeingCreated]:P=>(0,c.Lh)(P)?h.t("Workflow Creation"):"",[n.c.WorkflowDetails]:()=>h.t("Workflow Details",{ns:"workflow_builder"}),[n.c.Activity]:()=>h.t("Activity"),[n.c.Saved]:()=>h.t("Saved items"),[n.c.PaidBenefits]:P=>p(P),[n.c.BrowseChannels]:()=>h.t("All channels"),[n.c.SetupTeamName]:()=>h.t("Setup Team Name"),[n.c.SetupProfile]:()=>h.t("Profile"),[n.c.SetupChannels]:()=>h.t("Setup Channels"),[n.c.SetupInvites]:()=>h.t("Setup Invites"),[n.c.SetupCalendarContactImport]:()=>"Setup Contact Import",[n.c.SetupTada]:()=>"Setup Tada",[n.c.SetupWelcome]:()=>h.t("Setup Welcome"),[n.c.SetupPeople]:()=>h.t("Setup People"),[n.c.SetupStraightToPaidPlans]:()=>h.t("Setup Plans"),[n.c.JoinerLaunchpad]:P=>(0,f.lD)(P)?h.t("Your guide to Slack"):h.t("Get started"),[n.c.SalesAutoSlackLaunchpad]:()=>h.t("Get started"),[n.c.ResurrectedUserWelcome]:()=>h.t("Welcome back"),[n.c.TenuredTeamSolutions]:()=>h.t("Tips for how you work"),"Pbrowse-channels-prototype":()=>h.t("All channels"),[n.c.BrowseFiles]:()=>h.t("All files"),[n.c.Calendar]:P=>(0,t.A)(P)?h.t("Calendar"):"",[n.c.BrowsePeople]:()=>h.t("All people"),[n.c.BrowseExternalContacts]:()=>h.t("External people"),[n.c.BrowseUserGroups]:()=>h.t("User groups"),[n.c.BrowseExternalWorkspaces]:()=>h.t("Spaces"),[n.c.Search]:()=>h.t("Search Results"),[n.c.SlackConnect]:()=>h.t("Slack Connect"),[n.c.SlackConnectInvitation]:()=>h.t("Slack Connect Invitation"),[n.c.OfflineOutbox]:()=>"Offline outbox",[n.c.Huddles]:P=>v(P),[n.c.BrowseHuddles]:P=>v(P),[n.c.Today]:()=>"Today",[n.c.TodayV2]:()=>h.t("Today"),[n.c.Later]:()=>h.t("Later"),[n.c.BrowseOrgChart]:()=>h.t("Org chart"),"Pasync-modals":()=>"Modals",[n.c.BrowseCanvases]:()=>h.t("Canvases"),[n.c.BrowseLists]:()=>"Lists",[n.c.Todos]:()=>h.t("To-dos"),[n.c.Recents]:()=>h.t("Recently viewed"),[n.c.RecentPlatform]:()=>h.t("Recently viewed"),[n.c.DailyDigest]:()=>h.t("Recap"),[n.c.ActionItems]:()=>h.t("Action items"),[n.c.Inbox]:()=>h.t("Activity"),[n.c.BrowseUnifiedFiles]:()=>h.t("Docs"),[n.c.BrowseUnifiedFilesCanvases]:()=>h.t("Canvases"),[n.c.BrowseUnifiedFilesLists]:()=>h.t("Lists"),[n.c.BrowseUnifiedFilesExternalResults]:()=>h.t("All files"),[n.c.BrowseUnifiedFilesFolders]:()=>h.t("Folders",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"files"}),[n.c.ExplorePaidFeatures]:P=>T(P),[n.c.BrowseUnifiedFilesGoogleDrive]:P=>(0,o.c)(P)?h.t("Google Drive"):"",[n.c.BrowseUnifiedFilesOnedrive]:P=>(0,o.c)(P)?h.t("OneDrive & SharePoint"):"",[n.c.SetupAppDownload]:()=>h.t("Get started"),[n.c.SetupCustomizeWorkspace]:P=>(0,u.l)(P)?h.t("Customize Workspace"):""},C={};function I(P){return!P||!A[P]?((0,i.Wo)().error(`getLabelFunctionForPage called with invalid pageId: ${P}`),null):A[P]}_(I,"getLabelFunctionForPage");const D=_((P,E)=>I(E.id)(P),"getPageLabel");function y(P){if(P)return C[P]}_(y,"getAriaLabelFunctionForPage")},4066669727:(N,g,e)=>{"use strict";e.d(g,{KH:()=>R,MC:()=>W,PL:()=>U,SV:()=>k,a$:()=>E,gO:()=>M});var t=e(6066600258),s=e(9240258658),o=e(2044530601),n=e(2141099977),c=e(337319621),i=e(4949104520),r=e(6304789565),a=e(6533394955),l=e(8778137680),d=e(7592559649),u=e(1345902898),f=e(5795074931),m=e(5332875232),h=e(8802876335);const v="AWARENESS-MANAGER",p="AWARENESS-MANAGER-CHIME",T=`[${v}] unknown awareness subtype`,A=3e4,C=250,I=5e3,D=15,y=(0,r.Ay)("Query for awareness state from other users who are subscribed to the topic",async(L,b,F)=>{const B=b();if(!(0,h.ON)(B))return;const K=(0,f.WR)(B),H={channel:F,type:"awareness",subtype:u.Pz.QUERY,user:K};try{L((0,n.tN)(H))}catch(Y){(0,c.Ay)({getState:b}).warn("Failed to send awareness query: ",Y)}});y.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const P=(0,r.Ay)("Send awareness state to other users who are subscribed to the topic",async(L,b,F)=>{const B=b();if(!(0,h.ON)(B))return;const K=(0,f.WR)(B),H=(0,d.fL)(B,F,K),Y={channel:F,type:"awareness",subtype:u.Pz.BROADCAST,user:K,awareness_state:H};try{L((0,n.tN)(Y))}catch(Z){(0,c.Ay)({getState:b}).warn("Failed to send awareness query: ",Z)}});P.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const E=(0,r.Ay)("Temporarily subscribe to a topic for updates",(L,b,F)=>{const B=b();if((0,h.ON)(B))try{L((0,n.tN)({channel_id:F,type:"temp_channel_sub"}))}catch(K){(0,c.Ay)({getState:b}).warn("Failed to subscribe to awareness topic: ",K)}});E.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const M=(0,r.Ay)("Temporarily unsubscribe from topic updates",(L,b,F)=>{const B=b();if((0,h.ON)(B))try{L((0,n.tN)({channel_id:F,type:"temp_channel_unsub"}))}catch(K){(0,c.Ay)({getState:b}).warn("Failed to unsubscribe from awareness topic: ",K)}});M.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const S=(0,r.Ay)("Alert other users who are subscribed to the topic that a subscriber has left",async(L,b,F)=>{const B=b();if(!(0,h.ON)(B))return;const K=(0,f.WR)(B),H={channel:F,type:"awareness",subtype:u.Pz.CLOSE,user:K};try{L((0,n.tN)(H))}catch(Y){(0,c.Ay)({getState:b}).warn("Failed to send awareness query: ",Y)}});S.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class R{maybeSendCurrentAwarenessState(b){const F=(0,a.oK)(this.teamId);return F?(F.dispatch(P(b)),!0):!1}maybeSendAwarenessQuery(b){const F=(0,a.oK)(this.teamId);return F?(F.dispatch(y(b)),!0):!1}maybeSendAwarenessCloseState(b){const F=(0,a.oK)(this.teamId);return F?(F.dispatch(S(b)),!0):!1}constructor({teamId:b}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=b}}_(R,"RtmBroadcaster");class k{onDisconnectDataChannel(){var b;(b=this.audioVideoFacade)===null||b===void 0||b.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(b){this.audioVideoFacade=b,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,(0,c.Wo)().warn(p,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(b){}maybeSendCurrentAwarenessState(b){var F;if(!this.connected)return(0,c.Wo)().info(p,`${this.connected} ${b} Can't send yet, not connected`),!1;const B=(0,a.oK)(this.teamId);if(!B)return(0,c.Wo)().warn(p,`${this.connected} ${b} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const K=B.getState(),H=(0,f.WR)(K);B.dispatch((0,l.c6)({topicId:b,userId:H}));const Y=(0,m.pL)(K),V=(0,d.fL)(K,b,H,Y?"self":void 0).map(q=>new s.Y.AwarenessPayload({fieldName:q.field_name,fieldValue:q.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!q.field_timestamp_ms&&{fieldTimestampMs:q.field_timestamp_ms}})),ne=new s.Y.AwarenessBroadcast({channel:b,user:(0,f.WR)(B.getState()),awarenessState:V});return(F=this.audioVideoFacade)===null||F===void 0||F.realtimeSendDataMessage(this.dataChannelTopic,s.Y.encode(new s.Y({awarenessBroadcast:ne})).finish()),!0}maybeSendAwarenessQuery(b){var F;if(!this.connected)return(0,c.Wo)().info(p,`${this.connected} ${b} Can't send yet, not connected`),!1;(0,c.Wo)().warn(p,`${this.connected} ${b} Sending awareness query`);const B=(0,a.oK)(this.teamId);if(!B)return(0,c.Wo)().warn(p,`${this.connected} ${b} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const K=new s.Y.AwarenessQuery({channel:b,user:(0,f.WR)(B.getState())});return(F=this.audioVideoFacade)===null||F===void 0||F.realtimeSendDataMessage(this.dataChannelTopic,s.Y.encode(new s.Y({awarenessQuery:K})).finish()),!0}maybeSendAwarenessCloseState(b){var F;if(!this.connected)return(0,c.Wo)().info(p,`${this.connected} ${b} Can't send yet, not connected`),!1;(0,c.Wo)().warn(p,`${this.connected} ${b} Sending awareness query`);const B=(0,a.oK)(this.teamId);if(!B)return(0,c.Wo)().warn(p,`${this.connected} ${b} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const K=new s.Y.AwarenessClose({channel:b,user:(0,f.WR)(B.getState())});return(F=this.audioVideoFacade)===null||F===void 0||F.realtimeSendDataMessage(this.dataChannelTopic,s.Y.encode(new s.Y({awarenessClose:K})).finish()),!0}constructor({teamId:b,peerId:F,topicId:B,isHuddlesAwarenessTimestampEnabled:K}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=b,this.peerId=F,this.connected=!1,this.topicId=B,this.isHuddlesAwarenessTimestampEnabled=!!K}}_(k,"ChimeChannelBroadcaster");class O{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(F=>{(0,c.Wo)().debug(v,`Running TTL for ${F}`);const B=(0,a.oK)(F);B&&B.dispatch((0,l._y)())}),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const b=(0,i.A)(D,-.25,.25);this.dirtyTopics.forEach(F=>{(0,t.A)(()=>{const B=this.dataChannels.get(F);B&&B.maybeSendCurrentAwarenessState(F)&&this.dirtyTopics.delete(F)},b)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(b=>{const F=this.dataChannels.get(b);F&&F.maybeSendCurrentAwarenessState(b)&&this.dirtyTopics.delete(b)}),this.watchedTopics.size===0&&((0,c.Wo)().info(v,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(b=>{if(this.topicToTeamMap.get(b)){const B=this.dataChannels.get(b);B&&B.maybeSendAwarenessQuery(b)&&this.dirtyTopics.delete(b)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(b){if(!this.watchedTopics.has(b)){(0,c.Wo)().info(v,`Ignoring topic change for unwatched topic ${b}`);return}this.dirtyTopics.add(b),this.dirtyBroadcastTimeoutId||((0,c.Wo)().info(v,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),C)),this.perodicBroadcastTimeoutId||((0,c.Wo)().info(v,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),A)),this.periodicTTLId||((0,c.Wo)().info(v,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),I))}removeTopicId(b){this.dirtyTopics.delete(b),this.watchedTopics.delete(b)}watch(b,F,B){this.watchedTopics.add(F),this.topicToTeamMap.set(F,b),this.dataChannels.set(F,B),this.markTopicChanged(F),this.query()}unwatch(b){this.broadcastChanges(),this.removeTopicId(b)}unwatchAll(){if(this.watchedTopics.size){const b=[...this.watchedTopics].join(" ");(0,c.Wo)().warn(v,`Clearing unexpected remaining topics: ${b}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}_(O,"AwarenessManager");const U=new O;class W{onConnectDatachannel(b){this.audioVideoFacade=b,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),(0,c.Wo)().warn(p,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(b){let F;try{F=s.Y.decode(b.data)}catch(B){(0,c.Wo)().debug(p,`Peer Message failed during decode, ignoring peer message.
				| Error: ${B}
				| Data Sender Attendee ID: ${b.senderAttendeeId}
				| Data Sender External Attendee ID: ${b.senderExternalUserId}
				| Topic: ${b.topic}`);return}if(F.awarenessQuery&&F.awarenessQuery.channel)U.markTopicChanged(F.awarenessQuery.channel);else if(F.awarenessBroadcast){const B=(0,a.oK)(this.teamId),K=(0,m.pL)(B.getState()),H=F.awarenessBroadcast.user,Y=F.awarenessBroadcast.channel,Z=F.awarenessBroadcast.awarenessState;if(H&&Y&&Z){const V=Z.map(q=>{var me,ue;return{field_name:(me=q.fieldName)!==null&&me!==void 0?me:"unknown_field",field_value:(ue=q.fieldValue)!==null&&ue!==void 0?ue:"unknown_value",...!!q.fieldTimestampMs&&{field_timestamp_ms:q.fieldTimestampMs}}}),ne={user:H,channel:Y,awarenessEntries:V,...K&&{uniqueId:b.senderAttendeeId}};B&&B.dispatch((0,l.zZ)(ne))}}else if(F.awarenessClose){const B=(0,a.oK)(this.teamId),K=(0,m.pL)(B.getState()),H=F.awarenessClose.user,Y=F.awarenessClose.channel;H&&Y&&B&&B.dispatch((0,l.DQ)({topicId:Y,userId:H,...K&&{uniqueId:b.senderAttendeeId}}))}}constructor({teamId:b}){this.dataChannelTopic="awareness-sync-channel",this.teamId=b}}_(W,"ChimeChannelListener");const x=_((L,b,F)=>{const B=F(),K=(0,f.WR)(B),H=L.awareness_state;switch(L.subtype){case"query":K!==L.user&&U.markTopicChanged(L.channel);break;case"broadcast":if(H&&K!==L.user){const Y={user:L.user,channel:L.channel,awarenessEntries:H};b((0,l.zZ)(Y))}break;case"close":K!==L.user&&b((0,l.DQ)({topicId:L.channel,userId:L.user}));break;default:throw new Error(T)}},"onAwarenessEvent");(0,o.d1)("awareness",x)},9781145568:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(1407713935),s=e(395285811),o=e(8668318456),n=e(56548687),c=e(6304789565),i=e(9101533895),r=e(7053828403);const a=(0,c.Ay)("Clogs a message sent or resent",function(d,u){let{channelId:f,msgTs:m,resent:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=u(),p=f?(0,i.OL)(v,f):null;let T={message_timestamp:m,channel_id:f,channel_type:f?f.charAt(0):null,channel_privacy_type:p?(0,t.K5)(p):null,is_file_channel:p?(0,s.jT)(p):null};const A=(0,r.ZR)(v);A!==null&&(T={...T,channel_session_id:A});const C=(0,n.e)({state:v}),I=h?o.EventId.MSG_RESENT:o.EventId.MSG_SENT;C.track(I,T)});a.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"};const l=a},4960345891:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3297051565),s=e.n(t),o=e(4711108074),n=e.n(o),c=e(6943610832),i=e(5143598415),r=e(6304789565);const a=(0,r.Ay)("Converts message ops array to rich text blocks prepared to be sent as a message",function(d,u){let{msgOps:f,channelId:m,inThread:h}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const v=u();if(!f||!f.length)return;const{processedDelta:p}=(0,c.A)(v,{channelId:m,inThread:h,delta:new(n())(f)})||{},T=(0,i.A)({delta:p,state:v});return T&&T.blocks});a.meta={name:"createThunk",key:"createThunkconverMsgOpsToRichTextMessage",description:"Converts message ops array to rich text blocks prepared to be sent as a message"},a.propTypes={msgOps:s().array,channelId:s().string,inThread:s().bool};const l=a},5904726069:(N,g,e)=>{"use strict";e.d(g,{r:()=>u});var t=e(3134334389),s=e(3255440563),o=e(4540171876),n=e(4275787242),c=e(9236644324),i=e(6471059816),r=e(6304789565),a=e(5332875232),l=e(5060694341);const d=new i.Ay("huddles"),u=(0,r.Ay)("Copies Huddle link by Channel Id",(f,m,h,v)=>{let{channelId:p,suppressToast:T}=h;const{windowRef:A}=v(s.C),C=(0,a.Eo)(m());if(p&&(f((0,o.TE)({reason:"copy",channelId:p})).then(I=>{(0,c.x3)(I.link,A.deref())}),C&&!T)){const I={name:"check"};f((0,l.M)({element:t.createElement(n.A,{svgIconProps:I,duration:3e3},d.rt("Huddle link copied"))}))}});u.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},3128675849:(N,g,e)=>{"use strict";e.d(g,{Q:()=>ae});var t=e(362134992),s=e(7530630315),o=e(1545824888),n=e(337319621),c=e(6304789565),i=e(9113979368),r=e(8840779375),a=e(3106223098),l=e(4446301238),d=e(3929724715),u=e(1407713935),f=e(6007206761),m=e(395285811),h=e(6495946979),v=e(7486305635),p=e(4660031767),T=e(212572833),A=e(4191588167),C=e(7438375976),I=e(8455301571),D=e(4588548461),y=e(7910147864),P=e(6613382951),E=e(4425457544),M=e(9101533895),S=e(9746734072),R=e(2101927269),k=e(5467378328),O=e(9530687876);const U=(0,c.Ay)(O.rd.BULK_UPDATE_CHANNELS,function(fe,he){let{channels:ie}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const X=he();if(!ie||!ie.length||!(0,S.A)(ie))return;const j=(0,R.A)(ie,"id"),w=[],Q=!1;j.length&&(j.forEach(G=>{if(G.id){const J=(0,M.OL)(X,G.id,Q);w.push({...J,...G,id:G.id})}}),fe((0,k.U)({channels:w,reason:O.rd.BULK_UPDATE_CHANNELS})))});U.meta={name:"createThunk",key:"createThunkbulkUpdateChannels",description:O.rd.BULK_UPDATE_CHANNELS};var W=e(4368281601),x=e(8802876335),L=e(157328471),b=e(8571983633),F=e(4013618389),B=e(3683482182);const K=(0,c.Ay)("Update the unread counts in response to client.counts",(fe,he,ie)=>{if(!ie)return;const X=he(),j={},w={},Q={},G=(0,a.Gn)(X);ie.forEach(J=>{const{id:te,unread_cnt:se,unread_highlight_cnt:ce}=J,Ee=G&&!(0,b.A)(J==null?void 0:J.vip_count)?J==null?void 0:J.vip_count:void 0;j[te]={unreadCnt:se||0,unreadHighlightCnt:ce||0,unreadVIPMentionCnt:G?Ee||0:void 0};const de=(0,M.OL)(X,te);if(!se&&!ce||!(0,F.F)(X,de))return;(0,v.d$)(X,de)&&(Q[te]=!0);const re=(0,F.v)(X,de)?se:ce,_e=(0,I.tp)(X,te),ve=(0,x.UJ)(X);_e!=null&&_e.reachedEnd&&ve?w[te]=(0,B.Lh)(X,te):w[te]={unreadCnt:se,unreadHighlightCnt:re||ce,unreadVIPMentionCnt:G?Ee:void 0}}),fe((0,L.SO)({initialUnreads:j,countsPerChannel:w,channelsToSuppress:Q}))});K.meta={name:"createThunk",key:"createThunkinitializeUnreadCountsFromChannels",description:"Update the unread counts in response to client.counts"};const H="COUNTS",Y=(0,c.Ay)("Apply counts to channel objects and update stores",async function(fe,he){let{counts:ie=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=he();const j=[],w=[],Q={},G=[],J=(0,x.UJ)(X),te=(0,x.yf)(X),se=(0,a.Gn)(X),ce=(0,T.t)(X),Ee=ie.map(ge=>({channelId:ge.id,ts:ge.last_read})),de=ie.filter(ge=>{let{latest:Le}=ge;return Le!==void 0});let re=ie;ce?re=de:re.length!==de.length&&(0,n.Ay)({state:X}).error(H,`Unexpectedly received ${re.length-de.length} channels with undefined latest values`),(0,n.Ay)({state:X}).info(H,`Applying counts to channels. wasLastConnectFast: ${te} isConnected: ${J} applying: ${re.length} out of total: ${ie.length}`);const _e=re.filter(ge=>{let{has_unreads:Le,mention_count:ke}=ge;return Le||ke}).filter(function(){let{id:ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(0,M.hh)(X,ge)}).map(function(){let{id:ge}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ge});_e.length&&(await fe((0,l.pX)({ids:_e,reason:"apply-counts-to-channels/ensure-channels",callSource:l.aI.ApplyCounts})),X=he());const ve=(0,I.jg)(X);re.forEach(ge=>{const Le=(0,M.OL)(X,ge.id,!1);if(!Le||(0,u.QR)(Le)){if(!ge.has_unreads&&!ge.mention_count)return;(0,n.Ay)({state:X}).warn(H,{id:ge.id,has_unreads:ge.has_unreads,nonExistent:(0,u.QR)(Le)},"applyCountsToChannels_missing_channel");return}if((0,f.F)(Le)||(0,u.rW)(Le)&&!(0,h.bl)(Le))return;if((0,m.jT)(Le)){var ke;fe((0,W.k)({channelId:Le.id,mentionCount:(ke=ge.mention_count)!==null&&ke!==void 0?ke:0,shouldSuppress:(0,v.d$)(X,Le)}));return}const Ke={},Re=ge.has_unreads?1:0;let xe=0,We=0,$=0,ee=!1;(0,u.LI)(Le)||(0,u.LI)(ge)||(0,u.yz)(Le)||(0,u.yz)(ge)?xe=ge.mention_count||Re:(ee=!0,xe=Re,We=ge.mention_count||0,$=(ge==null?void 0:ge.vip_count)||0),!xe&&We&&((0,n.Ay)({state:X}).warn(H,`Ignoring positive mention_count_display because has_unreads == false for ${Le.id}`,{subtype:"ignoring_positive_mention_count_display"}),We=0),Q[Le.id]={unreadCnt:xe,unreadHighlightCnt:We,unreadVIPMentionCnt:se?$:void 0},xe!==(0,d.$M)(Le)&&(Ke.unread_cnt=xe),se&&$!==(0,d.OJ)(Le)&&(Ke.vip_count=$),ee&&We!==(0,d.BP)(Le)&&(Ke.unread_highlight_cnt=We),ge.updated&&ge.history_invalid&&(w.push({channelId:Le.id,historyInvalidTs:ge.history_invalid,updatedTs:ge.updated}),ve!=null&&ve[Le.id]&&fe((0,A.A)({channelId:Le.id,newHistoryInvalidTs:ge.history_invalid,newUpdatedTs:ge.updated}))),(0,i.A)(Ke)||(Ke.id=Le.id,j.push(Ke))}),(0,i.A)(j)||fe(U({channels:j})),(0,i.A)(w)||fe((0,E.Lv)(w)),fe((0,P.M)(re)),fe((0,C.f)(Ee)),(0,y.Tw)(X)||fe((0,D.T)(Ee)),fe((0,L.iz)(Q)),fe(K((0,r.A)(Q,(ge,Le)=>{let{unreadCnt:ke,unreadHighlightCnt:Ke,unreadVIPMentionCnt:Ne}=ge;return{id:Le,unread_cnt:ke,unread_highlight_cnt:Ke,vip_count:se?Ne:void 0}}))),G.forEach(ge=>{fe((0,p.T)({channelId:ge}));const Le=(0,M.OL)(he(),ge,!1);if(Le){const ke={unreadCnt:(0,d.$M)(Le),unreadHighlightCnt:(0,d.BP)(Le),unreadVIPMentionCnt:(0,d.OJ)(Le)};(0,n.Ay)({state:X}).info(H,`Recounted ${ge}; initial: ${JSON.stringify(Q[ge])}; after: ${JSON.stringify(ke)}`)}})});Y.meta={name:"createThunk",key:"createThunkapplyCountsToChannels",description:"Apply counts to channel objects and update stores"};var Z=e(5795074931),V=e(9665027958),ne=e(1725276404),q=e(1827030018),me=e(9132245692);const ue="COUNTS",ae=(0,c.Ay)("Apply counts to channels and threads",function(fe,he){let{channels:ie,ims:X,mpims:j,threads:w,alerts:Q,saved:G,fileChannels:J,channelBadges:te,countsLastFetched:se,todos:ce}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ee=he();if(!(0,Z.TZ)(Ee))return o.S.resolve();fe((0,L.iz)({})),fe((0,me.y)(Q||{})),fe((0,L.t)(se||void 0));const de=le(J),re=(0,t.A)((0,s.A)(ie||[],X||[],j||[],de||[]));return fe(Y({counts:re})).then(()=>{const _e=(0,n.Ay)({getState:he});w&&(_e.info(ue,`Threads has_unreads:${w.has_unreads} mention_count:${w.mention_count}`),fe((0,q._)({threadsHasUnreads:!!w.has_unreads,threadsUnreadCountByChannel:w.unread_count_by_channel,threadsMentionCountByChannel:w.mention_count_by_channel||{}}))),G&&fe((0,V.yO)(G)),ce&&fe((0,ne.yO)(ce)),te&&fe((0,L.$m)(te)),_e.info(ue,"Completed counts processing")})});ae.meta={name:"createThunk",key:"createThunkapplyCountsToChannelsAndThreads",description:"Apply counts to channels and threads"};function le(fe){if(!fe||!fe.quip)return[];const he=fe.quip.mention_count_by_channel;return Object.keys(he).map(j=>({id:j,mention_count:he[j],has_unreads:!0}))}_(le,"transformFileChannels")},212572833:(N,g,e)=>{"use strict";e.d(g,{t:()=>s});var t=e(4761125736);function s(o){return(0,t._Z)(o,"client_counts_omit_unchanged_fe")==="on"}_(s,"isOmitUnchangedClientCountsEnabled")},7547876038:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3297051565),s=e.n(t),o=e(1545824888),n=e(6439846314),c=e(5257368278);const i=(0,c.A)("API call for slack-action:// URL",(m,h,v)=>{let{botId:p,payload:T}=v;return m((0,n.apiCall)({method:"chat.action",args:{bot:p,payload:decodeURIComponent(T)}}))});i.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},i.propTypes={botId:s().string.isRequired,payload:s().string.isRequired};const r=i;var a=e(7582939986),l=e(8707546752),d=e(6304789565);const u=(0,d.Ay)("Execute slack-action:// URL",(m,h,v)=>{if((0,l.A)(v)){const p=v.replace(a.Rw,"").split("/"),T=p.shift(),A=p.join("/");return m(r({botId:T,payload:A}))}return o.K.reject(new Error("Not a Slack action URL"))});u.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},u.propTypes=s().string.isRequired;const f=u},9456841042:(N,g,e)=>{"use strict";e.d(g,{b:()=>u});var t=e(4427921758),s=e(5026370001),o=e(4117634716),n=e(8822892075),c=e(6304789565),i=e(5795074931),r=e(3255440563),a=e(3052395304),l=e(7434063642);const d=(0,c.Ay)("Opens member profile in the huddle window flexpane if the window is open",(f,m,h,v)=>{let{memberId:p}=h;const{windowRef:T,windowId:A}=v(r.C);return(0,a.u)(A)&&!!T.deref()?(f((0,l.Zx)({userId:p})),!0):!1});d.meta={name:"createThunk",key:"createThunkopenProfileInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};const u=(0,c.Ay)("Show the member profile",async function(f,m){let{memberId:h}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3?arguments[3]:void 0;const p=m(),{channelId:T}=v(t.j),A=await f((0,s.I)()),C=h||(0,i.WR)(p);if(!f(d({memberId:C})))return f(A&&T?(0,o.o)((0,n.sL)((0,n.Fo)({memberId:C}),T,A.id)):(0,o.o)((0,n.Fo)({memberId:C})))});u.meta={name:"createThunk",key:"createThunkshowMemberProfile",description:"Show the member profile"}},6652001255:(N,g,e)=>{"use strict";e.d(g,{q:()=>n});var t=e(4117634716),s=e(8822892075),o=e(6304789565);const n=(0,o.Ay)("Opens the user group details flexpane",(c,i,r)=>{let{groupId:a}=r;c((0,t.o)((0,s.cu)(a)))});n.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},4191588167:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(337319621),s=e(6304789565),o=e(8847766420),n=e(9536404279),c=e(4350638406),i=e(8455301571),r=e(4425457544);const a=(0,s.Ay)("Possibly purge or invalidate channel history .",(d,u,f)=>{let{channelId:m,newHistoryInvalidTs:h,newUpdatedTs:v}=f;const p=u(),{historyInvalidTs:T,updatedTs:A}=(0,r.Dk)(p,m);h!=="0000000000.000000"&&(!T||h>T)?((0,t.Ay)({state:p}).info("COUNTS",`purging cached history for channel ${m} since counts history_invalid ${h} > cached historyInvalidTs ${T}`),d((0,n.bz)({channelId:m,includeThreads:!0}))):v!=="0000000000.000000"&&(!A||v>A)&&((0,t.Ay)({state:p}).info("COUNTS",`invalidating history for channel ${m} since counts updated ${v} > cached updatedTs ${A}`),(0,c.D1)((0,o.ZT)(p),m,(0,i.m3)(p,m)))});a.meta={name:"createThunk",key:"createThunkmaybePurgeChannelHistoryAfterMutations",description:"Possibly purge or invalidate channel history ."};const l=a},9609912577:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(9364044512),o=e(6839188756),n=e(8668318456),c=e(56548687),i=e(7679173189),r=e(6304789565),a=e(8847766420),l=e(5795074931),d=e(2375333597),u=e(1670069836);const f=(0,r.Ay)("Opens the apps browser modal",function(h,v){let{initialTab:p,emojiNameSuggestion:T,elementName:A,emojiUrl:C,megaphoneEventOnClose:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const D=v(),y=(0,a.JY)(D);let P;y&&(0,i.JV)(y)?P=(0,u.H2)(D):(0,l.u8)(D)&&(P=(0,o.mf)((0,u.H7)(D))),(0,c.e)({getState:v}).track(n.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:A}}}}),h((0,d.q)({element:t.createElement(s.A,{showEmojiPacks:!C,orgName:P,initialTab:p,emojiNameSuggestion:T,emojiUrl:C,megaphoneEventOnClose:I}),isStackable:!0}))});f.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"};const m=f},9640814771:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the Auto Charge Trial Entry Modal");s.meta={name:"createAction",key:"createActionopenAutoChargeTrialEntryModalCircular",description:"Triggers a side-effect that opens the Auto Charge Trial Entry Modal"};const o=s},5367630355:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the compare plans modal in client");s.meta={name:"createAction",key:"createActionopenComparePlansModalCircular",description:"Triggers a side-effect that opens the compare plans modal in client"};const o=s},9490897575:(N,g,e)=>{"use strict";e.d(g,{U:()=>E});var t=e(8950789382),s=e(9524650809),o=e(352142497),n=e(5219786273),c=e(6304789565),i=e(2446098127),r=e(9602395280),a=e(1100145935),l=e(7765212398),d=e(5522343655),u=e(3193155968);const f=(0,c.Ay)("Opens the conversation create modal",async function(M,S){let{draftId:R,shouldOpenInTile:k=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=S();let U=R;const W=U?(0,l.YI)(O,U):void 0;if(!(0,n.W)(U)||!W)try{U=await M((0,d.A)({client_draft_id:U??(0,s.A)(o.D.ConversationCreate)})),M((0,a.OA)({draftId:U,metadata:{selectedPrivate:!0}}))}catch{return}if(k){const x={[u.mq.Primary]:{id:U,viewType:o.D.ConversationCreate,params:{draftId:U}}};M((0,r.A)({viewSet:x,shouldShowSearch:!1}));return}M((0,i.m)({draftId:U}))});f.meta={name:"createThunk",key:"createThunkopenConversationCreateFlow",description:"Opens the conversation create modal"};var m=e(4117634716),h=e(8822892075),v=e(6766028902),p=e(8668318456),T=e(56548687),A=e(337319621),C=e(7097705154),I=e(9879145827),D=e(5192633986),y=e(7429662208),P=e(8471026781);const E=(0,c.Ay)("Opens the composer page",async(M,S,R)=>{let{draftId:k,fromKeyboardShortcut:O,origin:U,shouldOpenInTile:W=!1}=R;var x,L;const b=S(),F=(0,A.Ay)({state:b,label:"COMPOSER"});if((0,C.H)(b)&&!k){M(f({shouldOpenInTile:W}));return}const B=(0,y.e6)(b);if(((x=(0,y.F8)(b,{tab:B,container:u.mq.Primary}))===null||x===void 0?void 0:x.id)==="Pcomposer"&&!k){const V=(0,P.A)(b),ne=(0,l.YI)(b,V);if(ne&&(0,v.A)(b,ne)){F.info(`Composer page is already open with an empty draft ${V}`);return}}let Y;if(k)Y=k;else try{Y=await M((0,d.A)()),F.info(`Creating a new composer draft ${Y}`),O&&(0,T.e)({state:b}).track(p.EventId.COMPOSE_FLOW,{draft_type:"composer",contexts:{ui_context:{action:p.UiAction.KEYDOWN,step:p.UiStep.COMPOSE_FLOW_CREATE}}})}catch{return}const Z=(0,D.$)(b);if(U?M((0,I.j)(U)):Z&&M((0,I.j)(null)),F.info(`Opening the composer page to the following draft ${Y}`),W){M((0,t.s)({viewId:"Pcomposer",params:{draftId:Y}}));return}(L=M((0,m.o)((0,h.D0)(Y))))===null||L===void 0||L.catch(V=>{F.error("Could not open composer page",V)})});E.meta={name:"createThunk",key:"createThunkopenComposerPage",description:"Opens the composer page"}},2446098127:(N,g,e)=>{"use strict";e.d(g,{m:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the conversation creation modal in client");s.meta={name:"createAction",key:"createActionopenConversationCreateModalCircular",description:"Triggers a side-effect that opens the conversation creation modal in client"}},9602395280:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(8822892075),s=e(3110884894),o=e(82287009),n=e(485355941),c=e(6304789565),i=e(3193155968);const r=(0,c.Ay)("Opens a channel in a new window",async(l,d,u)=>{let{viewSet:f,shouldNavigateInContext:m,shouldShowSearch:h,containerOrigin:v,initialColumnMode:p,clogParams:T,childWindowDimensions:A}=u;const C=d(),I=f[i.mq.Primary];if(I&&(0,n.n3)(C)){var D;if((I.id==="thread"||I.id==="comment_thread")&&(!((D=I.params)===null||D===void 0)&&D.threadId)){const{channelId:y}=(0,s.Sb)(I.params.threadId),P=I.params.entityId,E=I.id==="comment_thread"?P:y;l((0,o.Bb)({viewSet:{[i.mq.Primary]:(0,t.pr)(E??I.params.entityId),[i.mq.Secondary]:{id:I.id,params:I.params,viewType:I.viewType}},shouldNavigateInContext:m,containerOrigin:v,initialColumnMode:p,clogParams:T}))}else l((0,o.Bb)({viewSet:f,shouldNavigateInContext:m,shouldShowSearch:h,clogParams:T,childWindowDimensions:A}))}});r.meta={name:"createThunk",key:"createThunkopenInDetachedWindow",description:"Opens a channel in a new window"};const a=r},9786721596:(N,g,e)=>{"use strict";e.d(g,{U:()=>I});var t=e(6916052175),s=e(5624319675),o=e(4427921758),n=e(5026370001),c=e(4117634716),i=e(8822892075),r=e(3244118357),a=e(6304789565),l=e(8847766420),d=e(9604647993),u=e(195568024),f=e(2891736215),m=e(6952523491),h=e(2762206868),v=e(8677230210),p=e(613926746),T=e(4761125736),A=e(8276911661);const C=(0,a.Ay)("Shows message pane for bots",async function(D,y){let{memberId:P,serviceId:E,botProfile:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var S;const{member:R,bot:k,memberIsHuman:O}=(0,v.Od)(y(),{userId:P,botId:E,botProfile:M}),U=(0,s.mr)(y()),W=(0,m.J)(y()),x=(0,l.ZT)(y())||"",L=!O||E?(0,r.AW)({member:R||void 0,bot:k,botProfile:M,currentTeamId:x}):void 0,b=W?(0,h.sO)(y(),{appId:k==null?void 0:k.app_id,memberId:P,serviceId:E}):(0,f.G2)(y(),{serviceId:E,homeWorkspaceId:L,memberId:P,appId:k==null?void 0:k.app_id});var F;const B=(0,A.nv)(y(),P||((F=b==null||(S=b.app_user)===null||S===void 0?void 0:S.id)!==null&&F!==void 0?F:void 0)),K=(0,t.u)(B);if(U&&K){const{id:Y}=await D((0,p.Z)({memberId:B.id,shouldNavigateToChannel:!1}));return D((0,u.T)({channelId:Y,isSplitView:!1}))}var H;return D((0,p.Z)({memberId:(H=B==null?void 0:B.id)!==null&&H!==void 0?H:void 0}))});C.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const I=(0,a.Ay)("Shows the flexpane profile for humans or messages for bots",async(D,y,P,E)=>{let{memberId:M,serviceId:S,botProfile:R,triggerId:k}=P;const{channelId:O}=E(o.j),U=await D((0,n.I)()),W=y(),x=(0,T._Z)(W,"workflow_sender_opens_details")==="on",L=(0,T._Z)(W,"app_flexpane")==="on";return M&&(0,v.wC)(y(),M)?D(U?(0,c.o)((0,i.sL)((0,i.Fo)({memberId:M}),O,U.id)):(0,c.o)((0,i.Fo)({memberId:M}))):D(L&&M&&S&&!k?(0,c.o)((0,i.tp)({appId:R==null?void 0:R.app_id,serviceId:S,memberId:M})):x&&k?(0,d.u)({shortcutInfo:{triggerId:k},hermesLinkTriggerUIContext:{location:"flexpane",channelId:O}}):C({memberId:M,serviceId:S,botProfile:R}))});I.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},5644445851:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the remove member dialog");s.meta={name:"createAction",key:"createActionopenRemoveMemberDialogCircular",description:"Triggers a side-effect that opens the remove member dialog"};const o=s},2327059915:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the ShareContactModal in client (noop)");s.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"};const o=s},4841770661:(N,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),s=e(6471059816),o=e(6084388622),n=e(3989454579),c=e(7138682671),i=e(8739505998),r=e(980293773);const a=new s.Ay("message"),l=_(T=>{let{url:A,text:C,onClose:I,updateSuppressLinkWarning:D}=T;const[y,P]=(0,t.useState)(!1),E=C.length>25?`${C.substr(0,25)}\u2026`:C,M=A.length>50?`${A.substr(0,50)}\u2026`:A,S=a.t("Double-check this link"),R=a.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,L=>{let{tag:b}=L;return b==="label"?t.createElement(i.A,{href:A,onClick:I},E):t.createElement(i.A,{href:A,onClick:I},M)}),k=a.t("Continue"),O=a.t("Don\u2019t show this again"),U=(0,t.useCallback)(L=>{P(L.target.checked)},[]),W=(0,t.useCallback)(()=>{y&&D(),I()},[I,y,D]),x=a.t("Cancel");return t.createElement(r.dW,{closeModal:I,isOpen:!0,centered:!0},t.createElement(r.rQ,null,t.createElement(r.Rc,{title:S})),t.createElement(r.$m,null,t.createElement(r.qf,null,t.createElement("p",{className:"break_word"},R),t.createElement("p",null,t.createElement(c.A,{text:O,type:"inline",cursor:"pointer",className:"normal"},t.createElement(n.A,{id:"suppress_link_warning",name:"suppress_link_warning",value:y.toString(),checked:!!y,onChange:U}))))),t.createElement(r.jl,null,t.createElement(r.ox,null,t.createElement(r.s_,{type:"outline","aria-label":x},x),t.createElement(o.Ay,{type:"danger",href:A,onClick:W},k))))},"SuspiciousLinkWarning");l.displayName="SuspiciousLinkWarning";const d=l;var u=e(6304789565),f=e(9003400431),m=e(2375333597),h=e(387484329);const v=(0,u.Ay)("Display a warning when clicking a suspicious link",(T,A,C)=>{let{text:I,url:D}=C;const y=t.createElement(d,{text:I,url:D,onClose:()=>{T((0,f.O)())},updateSuppressLinkWarning:()=>{T((0,h.AZ)({pref:"suppress_link_warning",value:!0}))}});T((0,m.q)({element:y}))});v.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};const p=v},9604647993:(N,g,e)=>{"use strict";e.d(g,{u:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the workflow details modal in client (noop)");s.meta={name:"createAction",key:"createActionopenWorkflowDetailsModalCircular",description:"Triggers a side-effect that opens the workflow details modal in client (noop)"}},8918640447:(N,g,e)=>{"use strict";e.d(g,{ET:()=>h,Fd:()=>p,Wb:()=>T,xz:()=>v});var t=e(5950652755),s=e(2028988448),o=e(7582939986),n=e(440999534),c=e(2141099977),i=e(337319621),r=e(6304789565),a=e(8847766420),l=e(8802876335);const d="PRESENCE-MANAGER",u={},f=_((C,I)=>{const D=(0,a.ZT)(I());if(!D)return;const y=Object.keys(u[D]),P=(0,i.Ay)({getState:I,label:d});P.debug(`Sending a 'presence_sub' event with the following ids: ${y}`),C((0,c.tN)({type:"presence_sub",ids:y})).catch(E=>{E.message!==n.qk&&P.error(new Error("Errored while sending 'presence_sub'"),{err:E,memberIds:y})})},"sendMessageEvent"),m=(0,t.A)(f,100,{leading:!1}),h=(0,r.Ay)('Send a "presence_sub" event with the list of members',(C,I)=>{if(!(0,l.ON)(I())){(0,i.Ay)({getState:I,label:d}).debug("The presence subscription changed while the WebSocket disconnected");return}m(C,I)});h.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:'Send a "presence_sub" event with the list of members'};const v=(0,r.Ay)("Adds the member to the presence subscription or increments the associated count",(C,I,D)=>{if(!D||D===o.Q$)return;const y=(0,a.ZT)(I());if(y){if(u[y]||(u[y]={}),u[y][D]){(0,i.Ay)({getState:I,label:d}).debug(`Increasing the count for ${D} by 1`),u[y][D]+=1;return}(0,i.Ay)({getState:I}).debug(d,`Adding ${D} to the presence subscription`),u[y][D]=1,C(h())}});v.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"};const p=(0,r.Ay)("Removes the member from the presence subscription or decrements the associated count",(C,I,D)=>{var y;if(!D)return;const P=(0,a.ZT)(I());if(!P||!(!((y=u[P])===null||y===void 0)&&y[D]))return;const E=(0,i.Ay)({getState:I,label:d});if(u[P][D]>1){E.debug(`Decreasing count for "${D}" by 1`),u[P][D]-=1;return}E.debug(`Unsubscribing from "${D}"`),delete u[P][D],C(h())});p.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"};const T=_(C=>u[C],"getPresenceSubscriptionByTeamId"),A={presenceSubscription:u,sendMessageEvent:f};(0,s.ul)("presenceManager",{getPresenceSubscriptionByTeamId:T})},5583430912:(N,g,e)=>{"use strict";e.d(g,{Ap:()=>n,Pv:()=>s,Ui:()=>o});var t=e(7223729463);const s=new t.a;function o(){return s.entries().filter(c=>c.value&&!c.value.isRejected()&&!c.value.isCancelled()).length}_(o,"getActiveCollabClientCount");const n=_(c=>{const i=s.get(c);return i!=null&&i.isFulfilled()?i.value():void 0},"getInitializedClient")},7260478587:(N,g,e)=>{"use strict";e.d(g,{Ai:()=>L,Eg:()=>R,Ex:()=>r,F$:()=>b,H6:()=>O,Kf:()=>P,M:()=>W,QV:()=>S,SQ:()=>x,Uz:()=>ne,cy:()=>l,ed:()=>U,hB:()=>E,hM:()=>a,jv:()=>f,lb:()=>v,nK:()=>M,qz:()=>A,rW:()=>V,uF:()=>I});var t=e(3385422400),s=e(6471059816),o=e(7330763135),n=e(7729538251),c=e(1670069836);const i=new s.Ay("slack_docs");var r;(function(q){q.CANVAS_SUMMARY="/canvas_summary",q.CANVAS_ACTION_ITEMS="/canvas_action_items",q.FAQ="/faq",q.WEEKLY_RECAP="/weekly_recap",q.OVERVIEW="/overview",q.AGENDA="/agenda",q.BRAINSTORM="/brainstorm",q.TABLE="/table",q.OUTLINE="/outline",q.CREATE="/create",q.AGENDA_OPTION_001="/agenda_001",q.AGENDA_OPTION_002="/agenda_002",q.AGENDA_OPTION_003="/agenda_003",q.AGENDA_OPTION_004="/agenda_004",q.BRAINSTORM_OPTION_001="/brainstorm_001",q.BRAINSTORM_OPTION_002="/brainstorm_002",q.BRAINSTORM_OPTION_003="/brainstorm_003",q.BRAINSTORM_OPTION_004="/brainstorm_004",q.FAQ_OPTION_001="/faq_001",q.FAQ_OPTION_002="/faq_002",q.FAQ_OPTION_003="/faq_003",q.FAQ_OPTION_004="/faq_004",q.OUTLINE_OPTION_001="/outline_001",q.OUTLINE_OPTION_002="/outline_002",q.OUTLINE_OPTION_003="/outline_003",q.OUTLINE_OPTION_004="/outline_004",q.OVERVIEW_OPTION_001="/overview_001",q.OVERVIEW_OPTION_002="/overview_002",q.OVERVIEW_OPTION_003="/overview_003",q.OVERVIEW_OPTION_004="/overview_004",q.TABLE_OPTION_001="/table_001",q.TABLE_OPTION_002="/table_002",q.TABLE_OPTION_003="/table_003",q.TABLE_OPTION_004="/table_004"})(r||(r={}));var a;(function(q){q.CREATE="create",q.CREATE_FROM_LEGACY="create_from_legacy",q.REFINE="refine",q.AGENDA="agenda",q.BRAINSTORM="brainstorm",q.FAQ="faq",q.OUTLINE="outline",q.OVERVIEW="overview",q.TABLE="table",q.ACTION_ITEMS="current_canvas",q.SUMMARY="current_canvas"})(a||(a={}));var l;(function(q){q.CREATION="creation",q.CREATION_FROM_EMPTY_DOC="creation_from_empty_doc",q.CREATION_FROM_LEGACY="creation_from_legacy",q.REFINEMENT="refinement",q.AGENDA="agenda",q.BRAINSTORM="brainstorm",q.FAQ="faq",q.OUTLINE="outline",q.OVERVIEW="overview",q.TABLE="table"})(l||(l={}));const d=new Map([[r.AGENDA,a.CREATE],[r.BRAINSTORM,a.CREATE],[r.WEEKLY_RECAP,a.CREATE],[r.FAQ,a.CREATE],[r.OUTLINE,a.CREATE],[r.OVERVIEW,a.CREATE],[r.TABLE,a.CREATE],[r.CANVAS_ACTION_ITEMS,a.CREATE],[r.CANVAS_SUMMARY,a.CREATE],[r.AGENDA_OPTION_001,a.AGENDA],[r.AGENDA_OPTION_002,a.AGENDA],[r.AGENDA_OPTION_003,a.AGENDA],[r.AGENDA_OPTION_004,a.AGENDA],[r.BRAINSTORM_OPTION_001,a.BRAINSTORM],[r.BRAINSTORM_OPTION_002,a.BRAINSTORM],[r.BRAINSTORM_OPTION_003,a.BRAINSTORM],[r.BRAINSTORM_OPTION_004,a.BRAINSTORM],[r.FAQ_OPTION_001,a.FAQ],[r.FAQ_OPTION_002,a.FAQ],[r.FAQ_OPTION_003,a.FAQ],[r.FAQ_OPTION_004,a.FAQ],[r.OUTLINE_OPTION_001,a.OUTLINE],[r.OUTLINE_OPTION_002,a.OUTLINE],[r.OUTLINE_OPTION_003,a.OUTLINE],[r.OUTLINE_OPTION_004,a.OUTLINE],[r.OVERVIEW_OPTION_001,a.OVERVIEW],[r.OVERVIEW_OPTION_002,a.OVERVIEW],[r.OVERVIEW_OPTION_003,a.OVERVIEW],[r.OVERVIEW_OPTION_004,a.OVERVIEW],[r.TABLE_OPTION_001,a.TABLE],[r.TABLE_OPTION_002,a.TABLE],[r.TABLE_OPTION_003,a.TABLE],[r.TABLE_OPTION_004,a.TABLE]]),u=new Map([[a.CREATE,l.CREATION],[a.CREATE_FROM_LEGACY,l.CREATION_FROM_LEGACY],[a.REFINE,l.REFINEMENT],[a.AGENDA,l.AGENDA],[a.BRAINSTORM,l.BRAINSTORM],[a.FAQ,l.FAQ],[a.OUTLINE,l.OUTLINE],[a.OVERVIEW,l.OVERVIEW],[a.TABLE,l.TABLE]]),f={name:"ai-sparkle",size:"20"},m=new Map([[r.AGENDA,{name:"calendar",size:"20"}],[r.BRAINSTORM,{name:"emoji-objects",size:"20"}],[r.CANVAS_ACTION_ITEMS,{name:"ai-check",size:"20"}],[r.CANVAS_SUMMARY,{name:"ai-summary",size:"20"}],[r.WEEKLY_RECAP,{name:"ai-summary",size:"20"}],[r.CREATE,{name:"sparkles",size:"20"}],[r.FAQ,{name:"book",size:"20"}],[r.OUTLINE,{name:"bulleted-list",size:"20"}],[r.OVERVIEW,{name:"ai-summary",size:"20"}],[r.TABLE,{name:"table",size:"20"}]]),h=new Map([[r.AGENDA,"\u{1F4C6}"],[r.BRAINSTORM,"\u{1F9E0}"],[r.FAQ,"\u2753"],[r.OUTLINE,"\u{1F4D6}"],[r.OVERVIEW,"\u{1F9F0}"],[r.TABLE,"\u{1F4CA}"],[r.WEEKLY_RECAP,"\u21AA\uFE0F"]]),v=_(q=>h.get(q)||"","getEmojiById"),p=_(q=>{switch(q){case r.AGENDA:return i.t("Draft a meeting agenda\u2026",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.BRAINSTORM:return i.t("Brainstorm ideas\u2026",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.CREATE:return i.t("Write with AI",{fallbackHash:"5a98372d1f7b397565f7cb33560b8abe99f7acdc"});case r.FAQ:return i.t("Create FAQs\u2026",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OUTLINE:return i.t("Draft an outline\u2026",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OVERVIEW:return i.t("Write a project overview\u2026",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.TABLE:return i.t("Create a table\u2026",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.WEEKLY_RECAP:return i.t("Recap my past week in Slack",{fallbackHash:"61aa9040844ff3e13a5ed3e6a14583f96ba4cada",fallbackHashNs:"assistant"});case r.AGENDA_OPTION_001:return i.t("Draft a meeting agenda for the weekly meeting in #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.AGENDA_OPTION_002:return i.t("Draft a meeting agenda for a 1:1 based on my recent conversations with @somebody",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.AGENDA_OPTION_003:return i.t("Draft a meeting agenda for an intro call with a potential customer",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.AGENDA_OPTION_004:return i.t("Draft a meeting agenda for our next quarterly planning review",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.BRAINSTORM_OPTION_001:return i.t("Brainstorm ideas about names for the new feature discussed in #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.BRAINSTORM_OPTION_002:return i.t("Brainstorm ideas about improving collaboration in #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.BRAINSTORM_OPTION_003:return i.t("Brainstorm ideas about social media posts for our Q3 release",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.BRAINSTORM_OPTION_004:return i.t("Brainstorm ideas about team-building exercises for our next onsite",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.FAQ_OPTION_001:return i.t("Create FAQs for #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.FAQ_OPTION_002:return i.t("Create FAQs for the launch of the new company website, including a timeline",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.FAQ_OPTION_003:return i.t("Create FAQs for the upcoming office move",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.FAQ_OPTION_004:return i.t("Create FAQs for our sales training program",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OUTLINE_OPTION_001:return i.t("Draft an outline for onboarding members of #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OUTLINE_OPTION_002:return i.t("Draft an outline for a career planning session with @somebody",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OUTLINE_OPTION_003:return i.t("Draft an outline for a new employee handbook",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OUTLINE_OPTION_004:return i.t("Draft an outline for a quarterly marketing report",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OVERVIEW_OPTION_001:return i.t("Write a project overview about #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OVERVIEW_OPTION_002:return i.t("Write a project overview about the last project I worked on",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OVERVIEW_OPTION_003:return i.t("Write a project overview about the sales team\u2019s work in Q1",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OVERVIEW_OPTION_004:return i.t("Write a project overview about the recent mobile app redesign",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.TABLE_OPTION_001:return i.t("Create a table for roles and responsibilities of people in channel #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.TABLE_OPTION_002:return i.t("Create a table for a competitive analysis of our primary competitors",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.TABLE_OPTION_003:return i.t("Create a table for comparing our company\u2019s paid plans",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.TABLE_OPTION_004:return i.t("Create a table for a project release schedule for #a-channel",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.CANVAS_ACTION_ITEMS:return i.t("Add action items");case r.CANVAS_SUMMARY:return i.t("Add a summary");default:return""}},"getSuggestionName"),T=new Set([r.CANVAS_ACTION_ITEMS,r.CANVAS_SUMMARY]),A=_(q=>T.has(q),"isAutoSubmitSuggestionV2"),C=new Set([r.CANVAS_ACTION_ITEMS,r.CANVAS_SUMMARY,r.WEEKLY_RECAP]),I=_(q=>C.has(q),"isAutoSubmitSuggestion"),D=new Set([r.AGENDA,r.BRAINSTORM,r.FAQ,r.OUTLINE,r.OVERVIEW,r.TABLE]),y=_(q=>D.has(q),"isGuidedSuggestion"),P=_((q,me)=>{switch(!0){case q.startsWith(r.AGENDA):return i.t("Draft a meeting agenda for");case q.startsWith(r.BRAINSTORM):return i.t("Brainstorm ideas about",{fallbackHash:"4e95058a32f7f441e0c9ae52530d203ad26c7079",fallbackHashNs:"ui_generator_static"});case q.startsWith(r.FAQ):return i.t("Create FAQs for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case q.startsWith(r.OUTLINE):return i.t("Draft an outline for");case q.startsWith(r.OVERVIEW):return i.t("Write a project overview about",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case q.startsWith(r.WEEKLY_RECAP):return i.t("Recap my past week in Slack");case q.startsWith(r.TABLE):return i.t("Create a table for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});default:return me?"":p(q)}},"getSuggestionHoverHint"),E=_(q=>P(q,!0)||"","getTextToHighlightById"),M=_(q=>I(q)||y(q)||A(q)?q:p(q),"getSuggestionInsertionText"),S=_(q=>{switch(q){case r.AGENDA:return i.t("Draft a meeting agenda for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.BRAINSTORM:return i.t("Brainstorm",{fallbackHash:"4e95058a32f7f441e0c9ae52530d203ad26c7079",fallbackHashNs:"ui_generator_static"});case r.CANVAS_ACTION_ITEMS:return i.t("Add action items",{fallbackHash:"612b0b1d623ffd57874b9942f55a2baab60651d0"});case r.CANVAS_SUMMARY:return i.t("Add a summary",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.FAQ:return i.t("Write FAQs about",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OUTLINE:return i.t("Draft an outline for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.OVERVIEW:return i.t("Write an overview for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case r.TABLE:return i.t("Create a table");default:return p(q)}},"getSuggestionSubmissionText"),R=_(q=>{const me=new Map(Object.values(r).map(ae=>[S(ae).toLowerCase(),ae]));var ue;return(ue=me.get(q.toLowerCase()))!==null&&ue!==void 0?ue:null},"getSuggestionIdForSubmissionText"),k=_((q,me,ue)=>!!(me&&me===(0,o.zd)({actionId:q},ue??!1)),"isCanvasAiAction"),O=_((q,me)=>k(o.N2.REWRITE,q,me),"isCanvasAiRewriteAction"),U=_((q,me)=>k(o.N2.SUMMARIZE,q,me),"isCanvasAiSummarizeAction"),W=_((q,me)=>k(o.N2.ADD_ACTION_ITEMS,q,me),"isCanvasAiAddActionItemsAction"),x=_(function(q){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!(q&&!O(q,me)&&!U(q,me)&&!W(q,me))},"isCanvasAiRefineAction"),L=_(q=>{const me=new Map(Object.values(r).map(ae=>[M(ae).toLowerCase(),ae]));var ue;return(ue=me.get(q.toLowerCase()))!==null&&ue!==void 0?ue:null},"getSuggestionIdForInsertedText"),b=_(q=>{switch(q){case a.CREATE:return i.t("Suggestions",{fallbackHash:"564d3571acd1b3f669f762d196b6156b7aa88834",fallbackHashNs:"workflow_builder"});case a.REFINE:return i.t("Suggestions",{fallbackHash:"267e6e2f6a25dafaf92b9844b78c67ce0af55aa9",fallbackHashNs:"workflow_builder"});default:return""}},"getCategoryLabel"),F=_(q=>{const me=p(q),ue=d.get(q);return{id:q,category:ue,name:me,canonicalName:`/${q}`,aliases:[ue]}},"getSuggestionObjectForId"),B=new Set([r.AGENDA,r.FAQ,r.OVERVIEW,r.WEEKLY_RECAP]),K=_(q=>B.has(q),"isDefaultEmptyStateSuggestion"),H=new Set([r.CANVAS_ACTION_ITEMS,r.CANVAS_SUMMARY]),Y=_(q=>H.has(q),"isContentRequiredSuggestion"),Z=_(q=>{const me=q===l.CREATION_FROM_EMPTY_DOC,ue=q===l.CREATION_FROM_LEGACY,ae=me||ue?l.CREATION:q;let le=Object.values(r).filter(fe=>{const he=d.get(fe);return he&&u.get(he)===ae});return me?le=le.filter(fe=>!Y(fe)):ue||(le=le.filter(fe=>!K(fe))),le.map(fe=>F(fe))},"getSuggestions"),V=(0,t.Mz)([c.H7,()=>(0,n.JK)(),(q,me)=>{let{searchViewContext:ue}=me;return ue}],(q,me,ue)=>{if(ue!=null&&ue.includes(l.REFINEMENT)){var ae;return(ae=Z(l.REFINEMENT))===null||ae===void 0?void 0:ae.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.CREATION_FROM_EMPTY_DOC)){var le;return(le=Z(l.CREATION_FROM_EMPTY_DOC))===null||le===void 0?void 0:le.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.CREATION_FROM_LEGACY)){var fe;return(fe=Z(l.CREATION_FROM_LEGACY))===null||fe===void 0?void 0:fe.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.CREATION)){var he;return(he=Z(l.CREATION))===null||he===void 0?void 0:he.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.AGENDA)){var ie;return(ie=Z(l.AGENDA))===null||ie===void 0?void 0:ie.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.BRAINSTORM)){var X;return(X=Z(l.BRAINSTORM))===null||X===void 0?void 0:X.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.FAQ)){var j;return(j=Z(l.FAQ))===null||j===void 0?void 0:j.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.OUTLINE)){var w;return(w=Z(l.OUTLINE))===null||w===void 0?void 0:w.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.OVERVIEW)){var Q;return(Q=Z(l.OVERVIEW))===null||Q===void 0?void 0:Q.map(J=>({...J,type:"client"}))}if(ue!=null&&ue.includes(l.TABLE)){var G;return(G=Z(l.TABLE))===null||G===void 0?void 0:G.map(J=>({...J,type:"client"}))}return[]}),ne=_(q=>d.get(q)===a.CREATE||d.get(q)===a.CREATE_FROM_LEGACY,"isSuggestionCreation")},4119164726:(N,g,e)=>{"use strict";e.d(g,{Aw:()=>I,Zj:()=>p,vK:()=>T});var t=e(3262078016),s=e(3385422400),o=e(6471059816),n=e(4843305308),c=e(8079225585),i=e(9084547259),r=e(7731278967),a=e(8956161330),l=e(7729538251),d=e(6642124196),u=e(6839188756),f=e(4761125736),m=e(6346221893),h=e(1670069836);const v=new o.Ay("quip_shortcut_handlers");var p;(function(D){D[D.BASICS=0]="BASICS",D[D.MEDIA=1]="MEDIA",D[D.SLACK=2]="SLACK",D[D.LAYOUT=3]="LAYOUT",D[D.AI=4]="AI",D[D.SALESFORCE=5]="SALESFORCE"})(p||(p={}));const T=_((D,y)=>({[p.BASICS]:v.t("Basics"),[p.MEDIA]:v.t("Media"),[p.SLACK]:v.t("Slack"),[p.LAYOUT]:v.t("Layout"),...D?{[p.AI]:v.t("AI")}:{},...y?{[p.SALESFORCE]:v.t("Salesforce")}:{}}),"getCategoryDetailsV2"),A=_(D=>{let{currentTeam:y,experimentCanvasCalloutsGroupOn:P,experimentCanvasAiContentCreationGroupOn:E,teamHasListsAccess:M,experimentCanvasLiveDataMentionsGroupOn:S,connectedSalesforceOrgs:R}=D;const k=(0,u.qR)(y),O=!!R.length&&S,U=T(E,S),W=U[p.AI],x=U[p.BASICS],L=U[p.MEDIA],b=U[p.SLACK],F=U[p.LAYOUT],B=U[p.SALESFORCE],K=_((H,Y,Z,V)=>({id:H,name:Y,canonicalName:Z,hideOnEmptyQuery:V,autocomplete:!0,icon:(0,n.P)(r.r.DATE_MENTION).name,category:p.BASICS}),"dateShortcut");return[...E?[{id:t.SlackShortcutCommandType.AI_ASSISTANT,name:v.t("Write with AI",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2"}),canonicalName:"/ai",autocomplete:!0,icon:"sparkles",category:p.AI,aliases:[W,v.t("assistant"),v.t("ask")]},{id:t.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_SUMMARY,name:v.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"}),canonicalName:"/aicanvassummary",autocomplete:!0,icon:"ai-summary",category:p.AI,aliases:[W,v.t("assistant"),v.t("ask"),v.t("summary")]},{id:t.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_ACTION_ITEMS,name:v.t("Add action items",{fallbackHash:"612b0b1d623ffd57874b9942f55a2baab60651d0"}),canonicalName:"/aicanvasactionitems",autocomplete:!0,icon:"ai-check",category:p.AI,aliases:[W,v.t("assistant"),v.t("ask"),v.t("actionitems")]}]:[],{id:t.SlackShortcutCommandType.CANVAS,name:(0,c.O)(r.r.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:(0,n.P)(r.r.CANVAS).name,category:p.BASICS,aliases:["canvas",x]},{id:t.SlackShortcutCommandType.CHECKLIST,name:(0,c.O)(r.r.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:(0,n.P)(r.r.CHECK_LIST).name,category:p.BASICS,aliases:["checklist",x]},{id:t.SlackShortcutCommandType.H1,name:(0,c.O)(r.r.H1),canonicalName:"/largeheading",autocomplete:!0,icon:(0,n.P)(r.r.H1).name,category:p.BASICS,aliases:["h1","heading",x]},{id:t.SlackShortcutCommandType.H2,name:(0,c.O)(r.r.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:(0,n.P)(r.r.H2).name,category:p.BASICS,aliases:["h2","heading",x]},{id:t.SlackShortcutCommandType.H3,name:(0,c.O)(r.r.H3),canonicalName:"/smallheading",autocomplete:!0,icon:(0,n.P)(r.r.H3).name,category:p.BASICS,aliases:["h3","heading",x]},{id:t.SlackShortcutCommandType.PLAIN,name:(0,c.O)(r.r.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:(0,n.P)(r.r.PARAGRAPH).name,category:p.BASICS,aliases:["plain",v.t("plain"),x]},{id:t.SlackShortcutCommandType.TABLE,name:(0,c.O)(r.r.TABLE),canonicalName:"/table",autocomplete:!0,icon:(0,n.P)(r.r.TABLE).name,category:p.BASICS,aliases:["table",v.t("grid"),v.t("spreadsheet"),x]},{id:t.SlackShortcutCommandType.DIVIDER,name:(0,c.O)(r.r.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:(0,n.P)(r.r.DIVIDER).name,category:p.BASICS,aliases:["divider",v.t("horizontal line"),x]},{id:t.SlackShortcutCommandType.BULLET_LIST,name:(0,c.O)(r.r.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:(0,n.P)(r.r.BULLET_LIST).name,category:p.BASICS,aliases:["list",x]},{id:t.SlackShortcutCommandType.ORDERED_LIST,name:(0,c.O)(r.r.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:(0,n.P)(r.r.ORDERED_LIST).name,category:p.BASICS,aliases:["list",x]},{id:t.SlackShortcutCommandType.BLOCKQUOTE,name:(0,c.O)(r.r.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:(0,n.P)(r.r.BLOCKQUOTE).name,category:p.BASICS,aliases:["blockquote",x]},...P?[{id:t.SlackShortcutCommandType.CALLOUT,name:(0,c.O)(r.r.CALLOUT),canonicalName:"/callout",autocomplete:!0,icon:(0,n.P)(r.r.CALLOUT).name,category:p.BASICS,aliases:["callout"]}]:[],{id:t.SlackShortcutCommandType.CODE,name:(0,c.O)(i.L.CODE),canonicalName:"/code",autocomplete:!0,icon:(0,n.P)(i.L.CODE).name,category:p.BASICS,aliases:["code",x]},{...K(t.SlackShortcutCommandType.DATE_GENERIC,(0,c.O)(r.r.DATE_MENTION),"/date"),aliases:["date",x]},{...K(t.SlackShortcutCommandType.DATE_TODAY,v.t("Today"),"/today",!0),aliases:["today"]},{...K(t.SlackShortcutCommandType.DATE_TOMORROW,v.t("Tomorrow"),"/tomorrow",!0),aliases:["tomorrow"]},{...K(t.SlackShortcutCommandType.DATE_YESTERDAY,v.t("Yesterday"),"/yesterday",!0),aliases:["yesterday"]},{...K(t.SlackShortcutCommandType.DATE_GENERIC,v.t("Reminder",{fallbackHash:"b87a1929f78bee9f6f3a2ac9e30465cd226ab5ec",fallbackHashNs:"slack_docs"}),"/reminder"),aliases:["reminder",x]},{id:t.SlackShortcutCommandType.VIDEO,name:(0,c.O)(r.r.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:(0,n.P)(r.r.VIDEO_CLIP).name,category:p.MEDIA,aliases:["video",L]},{id:t.SlackShortcutCommandType.AUDIO,name:(0,c.O)(r.r.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:(0,n.P)(r.r.AUDIO_CLIP).name,category:p.MEDIA,aliases:["audio",L]},{id:t.SlackShortcutCommandType.IMAGE,name:(0,c.O)(r.r.IMAGE),canonicalName:"/image",autocomplete:!0,icon:(0,n.P)(r.r.IMAGE).name,category:p.MEDIA,aliases:["image",L]},{id:t.SlackShortcutCommandType.FILE,name:(0,c.O)(r.r.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:p.MEDIA,aliases:["file",L]},...O?[{id:t.SlackShortcutCommandType.SALESFORCE_DATA_MENTION,name:(0,c.O)(r.r.SALESFORCE_DATA_MENTION,{experimentCanvasLiveDataMentionsGroupOn:S}),canonicalName:"/livedatamention",autocomplete:!0,icon:(0,n.P)(r.r.SALESFORCE_DATA_MENTION).name,category:p.SALESFORCE,aliases:["livedatamention",B]}]:[],...k?[{id:t.SlackShortcutCommandType.WORKFLOW,name:(0,c.O)(r.r.WORKFLOW),canonicalName:"/workflow",autocomplete:!0,icon:(0,n.P)(r.r.WORKFLOW).name,category:p.SLACK,aliases:["workflow",b]}]:[],...M?[{id:t.SlackShortcutCommandType.LIST,name:(0,c.O)(r.r.LIST),canonicalName:"/list",autocomplete:!0,icon:(0,n.P)(r.r.LIST).name,category:p.SLACK,aliases:["list",b]}]:[],{id:t.SlackShortcutCommandType.PROFILE,name:v.t("Profile"),canonicalName:"/profile",autocomplete:!0,icon:"user",category:p.SLACK,aliases:["user",b,v.t("user"),v.t("mention")]},{id:t.SlackShortcutCommandType.CHANNEL,name:v.t("Channel"),canonicalName:"/channel",autocomplete:!0,icon:"channel-add",category:p.SLACK,aliases:["channel",b]},{id:t.SlackShortcutCommandType.TWO_COLUMNS,name:(0,c.O)(r.r.LAYOUT_2_COLUMNS),canonicalName:"/twocolumns",autocomplete:!0,icon:(0,n.P)(r.r.LAYOUT_2_COLUMNS).name,category:p.LAYOUT,aliases:["layout",F]},{id:t.SlackShortcutCommandType.THREE_COLUMNS,name:(0,c.O)(r.r.LAYOUT_3_COLUMNS),canonicalName:"/threecolumns",autocomplete:!0,icon:(0,n.P)(r.r.LAYOUT_3_COLUMNS).name,category:p.LAYOUT,aliases:["layout",F]},{id:t.SlackShortcutCommandType.CODEBLOCK,name:(0,c.O)(r.r.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:(0,n.P)(r.r.CODE_BLOCK).name,category:p.LAYOUT,aliases:["code",F]}]},"getCommandsV2");function C(D){return{...D,type:"client"}}_(C,"formatShortcut");const I=(0,s.Mz)([h.H7,D=>(0,f._Z)(D,"canvas_callouts")==="on",D=>(0,f._Z)(D,"canvas_ai_inline_creation")==="on",D=>(0,d.teamHasFullListsAccess)(D),a.rF,m.mO,()=>(0,l.JK)(),(D,y)=>y],(D,y,P,E,M,S,R,k)=>A({currentTeam:D,experimentCanvasCalloutsGroupOn:y,experimentCanvasAiContentCreationGroupOn:P,teamHasListsAccess:E,experimentCanvasLiveDataMentionsGroupOn:M,connectedSalesforceOrgs:S}).map(C).filter(U=>k||!U.hideOnEmptyQuery))},7102510068:(N,g,e)=>{"use strict";e.d(g,{A:()=>o,h:()=>s});var t=e(3262078016);const s=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:t.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:t.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:t.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:t.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:t.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:t.CollabUrlType.SLACK_WORKFLOW},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/lists\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_LIST}];let o=_(class{constructor(){this.supportedUrlParsers=s}},"QuipUrlParsersProvider")},9121476043:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3110884894),s=e(6304789565),o=e(3164289453),n=e(9536404279),c=e(10127715),i=e(7606781622);const r=(0,s.Ay)("Remove a message and its timestamp",function(l,d){let{channelId:u,ts:f,threadTs:m,broadcastDelete:h=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!u||!f))if(h)l((0,c.E$)({channelId:u,ts:f}));else{l((0,n.Np)({channelId:u,timestamp:f}));const v=!1,p=(0,i.Ld)(d(),u,f,v),T=p&&p.thread_ts||m;if(T){const A=(0,t.Iu)(u,T)||"";l((0,n.Np)({channelId:A,timestamp:f}))}l((0,c.QN)({message:{channel:u,ts:f}})),l((0,o.A)({channelId:u,item:p}))}});r.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"};const a=r},3164289453:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3297051565),s=e.n(t),o=e(2140362605);const n=(0,o.Ay)("(noop) Remove a pinned item via side-effect");n.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},n.propTypes=s().shape({item:s().object.isRequired,channelId:s().string.isRequired}).isRequired;const c=n},7793445970:(N,g,e)=>{"use strict";e.d(g,{A:()=>S});var t=e(6696292586),s=e(8086952004),o=e(12126472),n=e(3398586081),c=e(5950652755),i=e(3080060173),r=e(3110884894),a=e(337319621),l=e(6304789565),d=e(8847766420),u=e(6533394955),f=e(3087402890),m=e(5795074931),h=e(9536404279),v=e(9101533895),p=e(10127715),T=e(1581380967),A=e(8802876335),C=e(6704899486),I=e(1116859610);const D=1e3,y=_((k,O,U)=>{if(!k||!O)return Promise.resolve();if(O==="Vall_threads")return(0,u.Qw)(k,(0,f.r8)()),Promise.resolve();const W=!1;return(0,v.OL)((0,u.$D)(k),O,W)?U?P(k,O,U):(0,u.Qw)(k,(0,i.Ay)({channelId:O,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(L=>{let{msgs:b,hasMore:F,isLimited:B,pinCount:K,deleted:H}=L;const Y=(0,u.$D)(k);(0,A.UJ)(Y)&&!(0,C.N)(Y,O)&&!(0,C.N)(Y,(0,m.WR)(Y))||((0,u.Qw)(k,(0,h.Jt)({channelId:O})),(0,u.Qw)(k,(0,I.A)({msgs:b,channelId:O,isLimited:B,hasMore:{hasMoreStart:F??!1,hasMoreEnd:!1},oldest:null,latest:null,deleted:H})),(0,t.A)(K)&&(0,u.Qw)(k,(0,T.K)({channelId:O,count:K})))}).catch(L=>{(0,a.Ay)({state:(0,u.$D)(k)}).error(`Failed to fetch offline history for ${O}: ${L}`)}):Promise.resolve()},"fetchOfflineHistory");function P(k,O,U){const W=(0,r.Iu)(O,U);return(0,u.Qw)(k,(0,i.$b)({channelId:O,threadTs:U,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(x=>{let{msgs:L,deleted:b,hasMore:F}=x;const B=(0,u.$D)(k);if((0,A.UJ)(B)&&!(0,C.N)(B,O)&&!(0,C.N)(B,(0,m.WR)(B)))return;let K=L;const H=(0,s.A)(L,{ts:U});F&&(K=(0,o.A)(L,{ts:U})),(0,u.Qw)(k,(0,h.Jt)({channelId:W})),(0,u.Qw)(k,(0,I.A)({msgs:K,channelId:W,hasMore:{hasMoreStart:F??!1,hasMoreEnd:!1},oldest:null,latest:null,deleted:b})),H&&(0,u.Qw)(k,(0,p.Kc)([H]))})}_(P,"fetchOfflineHistoryForThread");const E=(()=>{const k=(0,n.A)((O,U,W)=>(0,c.A)(()=>y(O,U,W),D),function(){for(var O=arguments.length,U=new Array(O),W=0;W<O;W++)U[W]=arguments[W];return JSON.stringify(U)});return(O,U,W)=>k(O,U,W)()})(),M=(0,l.Ay)("Request offline history",function(k,O){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{channelId:W,threadTs:x}=U;return E((0,d.ZT)(O()),W,x)});M.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"};const S=M,R={fetchOfflineHistory:y,fetchOfflineHistoryForThread:P}},5487781258:(N,g,e)=>{"use strict";e.d(g,{NU:()=>X,e8:()=>j,Ay:()=>Ee,IY:()=>te});var t=e(2003990933),s=e(7174777686),o=e(3571452446),n=e(1649982175),c=e(8872992289),i=e(2664504268),r=e(4177200783),a=e(4744405580),l=e(7715417323),d=e(1545824888),u=e(7509608227),f=e(337319621),m=e(3855029223),h=e(2872463257),v=e(6533394955);const p={},T="cse-message-send",A="cse-message-send";let C=_(class{_send(){var re;const{message:_e,trace:ve,parentSpanId:ge}=this._activeRequest||{};(0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${_e==null?void 0:_e.client_msg_id}`);const Le=_(()=>{var ke;return(ke=this._store)===null||ke===void 0?void 0:ke.dispatch((0,u.A)({message:_e,traceId:ve==null?void 0:ve.getTraceId(),parentSpanId:ge}))},"postMessageP");return(re=this._maybeTraceMessageSend(Le))===null||re===void 0?void 0:re.then(this._activeRequest?this._activeRequest.resolve:l.A).catch(this._activeRequest?this._activeRequest.reject:l.A).finally(()=>this.resolve(_e))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:re}=this._activeRequest||{};return re==null||re.addTags({count:this._queue.length}),re==null||re.close(),this._send(),(0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(re){var _e;if(!this.shouldTraceMessageSend())return re();const ve=(_e=this._tracer)===null||_e===void 0?void 0:_e.createTrace({traceName:T,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:h.nl.ALWAYS}}),ge=_(()=>{var ke;ve&&((ke=this._tracer)===null||ke===void 0||ke.clearTrace(ve))},"onResolve"),Le=_((ke,Ke)=>{var Ne;const Re={state:h.$m.ERROR};Ke.status&&(Re.status=Ke.status),Ke.message&&(Re.message=Ke.message),Ke.data&&Ke.data.error&&(Re.reason=Ke.data.error),ke==null||ke.addTags(Re),ke==null||ke.close(),ve&&((Ne=this._tracer)===null||Ne===void 0||Ne.reportTrace(ve))},"onError");return ve==null?void 0:ve.traceFn({name:A,onError:Le,onResolve:ge},re)}enqueue(re){let{trace:_e,parentSpanId:ve}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new d.S((ge,Le)=>{const ke=_e==null?void 0:_e.startSpan("message_send_attempt:enqueue",{parentSpanId:ve});this._queue.push({message:re,messageEnqueueSpan:ke,trace:_e,parentSpanId:ve,resolve:ge,reject:Le}),(0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${re.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(re){return!re||!this._activeRequest||!this._activeRequest.message||re.client_msg_id!==this._activeRequest.message.client_msg_id?!1:((0,f.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${re.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){return this._tracer}constructor(re){if(!re)throw new Error("MessageQueue requires a teamId.");if(this._teamId=re,this._activeRequest=null,this._queue=[],this._store=(0,v.oK)(re),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${re} found.`);const _e=this._store.getState();this._tracer=(0,m.E)({state:_e})}},"MessageQueue");function I(de){return p[de]||(p[de]=new C(de)),p[de]}_(I,"getInstance");const D={MESSAGE_SEND_TRACE_LABEL:T,MESSAGE_SEND_SPAN_LABEL:A};var y=e(3110884894),P=e(7578434623),E=e(662226046),M=e(6304789565),S=e(8847766420),R=e(9781145568),k=e(9121476043),O=e(7793445970),U=e(5795074931),W=e(9536404279),x=e(9101533895),L=e(3430841143),b=e(4761125736),F=e(6483201417),B=e(5345057011),K=e(5774398667),H=e(10127715),Y=e(7759525289),Z=e(8802876335),V=e(6704899486);const ne=6,q=7,me=8,ue="restricted_action_read_only_channel",ae="restricted_action_thread_only_channel",le="restricted_action_non_threadable_channel",fe="ekm_access_denied",he="dlp_user_warning",ie="message_limit_exceeded";var X;(function(de){de.BLOCK_FILES_LINK_TYPE="slack_connect_file_link_sharing_blocked",de.BLOCK_CANVAS_CONTAIN_FILES_TYPE="slack_connect_canvas_contain_file_sharing_blocked",de.BLOCK_CANVAS_CONTAIN_EMBEDDED_FILES_TYPE="slack_connect_canvas_contain_embedded_files_blocked",de.BLOCK_LIST_CONTAIN_FILES_TYPE="slack_connect_list_contain_file_sharing_blocked"})(X||(X={}));var j;(function(de){de.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",de.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",de.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(j||(j={}));function w(de,re){de((0,H.Kc)([re]));const _e={channelId:re.channel,timestamps:[re.ts],oldest:re.ts,hasMore:!1,append:!0};if(de((0,W.VG)(_e)),re.thread_ts){const ve=(0,y.Iu)(re.channel,re.thread_ts);de((0,W.VG)({..._e,channelId:ve}))}}_(w,"addMsgToEnd");const Q={};function G(de,re,_e){Q[de]||(Q[de]={}),Q[de][re]=_e}_(G,"addResolutionTimer");function J(de,re){!Q[de]||!Q[de][re]||(clearTimeout(Q[de][re]),delete Q[de][re])}_(J,"cancelResolutionTimer");function te(de,re,_e,ve){const ge=(0,S.ZT)(de())||"",Le=(0,K.I)(de(),ve.client_msg_id);if(Le){(0,f.Ay)({getState:de}).action("MESSAGE",`Resolved a message with clientMsgId ${ve.client_msg_id} in ${_e.channel} with ts ${ve.ts}`),re((0,B.s)(Le.clientMsgId)),J(ge,Le.clientMsgId),re((0,k.A)({channelId:Le.channelId,ts:Le.ts}));const ke=!1;(0,x.OL)(de(),_e.channel,ke)&&re((0,R.A)({channelId:_e.channel,msgTs:_e.ts,resent:!1}))}I(ge).resolve(ve)}_(te,"resolveMessage");const se="cse-message-send:send",ce=(0,M.Ay)("Send a message",(de,re,_e)=>{let{messageSendTrace:ve,notificationTracePassthroughData:ge,skipDLPUserWarning:Le,...ke}=_e;const Ke=(0,m.E)({getState:re});let Ne,Re;ve&&(Ne=ve.startSpan("message_send_attempt:send"),Re=ve.startSpan("message_send_attempt:placeholder",{parentSpanId:Ne==null?void 0:Ne.getId()}));const xe=Ke.createMetricsTrace({label:"cse-message-send"});xe.count({name:se,label:"pending"}),Ke.reportTrace(xe);const We=(0,c.A)(1),{channel:$,reply_broadcast:ee,thread_ts:Ve,client_msg_id:ze,xArgs:st}=ke,Ge=(0,f.Ay)({getState:re}),be=(0,S.ZT)(re())||"",Se=Ve?{_hidden_reply:!0,_was_reply_broadcast:ee}:null,we=ze||(0,i.A)();ge&&(0,E.qe)(re(),{notificationTracePassthroughData:ge,clientMsgId:we});const Ce=(0,b._Z)(re(),"fe_message_rendering_perf_m1")==="on",Te=ke.blocks,Ye={...ke,...Se,user:(0,U.WR)(re()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:we,blocksProcessed:(0,Y.R)({blocks:Te,experimentFeMessageRenderingPerfM1GroupOn:Ce})};Ge.action("MESSAGE",`Sent a message to ${$} via HTTP, clientMsgId: ${we}`);const De={...ke,...st,include_channel_perm_error:!0,client_msg_id:we,skip_dlp_user_warning:Le};We&&G(be,we,window.setTimeout(()=>{if((0,K.I)(re(),Ye.client_msg_id)){const ye=re();(0,Z.UJ)(ye)&&(0,P.Cy)({state:ye}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const Pe=I((0,S.ZT)(re())||"").enqueue(De,{trace:ve,parentSpanId:Ne==null?void 0:Ne.getId()});return w(de,Ye),de((0,B.T)({clientMsgId:Ye.client_msg_id,channelId:Ye.channel,ts:Ye.ts})),Ve||de((0,F.A)({ts:null})),Re==null||Re.close(),Pe.tap(()=>{const ye=re();(!(0,Z.UJ)(ye)||(0,V.N)(ye,$)||(0,V.N)(ye,(0,U.WR)(ye)))&&(de((0,O.A)({channelId:$,threadTs:Ve})),ee&&de((0,O.A)({channelId:$}))),xe.count({name:se,label:"success"}),Ke.reportTrace(xe),ve&&(ve.addTags({success:!0}),Ne==null||Ne.close(),Ke.reportTrace(ve))}).catch(ye=>{const He=(0,t.A)(ye,"data.error"),Qe=(0,t.A)(ye,"data.dlp_custom_message");xe.count({name:se,label:"failure"}).setTag("error",He||(ye==null?void 0:ye.message)),Ke.reportTrace(xe);const dt=He===fe,Ot=He===he,yt=He===ie,Dt=Object.values(j).includes(He)?He:void 0,Ct=Object.values(X).includes(He)?He:void 0;if(!He&&!(0,K.I)(re(),Ye.client_msg_id)){Ge.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}let kt=!0;const vt=!0,Nt=[ne,q,me,ue,ae,le];if((0,s.A)(Nt,He)){const Pt="posting_permission_send_message_error";de((0,a._)({channel:$,reason:Pt})).then(Ft=>{!Ft||!Ft.channel||de((0,L.F)({channel:Ft.channel,reason:Pt}))}),kt=!1}dt&&(kt=!1),Ct&&(kt=!1),yt&&(kt=!1,de((0,r.A)())),Dt&&(kt=!1);const It="Message failed to send",At=(0,o.A)(ye,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);At.client_msg_id=we,At.channel=$,At.thread_ts=Ve;const Zt=ye&&ye.status===429?"message_send_ratelimit":"message_send_fail";Ge.error(At instanceof Error?At:new Error(It),`${It}: ${He} | ${JSON.stringify(At)}`,{subtype:Zt});const jt=He?(0,n.A)(At,["response"]):ye;Ge.error("MESSAGE",It,He,jt);const Ht={...Ye,showResend:kt,showCancel:vt,isEKMError:dt,isDLPUserWarningError:Ot,canvasSharingError:Dt,blockFileLinkSharingError:Ct,dlpCustomMessage:Qe};(0,K.I)(re(),Ye.client_msg_id)?de((0,H.Kc)([Ht])):w(de,Ht),!kt&&We&&J(be,Ye.client_msg_id),ve&&(kt?(ve.addTags({success:!1}),Ne==null||Ne.close(),Ke.reportTrace(ve)):Ke.clearTrace(ve))})});ce.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"};const Ee=ce},6789682833:(N,g,e)=>{"use strict";e.d(g,{y:()=>r});var t=e(7582939986),s=e(6471059816),o=e(2664504268),n=e(6811525189),c=e(6934022494);const i=new s.Ay("emoji_picker"),r=_((a,l)=>{let{draftId:d,status:u=n.t.SENDING}=l;if(!d)return[];const f=(0,c.BH)(a),m=(0,c.pW)(a,{draftId:d,status:u});return Array.isArray(m)?m.map(h=>{let{fallback:v,image_url:p,image_width:T,image_height:A,image_bytes:C}=h;return{blocks:[{type:t.WP.image,block_id:(0,o.A)(),image_url:p,alt_text:v,image_width:T,image_height:A,image_bytes:C,is_animated:!0,fallback:v,title:{type:"plain_text",text:f?i.t("GIF"):"GIF",emoji:!0}}]}}):[]},"getImageBlockFromGifUnfurls")},5363983309:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(3134334389),s=e(3255440563),o=e(4518410378),n=e(6304789565),c=e(8847766420),i=e(9338147070),r=e(6533394955),a=e(2567914105),l=e(2375333597),d=e(8726613433);function u(){return u=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var p=arguments[v];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(h[T]=p[T])}return h},u.apply(this,arguments)}_(u,"_extends");const m=_((h,v)=>(0,n.Ay)(`XWS open ${h.displayName} modal`,(p,T,A,C)=>{const{modalName:I,allowMultiple:D=!0,isStackable:y=!1,renderInChildWindow:P=!1}=v||{};let E,M=P;const S=C(s.C);if((S==null?void 0:S.windowRef.deref())!==o.J&&(S!=null&&S.windowId)&&(M=!0,E=S.windowId),!D&&I&&(0,a.wc)(T(),E).find(b=>{let{name:F}=b;return F===I}))return;const R=(0,c.ZT)(T()),k=(0,d.vB)(T()),O=(0,r.oK)(R);let U,W=t.createElement(h,u({},A,{closeModal:()=>U==null?void 0:U()}));M||(W=t.createElement(i.Kq,{store:O},W));let x;return M?x=p((0,l.q)({element:W,name:I||void 0,isStackable:y})):x=(0,r.Qw)(k,(0,l.q)({element:W,name:I||void 0,isStackable:y})),U=x==null?void 0:x.close,x}),"createXWSModalThunk")},7206394193:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(8571983633),s=e(9686962598),o=e(3812058736),n=e(1527536225),c=e(5219503691);const i=(0,n.Ay)("Logs helpful messages to the console if you do something incorrect",(a,l,d)=>{if((0,t.A)(d)||(0,s.A)(d))return c.Qs&&(0,o.z3)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(d.isThunkCreator||d.isActionCreator){if(c.Qs){const u=d.isThunkCreator?"thunk":"action",f=d.meta?d.meta.name:`${u}Creator`;(0,o.z3)(`
	It looks like you dispatched a ${u} creator instead of the ${u} itself!
	This is a common mistake, and the solution is to call dispatch(${f}(payload)) instead of just dispatch(${f}), note the extra parens at the end.
				`)}return null}return(0,c.ZR)(d),l(d)});i.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"};const r=i},773865333:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(862210999),s=e(2028988448),o=e(2878685908),n=e(337319621),c=e(1527536225);let i=[];const r=(0,n.Wo)(),a=(0,c.Ay)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(f,m,h)=>{const v=[],p=f.getState();i.forEach(C=>{v.push(C(p,h))});const T=m(h),A=f.getState();return i.forEach((C,I)=>{const D=C(A,h);if(v[I]!==D){const y=["Redux Watcher:",`Value has changed! 
Action: `,h,`
Before: `,v[I],`
After:  `,D];if(v[I]!==void 0&&D!==void 0){const P=v[I]===void 0?{}:v[I],E=D===void 0?{}:D;y.push(`
Diff: `,Object.keys({...P,...E}).filter(M=>P[M]!==E[M]).map(M=>({key:M,before:P[M],after:E[M]})))}if(r.warn(...y),(0,o.Cu)()||(0,o.b3)())debugger}}),T});a.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"};const l=a;function d(f){if(!(0,t.A)(f)){r.error("watcherFn passed in to addWatcher must be a function");return}i.push(f)}_(d,"addWatcher");function u(){i=[]}_(u,"clearAllWatchers"),(0,s.ul)("reduxWatcher",{addWatcher:d,clearAllWatchers:u})},7156104699:(N,g,e)=>{"use strict";e.d(g,{N:()=>f,A:()=>u});var t=e(1545824888),s=e(337319621),o=e(6152845331),n=e(1527536225),c=e(3009309149);const i=(0,c.Ay)(m=>{var h;return m==null||(h=m.clientSideEffects)===null||h===void 0?void 0:h.clientSideEffectsMap});i.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:m=>{var h;return m==null||(h=m.clientSideEffects)===null||h===void 0?void 0:h.clientSideEffectsMap}};const r=(0,c.Ay)(m=>{var h;return m==null||(h=m.sideEffects)===null||h===void 0?void 0:h.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:m=>{var h;return m==null||(h=m.sideEffects)===null||h===void 0?void 0:h.sideEffectsMap}};function a(){return(0,n.Ay)("Handle client side effects",(m,h,v)=>{var p;if(!((p=v.__test)===null||p===void 0)&&p.disableSideEffects)return h(v);const T=m.getState(),A=i(T);return d({store:m,action:v,sideEffectsMap:A}),h(v)})}_(a,"createClientSideEffectsMiddleware");function l(){return(0,n.Ay)("Handle side effects",(m,h,v)=>{var p;if(!((p=v.__test)===null||p===void 0)&&p.disableSideEffects)return h(v);const T=m.getState(),A=r(T);return d({store:m,action:v,sideEffectsMap:A}),h(v)})}_(l,"createSideEffectsMiddleware");function d(m){let{store:h,action:v,sideEffectsMap:p}=m;const T=p&&p[v.type],A=_(C=>((0,o.S$)(v,C),h.dispatch(C)),"wrappedDispatch");T!=null&&T.length&&t.S.resolve().then(()=>{T.forEach(C=>{if(!C)return;const{thunk:I}=C;try{A(I(v))}catch(D){(0,s.Ay)({getState:h.getState}).error("SIDE-EFFECTS",`Error in side effect for '${v.type}'`,D,{subtype:"side_effect_error"})}})})}_(d,"runSideEffects");const u=l(),f=a()},582577127:(N,g,e)=>{"use strict";e.d(g,{g:()=>s});var t=e(3371371503);function s(o){const i={sideEffectsMap:{},clientSideEffectsMap:{}};return!o||!o.length?i:o.reduce((r,a)=>{const{actions:l,scope:d}=a;let u;switch(d){case t.RE.client:u=r.clientSideEffectsMap;break;default:case t.RE.workspace:u=r.sideEffectsMap;break}return l.forEach(f=>{var m;const h=f==null||(m=f.getType)===null||m===void 0?void 0:m.call(f);h&&(u[h]=u[h]||[],u[h].push(a))}),r},i)}_(s,"generateSideEffectsMaps")},2732935554:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9139930183),s=e(1004520977);const o={hasKeyboardFocus:!1},c=(0,t.Ay)({},o,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(s.w,function(i){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return i.hasKeyboardFocus===r?i:{...i,hasKeyboardFocus:r}})},5105455463:(N,g,e)=>{"use strict";e.d(g,{As:()=>c,N9:()=>s,V_:()=>o,WB:()=>d,X8:()=>n,bb:()=>a,c7:()=>u,dH:()=>r,lf:()=>l,og:()=>t,rf:()=>i});const t="(prefers-contrast: more)",s="useAriaApplicationForListViews",o="composerUpArrowShortcutBehavior",n="messageTextLineSpacing",c="messageSpacing",i="messageTextWordSpacing",r="conversationIncomingMessageSound",a="conversationSentMessageSound",l="conversationIncomingMessageAnnouncement",d="peeksEnabledOnMouseEnter",u=!0},3034787354:(N,g,e)=>{"use strict";e.d(g,{A:()=>P});var t=e(9323322135),s=e(8646192222),o=e(9139930183),n=e(25586007),c=e(5105455463),i=e(8439865561),r=e(9733150292);let a=!1;(0,s.Nu)()?a=window.matchMedia(c.og).matches:(0,s.hk)()&&(a=(0,t.oQe)("settings","shouldUseHighContrastColors"));let l=!1;try{l=!!(0,r.W6)(c.N9)}catch{}let d;try{d=(0,r.W6)(c.V_)}catch{}let u;try{u=(0,r.W6)(c.X8)||1}catch{}let f;try{f=(0,r.W6)(c.As)||1}catch{}let m;try{m=(0,r.W6)(c.rf)||"0"}catch{}let h;try{var v;h=(v=(0,r.W6)(c.dH))!==null&&v!==void 0?v:""}catch{h=""}let p;try{var T;p=(T=(0,r.W6)(c.bb))!==null&&T!==void 0?T:""}catch{p=""}let A;try{A=(0,r.W6)(c.lf)}catch{A=void 0}let C;try{var I;C=(I=(0,r.W6)(c.WB))!==null&&I!==void 0?I:c.c7}catch{C=c.c7}const D={screenReaderEnabled:!1,shouldUseHighContrastColors:a,useARIAApplicationForListViews:l,composerUpArrowShortcutBehavior:d,messageTextLineSpacing:u,messageSpacing:f,messageTextWordSpacing:m,conversationIncomingMessageSound:h,conversationSentMessageSound:p,conversationIncomingMessageAnnouncement:A,peeksEnabledOnMouseEnter:C},P=(0,o.Ay)({},D,{storeKey:"accessibility",persistenceEnabled:!1}).on(i.rl,(E,M)=>M!=null&&M.message?{...E,announcerAPIAnnouncement:M}:E).on(i.Jq,(E,M)=>typeof M!="boolean"||M===E.screenReaderEnabled?E:{...E,screenReaderEnabled:M}).on(i.N,function(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof M!="boolean"||M===E.shouldUseHighContrastColors?E:{...E,shouldUseHighContrastColors:M}}).on(i.KQ,function(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...E,useARIAApplicationForListViews:M}}).on(i.Tv,function(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.v.LIST;return{...E,composerUpArrowShortcutBehavior:M}}).on(i.C_,function(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...E,messageTextLineSpacing:M}}).on(i.XE,function(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...E,messageSpacing:M}}).on(i.Mq,function(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...E,messageTextWordSpacing:M}}).on(i.Sr,(E,M)=>({...E,conversationIncomingMessageSound:M})).on(i.mw,(E,M)=>({...E,conversationSentMessageSound:M})).on(i.Ap,(E,M)=>({...E,conversationIncomingMessageAnnouncement:M})).on(i.V_,(E,M)=>({...E,peeksEnabledOnMouseEnter:M}))},2633701976:(N,g,e)=>{"use strict";e.d(g,{p:()=>i});var t=e(6304789565),s=e(4134037340),o=e(5105455463),n=e(8439865561),c=e(9733150292);const i=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(r,a,l)=>{if((0,s.A)(a()))try{(0,c.q9)(o.lf,l)}catch{}r((0,n.Ap)(l))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},2517531287:(N,g,e)=>{"use strict";e.d(g,{R:()=>i,r:()=>r});var t=e(6304789565),s=e(4134037340),o=e(5105455463),n=e(8439865561),c=e(9733150292);const i=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(a,l,d)=>{if((0,s.A)(l()))try{(0,c.q9)(o.dH,d)}catch{}a((0,n.Sr)(d))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const r=(0,t.Ay)("Set the pref for the sound that plays when a message is sent to the focused conversation",(a,l,d)=>{if((0,s.A)(l()))try{(0,c.q9)(o.bb,d)}catch{}a((0,n.mw)(d))});r.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},25586007:(N,g,e)=>{"use strict";e.d(g,{v:()=>t});var t;(function(s){s[s.LIST=1]="LIST",s[s.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",s[s.EDIT=3]="EDIT"})(t||(t={}))},330343856:(N,g,e)=>{"use strict";e.d(g,{D_:()=>c,H9:()=>n,WZ:()=>i,ZU:()=>o,ed:()=>r,h_:()=>s,iq:()=>a});var t=e(2140362605);const s=(0,t.Ay)("Sets the active view mode for the agent home DM view");s.meta={name:"createAction",key:"createActionsetAgentHomeViewMode",description:"Sets the active view mode for the agent home DM view"};const o=(0,t.Ay)("Sets the active thread ts for the agent home DM view");o.meta={name:"createAction",key:"createActionsetAgentHomeActiveThread",description:"Sets the active thread ts for the agent home DM view"};const n=(0,t.Ay)("Sets the state for the split view window");n.meta={name:"createAction",key:"createActionsetAgentSplitViewChannelId",description:"Sets the state for the split view window"};const c=(0,t.Ay)("Indicates if we are loading or not for the active view mode, only applies for active conversation");c.meta={name:"createAction",key:"createActionsetAgentHomeViewModeLoading",description:"Indicates if we are loading or not for the active view mode, only applies for active conversation"};const i=(0,t.Ay)("Sets metadata to send along with the next message sent by the user");i.meta={name:"createAction",key:"createActionsetAgentHomeMessageContextByChannelId",description:"Sets metadata to send along with the next message sent by the user"};const r=(0,t.Ay)("Sets the agent home state to the active conversation view mode state for the provided thread");r.meta={name:"createAction",key:"createActionsetAgentHomeActiveConversation",description:"Sets the agent home state to the active conversation view mode state for the provided thread"};const a=(0,t.Ay)("Sets the agent home state to the new conversation view mode state");a.meta={name:"createAction",key:"createActionsetAgentHomeNewConversation",description:"Sets the agent home state to the new conversation view mode state"}},195568024:(N,g,e)=>{"use strict";e.d(g,{T:()=>f});var t=e(6304789565),s=e(6224506772),o=e(3255440563),n=e(7772733070),c=e(4117634716),i=e(8822892075),r=e(330343856),a=e(9629572172),l=e(352142497),d=e(3193155968),u=e(1771500940);const f=(0,t.Ay)("Based on which toggles are active, navigates to the proper agent home",async(m,h,v,p)=>{let{channelId:T,threadTs:A,isSplitView:C}=v;const I=h(),D=p(o.C),{getPrimaryView:y}=p(a.U),P=y(I),E=(0,s.oO)(I),M=(0,s.eF)(I),S=C?d.N2:D.windowId;E&&M?(m(A?(0,r.ed)({channelId:T,threadTs:A,isSplitView:C,windowId:S}):(0,r.iq)({channelId:T,isSplitView:C,windowId:S})),m(C?(0,c.o)((0,u.b)((0,i.EA)({channelId:T,threadTs:A}))):(0,c.o)((0,i.JZ)({channelId:T,tabId:n.K.Messages,forceTab:(P==null?void 0:P.viewType)===l.D.Agents?d.k6.Agents:void 0})))):m((0,c.o)((0,i.EA)({channelId:T,threadTs:A})))});f.meta={name:"createThunk",key:"createThunknavigateToAgentHome",description:"Based on which toggles are active, navigates to the proper agent home"}},7026948475:(N,g,e)=>{"use strict";e.d(g,{e:()=>n});var t=e(3009309149);const s={summary:{name:"ai-summary"},"summary-off":{name:"ai-summary-off"},workflow:{name:"ai-workflow"},sparkles:{name:"ai-sparkle"},translate:{name:"ai-translate"}},o={summary:{name:"ai-summary-filled"},"summary-off":{name:"ai-summary-off-filled"},workflow:{name:"ai-workflow-filled"},sparkles:{name:"ai-sparkle-filled"},translate:{name:"ai-translate"}},n=(0,t.Ay)(function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=i.type||"sparkles";return i.useFilledIcon?o[r]:s[r]});n.meta={name:"createSelector",key:"createSelectorgetSlackAiIconProps",description:function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=i.type||"sparkles";return i.useFilledIcon?o[r]:s[r]}}},4340134233:(N,g,e)=>{"use strict";e.d(g,{G2:()=>n,IL:()=>a,MZ:()=>l,Pj:()=>o,SK:()=>d,Z2:()=>r,cv:()=>c,jF:()=>s,o7:()=>m,qc:()=>f,y9:()=>i});var t=e(3009309149);const s=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.aiTopics);s.meta={name:"createSelector",key:"createSelectorgetAiTopics",description:h=>h&&h.aiTopics&&h.aiTopics.aiTopics};const o=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiTopics);o.meta={name:"createSelector",key:"createSelectorgetIsFetchingAiTopics",description:h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiTopics};const n=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.suggestedTopics);n.meta={name:"createSelector",key:"createSelectorgetAiSuggestedTopics",description:h=>h&&h.aiTopics&&h.aiTopics.suggestedTopics};const c=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiSuggestedTopics);c.meta={name:"createSelector",key:"createSelectorgetIsFetchingAiSuggestedTopics",description:h=>h&&h.aiTopics&&h.aiTopics.isFetchingAiSuggestedTopics};const i=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.activityItems);i.meta={name:"createSelector",key:"createSelectorgetActivityItems",description:h=>h&&h.aiTopics&&h.aiTopics.activityItems};const r=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.aiTopics.filter(v=>v.isUnread).length);r.meta={name:"createSelector",key:"createSelectorgetAiTopicsUnreadCount",description:h=>h&&h.aiTopics&&h.aiTopics.aiTopics.filter(v=>v.isUnread).length};const a=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isUnreadsMode);a.meta={name:"createSelector",key:"createSelectorgetIsUnreadsModeActive",description:h=>h&&h.aiTopics&&h.aiTopics.isUnreadsMode};const l=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.userTopics);l.meta={name:"createSelector",key:"createSelectorgetUserTopics",description:h=>h&&h.aiTopics&&h.aiTopics.userTopics};const d=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.isFetchingUserTopics);d.meta={name:"createSelector",key:"createSelectorgetIsFetchingUserTopics",description:h=>h&&h.aiTopics&&h.aiTopics.isFetchingUserTopics};const u=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.updatingTopics);u.meta={name:"createSelector",key:"createSelectorgetUpdatingTopics",description:h=>h&&h.aiTopics&&h.aiTopics.updatingTopics};const f=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.nextCursor);f.meta={name:"createSelector",key:"createSelectorgetNextCursor",description:h=>h&&h.aiTopics&&h.aiTopics.nextCursor};const m=(0,t.Ay)(h=>h&&h.aiTopics&&h.aiTopics.totalFetchCount);m.meta={name:"createSelector",key:"createSelectorgetTotalFetchCount",description:h=>h&&h.aiTopics&&h.aiTopics.totalFetchCount}},1935129173:(N,g,e)=>{"use strict";e.d(g,{i:()=>r});var t=e(3634026875),s=e(919344463),o=e(3914828984),n=e(4340134233),c=e(6304789565);const i=3,r=(0,c.Ay)("maybeFetchAiActivityTopicGroups",async function(a,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!(0,t.U)(l()))return;const f=(0,n.o7)(l()),m=(0,n.qc)(l()),h=d?i:1,v=(0,n.IL)(l());if(d&&f>=h){a((0,o.Os)(0)),a((0,o.qe)(void 0));return}const p={reason:"fetch-ai-activity-topics",mode:"unreads_first_v1",limit:50,types:["thread_v2","message_reaction","internal_channel_invite","list_record_edited","bot_dm_bundle","at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned","list_todo_notification","external_channel_invite","external_dm_invite","dm"]};d&&m&&(p.cursor=m),v&&(p.unreadOnly=!0);try{return a((0,o.bV)(!0)),a((0,s.P)(p)).then(T=>{var A,C,I;if(T.ok){a((0,o.a)(T.items));var D;a((0,o.qe)((D=(A=T.response_metadata)===null||A===void 0?void 0:A.next_cursor)!==null&&D!==void 0?D:void 0)),a((0,o.Os)(f+1)),d&&f<h&&(!((C=T.response_metadata)===null||C===void 0)&&C.next_cursor)&&((I=T.response_metadata)===null||I===void 0?void 0:I.next_cursor)!==m?a(r(!0)):(a((0,o.Os)(0)),a((0,o.qe)(void 0)))}}).finally(()=>{a((0,o.bV)(!1))})}catch{a((0,o.bV)(!1))}});r.meta={name:"createThunk",key:"createThunkfetchAndProcessAiActivityTopics",description:"maybeFetchAiActivityTopicGroups"}},3087402890:(N,g,e)=>{"use strict";e.d(g,{FX:()=>i,X5:()=>c,ZY:()=>m,cD:()=>l,cQ:()=>d,cw:()=>a,dj:()=>u,fe:()=>n,hc:()=>h,lB:()=>f,qK:()=>s,r8:()=>r,s2:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Set the thread root keys");s.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"};const o=(0,t.Ay)("Append more thread root keys");o.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"};const n=(0,t.Ay)("Insert a thread at the beginning");n.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"};const c=(0,t.Ay)("Increments totalUnreadReplies");c.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"};const i=(0,t.Ay)("Sets totalNewThreads to 0");i.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"};const r=(0,t.Ay)("Increments allThreadsRefreshCounter");r.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"};const a=(0,t.Ay)("Set the thread key that should be focused");a.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"};const l=(0,t.Ay)("Set the thread timestamp that should be focused");l.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"};const d=(0,t.Ay)("Add a thread key to an array of threads that were manually marked unread");d.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"};const u=(0,t.Ay)("set object of threads that have been manually marked as unread");u.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"};const f=(0,t.Ay)("Remove a thread key from an array of threads that were manually marked unread");f.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"};const m=(0,t.Ay)("Sets manuallyMarkedUnread to empty");m.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"};const h=(0,t.Ay)("Sets selected tab in threads view");h.meta={name:"createAction",key:"createActionsetSelectedTab",description:"Sets selected tab in threads view"}},6082887833:(N,g,e)=>{"use strict";e.d(g,{S:()=>s});var t=e(3009309149);const s=(0,t.Ay)((o,n)=>o.ambientMessages[n]);s.meta={name:"createSelector",key:"createSelectorgetAmbientMessage",description:(o,n)=>o.ambientMessages[n]}},1290436125:(N,g,e)=>{"use strict";e.d(g,{AE:()=>O,p$:()=>ne,L6:()=>ie,yN:()=>Y,xV:()=>Z,T9:()=>x,RQ:()=>L,rS:()=>X,QQ:()=>B,Db:()=>le,qc:()=>F,h1:()=>b,lE:()=>k,S_:()=>V,gc:()=>U,Es:()=>W,xo:()=>H,pl:()=>me,ad:()=>K});var t=e(3009309149),s=e(5404505308),o=e(2107335472),n=e(1802079588),c=e(235108050),i=e(9113979368),r=e(9087248458),a=e(8628145494),l=e(766806),d=e(5597672932),u=e(8847766420),f=e(7876109014),m=e(6946629059),h=e(4178531214),v=e(337319621),p=e(1658558415);const T=["ra","regular","admin","owner","org_admin","org_owner"],A=_(j=>T.find(w=>j.includes(w)),"getMostPermissiveStringPrefValue"),C=_(j=>j.includes(!0),"getMostPermissiveBoolean"),I=_(j=>{const w=j.reduce((J,te)=>((0,f.v)(te,"type")&&J.type.push(...te.type),(0,f.v)(te,"user")&&J.user.push(...te.user),(0,f.v)(te,"subteam")&&J.subteam.push(...te.subteam),J),{type:[],user:[],subteam:[]}),Q=w.type.length>0?A(w.type):void 0,G={...Q&&{type:Q},...w.user.length>0&&{user:(0,c.A)(w.user)},...w.subteam.length>0&&{subteam:(0,c.A)(w.subteam)}};return(0,i.A)(G)?void 0:G},"getMostPermissiveTeamPrefForTeamPrefsWithFields"),D=_((j,w)=>{if(!w||!(0,h.ss)(j)){const Q=(0,u.ZT)(j);return Q?[Q]:[]}return w},"getTeamIdsToMapPrefsTo"),y=_((j,w,Q)=>{const G=D(j,Q);if((0,u.VO)(j).length>0){var J;const se=(J=(0,u.NB)(j))!==null&&J!==void 0?J:[];if(!((0,r.A)(se,G).length>0)){const Ee=(0,l.wc)(j,w);if(!(0,a.A)(Ee))return Ee;const de=(0,l.SI)(j,w);if(!(0,a.A)(de))return de}}const te=G.map(se=>(0,d.xp)(j,w,se)).filter(m.b);return te.length!==G.length&&((0,p.A)()||(0,v.Ay)({state:j}).warn(`Team ID's, ${G.join(", ")}, are currently not valid team ID's to retrieve team prefs.`)),typeof te[0]=="boolean"?C(te):typeof te[0]=="string"?A(te):I(te)},"getMostPermissiveTeamPrefForTeamIds");var P=e(3152334950),E=e(7717529491),M=e(6790819894),S=e(9392104102),R=e(2197556995);const k=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.searchInput});k.meta={name:"createSelector",key:"createSelectorgetSearchInput",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.searchInput}};const O=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.announcerSearchInput});O.meta={name:"createSelector",key:"createSelectorgetAnnouncerSearchInput",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.announcerSearchInput}};const U=(0,t.Ay)(j=>{var w;if((0,R.Y)(j)){var Q;return(j==null||(Q=j.appsIndex)===null||Q===void 0?void 0:Q.targetTeamId)||(0,u.ZD)(j)}return(j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.targetTeamId)||(0,u.E$)(j)});U.meta={name:"createSelector",key:"createSelectorgetTargetTeamId",description:j=>{var w;if((0,R.Y)(j)){var Q;return(j==null||(Q=j.appsIndex)===null||Q===void 0?void 0:Q.targetTeamId)||(0,u.ZD)(j)}return(j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.targetTeamId)||(0,u.E$)(j)}};const W=_((j,w)=>{const Q=U(j),G=(0,P.A)(j)&&Q;return y(j,w,G?[Q]:void 0)},"getTeamPrefForTargetTeam"),x=_(j=>{const w=U(j),Q=(0,P.A)(j);return(0,E.k)(j,Q?w:void 0)},"getIsCurrentUserAppminForTargetTeam"),L=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.isLoading});L.meta={name:"createSelector",key:"createSelectorgetIsLoading",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.isLoading}};const b=(0,t.Ay)(j=>{var w,Q;return!(j==null||(w=j.appsIndex)===null||w===void 0)&&w.results.length?j==null||(Q=j.appsIndex)===null||Q===void 0?void 0:Q.results:(0,S.B4)()});b.meta={name:"createSelector",key:"createSelectorgetResults",description:j=>{var w,Q;return!(j==null||(w=j.appsIndex)===null||w===void 0)&&w.results.length?j==null||(Q=j.appsIndex)===null||Q===void 0?void 0:Q.results:(0,S.B4)()}};const F=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.nextCursor});F.meta={name:"createSelector",key:"createSelectorgetNextCursor",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.nextCursor}};const B=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.isShowingDefaultAppCategories});B.meta={name:"createSelector",key:"createSelectorgetIsShowingDefaultAppCategories",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.isShowingDefaultAppCategories}};const K=(0,t.Ay)(j=>!b(j).length&&!!O(j));K.meta={name:"createSelector",key:"createSelectorhasNoResults",description:j=>!b(j).length&&!!O(j)};const H=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.totalInstalledAppCount});H.meta={name:"createSelector",key:"createSelectorgetTotalInstalledAppCount",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.totalInstalledAppCount}};const Y=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.displayedInstalledAppCount});Y.meta={name:"createSelector",key:"createSelectorgetDisplayedInstalledAppCount",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.displayedInstalledAppCount}};const Z=(0,M.F)(b,j=>j.filter(w=>w.type===o.di.APP&&w.categoryId===o.wz.DEFAULT)),V=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.selectedFilter});V.meta={name:"createSelector",key:"createSelectorgetSelectedFilter",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.selectedFilter}};const ne=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.currentPage});ne.meta={name:"createSelector",key:"createSelectorgetCurrentPage",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.currentPage}};const q=(0,t.Ay)(j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount});q.meta={name:"createSelector",key:"createSelectorgetTotalPaginationAppCount",description:j=>{var w;return j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount}};const me=(0,t.Ay)(j=>{var w;const Q=j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount;return Q?Math.ceil(Q/o.xd):1});me.meta={name:"createSelector",key:"createSelectorgetTotalPageCount",description:j=>{var w;const Q=j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.totalPaginationAppCount;return Q?Math.ceil(Q/o.xd):1}};const ue=(0,t.Ay)(j=>{var w;const Q=j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.currentPage;return Q?(Q-1)*o.xd+1:0});ue.meta={name:"createSelector",key:"createSelectorgetPageStartAppNum",description:j=>{var w;const Q=j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.currentPage;return Q?(Q-1)*o.xd+1:0}};const ae=(0,t.Ay)(j=>{var w;const Q=j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.currentPage;return Q?Q*o.xd:0});ae.meta={name:"createSelector",key:"createSelectorgetPageEndAppNum",description:j=>{var w;const Q=j==null||(w=j.appsIndex)===null||w===void 0?void 0:w.currentPage;return Q?Q*o.xd:0}};const le=(0,t.Ay)(j=>{const w=b(j);return(0,s.A)(w,G=>(G==null?void 0:G.type)===o.di.CATEGORY)});le.meta={name:"createSelector",key:"createSelectorgetLastCategoryIndex",description:j=>{const w=b(j);return(0,s.A)(w,G=>(G==null?void 0:G.type)===o.di.CATEGORY)}};const fe=(0,t.Ay)(j=>(0,n.s9)({currentPage:ne(j),lastCategoryIndex:le(j)}));fe.meta={name:"createSelector",key:"createSelectorgetPageStartAppIndexIncl",description:j=>(0,n.s9)({currentPage:ne(j),lastCategoryIndex:le(j)})};const he=(0,t.Ay)(j=>(0,n.$W)({currentPage:ne(j),lastCategoryIndex:le(j)}));he.meta={name:"createSelector",key:"createSelectorgetPageEndAppIndexExcl",description:j=>(0,n.$W)({currentPage:ne(j),lastCategoryIndex:le(j)})};const ie=(0,t.Ay)(j=>{const w=le(j);if(w<0)return[];const Q=b(j),G=fe(j),J=he(j);return ne(j)===1?Q.slice(G,J):[Q[w],...Q.slice(G,J)]});ie.meta={name:"createSelector",key:"createSelectorgetCurrentPageResults",description:j=>{const w=le(j);if(w<0)return[];const Q=b(j),G=fe(j),J=he(j);return ne(j)===1?Q.slice(G,J):[Q[w],...Q.slice(G,J)]}};const X=(0,t.Ay)(j=>{const w=me(j),Q=B(j),G=L(j);return Q&&w>1&&!G});X.meta={name:"createSelector",key:"createSelectorgetIsPaginationVisible",description:j=>{const w=me(j),Q=B(j),G=L(j);return Q&&w>1&&!G}}},2107335472:(N,g,e)=>{"use strict";e.d(g,{G2:()=>n,di:()=>c,md:()=>t,wW:()=>o,wz:()=>i,xd:()=>s});const t=50,s=48,o=5,n=0;var c;(function(r){r.LOADING="loading",r.CATEGORY="category",r.APP="app",r.FILTER_EMPTY_STATE="filter-empty-state",r.FILTER_ZERO_APPS_STATE="filter-zero-apps-state"})(c||(c={}));var i;(function(r){r.DEFAULT="Ai01",r.APP_DIRECTORY="Ai02",r.CURATED_APP_SUGGESTIONS="Ai03",r.UNINSTALLED_WHITELISTED="Ai04",r.USER_RELEVANT="Ai05",r.UNINSTALLED_APP_DIRECTORY_FILTERED_CATEGORY="Ai06",r.APPROVED_APP_DIRECTORY_APP="Ai07"})(i||(i={}))},1802079588:(N,g,e)=>{"use strict";e.d(g,{$W:()=>n,LD:()=>c,s9:()=>o});var t=e(4761125736),s=e(2107335472);function o(i){let{currentPage:r,lastCategoryIndex:a}=i;return r===1?0:a>-1?a+(r-1)*s.xd+1:-1}_(o,"calcPageStartAppIndexIncl");function n(i){let{currentPage:r,lastCategoryIndex:a}=i;return a>-1?a+r*s.xd+1:-1}_(n,"calcPageEndAppIndexExcl");function c(i){return(0,t._Z)(i,"app_launcher_pagination")==="on"}_(c,"experimentAppLauncherPaginationGroupOn")},8778137680:(N,g,e)=>{"use strict";e.d(g,{DQ:()=>c,Lm:()=>r,RZ:()=>l,S:()=>m,X$:()=>n,_y:()=>d,c6:()=>u,fv:()=>i,rk:()=>o,yT:()=>f,z7:()=>a,zZ:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set Awareness State for another user");s.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const o=(0,t.Ay)("Set Awareness State for me");o.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const n=(0,t.Ay)("Remove Awareness State for me");n.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const c=(0,t.Ay)("Clear the full awareness state for a user");c.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const i=(0,t.Ay)("Set my screenshare view");i.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const r=(0,t.Ay)("Remove my screenshare view");r.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const a=(0,t.Ay)("Set my sticky reaction");a.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const l=(0,t.Ay)("Remove my sticky reaction");l.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const d=(0,t.Ay)("Clear any stale awareness entries");d.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const u=(0,t.Ay)("Sets updatedTimestamp for my awareness entries to current time");u.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const f=(0,t.Ay)("Set my active song");f.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const m=(0,t.Ay)("Remove my active song");m.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},7592559649:(N,g,e)=>{"use strict";e.d(g,{$G:()=>C,Ae:()=>D,Fb:()=>A,M3:()=>p,fL:()=>T,gV:()=>I,sW:()=>v,xP:()=>h});var t=e(3009309149),s=e(3385422400),o=e(6418055367),n=e(166097325),c=e(9113979368),i=e(9392104102),r=e(1345902898),a=e(6324645806);const l=(0,s.Ad)(o.UI,n.A),d=_(P=>{var E;return(P==null||(E=P.awareness)===null||E===void 0?void 0:E.awarenessEntries)||i.Ml},"selectAwarenessEntries"),u=(0,s.Mz)([d,(P,E)=>E,(P,E,M)=>M,(P,E,M,S)=>S],(P,E,M,S)=>{if(E===void 0)return i.t0;const R=P.filter(O=>{const U=O.channel===E,W=O.fieldName===M,x=S?O.uniqueId===S:!0,L=!(0,a.h)(O);return U&&W&&x&&L}).map(O=>[O.user,O.fieldValue]),k=Object.fromEntries(R);return(0,c.A)(k)?i.t0:k}),f=(0,s.Mz)([d,(P,E)=>E,(P,E,M)=>M],(P,E,M)=>{if(E===void 0)return i.t0;const S=P.filter(k=>{const O=k.channel===E,U=k.fieldName===M,W=!(0,a.h)(k);return O&&U&&W}).map(k=>[k.uniqueId,[k.user,k.fieldValue]]),R=Object.fromEntries(S);return(0,c.A)(R)?i.t0:R}),m=(0,s.Mz)([d,(P,E)=>E,(P,E,M)=>M],(P,E,M)=>{if(E===void 0)return i.t0;var S,R;const k=P.filter(U=>{const W=U.channel===E,x=U.fieldName===M,L=!(0,a.h)(U);return W&&x&&L}).sort((U,W)=>((S=U.fieldTimestampMs)!==null&&S!==void 0?S:Number.MAX_SAFE_INTEGER)-((R=W.fieldTimestampMs)!==null&&R!==void 0?R:Number.MAX_SAFE_INTEGER)).map(U=>[U.user,U.fieldValue]);return Object.fromEntries(k)}),h=(0,t.Ay)((P,E)=>{const M=m(P,E,r.p4.STICKYEMOJI);return(0,c.A)(M)?i.t0:M});h.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(P,E)=>{const M=m(P,E,r.p4.STICKYEMOJI);return(0,c.A)(M)?i.t0:M}};const v=(0,t.Ay)((P,E)=>u(P,E,r.p4.CONTENTVIEW));v.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(P,E)=>u(P,E,r.p4.CONTENTVIEW)};const p=(0,t.Ay)((P,E)=>f(P,E,r.p4.CONTENTVIEW));p.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(P,E)=>f(P,E,r.p4.CONTENTVIEW)};const T=(0,t.Ay)((P,E,M,S)=>{var R;return(P==null||(R=P.awareness)===null||R===void 0?void 0:R.awarenessEntries).filter(U=>{const W=U.channel===E,x=U.user===M,L=!S||(0,a.I)(U.fieldName)?!0:U.uniqueId===S,b=!(0,a.h)(U);return W&&x&&L&&b}).map(U=>({field_name:U.fieldName,field_value:U.fieldValue,...!!U.fieldTimestampMs&&{field_timestamp_ms:U.fieldTimestampMs}}))});T.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(P,E,M,S)=>{var R;return(P==null||(R=P.awareness)===null||R===void 0?void 0:R.awarenessEntries).filter(U=>{const W=U.channel===E,x=U.user===M,L=!S||(0,a.I)(U.fieldName)?!0:U.uniqueId===S,b=!(0,a.h)(U);return W&&x&&L&&b}).map(U=>({field_name:U.fieldName,field_value:U.fieldValue,...!!U.fieldTimestampMs&&{field_timestamp_ms:U.fieldTimestampMs}}))}};const A=(0,t.Ay)((P,E,M,S)=>{const R=T(P,E,M,S);for(const k of R)if(k.field_name===r.p4.STICKYEMOJI)return k;return null});A.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(P,E,M,S)=>{const R=T(P,E,M,S);for(const k of R)if(k.field_name===r.p4.STICKYEMOJI)return k;return null}};const C=(0,t.Ay)((P,E)=>{let{callId:M,userId:S,uniqueId:R}=E;return M?u(P,M,r.p4.STICKYEMOJI,R)[S]:void 0});C.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(P,E)=>{let{callId:M,userId:S,uniqueId:R}=E;return M?u(P,M,r.p4.STICKYEMOJI,R)[S]:void 0}};const I=(0,t.Ay)((P,E)=>{let{callId:M,userId:S}=E;if(!M)return;const R=u(P,M,r.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(R))return;if(S)return R[S];const k=Object.values(R);if(k.length!==0)return k[0]});I.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(P,E)=>{let{callId:M,userId:S}=E;if(!M)return;const R=u(P,M,r.p4.HUDDLE_ACTIVE_SONG);if((0,c.A)(R))return;if(S)return R[S];const k=Object.values(R);if(k.length!==0)return k[0]}};const D=l([d,(P,E,M,S,R)=>`${E},${M},${S},${R}`],(P,E)=>{const[M,S,R,k]=E.split(","),O=P.filter(U=>{const W=U.channel===M,x=U.user!==S,L=U.fieldName===r.p4.ACTIVE_CELL&&U.fieldValue&&U.fieldValue.rowId===R&&U.fieldValue.colId===k,b=!(0,a.h)(U);return W&&x&&L&&b}).map(U=>[[`${U.fieldValue.rowId},${U.fieldValue.colId}`],U.user]);return O.length?Object.fromEntries(O):i.t0}),y=(0,s.Mz)([d,(P,E)=>E],(P,E)=>E===void 0?i.Ml:P.filter(S=>{const R=S.channel===E,k=S.fieldName===r.p4.ACTIVE_CELL;return R&&k}).map(S=>S.user))},1345902898:(N,g,e)=>{"use strict";e.d(g,{Pz:()=>t,mO:()=>o,p4:()=>s});var t;(function(n){n.BROADCAST="broadcast",n.QUERY="query",n.CLOSE="close"})(t||(t={}));var s;(function(n){n.CONTENTVIEW="contentView",n.STICKYEMOJI="stickyEmoji",n.ACTIVE_CELL="activeCell",n.HUDDLE_ACTIVE_SONG="huddleActiveSong"})(s||(s={}));const o=60*1e3},6324645806:(N,g,e)=>{"use strict";e.d(g,{I:()=>o,h:()=>s});var t=e(1345902898);const s=_(n=>{const c=Date.now();var i;return c-((i=n.updatedTimestamp)!==null&&i!==void 0?i:c)>=t.mO},"isAwarenessEntryExpired"),o=_(n=>n?[t.p4.HUDDLE_ACTIVE_SONG].includes(n):!1,"skipUniquenessCheck")},5107871484:(N,g,e)=>{"use strict";e.d(g,{Ol:()=>n,Yf:()=>o,w6:()=>c,x8:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set what zoom value was set in the client when in BBM");s.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client when in BBM"};const o=(0,t.Ay)("Set if hover actions should persist in the client when in BBM");o.meta={name:"createAction",key:"createActionsetPersistentActionsInternal",description:"Set if hover actions should persist in the client when in BBM"};const n=(0,t.Ay)("Set if customer has seen onboarding");n.meta={name:"createAction",key:"createActionsetOnboardedInternal",description:"Set if customer has seen onboarding"};const c=(0,t.Ay)("Set if client should display breadcrumbs when in BBM");c.meta={name:"createAction",key:"createActionsetBreadcrumbsInternal",description:"Set if client should display breadcrumbs when in BBM"}},7980588110:(N,g,e)=>{"use strict";e.d(g,{D5:()=>i,DP:()=>o,FC:()=>n,UY:()=>t,Yb:()=>c,iS:()=>s});const t="slack-zoom-bbm-setting",s="slack-persistent-actions-bbm-setting",o="slack-onboarded-setting",n="slack-breadcrumbs-bbm-setting",c=!0,i=!0},9651400563:(N,g,e)=>{"use strict";e.d(g,{Z:()=>h});var t=e(9139930183),s=e(5107871484),o=e(7980588110),n=e(9733150292);let c;try{var i;c=(i=(0,n.W6)(o.UY))!==null&&i!==void 0?i:void 0}catch{}let r;try{var a;r=(a=(0,n.W6)(o.iS))!==null&&a!==void 0?a:o.Yb}catch{}let l;try{var d;l=(d=(0,n.W6)(o.DP))!==null&&d!==void 0?d:!1}catch{}let u;try{var f;u=(f=(0,n.W6)(o.FC))!==null&&f!==void 0?f:o.D5}catch{}const m={zoom:c,persistentActions:r,onboarded:l,breadcrumbs:u},h=(0,t.Ay)({},m,{storeKey:"bbmSettings",persistenceEnabled:!1}).on(s.x8,(v,p)=>({...v,zoom:p})).on(s.Yf,(v,p)=>({...v,persistentActions:p})).on(s.w6,(v,p)=>({...v,breadcrumbs:p})).on(s.Ol,v=>({...v,onboarded:!0}))},3029055053:(N,g,e)=>{"use strict";e.d(g,{IX:()=>s,N6:()=>o,Tr:()=>n,lz:()=>c});var t=e(3009309149);const s=(0,t.Ay)(i=>i.bbmSettings.zoom);s.meta={name:"createSelector",key:"createSelectorgetZoom",description:i=>i.bbmSettings.zoom};const o=(0,t.Ay)(i=>i.bbmSettings.persistentActions);o.meta={name:"createSelector",key:"createSelectorgetPersistentActions",description:i=>i.bbmSettings.persistentActions};const n=(0,t.Ay)(i=>i.bbmSettings.onboarded);n.meta={name:"createSelector",key:"createSelectorisOnboarded",description:i=>i.bbmSettings.onboarded};const c=(0,t.Ay)(i=>i.bbmSettings.breadcrumbs);c.meta={name:"createSelector",key:"createSelectorgetBreadcrumbs",description:i=>i.bbmSettings.breadcrumbs}},6452473925:(N,g,e)=>{"use strict";e.d(g,{Q:()=>r});var t=e(6304789565),s=e(4134037340),o=e(337319621),n=e(5107871484),c=e(7980588110),i=e(9733150292);const r=(0,t.Ay)("Set zoom value for client when in BBM",(a,l,d)=>{const{error:u}=(0,o.Wo)();(0,s.A)(l())||u(new Error("you must call setZoom for a client store"));try{(0,i.q9)(c.UY,d)}catch(f){u(new Error(`failed to store zoom in local storage: ${f}`))}a((0,n.x8)(d))});r.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client when in BBM"}},3749529250:(N,g,e)=>{"use strict";e.d(g,{K:()=>o,z:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Enable big button mode");s.meta={name:"createAction",key:"createActionenableBBM",description:"Enable big button mode"};const o=(0,t.Ay)("Disable big button mode");o.meta={name:"createAction",key:"createActiondisableBBM",description:"Disable big button mode"}},4614661813:(N,g,e)=>{"use strict";e.d(g,{Y:()=>n});var t=e(9139930183),s=e(3749529250);const o={enabled:!1},n=(0,t.Ay)({},o,{storeKey:"bbm",persistenceEnabled:!0,persistImmediately:!0}).on(s.z,c=>({...c,enabled:!0})).on(s.K,c=>({...c,enabled:!1}))},9536404279:(N,g,e)=>{"use strict";e.d(g,{CD:()=>a,DZ:()=>c,Jt:()=>i,Np:()=>o,VG:()=>s,bz:()=>n,fp:()=>r,hX:()=>l});var t=e(2140362605);const s=(0,t.Ay)("Add timestamps to channel history");s.meta={name:"createAction",key:"createActionaddTimestamps",description:"Add timestamps to channel history"};const o=(0,t.Ay)("Remove timestamps from channel history");o.meta={name:"createAction",key:"createActionremoveTimestamp",description:"Remove timestamps from channel history"};const n=(0,t.Ay)("Remove all history for a channel");n.meta={name:"createAction",key:"createActionremoveAllTimestamps",description:"Remove all history for a channel"};const c=(0,t.Ay)("Remove all history for multiple channels");c.meta={name:"createAction",key:"createActionbulkRemoveAllTimestamps",description:"Remove all history for multiple channels"};const i=(0,t.Ay)("Was disconnected; reset reachedEnd to false");i.meta={name:"createAction",key:"createActionresetReachedEnd",description:"Was disconnected; reset reachedEnd to false"};const r=(0,t.Ay)("Drop messages from before a given timestamp");r.meta={name:"createAction",key:"createActiontruncateChannelHistoryPriorToTimestamp",description:"Drop messages from before a given timestamp"};const a=(0,t.Ay)("Drop old messages if there are too many");a.meta={name:"createAction",key:"createActiontruncateChannelHistory",description:"Drop old messages if there are too many"};const l=(0,t.Ay)("Remove all history for every channel");l.meta={name:"createAction",key:"createActionclearChannelHistory",description:"Remove all history for every channel"}},4350638406:(N,g,e)=>{"use strict";e.d(g,{Hw:()=>ae,e3:()=>ie,mY:()=>q,D1:()=>me,Zc:()=>he,ez:()=>ne});var t=e(3398586081),s=e(7715417323),o=e(6533394955),n=e(8352634987);function c(X,j){return`${X}:${j}`}_(c,"serialize_serialize");function i(X){const[j,w]=X.split(":");return{channelId:j,ts:w}}_(i,"deserialize");var r=e(2028988448),a=e(2208015175),l=e(1703559452),d=e(9816084745),u=e(8289365785),f=e(8786006583),m=e(1545824888),h=e(6304789565),v=e(337319621),p=e(7334104107),T=e(6457401668),A=e(4919145213),C=e(9986847041),I=e(4365697073),D=e(3110884894),y=e(7606781622),P=e(8040098042),E=e(3080060173),M=e(12126472),S=e(1116859610);const R="HISTORY-CFM";function k(X,j){return _(function w(Q){let{channelId:G,oldest:J,latest:te,cursor:se="",msgsInRange:ce=[],deletedInRange:Ee=[]}=Q;const de={channelId:G,oldest:J,latest:te,cursor:se,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return X((0,E.Ay)(de)).then(re=>{let{msgs:_e=[],deleted:ve=[],isLimited:ge,hasMore:Le,responseMetadata:ke={}}=re;return ce.push(..._e),Ee.push(...ve),Le&&!ge&&ke.next_cursor?w({channelId:G,oldest:J,latest:te,cursor:ke.next_cursor,msgsInRange:ce,deletedInRange:Ee}):(X((0,S.A)({msgs:ce,channelId:G,isLimited:ge,latest:te,oldest:J,deletedInRange:Ee})),m.S.resolve())})},"fetchHistoryRangeHelper")(j)}_(k,"fetchHistoryRange");function O(X,j){return _(function w(Q){let{channelId:G,threadTs:J,oldest:te,latest:se,cursor:ce="",msgsInRange:Ee=[],deletedInRange:de=[]}=Q;const re={channelId:G,threadTs:J,oldest:te,latest:se,cursor:ce,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return X((0,E.$b)(re)).then(_e=>{let{msgs:ve=[],deleted:ge=[],hasMore:Le,responseMetadata:ke={}}=_e;if(Ee.push(...ce?(0,M.A)(ve,{ts:J}):ve),de.push(...ge),Le&&ke.next_cursor)return w({channelId:G,threadTs:J,oldest:te,latest:se,cursor:ke.next_cursor,msgsInRange:Ee,deletedInRange:de});const Ne=te===J||se===J?Ee:(0,M.A)(Ee,{ts:J});return X((0,S.A)({msgs:Ne,channelId:(0,D.Iu)(G,J),latest:se,oldest:te,deletedInRange:de})),m.S.resolve()})},"fetchRepliesRangeHelper")(j)}_(O,"fetchRepliesRange");const U=(0,h.Ay)("Fetches a range of messages",(X,j,w)=>{let{channelId:Q,oldest:G,latest:J}=w;if((0,v.Ay)({getState:j,label:R}).info(`Re-fetching ${Q} ${G} - ${J}`),(0,P.A)(Q))return k(X,{channelId:Q,oldest:G,latest:J});const{channelId:te,threadTs:se}=(0,D.Sb)(Q);return O(X,{channelId:te||"",threadTs:se||"",oldest:G,latest:J})});U.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var W=e(8455301571);function x(X){const j={};return X.forEach(w=>{const{channelId:Q,ts:G}=i(w);j[Q]=j[Q]||[],j[Q].push(G)}),j}_(x,"groupTimestampsByChannel");function L(X){let j,w;return(0,a.A)(X,(Q,G)=>{j===void 0&&(j=G),w===void 0&&(w=G),G<j&&(j=G),G>w&&(w=G)}),{minTs:j,maxTs:w}}_(L,"getMinAndMaxTs");function b(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,l.A)(j,(w,Q)=>X[Q])}_(b,"hasIntersection");function F(X,j){return(0,d.A)(j,(w,Q)=>X[Q])}_(F,"isSuperset");function B(X){let{ranges:j={},tsMaps:w=[]}=X;const Q={...j};let G=w[0];return w.forEach(J=>{G!==J&&(b(G,J)?F(G,J)?delete Q[J.rangeId]:F(J,G)?(delete Q[G.rangeId],G=J):(0,a.A)(J,(te,se)=>delete G[se]):G=J)}),Object.values(Q)}_(B,"dedupe");function K(X,j){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const Q=(0,v.Ay)({state:X,label:R}),G={},J=[];return w.sort().forEach(te=>{const ce=(0,y.Ld)(X,j,te,!1);if(!ce){Q.warn(`No message for ${te} in ${j}`);return}if((0,p.aw)(ce)||(0,A.A)(ce))return;const Ee=[];(!(0,I.n)(ce)||(0,p.jX)(ce)||(0,T.SM)(ce))&&Ee.push(j),((0,p.jX)(ce)||(0,I.n)(ce))&&Ee.push((0,D.Iu)(j,(0,C.L)(ce))),Ee.forEach(de=>{if(!de)return;const re=(0,W.tp)(X,de,te);if(!re||re===W.Vl)return;const{start:_e,end:ve,timestamps:ge}=re,Le=`${_e}-${ve}`;if(!G[Le]){const Ke={};Object.defineProperty(Ke,"rangeId",{enumerable:!1,value:Le}),G[Le]={id:de,firstTs:(0,u.A)(ge),lastTs:(0,f.A)(ge),start:_e||"",end:ve||"",tsMap:Ke},J.push(Ke)}const ke=G[Le];ke.tsMap[te]=!0})}),{ranges:G,tsMaps:J}}_(K,"segment");function H(X,j){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(B(K(X,j,w))||[]).map(G=>{let{id:J,firstTs:te,lastTs:se,start:ce,end:Ee,tsMap:de}=G;const{minTs:re,maxTs:_e}=L(de);return{id:J,oldest:re===te?ce:re,latest:_e===se?Ee:_e}})}_(H,"rangify");const Y=(0,h.Ay)("Fetches chunks of channel history for the given message IDs",(X,j,w)=>{let{ids:Q}=w;const G=x(Q),J={};return(0,a.A)(G,(te,se)=>{const ce=H(j(),se,te);J[se]=m.S.map(ce,Ee=>{let{oldest:de,latest:re,id:_e}=Ee;return X(U({channelId:_e,oldest:de,latest:re}))})}),m.S.all(Object.values(J))});Y.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"};const Z=Y,V=(0,t.A)(()=>new n.Ay({storeKey:"channelHistory",fetch:(X,j)=>(0,o.Qw)(X,Z({ids:j})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:()=>!1})),ne=_((X,j,w)=>V().maybeRefetch(X,c(j,w)),"maybeRefetch"),q=_((X,j,w)=>V().markObjectsAsFresh(X,w.map(Q=>c(j,Q))),"markObjectsAsFresh"),me=_((X,j,w)=>V().markObjectsAsStale(X,w.map(Q=>c(j,Q))),"markObjectsAsStale"),ue=_((X,j,w)=>V().isObjectFresh(X,serialize(j,w)),"isObjectFresh"),ae=_(X=>V().getFreshObjects(X).map(i),"getFreshObjects");(0,r.zv)("conditionalFetchManagerChannelHistory",V);const le="reachedEnd",fe=(0,t.A)(()=>new n.Ay({storeKey:"channelHistory",fetch:s.A,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),he=_(X=>fe().markObjectsAsFresh(X,[le]),"markReachedEndAsFresh"),ie=_(X=>fe().isObjectFresh(X,[le]),"isReachedEndFresh")},4588548461:(N,g,e)=>{"use strict";e.d(g,{J:()=>s,T:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Set the date joined for a channel");s.meta={name:"createAction",key:"createActionsetChannelDateJoined",description:"Set the date joined for a channel"};const o=(0,t.Ay)("Bulk set inital last read values for channels when first loaded");o.meta={name:"createAction",key:"createActionbulkSetChannelInitLastReads",description:"Bulk set inital last read values for channels when first loaded"}},7910147864:(N,g,e)=>{"use strict";e.d(g,{Kh:()=>n,Rd:()=>o,Tw:()=>s});var t=e(3009309149);const s=(0,t.Ay)(c=>{var i;return(i=c.channelJoin)===null||i===void 0?void 0:i.initLastReadsLoaded});s.meta={name:"createSelector",key:"createSelectorgetInitLastReadsLoaded",description:c=>{var i;return(i=c.channelJoin)===null||i===void 0?void 0:i.initLastReadsLoaded}};const o=(0,t.Ay)((c,i)=>{var r,a,l;return((r=c.channelJoin)===null||r===void 0||(a=r.channelData)===null||a===void 0||(l=a[i])===null||l===void 0?void 0:l.dateJoined)||0});o.meta={name:"createSelector",key:"createSelectorgetDateJoinedByChannelId",description:(c,i)=>{var r,a,l;return((r=c.channelJoin)===null||r===void 0||(a=r.channelData)===null||a===void 0||(l=a[i])===null||l===void 0?void 0:l.dateJoined)||0}};const n=(0,t.Ay)((c,i)=>{var r,a,l;return(r=c.channelJoin)===null||r===void 0||(a=r.channelData)===null||a===void 0||(l=a[i])===null||l===void 0?void 0:l.initLastRead});n.meta={name:"createSelector",key:"createSelectorgetInitLastReadByChannelId",description:(c,i)=>{var r,a,l;return(r=c.channelJoin)===null||r===void 0||(a=r.channelData)===null||a===void 0||(l=a[i])===null||l===void 0?void 0:l.initLastRead}}},7097022175:(N,g,e)=>{"use strict";e.d(g,{Y:()=>o,r:()=>s});var t=e(7933637612);const{addObjects:s,removeObjects:o}=t.o1},7933637612:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>i,Tp:()=>c,o1:()=>n});var t=e(9808233350);const s={storeKey:"channelLoading",persistenceEnabled:!1},{reducer:o,actions:n,selectors:c}=(0,t.A)(s,{idKey:"channelId",transform:r=>{const{channelId:a,...l}=r;return{id:a,object:l}}}),i=o},8298125694:(N,g,e)=>{"use strict";e.d(g,{Ah:()=>n,Qr:()=>c,c:()=>i});var t=e(3009309149),s=e(7933637612);const{getObjectById:o}=s.Tp,n=_((a,l)=>o(a,l),"innerGetChannelLoadingDataById"),c=(0,t.Ay)((a,l)=>{var d;return!!(!((d=n(a,l))===null||d===void 0)&&d.loading)});c.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(a,l)=>{var d;return!!(!((d=n(a,l))===null||d===void 0)&&d.loading)}};const i=(0,t.Ay)((a,l)=>{const d=n(a,l);return!!(d!=null&&d.loading&&(d!=null&&d.loadingOlder))});i.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(a,l)=>{const d=n(a,l);return!!(d!=null&&d.loading&&(d!=null&&d.loadingOlder))}};const r={innerGetChannelLoadingDataById:n}},3528815215:(N,g,e)=>{"use strict";e.d(g,{f:()=>o});var t=e(6304789565),s=e(7097022175);const o=(0,t.Ay)("Finished loading history for a channel",(n,c,i)=>{const{channelId:r}=i||{};n((0,s.Y)({ids:[r]}))});o.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},1284885799:(N,g,e)=>{"use strict";e.d(g,{v:()=>n});var t=e(6304789565),s=e(8298125694),o=e(7097022175);const n=(0,t.Ay)("Started loading history for a channel",(c,i,r)=>{const{channelId:a,loadingOlder:l,request:d}=r||{},u=(0,s.Ah)(i(),a);u&&u.loading&&u.request&&u.request.cancel(),c((0,o.r)({objects:[{channelId:a,loading:!0,loadingOlder:l,request:d}]}))});n.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},4425457544:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>d,Dk:()=>l,Lv:()=>a,UJ:()=>r});var t=e(9392104102),s=e(6304789565),o=e(9808233350);const{actions:n,reducer:c,selectors:i}=(0,o.A)({persistenceEnabled:!0,storeKey:"channelMutationTimestamps"},{idKey:"channelId",transform:u=>{const{channelId:f,...m}=u;return{id:f,object:m}},update:(u,f)=>({...f,...u})}),r=(0,s.Ay)("Add or update a channel mutation timestamp",(u,f,m)=>{u(n.addObjects({objects:[m]}))});r.meta={name:"createThunk",key:"createThunkaddOrUpdateChannelMutationTimestamp",description:"Add or update a channel mutation timestamp"};const a=(0,s.Ay)("Bulk add or update a channel mutation timestamps",(u,f,m)=>{u(n.addObjects({objects:m}))});a.meta={name:"createThunk",key:"createThunkbulkAddOrUpdateChannelMutationTimestamps",description:"Bulk add or update a channel mutation timestamps"};const l=_((u,f)=>{var m;return(m=i.getObjectById(u,f))!==null&&m!==void 0?m:t.t0},"getChannelMutationTimestamp"),d=c},3273285825:(N,g,e)=>{"use strict";e.d(g,{Z:()=>s,j:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Update the last channel switch trigger");s.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const o=(0,t.Ay)("Update the last channel focus time");o.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},1711848812:(N,g,e)=>{"use strict";e.d(g,{E:()=>l});var t=e(6790819894),s=e(9101533895),o=e(1407713935),n=e(4459831283),c=e(6795500641),i=e(4587082424),r=e(4371795352),a=e(6224506772);const l=(0,t.F)(s.DM,c.Oe,n.N,c.vT,c.ZO,r.g,a.oO,i.mK,(d,u,f,m,h)=>{const v=d.filter(p=>!(0,o.cb)(p));return f&&m&&!h?v.filter(T=>u==null?void 0:u.includes(T.id)):v})},8233490363:(N,g,e)=>{"use strict";e.d(g,{v:()=>l});var t=e(3009309149),s=e(1670069836),o=e(8847766420),n=e(6839188756),c=e(918457931),i=e(3929724715),r=e(2298581483),a=e(766806);const l=(0,t.Ay)((d,u)=>{let{channel:f,xwsAlpha:m=!1}=u;if(m&&(0,c.M)(f)){const v=(0,r.R)(d,f),p=(0,o.kN)(d),T=(0,a.wc)(d,"always_show_workspace_name"),A=T==null?void 0:T.filter(I=>p==null?void 0:p.includes(I)),C=v==null?void 0:v.map(I=>(0,s._J)(d,I)).filter(I=>A!=null&&A.length?!!(A!=null&&A.includes((0,n.ZT)(I)))&&!(0,n.t8)(I):!0).sort((I,D)=>{const y=(0,n.F1)(I),P=(0,n.F1)(D);return y.localeCompare(P)});if(C!=null&&C[0])return C[0]}const h=!(0,c.M)(f)&&(0,i.ne)(d,f);return(h?(0,s._J)(d,h):void 0)||(0,s.H7)(d)});l.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(d,u)=>{let{channel:f,xwsAlpha:m=!1}=u;if(m&&(0,c.M)(f)){const v=(0,r.R)(d,f),p=(0,o.kN)(d),T=(0,a.wc)(d,"always_show_workspace_name"),A=T==null?void 0:T.filter(I=>p==null?void 0:p.includes(I)),C=v==null?void 0:v.map(I=>(0,s._J)(d,I)).filter(I=>A!=null&&A.length?!!(A!=null&&A.includes((0,n.ZT)(I)))&&!(0,n.t8)(I):!0).sort((I,D)=>{const y=(0,n.F1)(I),P=(0,n.F1)(D);return y.localeCompare(P)});if(C!=null&&C[0])return C[0]}const h=!(0,c.M)(f)&&(0,i.ne)(d,f);return(h?(0,s._J)(d,h):void 0)||(0,s.H7)(d)}}},8146089001:(N,g,e)=>{"use strict";e.d(g,{a:()=>n});var t=e(3009309149),s=e(6839188756),o=e(8233490363);const n=(0,t.Ay)((c,i)=>{let{channel:r,xwsAlpha:a=!1}=i;const l=(0,o.v)(c,{channel:r,xwsAlpha:a});return(0,s.F1)(l)});n.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(c,i)=>{let{channel:r,xwsAlpha:a=!1}=i;const l=(0,o.v)(c,{channel:r,xwsAlpha:a});return(0,s.F1)(l)}}},9606603587:(N,g,e)=>{"use strict";e.d(g,{B:()=>n});var t=e(6304789565),s=e(3430841143),o=e(9530687876);const n=(0,t.Ay)(o.rd.ADD_CHANNEL,function(c,i){let{channel:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!r||!r.id||c((0,s.F)({channel:r,reason:o.rd.ADD_CHANNEL}))});n.meta={name:"createThunk",key:"createThunkaddChannel",description:o.rd.ADD_CHANNEL}},1761027239:(N,g,e)=>{"use strict";e.d(g,{t:()=>a});var t=e(1545824888),s=e(6304789565),o=e(4446301238),n=e(3430841143),c=e(9530687876),i=e(4117634716),r=e(8822892075);const a=(0,s.Ay)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(l,d,u)=>{let{channelId:f,users:m,subteams:h,inviteAll:v,force:p,propagateInviteResult:T}=u;return l((0,o.wb)({channelId:f,reason:c.rd.CHILD_CHANNEL_CREATED})).then(function(){let{channel:A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return l((0,n.F)({channel:A,reason:c.rd.CHILD_CHANNEL_CREATED})),l((0,i.o)((0,r.pr)(A.id))),T?v||m||h?l((0,o.Cw)({channelId:A.id,users:m,subteams:h,inviteAll:v,force:p})).then(C=>({channel:A,inviteResult:C})):t.S.resolve({channel:A,inviteResult:{ok:!0}}):(l((0,o.Cw)({channelId:A.id,users:m,subteams:h})),t.S.resolve({channel:A}))})});a.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},613926746:(N,g,e)=>{"use strict";e.d(g,{Z:()=>o});var t=e(6304789565),s=e(7631186994);const o=(0,t.Ay)("Create or open an IM",function(n,c){let{memberId:i,shouldNavigateToChannel:r=!0,reason:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=i?[i]:[];return n((0,s.r)({memberIds:l,shouldNavigateToChannel:r,reason:a}))});o.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},7631186994:(N,g,e)=>{"use strict";e.d(g,{r:()=>f});var t=e(1545824888),s=e(9113979368),o=e(235108050),n=e(6304789565),c=e(5795074931),i=e(3929724715),r=e(4446301238),a=e(8822892075),l=e(9101533895),d=e(3430841143),u=e(4117634716);const f=(0,n.Ay)("Create or open an MPIM",function(m,h){let{memberIds:v,shouldNavigateToChannel:p=!0,isQuiet:T=!1,reason:A="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,s.A)(v))return t.S.resolve();const C=h(),I=_(P=>(m((0,u.o)((0,a.pr)(P.id))),t.S.resolve(P)),"navigateToChannel");let D,y;if(v.length===1)y=v,D=(0,l.Pu)(C,v[0]);else{const P=(0,c.WR)(C);y=(0,o.A)([P,...v]),D=(0,l.FB)(C,y)}return(0,i.nT)(D)?p?I(D):t.S.resolve(D):m((0,r.jP)({isQuiet:T,memberIds:y,reason:A})).then(P=>!P||!P.channel?t.S.reject(new Error("missing-channel")):(m((0,d.F)({channel:P.channel})),p?I(P.channel):t.S.resolve(P.channel)))});f.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},4711657482:(N,g,e)=>{"use strict";e.d(g,{CS:()=>d,HM:()=>n,IX:()=>m,JC:()=>T,JT:()=>y,Kv:()=>U,MC:()=>I,MD:()=>q,Ov:()=>C,PV:()=>Z,RS:()=>E,Ri:()=>F,VM:()=>D,Xr:()=>h,Xu:()=>r,Y5:()=>V,Ye:()=>A,Yr:()=>s,Yy:()=>P,Z8:()=>Y,_Q:()=>o,ai:()=>W,e0:()=>R,f:()=>K,fc:()=>S,fl:()=>v,ho:()=>L,i9:()=>a,kB:()=>f,ke:()=>p,l3:()=>B,mP:()=>O,mt:()=>ne,qC:()=>M,r5:()=>H,r6:()=>u,rl:()=>b,uN:()=>l,vp:()=>c,yK:()=>k,yQ:()=>i,yg:()=>x});var t=e(2140362605);const s=(0,t.Ay)("Checkout Address Form Data Loaded");s.meta={name:"createAction",key:"createActioncheckoutAddressFormDataLoaded",description:"Checkout Address Form Data Loaded"};const o=(0,t.Ay)("Checkout Credit Card Form Loaded");o.meta={name:"createAction",key:"createActionupdateCheckoutCreditCardFormLoaded",description:"Checkout Credit Card Form Loaded"};const n=(0,t.Ay)("Checkout States and Countries Data Loaded");n.meta={name:"createAction",key:"createActioncheckoutStatesAndCountriesDataLoaded",description:"Checkout States and Countries Data Loaded"};const c=(0,t.Ay)("Checkout Company Address Data Loaded");c.meta={name:"createAction",key:"createActioncheckoutCompanyAddressDataLoaded",description:"Checkout Company Address Data Loaded"};const i=(0,t.Ay)("Checkout Action for setting isFetchingCurrencyAfterCountryChange");i.meta={name:"createAction",key:"createActionsetIsFetchingCurrencyAfterCountryChange",description:"Checkout Action for setting isFetchingCurrencyAfterCountryChange"};const r=(0,t.Ay)("Update Company Address Field");r.meta={name:"createAction",key:"createActionupdateCompanyAddressField",description:"Update Company Address Field"};const a=(0,t.Ay)("Update is country from auto detect");a.meta={name:"createAction",key:"createActionupdateIsCountryFromAutoDetect",description:"Update is country from auto detect"};const l=(0,t.Ay)("Company Address Validated");l.meta={name:"createAction",key:"createActioncompanyAddressValidated",description:"Company Address Validated"};const d=(0,t.Ay)("Company Address Form Field Validated");d.meta={name:"createAction",key:"createActioncompanyAddressFormFieldValidated",description:"Company Address Form Field Validated"};const u=(0,t.Ay)("Clear Company Address Form Field Validation Errors");u.meta={name:"createAction",key:"createActionclearCompanyAddressFormFieldValidationErrors",description:"Clear Company Address Form Field Validation Errors"};const f=(0,t.Ay)("Upgrade Response Received");f.meta={name:"createAction",key:"createActiononUpgradeResponseReceived",description:"Upgrade Response Received"};const m=(0,t.Ay)("Purchase Attempt Response Received");m.meta={name:"createAction",key:"createActiononPurchaseAttemptResponseReceived",description:"Purchase Attempt Response Received"};const h=(0,t.Ay)("Addon Purchase Attempt Response Received");h.meta={name:"createAction",key:"createActiononAddonPurchaseResponseReceived",description:"Addon Purchase Attempt Response Received"};const v=(0,t.Ay)("Purchase Attempt Confirmation Response Received");v.meta={name:"createAction",key:"createActiononPurchaseAttemptConfirmationResponseReceived",description:"Purchase Attempt Confirmation Response Received"};const p=(0,t.Ay)("Update Stripe API Key");p.meta={name:"createAction",key:"createActionupdateStripeApiKey",description:"Update Stripe API Key"};const T=(0,t.Ay)("Update Invoice Data Field");T.meta={name:"createAction",key:"createActionupdateInvoiceDataField",description:"Update Invoice Data Field"};const A=(0,t.Ay)("Invoice Data Validated");A.meta={name:"createAction",key:"createActioninvoiceDataValidated",description:"Invoice Data Validated"};const C=(0,t.Ay)("Invoice Form Field Validated");C.meta={name:"createAction",key:"createActioninvoiceDataFieldValidated",description:"Invoice Form Field Validated"};const I=(0,t.Ay)("Clear Any Existing Payment Status or Errors");I.meta={name:"createAction",key:"createActionclearPaymentStatus",description:"Clear Any Existing Payment Status or Errors"};const D=(0,t.Ay)("Self User Data Loaded");D.meta={name:"createAction",key:"createActionselfUserDataLoaded",description:"Self User Data Loaded"};const y=(0,t.Ay)("Update Is Processing Payment");y.meta={name:"createAction",key:"createActionupdateIsProcessingPayment",description:"Update Is Processing Payment"};const P=(0,t.Ay)("Update Payment Method Selected");P.meta={name:"createAction",key:"createActionupdatePaymentMethodSelected",description:"Update Payment Method Selected"};const E=(0,t.Ay)("Update Show App Disconnect Dialog");E.meta={name:"createAction",key:"createActionupdateIsAppDisconnectedDialogShown",description:"Update Show App Disconnect Dialog"};const M=(0,t.Ay)("Update Active Checkout Step");M.meta={name:"createAction",key:"createActionupdateActiveCheckoutStep",description:"Update Active Checkout Step"};const S=(0,t.Ay)("Update Active Checkout Step");S.meta={name:"createAction",key:"createActionupdateActiveSteppedCheckoutStep",description:"Update Active Checkout Step"};const R=(0,t.Ay)("Update Active Country");R.meta={name:"createAction",key:"createActionupdateActiveCountry",description:"Update Active Country"};const k=(0,t.Ay)("Checkout configuration data loaded");k.meta={name:"createAction",key:"createActioncheckoutConfigurationDataLoaded",description:"Checkout configuration data loaded"};const O=(0,t.Ay)("Update Checkout Flow API Error Indicator");O.meta={name:"createAction",key:"createActionupdateIsCheckoutFlowAPIError",description:"Update Checkout Flow API Error Indicator"};const U=(0,t.Ay)("Update checkout store values with configuration data");U.meta={name:"createAction",key:"createActionupdateCheckoutWithConfigData",description:"Update checkout store values with configuration data"};const W=(0,t.Ay)("Redeem partner promo code failed");W.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeFailed",description:"Redeem partner promo code failed"};const x=(0,t.Ay)("Redeem partner promo code success");x.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeSuccess",description:"Redeem partner promo code success"};const L=(0,t.Ay)("Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret");L.meta={name:"createAction",key:"createActionsetIsLoadingStripeCustomerAndPaymentMethods",description:"Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret"};const b=(0,t.Ay)("Sets Active Payment Method Id");b.meta={name:"createAction",key:"createActionsetActivePaymentMethodId",description:"Sets Active Payment Method Id"};const F=(0,t.Ay)("Sets Active Stripe Customer Id");F.meta={name:"createAction",key:"createActionsetActiveStripeCustomerId",description:"Sets Active Stripe Customer Id"};const B=(0,t.Ay)("Sets Active Stripe Customer Payment Method Types for UPE");B.meta={name:"createAction",key:"createActionsetPaymentMethodTypes",description:"Sets Active Stripe Customer Payment Method Types for UPE"};const K=(0,t.Ay)("Sets Payment Methods");K.meta={name:"createAction",key:"createActionsetPaymentMethods",description:"Sets Payment Methods"};const H=(0,t.Ay)("Sets the PaymentElementError, i.e. the error message");H.meta={name:"createAction",key:"createActionsetPaymentElementError",description:"Sets the PaymentElementError, i.e. the error message"};const Y=(0,t.Ay)("Stripe UPE credit card form is complete");Y.meta={name:"createAction",key:"createActionsetIsStripeUpeComplete",description:"Stripe UPE credit card form is complete"};const Z=(0,t.Ay)("Stripe UPE credit card form has interactiono");Z.meta={name:"createAction",key:"createActionsetHasUPEInteraction",description:"Stripe UPE credit card form has interactiono"};const V=(0,t.Ay)("Is address form collapsed and not editable");V.meta={name:"createAction",key:"createActionsetIsAddressFormCollapsed",description:"Is address form collapsed and not editable"};const ne=(0,t.Ay)("Select or deselect an addon by type");ne.meta={name:"createAction",key:"createActiontoggleSelectedAddon",description:"Select or deselect an addon by type"};const q=(0,t.Ay)("Select or deselect an addon by type");q.meta={name:"createAction",key:"createActionsetAddonsForPurchase",description:"Select or deselect an addon by type"}},6460545324:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>r,bE:()=>i,eM:()=>n,gW:()=>c,x:()=>s,xj:()=>o});const t={form:"form",review:"review",success:"success",addons:"addons",addon_success:"addon_success",trial_review:"trial_review",trial_success:"trial_success"},s={overview:"overview",address:"address",payment:"payment",review:"review"},o=200,n={educational:"educational",local:{brazil:"local_discount_real",india:"local_discount_rupee"},nonprofit:"nonprofit",tenured_teams:"tenured_teams_discount",wfh_bundle:"wfhbundle",atlassian_2020:"atlassian_2020",smart_discount:"smart_discount",paid_acquisition_self_serve:"paid_acquisition_self_serve",price_increase_churn_prevention:"price_increase_churn_prevention",sfdc_customer_coupon_2022:"sfdc_customer_coupon_2022",slack_grb_campaign_coupon_2022:"slack_grb_campaign_coupon_2022",straight_to_paid:"straight_to_paid",self_serve_affiliates:"self_serve_affiliates",pricing_and_packaging_promo:"pricing_and_packaging_promo",new_year_promo:"new_year_promo",data_deletion_discount:"evergreen_data_deletion_discount",downgrade_discount_discount_50_pct_3_months:"downgrade_discount_discount_50_pct_3_months",downgrade_discount_discount_15_pct_12_months:"downgrade_discount_discount_15_pct_12_months",pnp_discount:"pnp_discount"},c="partner_growth",i={TEAM_INELIGIBLE:"team_ineligible",CODE_ALREADY_REDEEMED:"code_already_redeemed"},r=t},3559164431:(N,g,e)=>{"use strict";e.d(g,{$3:()=>T,BD:()=>de,Bj:()=>ae,Bo:()=>l,Cb:()=>ve,D5:()=>V,E$:()=>p,EX:()=>J,Ex:()=>b,GG:()=>Le,Hg:()=>ge,IK:()=>Re,J5:()=>f,Ju:()=>ke,M:()=>E,MA:()=>y,Oe:()=>j,S_:()=>r,U$:()=>m,VE:()=>U,VV:()=>u,Vs:()=>O,WP:()=>Z,Wq:()=>a,X:()=>q,YW:()=>h,Yv:()=>i,Zl:()=>A,Zn:()=>B,bB:()=>C,bW:()=>se,bm:()=>_e,c9:()=>ie,cR:()=>ne,ch:()=>Q,d2:()=>H,fD:()=>We,fx:()=>re,gr:()=>P,h0:()=>me,hy:()=>Ne,iD:()=>G,k7:()=>v,kr:()=>le,lK:()=>X,oi:()=>x,oy:()=>L,p:()=>he,qR:()=>fe,qn:()=>S,r2:()=>Ke,r8:()=>F,rn:()=>K,t5:()=>W,tG:()=>d,vO:()=>te,wz:()=>I,y4:()=>xe,zj:()=>M});var t=e(3009309149),s=e(5597672932),o=e(9113979368),n=e(6323355797),c=e(9392104102);const i=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress||!$.checkoutFlow.companyAddress.validationErrors?!1:Object.values($.checkoutFlow.companyAddress.validationErrors).some(ee=>ee));i.meta={name:"createSelector",key:"createSelectorhasAddressFormErrors",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress||!$.checkoutFlow.companyAddress.validationErrors?!1:Object.values($.checkoutFlow.companyAddress.validationErrors).some(ee=>ee)};const r=(0,t.Ay)($=>{var ee;return($==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.activeStripeCustomerId)||null});r.meta={name:"createSelector",key:"createSelectorgetActiveCustomerId",description:$=>{var ee;return($==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.activeStripeCustomerId)||null}};const a=(0,t.Ay)($=>{var ee;return($==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.isFetchingCurrencyAfterCountryChange)||!1});a.meta={name:"createSelector",key:"createSelectorgetIsFetchingCurrencyAfterCountryChange",description:$=>{var ee;return($==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.isFetchingCurrencyAfterCountryChange)||!1}};const l=(0,t.Ay)($=>{var ee,Ve;return!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.activeStripeCustomerId)||!(!($==null||(Ve=$.checkoutFlow)===null||Ve===void 0)&&Ve.activePaymentMethodIdMap)?null:$.checkoutFlow.activePaymentMethodIdMap[$.checkoutFlow.activeStripeCustomerId]});l.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodId",description:$=>{var ee,Ve;return!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.activeStripeCustomerId)||!(!($==null||(Ve=$.checkoutFlow)===null||Ve===void 0)&&Ve.activePaymentMethodIdMap)?null:$.checkoutFlow.activePaymentMethodIdMap[$.checkoutFlow.activeStripeCustomerId]}};const d=(0,t.Ay)($=>{var ee;return!$||!$.checkoutFlow?null:(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.activePaymentMethodIdMap});d.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodIdMap",description:$=>{var ee;return!$||!$.checkoutFlow?null:(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.activePaymentMethodIdMap}};const u=(0,t.Ay)($=>{var ee;return!$||!$.checkoutFlow?null:(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.paymentMethodTypes});u.meta={name:"createSelector",key:"createSelectorgetPaymentMethodTypes",description:$=>{var ee;return!$||!$.checkoutFlow?null:(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.paymentMethodTypes}};const f=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethods);f.meta={name:"createSelector",key:"createSelectorgetPaymentMethods",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethods};const m=(0,t.Ay)($=>{const ee=l($);if(!ee||(0,o.A)(ee))return null;const Ve=f($);return!ee||!Array.isArray(Ve)?null:Ve.find(ze=>ze.id===ee)});m.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethod",description:$=>{const ee=l($);if(!ee||(0,o.A)(ee))return null;const Ve=f($);return!ee||!Array.isArray(Ve)?null:Ve.find(ze=>ze.id===ee)}};const h=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress?null:$.checkoutFlow.companyAddress);h.meta={name:"createSelector",key:"createSelectorgetCompanyAddress",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.companyAddress?null:$.checkoutFlow.companyAddress};const v=(0,t.Ay)($=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isAddressFormCollapsed)});v.meta={name:"createSelector",key:"createSelectorgetIsAddressFormCollapsed",description:$=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isAddressFormCollapsed)}};const p=(0,t.Ay)($=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isPaymentMethodSectionDisplayed)});p.meta={name:"createSelector",key:"createSelectorgetIsPaymentMethodSectionDisplayed",description:$=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isPaymentMethodSectionDisplayed)}};const T=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods);T.meta={name:"createSelector",key:"createSelectorgetIsLoadingStripeCustomerAndPaymentMethods",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:$.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods};const A=(0,t.Ay)($=>{var ee,Ve;return!($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.config)===null||Ve===void 0)&&Ve.countryMap?$.checkoutFlow.config.countryMap:null});A.meta={name:"createSelector",key:"createSelectorgetCountryMap",description:$=>{var ee,Ve;return!($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.config)===null||Ve===void 0)&&Ve.countryMap?$.checkoutFlow.config.countryMap:null}};const C=(0,t.Ay)($=>{var ee;return $==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.paymentElementError});C.meta={name:"createSelector",key:"createSelectorgetPaymentElementError",description:$=>{var ee;return $==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.paymentElementError}};const I=(0,t.Ay)($=>{const ee=h($);return ee?ee.country:null});I.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountry",description:$=>{const ee=h($);return ee?ee.country:null}};const D=(0,t.Ay)($=>{const ee=h($);return!ee||!ee.validationErrors||!ee.validationErrors.country?null:ee.validationErrors.country.errorText});D.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountryError",description:$=>{const ee=h($);return!ee||!ee.validationErrors||!ee.validationErrors.country?null:ee.validationErrors.country.errorText}};const y=(0,t.Ay)($=>{var ee,Ve,ze;return(ee=h($))===null||ee===void 0||(Ve=ee.validationErrors)===null||Ve===void 0||(ze=Ve.vatId)===null||ze===void 0?void 0:ze.errorText});y.meta={name:"createSelector",key:"createSelectorgetCompanyAddressVatIdError",description:$=>{var ee,Ve,ze;return(ee=h($))===null||ee===void 0||(Ve=ee.validationErrors)===null||Ve===void 0||(ze=Ve.vatId)===null||ze===void 0?void 0:ze.errorText}};const P=(0,t.Ay)($=>{const ee=h($);return ee?ee.postalCode:null});P.meta={name:"createSelector",key:"createSelectorgetCompanyAddressPostalCode",description:$=>{const ee=h($);return ee?ee.postalCode:null}};const E=(0,t.Ay)($=>{const ee=h($);return ee?ee.region:null});E.meta={name:"createSelector",key:"createSelectorgetCompanyAddressRegion",description:$=>{const ee=h($);return ee?ee.region:null}};const M=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.config?null:$.checkoutFlow.config);M.meta={name:"createSelector",key:"createSelectorgetConfig",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.config?null:$.checkoutFlow.config};const S=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?null:$.checkoutFlow.checkoutConfiguration);S.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfig",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?null:$.checkoutFlow.checkoutConfiguration};const R=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentTerm?null:$.checkoutFlow.checkoutConfiguration.currentTerm===n.ck.yearly);R.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigTermIsYearly",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentTerm?null:$.checkoutFlow.checkoutConfiguration.currentTerm===n.ck.yearly};const k=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:$.checkoutFlow.checkoutConfiguration.currentPlanLevel);k.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigPlanLevel",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:$.checkoutFlow.checkoutConfiguration.currentPlanLevel};const O=(0,t.Ay)($=>{var ee,Ve;return(Ve=$==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.isCheckoutConfigurationDataLoaded)!==null&&Ve!==void 0?Ve:!1});O.meta={name:"createSelector",key:"createSelectorisCheckoutPreConfigLoaded",description:$=>{var ee,Ve;return(Ve=$==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.isCheckoutConfigurationDataLoaded)!==null&&Ve!==void 0?Ve:!1}};const U=(0,t.Ay)($=>{var ee,Ve;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0)&&Ve.isFutureSwitch)});U.meta={name:"createSelector",key:"createSelectorselectIsFutureProductSwitch",description:$=>{var ee,Ve;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0)&&Ve.isFutureSwitch)}};const W=(0,t.Ay)($=>{var ee,Ve;return($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0?void 0:Ve.availableTerms)||null});W.meta={name:"createSelector",key:"createSelectorselectAvailableTerms",description:$=>{var ee,Ve;return($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0?void 0:Ve.availableTerms)||null}};const x=(0,t.Ay)($=>{var ee,Ve;return($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0?void 0:Ve.upeSelectedAvailableTerms)||null});x.meta={name:"createSelector",key:"createSelectorgetUpeSelectedAvailableTerms",description:$=>{var ee,Ve;return($==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0?void 0:Ve.upeSelectedAvailableTerms)||null}};const L=(0,t.Ay)($=>{var ee,Ve;return $==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0?void 0:Ve.redirectUrl});L.meta={name:"createSelector",key:"createSelectorselectRedirectUrl",description:$=>{var ee,Ve;return $==null||(ee=$.checkoutFlow)===null||ee===void 0||(Ve=ee.checkoutConfiguration)===null||Ve===void 0?void 0:Ve.redirectUrl}};const b=(0,t.Ay)($=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutAddressFormDataLoaded)});b.meta={name:"createSelector",key:"createSelectorisCheckoutAddressFormDataLoaded",description:$=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutAddressFormDataLoaded)}};const F=(0,t.Ay)($=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isCountryFromAutoDetect)});F.meta={name:"createSelector",key:"createSelectorgetIsCountryFromAutoDetect",description:$=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isCountryFromAutoDetect)}};const B=(0,t.Ay)($=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutCreditCardFormLoaded)});B.meta={name:"createSelector",key:"createSelectorgetIsCheckoutCreditCardFormLoaded",description:$=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutCreditCardFormLoaded)}};const K=(0,t.Ay)($=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isStripeUpeComplete)});K.meta={name:"createSelector",key:"createSelectorgetIsStripeUpeComplete",description:$=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.isStripeUpeComplete)}};const H=(0,t.Ay)($=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.hasUPEInteraction)});H.meta={name:"createSelector",key:"createSelectorgetHasUPEInteraction",description:$=>{var ee;return!!(!($==null||(ee=$.checkoutFlow)===null||ee===void 0)&&ee.hasUPEInteraction)}};const Y=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentStatus);Y.meta={name:"createSelector",key:"createSelectorgetPaymentStatus",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentStatus};const Z=(0,t.Ay)($=>{const ee=Y($);return ee?ee.ok===!0&&!ee.error&&!ee.isActionRequiredOnPurchaseAttempt:!1});Z.meta={name:"createSelector",key:"createSelectordidUpgradeSucceed",description:$=>{const ee=Y($);return ee?ee.ok===!0&&!ee.error&&!ee.isActionRequiredOnPurchaseAttempt:!1}};const V=(0,t.Ay)($=>{const ee=Y($);return ee?ee.error&&ee.msg?ee.msg:ee.error:""});V.meta={name:"createSelector",key:"createSelectorgetUpgradeError",description:$=>{const ee=Y($);return ee?ee.error&&ee.msg?ee.msg:ee.error:""}};const ne=(0,t.Ay)($=>{const ee=Y($);return!!(ee!=null&&ee.isProcessingPayment)});ne.meta={name:"createSelector",key:"createSelectorselectIsProcessingPayment",description:$=>{const ee=Y($);return!!(ee!=null&&ee.isProcessingPayment)}};const q=(0,t.Ay)($=>{const ee=M($);return ee?ee.stripeApiKey:null});q.meta={name:"createSelector",key:"createSelectorselectStripeApiKey",description:$=>{const ee=M($);return ee?ee.stripeApiKey:null}};const me=(0,t.Ay)($=>{const ee=M($);return ee?ee.sourcesPayable:null});me.meta={name:"createSelector",key:"createSelectorselectSourcesPayable",description:$=>{const ee=M($);return ee?ee.sourcesPayable:null}};const ue=(0,t.Ay)(($,ee)=>{if(ee===null)return{};const Ve=me($);if(!Ve)return{};const ze=Object.values(Ve).find(st=>st.id===ee);return ze||{}});ue.meta={name:"createSelector",key:"createSelectorselectSourcePayableById",description:($,ee)=>{if(ee===null)return{};const Ve=me($);if(!Ve)return{};const ze=Object.values(Ve).find(st=>st.id===ee);return ze||{}}};const ae=(0,t.Ay)($=>{const ee=M($);return!ee||!ee.user?!1:ee.user.is_owner});ae.meta={name:"createSelector",key:"createSelectorselectIsSelfUserOwner",description:$=>{const ee=M($);return!ee||!ee.user?!1:ee.user.is_owner}};const le=(0,t.Ay)($=>{const ee=M($);return!ee||!ee.user||!$||!$.checkoutFlow});le.meta={name:"createSelector",key:"createSelectorgetIsInvoiceFormLoading",description:$=>{const ee=M($);return!ee||!ee.user||!$||!$.checkoutFlow}};const fe=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.invoiceData);fe.meta={name:"createSelector",key:"createSelectorgetInvoiceData",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.invoiceData};const he=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethodSelected);he.meta={name:"createSelector",key:"createSelectorselectPaymentMethodSelected",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.paymentMethodSelected};const ie=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.isAppDisconnectedDialogShown);ie.meta={name:"createSelector",key:"createSelectorselectIsAppDisconnectedDialogShown",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.isAppDisconnectedDialogShown};const X=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.activeCheckoutStep);X.meta={name:"createSelector",key:"createSelectorselectActiveCheckoutStep",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.activeCheckoutStep};const j=(0,t.Ay)($=>{var ee;return($==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.activeSteppedCheckoutStep)||null});j.meta={name:"createSelector",key:"createSelectorselectActiveSteppedCheckoutStep",description:$=>{var ee;return($==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.activeSteppedCheckoutStep)||null}};const w=(0,t.Ay)($=>{var ee;return $==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.promoCodeRedeem});w.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeem",description:$=>{var ee;return $==null||(ee=$.checkoutFlow)===null||ee===void 0?void 0:ee.promoCodeRedeem}};const Q=(0,t.Ay)($=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.failed)||!1});Q.meta={name:"createSelector",key:"createSelectorselectDidPromoCodeRedeemFail",description:$=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.failed)||!1}};const G=(0,t.Ay)($=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.errorName)||""});G.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemErrorName",description:$=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.errorName)||""}};const J=(0,t.Ay)($=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.discountName)||""});J.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountName",description:$=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.discountName)||""}};const te=(0,t.Ay)($=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.discountPercentage)||0});te.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountPercentage",description:$=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.discountPercentage)||0}};const se=(0,t.Ay)($=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.discountDuration)||0});se.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountDuration",description:$=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.discountDuration)||0}};const ce=(0,t.Ay)($=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.attempted)||!1});ce.meta={name:"createSelector",key:"createSelectorselectDidAttemptPromoCodeRedeem",description:$=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.attempted)||!1}};const Ee=(0,t.Ay)($=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.code)||null});Ee.meta={name:"createSelector",key:"createSelectorselectPromoCode",description:$=>{var ee;return((ee=w($))===null||ee===void 0?void 0:ee.code)||null}};const de=(0,t.Ay)($=>!$||!$.checkoutFlow?null:$.checkoutFlow.isCheckoutFlowAPIError);de.meta={name:"createSelector",key:"createSelectorselectIsCheckoutFlowAPIError",description:$=>!$||!$.checkoutFlow?null:$.checkoutFlow.isCheckoutFlowAPIError};const re=(0,t.Ay)($=>{const ee=Y($);return!!(ee!=null&&ee.isActionRequiredOnPurchaseAttempt)});re.meta={name:"createSelector",key:"createSelectorselectIsActionRequiredOnPurchaseAttempt",description:$=>{const ee=Y($);return!!(ee!=null&&ee.isActionRequiredOnPurchaseAttempt)}};const _e=(0,t.Ay)($=>{const ee=Y($);return ee&&ee.intentSecret||""});_e.meta={name:"createSelector",key:"createSelectorselectIntentSecret",description:$=>{const ee=Y($);return ee&&ee.intentSecret||""}};const ve=(0,t.Ay)($=>{const ee=Y($);return ee&&ee.billingItemId||""});ve.meta={name:"createSelector",key:"createSelectorselectBillingItemId",description:$=>{const ee=Y($);return ee&&ee.billingItemId||""}};const ge=(0,t.Ay)($=>(0,s.xp)($,"self_serve_select"));ge.meta={name:"createSelector",key:"createSelectorselectCanViewEnterpriseSelect",description:$=>(0,s.xp)($,"self_serve_select")};const Le=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].id);Le.meta={name:"createSelector",key:"createSelectorselectAddonId",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].id};const ke=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?!1:$.checkoutFlow.checkoutConfiguration.isPayingByInvoice);ke.meta={name:"createSelector",key:"createSelectorselectIsPayingByInvoice",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration?!1:$.checkoutFlow.checkoutConfiguration.isPayingByInvoice};const Ke=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons.map(ee=>ee.id));Ke.meta={name:"createSelector",key:"createSelectorselectArrayOfAddonIds",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons.map(ee=>ee.id)};const Ne=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].type);Ne.meta={name:"createSelector",key:"createSelectorselectAddonType",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.addons?null:$.checkoutFlow.checkoutConfiguration.addons[0].type};const Re=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.selectedAddonTypes?c.Ml:$.checkoutFlow.selectedAddonTypes);Re.meta={name:"createSelector",key:"createSelectorselectAddonsForPurchase",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.selectedAddonTypes?c.Ml:$.checkoutFlow.selectedAddonTypes};const xe=(0,t.Ay)($=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate);xe.meta={name:"createSelector",key:"createSelectorselectAddonBillingDate",description:$=>!$||!$.checkoutFlow||!$.checkoutFlow.checkoutConfiguration||!$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:$.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate};const We=(0,t.Ay)($=>{var ee;return!$||!$.checkoutFlow?null:(ee=$.checkoutFlow.checkoutConfiguration)===null||ee===void 0?void 0:ee.isEligibleForDataDeletion});We.meta={name:"createSelector",key:"createSelectorselectIsEligibleForDataDeletion",description:$=>{var ee;return!$||!$.checkoutFlow?null:(ee=$.checkoutFlow.checkoutConfiguration)===null||ee===void 0?void 0:ee.isEligibleForDataDeletion}}},8368515877:(N,g,e)=>{"use strict";e.d(g,{l:()=>T});var t=e(6304789565),s=e(3048437087),o=e(1649982175),n=e(9113979368),c=e(2927826522),i=e(1545824888),r=e(165535451),a=e(7520484642);const l=(0,t.Ay)("fetches all available pricing plans for the team.",(A,C,I)=>new i.S(D=>{A((0,r.iV)(I)).then(y=>{A((0,a.wt)(y)),D()})}));l.meta={name:"createThunk",key:"createThunkfetchPlansData",description:"fetches all available pricing plans for the team."};const d=l;var u=e(6460545324),f=e(4711657482),m=e(6323355797);const h=_(A=>{var C,I;const D=((C=A.product)===null||C===void 0?void 0:C.level)===A.current_product.level,y=((I=A.product)===null||I===void 0?void 0:I.term)===A.current_product.term,P=A.selected_payment_method===m.uq.CREDIT_CARD,E=A.current_product.is_invoice;return D&&y&&P&&!E?[m.uq.CREDIT_CARD]:A.allowed_payment_methods},"filterAllowedPaymentMethods"),v=_(A=>{var C,I;const D=((C=A.product)===null||C===void 0?void 0:C.level)===A.current_product.level,y=((I=A.product)===null||I===void 0?void 0:I.term)===A.current_product.term;return A.selected_payment_method===m.uq.INVOICE&&D?y?[m.ck.monthly]:[m.ck.yearly]:A.available_terms},"getUpeSelectedAvailableTerms"),p=(0,t.Ay)("Load configuration data for checkout",async(A,C,I)=>{let{checkoutConfigData:D}=I,y=(0,o.A)(D,["clientRequestId","requestId","args","method","ok"]);const P=!(0,n.A)(y);if(P){var E,M,S,R,k;y=Object.assign(y,{planLevel:(E=y.product)===null||E===void 0?void 0:E.level,term:(M=y.product)===null||M===void 0?void 0:M.term,isTrial:(S=y.product)===null||S===void 0?void 0:S.is_trial,isPayingByInvoice:y.current_product.is_invoice,currency:(R=y.product)===null||R===void 0?void 0:R.currency,productId:(k=y.product)===null||k===void 0?void 0:k.id,currentPlanLevel:y.current_product.level,currentTerm:y.current_product.term,currentIsTrial:y.current_product.is_trial,currentCurrency:y.current_product.currency,currentProductId:y.current_product.id,allowedPaymentMethods:h(y),upeSelectedAvailableTerms:v(y),isEligibleForDataDeletion:y.is_eligible_for_data_deletion}),delete y.product,delete y.current_product}y=(0,c.A)(y),A((0,f.yK)(y)),P&&(A((0,f.Kv)(y)),await A(d({checkout_step:u.Ay.form})))});p.meta={name:"createThunk",key:"createThunkloadCheckoutConfigurationData",description:"Load configuration data for checkout"};const T=(0,t.Ay)("Fetch configuration data for checkout",async(A,C,I)=>{let{productId:D=null}=I;const y="fetchConfigurationData",P=await A((0,s.n)(D?{productId:D,reason:y}:{reason:y}));await A(p({checkoutConfigData:P}))});T.meta={name:"createThunk",key:"createThunkfetchConfigurationData",description:"Fetch configuration data for checkout"}},2222994823:(N,g,e)=>{"use strict";e.d(g,{I:()=>i});var t=e(2774532222),s=e(6323355797),o=e(4252064756),n=e(7732872146);const c=_(a=>{const l=(0,n.Ay)(a),d=l&&l.pathname;return(0,o.D)(l)&&(0,t.A)(d,(0,s.hZ)())},"isPlansAppUrl"),i=_(a=>a&&!c(a),"shouldCheckoutRedirect"),r={isPlansAppUrl:c}},4653418008:(N,g,e)=>{"use strict";e.d(g,{LA:()=>n,Th:()=>c,kl:()=>o,yg:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set the current theme field in redux (do not use this)");s.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const o=(0,t.Ay)("Set the OS system sync field in redux (do not use this)");o.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const n=(0,t.Ay)("Set the OS system theme field in redux (do not use this)");n.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"};const c=(0,t.Ay)("Set the client typeface");c.meta={name:"createAction",key:"createActionsetClientTypeface",description:"Set the client typeface"}},5922222922:(N,g,e)=>{"use strict";e.d(g,{C3:()=>o,k4:()=>t,u7:()=>s});const t="slack-client-theme",s="slack-client-theme-os-sync",o="client-typeface"},5923036663:(N,g,e)=>{"use strict";e.d(g,{A:()=>D});var t=e(1703559452),s=e(337319621),o=e(4096483543),n=e(8489773543),c=e(9323322135),i=e(9139930183),r=e(6533394955),a=e(7384121809),l=e(5922222922),d=e(4653418008),u=e(3328068409),f=e(767804497),m=e(7439773700),h=e(9012396182),v=e(9733150292);let p="light",T=!1,A="light",C;try{C=(0,v.W6)(l.C3)||void 0}catch{}try{n.w2&&(0,o.A)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(y=>{const P=y.matches?"dark":"light";A=P,T&&(p=A);const E=(0,a.en)();if(E){const M=E.getState(),S=(0,h.getBootedWorkspaces)(M),R=(0,t.A)(S.map(k=>(0,n.Ay)((0,r.$D)(k))));E.dispatch((0,d.LA)(P)),R&&(0,u.FW)(M)&&E.dispatch((0,f.P)(P))}})}catch(y){(0,s.Wo)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",y)}try{const y=window.localStorage.getItem(l.k4),P=window.localStorage.getItem(l.u7);p=y||"light",n.w2&&(P?T=P==="true":T=!y,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(A="dark"),T&&(p=A)),(0,c.g9M)()&&((0,c.cGU)({name:"userTheme",value:p}),(0,c.cGU)({name:"systemThemeSyncEnabled",value:T}))}catch(y){(0,s.Wo)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",y)}const D=(0,i.Ay)({},{clientTheme:p,systemSync:T,systemTheme:A,clientTypeface:C},{storeKey:"clientTheme",persistenceEnabled:!1}).on(d.yg,function(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...y,clientTheme:P}}).on(d.kl,function(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...y,systemSync:P}}).on(d.LA,function(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...y,systemTheme:P}}).on(d.Th,function(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,m.kh)();return{...y,clientTypeface:P}})},767804497:(N,g,e)=>{"use strict";e.d(g,{P:()=>i});var t=e(337319621),s=e(9323322135),o=e(6304789565),n=e(5922222922),c=e(4653418008);const i=(0,o.Ay)("Set the current theme for the device",function(r,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(n.k4,l)}catch{(0,t.Wo)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}r((0,c.yg)(l)),(0,s.cGU)({name:"userTheme",value:l})});i.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},9879145827:(N,g,e)=>{"use strict";e.d(g,{V:()=>o,j:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Sets the origin view the Composer page was opened from");s.meta={name:"createAction",key:"createActionsetComposerOrigin",description:"Sets the origin view the Composer page was opened from"};const o=(0,t.Ay)("Sets a value indicating whether email classification is supported in the composer");o.meta={name:"createAction",key:"createActionsetComposerEmailClassificationSupported",description:"Sets a value indicating whether email classification is supported in the composer"}},5192633986:(N,g,e)=>{"use strict";e.d(g,{$:()=>s});var t=e(3009309149);const s=(0,t.Ay)(n=>{var c;return n==null||(c=n.composerPage)===null||c===void 0?void 0:c.composerOrigin});s.meta={name:"createSelector",key:"createSelectorgetComposerOrigin",description:n=>{var c;return n==null||(c=n.composerPage)===null||c===void 0?void 0:c.composerOrigin}};const o=(0,t.Ay)(n=>(n==null?void 0:n.composerPage.composerEmailClassificationSupported)||!1);o.meta={name:"createSelector",key:"createSelectorgetComposerEmailClassificationSupported",description:n=>(n==null?void 0:n.composerPage.composerEmailClassificationSupported)||!1}},5670953896:(N,g,e)=>{"use strict";e.d(g,{$_:()=>v,Ci:()=>c,Dn:()=>n,F8:()=>d,MJ:()=>m,N2:()=>a,RX:()=>r,Xc:()=>h,ij:()=>o,pq:()=>u,qE:()=>i,rj:()=>f,sR:()=>s,vN:()=>l});var t=e(2140362605);const s=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound connect invites");s.meta={name:"createAction",key:"createActionresetConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound connect invites"};const o=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound pending connect invites");o.meta={name:"createAction",key:"createActionresetPendingConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound pending connect invites"};const n=(0,t.Ay)("Upserts a Slack Connect Invite");n.meta={name:"createAction",key:"createActionupsertConnectInvite",description:"Upserts a Slack Connect Invite"};const c=(0,t.Ay)("Upserts a pending Slack Connect Invite");c.meta={name:"createAction",key:"createActionupsertPendingConnectInvite",description:"Upserts a pending Slack Connect Invite"};const i=(0,t.Ay)("Removes a Slack Connect Invite");i.meta={name:"createAction",key:"createActionremoveConnectInvite",description:"Removes a Slack Connect Invite"};const r=(0,t.Ay)("Removes a pending Slack Connect Invite");r.meta={name:"createAction",key:"createActionremovePendingConnectInvite",description:"Removes a pending Slack Connect Invite"};const a=(0,t.Ay)("Sets freshness flag for Slack Connect invites");a.meta={name:"createAction",key:"createActionsetAreInvitesFresh",description:"Sets freshness flag for Slack Connect invites"};const l=(0,t.Ay)("Sets whether logged-in member's email has been verified for Slack Connect visibility purposes");l.meta={name:"createAction",key:"createActionsetIsEmailVerified",description:"Sets whether logged-in member's email has been verified for Slack Connect visibility purposes"};const d=(0,t.Ay)("Sets whether logged-in member's email verification has failed");d.meta={name:"createAction",key:"createActionsetIsUserVerificationFetchError",description:"Sets whether logged-in member's email verification has failed"};const u=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect channel invite");u.meta={name:"createAction",key:"createActionupsertChannelConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect channel invite"};const f=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect DM invite");f.meta={name:"createAction",key:"createActionupsertDmConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect DM invite"};const m=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect space invite");m.meta={name:"createAction",key:"createActionupsertSpaceConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect space invite"};const h=(0,t.Ay)("Upserts whether an acceptance attempt has failed for a specific Slack Connect invite");h.meta={name:"createAction",key:"createActionupsertHasConnectInviteAcceptanceFailed",description:"Upserts whether an acceptance attempt has failed for a specific Slack Connect invite"};const v=(0,t.Ay)("Sets whether we are currently switching workspaces");v.meta={name:"createAction",key:"createActionsetIsSwitchingWorkspaces",description:"Sets whether we are currently switching workspaces"}},1496122061:(N,g,e)=>{"use strict";e.d(g,{d:()=>a});var t=e(1605540670),s=e(3243667193),o=e(320199792),n=e(2368561198),c=e(6304789565),i=e(5670953896),r=e(5914498199);const a=(0,c.Ay)("Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites",async(l,d,u)=>{let{reason:f}=u,m;const h=[s.k.Channel,s.k.Im];(0,n.i)(d())&&h.push(s.k.Workspace);const p=await l((0,t.O)({reason:f,inviteTypes:h,onlyPendingInvites:!0}));if(p!=null&&p.connect_invites){m=p.connect_invites;const T=m.filter(o.Ef),A=m.filter(o.I4);l((0,r.R)({connectInvites:m})),l((0,i.ij)({pendingInboundConnectInvites:T,pendingOutboundConnectInvites:A}))}return m||[]});a.meta={name:"createThunk",key:"createThunkfetchAndResetAllPendingConnectInvites",description:"Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites"}},6111266013:(N,g,e)=>{"use strict";e.d(g,{p:()=>a});var t=e(1605540670),s=e(3622175906),o=e(3243667193),n=e(2368561198),c=e(6304789565),i=e(5670953896),r=e(5914498199);const a=(0,c.Ay)("Fetch and upsert the result of connectInvites.list for inbound/outbound invites",async(l,d,u)=>{let{reason:f,direction:m,includeInviteRequests:h}=u,v;const p=[o.k.Channel,o.k.Im];(0,n.i)(d())&&p.push(o.k.Workspace);const A=await l((0,t.O)({reason:f,direction:m,inviteTypes:p,includeInviteRequests:h}));if(A!=null&&A.connect_invites){v=A.connect_invites,l((0,r.R)({connectInvites:v}));const C={inboundConnectInvites:m===s.D.Incoming?v:void 0,outboundConnectInvites:m===s.D.Outgoing?v:void 0};l((0,i.sR)(C))}return v||[]});a.meta={name:"createThunk",key:"createThunkfetchAndResetConnectInvites",description:"Fetch and upsert the result of connectInvites.list for inbound/outbound invites"}},5914498199:(N,g,e)=>{"use strict";e.d(g,{R:()=>n});var t=e(320199792),s=e(6304789565),o=e(7679955939);const n=(0,s.Ay)("Upsert any non-local members referenced in the specified connect invites",async(c,i,r)=>{let{connectInvites:a}=r;const l=[];a.forEach(d=>{const u=(0,t.$N)(d);if((0,t.I4)(d)&&u&&u.forEach(f=>{l.push((0,t.mZ)(f))}),(0,t.Ef)(d)){l.push((0,t.y1)(d));const f=(0,t.kR)(d);f&&l.push(f)}}),c((0,o.Ay)({members:l}))});n.meta={name:"createThunk",key:"createThunkupsertMembersFromConnectInvites",description:"Upsert any non-local members referenced in the specified connect invites"}},6591744424:(N,g,e)=>{"use strict";e.d(g,{A8:()=>v,IC:()=>l,If:()=>h,S_:()=>f,Uf:()=>m,Z3:()=>C,cf:()=>a,nT:()=>I,tD:()=>d,zm:()=>p});var t=e(3009309149),s=e(3385422400),o=e(2047021170),n=e(8262898118),c=e(28129577),i=e(337319621);const r=(0,t.Ay)(D=>{var y;return D==null||(y=D.siwsDomains)===null||y===void 0?void 0:y.domainsCollection});r.meta={name:"createSelector",key:"createSelectorgetDomains",description:D=>{var y;return D==null||(y=D.siwsDomains)===null||y===void 0?void 0:y.domainsCollection}};const a=(0,t.Ay)(D=>{var y;return D==null||(y=D.connectedApps)===null||y===void 0?void 0:y.loading});a.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:D=>{var y;return D==null||(y=D.connectedApps)===null||y===void 0?void 0:y.loading}};const l=_(D=>{const y=(0,o.ty)(D,"identity_links_prefs");if(y)try{return JSON.parse(y)}catch{return(0,i.Ay)({state:D}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),d=(0,s.Mz)(l,Object.keys),u=(0,t.Ay)(D=>{var y;return D==null||(y=D.connectedApps)===null||y===void 0?void 0:y.apps});u.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:D=>{var y;return D==null||(y=D.connectedApps)===null||y===void 0?void 0:y.apps}};const f=(0,s.Mz)(d,u,(D,y)=>D.filter(P=>!y[P])),m=(0,s.Mz)(l,u,n.pf,function(D,y){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(D).map(S=>y[S]?{...y[S].profile||{},...(0,c.XK)(D[S])||{},domain:P[S]||{}}:null).filter(S=>Boolean(S))}),h=(0,s.Mz)(m,D=>D.filter(y=>y==null?void 0:y.completedTransfer).sort((y,P)=>P.dateCompletedTransfer-y.dateCompletedTransfer)),v=(0,s.Mz)(m,D=>D.filter(y=>y==null?void 0:y.dateDisconnected).sort((y,P)=>P.dateDisconnected-y.dateDisconnected)),p=(0,s.Mz)(m,D=>D.filter(y=>(y==null?void 0:y.numSkipped)&&!(y!=null&&y.completedTransfer)).sort((y,P)=>P.dateLastSkipped-y.dateLastSkipped)),T=_(D=>{const y=(0,o.ty)(D,"identity_links_global_prefs");if(y)try{return(0,c.XK)(JSON.parse(y))}catch{return(0,i.Ay)({state:D}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),A=(0,s.Mz)(T,D=>D==null?void 0:D.dateDisabled),C=(0,s.Mz)(A,D=>!D),I=(0,t.Ay)(D=>{var y;return D==null||(y=D.connectedApps)===null||y===void 0?void 0:y.error});I.meta={name:"createSelector",key:"createSelectorselectError",description:D=>{var y;return D==null||(y=D.connectedApps)===null||y===void 0?void 0:y.error}}},6168781067:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9139930183),s=e(2456103428);const o={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},c=(0,t.Ay)({},o,{storeKey:"connectivity",persistenceEnabled:!1}).on(s.pm,(i,r)=>({...i,serviceOnline:!!r})).on(s.Uj,i=>i===o?{...i,lastSocketActivity:Date.now()}:(i.lastSocketActivity=Date.now(),i)).on(s.p9,(i,r)=>({...i,clientOnline:!!r,lastClientConnection:Date.now()})).on(s.hM,i=>({...i,lastSocketConnection:Date.now()}))},1314103953:(N,g,e)=>{"use strict";e.d(g,{b:()=>o,k:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set a value that represents whether we are currently in the boot phase");s.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const o=(0,t.Ay)("Set a value that represents whether we are currently performing a warm boot");o.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},9469211187:(N,g,e)=>{"use strict";e.d(g,{d:()=>o,f:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Remove prefs for a given channel");s.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const o=(0,t.Ay)("Set channel prefs associated with a given channel");o.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},7914670207:(N,g,e)=>{"use strict";e.d(g,{Dq:()=>f,YO:()=>m,im:()=>v});var t=e(3398586081),s=e(1545824888),o=e(6639221719),n=e(8352634987),c=e(2028988448),i=e(6304789565),r=e(6533394955),a=e(9469211187),l=e(8081461848);const d=(0,i.Ay)("Fetch and upsert channel list prefs",async(T,A,C)=>{let{channelId:I,teamId:D}=C;const y=await T((0,o.U)({channel:I,reason:"client_redux_store"})),{prefs:P}=y;T((0,a.d)({channelId:I,prefs:P})),h(D,I)});d.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const u=(0,t.A)(()=>new n.Ay({storeKey:l.U,fetch:(T,A)=>s.S.map(A,C=>(0,r.Qw)(T,d({channelId:C,teamId:T}))),isEnabled:()=>!0,metricsName:l.U})),f=_((T,A)=>u().markObjectsAsStale(T,[A]),"markConversationsListPrefsAsStale"),m=_((T,A)=>u().markObjectsAsStale(T,A),"markConversationsListPrefsAsStaleForMultipleChannels"),h=_((T,A)=>u().markObjectsAsFresh(T,[A]),"markConversationsListPrefsAsFresh"),v=_((T,A)=>u().maybeRefetch(T,A),"maybeRefetchConversationsListPrefs"),p={fetchAndUpsertConversationsListPrefs:d};(0,c.zv)("conditionalFetchManagerConversationsListPrefs",u)},8081461848:(N,g,e)=>{"use strict";e.d(g,{A:()=>i,U:()=>o});var t=e(9139930183),s=e(9469211187);const o="conversationsListPrefs",n={},i=(0,t.Ay)({},n,{storeKey:o,persistenceEnabled:!0}).on(s.f,(r,a)=>{let{channelId:l}=a;if(!l||!r[l])return r;const d={...r};return delete d[l],d}).on(s.d,(r,a)=>{let{channelId:l,prefs:d}=a;return l?{...r,[l]:d}:r})},2527994834:(N,g,e)=>{"use strict";e.d(g,{Q:()=>i});var t=e(3385422400),s=e(8040098042),o=e(8847766420),n=e(7914670207);const c=_((r,a)=>{var l;const d=(0,o.ZT)(r);if(!d||!(0,s.A)(a))return null;(0,n.im)(d,a);var u;return(u=r==null||(l=r.conversationsListPrefs)===null||l===void 0?void 0:l[a])!==null&&u!==void 0?u:null},"getConversationsListPrefsByChannelId"),i=(0,t.Mz)((r,a,l)=>c(r,l),(r,a)=>a,(r,a)=>r==null?void 0:r[a])},330221449:(N,g,e)=>{"use strict";e.d(g,{Ot:()=>o,S9:()=>c,X8:()=>s,d$:()=>r,d1:()=>a,en:()=>i,gx:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Adds the new set of custom emoji to the existing store");s.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const o=(0,t.Ay)("Resets the array of custom emoji in the store");o.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const n=(0,t.Ay)("Removes the specified custom emoji from the store");n.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const c=(0,t.Ay)("Renames a disabled custom emoji");c.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const i=(0,t.Ay)("Set the loading status for the API request when a new page is loading");i.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const r=(0,t.Ay)("Set the loading status for the API request when a user searches for emojis");r.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const a=(0,t.Ay)("Set the current sort category and direction for the table");a.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},1484767411:(N,g,e)=>{"use strict";e.d(g,{o:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Record that a message was deleted");s.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},6739248722:(N,g,e)=>{"use strict";e.d(g,{k:()=>s});var t=e(3009309149);const s=(0,t.Ay)((o,n)=>{let{channelId:c,ts:i}=n;return o&&o.deletedMessages&&o.deletedMessages[c]&&!!o.deletedMessages[c][i]});s.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(o,n)=>{let{channelId:c,ts:i}=n;return o&&o.deletedMessages&&o.deletedMessages[c]&&!!o.deletedMessages[c][i]}}},1378315125:(N,g,e)=>{"use strict";e.d(g,{$3:()=>a,Bt:()=>i,Ez:()=>o,LS:()=>d,Mk:()=>n,NN:()=>f,XF:()=>c,Y$:()=>m,Yv:()=>s,_F:()=>l,jC:()=>u,n9:()=>h,oR:()=>p,um:()=>v,yz:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Sets the highlight property of a download");s.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const o=(0,t.Ay)("An update of the desktop state from the desktop app");o.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const n=(0,t.Ay)("An update of the window frame state");n.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const c=(0,t.Ay)("Starts a download on the desktop app");c.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const i=(0,t.Ay)("Pauses a download on the desktop app");i.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const r=(0,t.Ay)("Resumes a download on the desktop app");r.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const a=(0,t.Ay)("Cancels a download on the desktop app");a.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const l=(0,t.Ay)("Clears all stopped downloads for the active team");l.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const d=(0,t.Ay)("Removes a download on the desktop app");d.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const u=(0,t.Ay)("Retries a download on the desktop app");u.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const f=(0,t.Ay)("Opens a file downloaded by the desktop app");f.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const m=(0,t.Ay)("Shows the folder that contains the downloaded file");m.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const h=(0,t.Ay)("Toggles the performance monitor");h.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const v=(0,t.Ay)("Sets the currently active team in the SSB");v.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const p=(0,t.Ay)("Update canvas system text settings in the SSB");p.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},7902571278:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(9139930183),s=e(4103274853),o=e(3571452446),n=e(2003990933),c=e(7715417323),i=e(9323322135),r=e(1378315125);const a=_((m,h)=>(0,s.A)(m,(v,p)=>(0,s.A)(v,(T,A)=>h(p,A,T))),"mapDownloads"),l=_(m=>({...{app:{},environment:{},settings:{},...(0,o.A)(m,["app","settings","environment"]),windows:(0,s.A)((m==null?void 0:m.windows)||{},v=>({frame:(0,o.A)(v.frame,["isFullScreen","isFocused","isVisible","hasVibrancy","isCurrentlyAudible"])})),downloads:a((m==null?void 0:m.downloads)||{},(v,p,T)=>({...T,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:(0,n.A)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),d=(0,i.g9M)()?l((0,n.A)(window,"desktop.redux.getState",c.A)()):null,f=(0,t.Ay)({},d,{storeKey:"desktop",persistenceEnabled:!1}).on(r.Ez,(m,h)=>{const v=h.downloads?a(h.downloads,(p,T,A)=>({...A,highlight:(0,n.A)(m.downloads,[p,T,"highlight"],!1)})):m.downloads;return{...m,...h,downloads:v}}).on(r.Mk,(m,h)=>{let{windowId:v,property:p,value:T}=h;var A,C,I;return{...m,windows:{...m.windows,[v]:{...((A=m.windows)===null||A===void 0?void 0:A[v])||{},frame:{...((C=m.windows)===null||C===void 0||(I=C[v])===null||I===void 0?void 0:I.frame)||{},[p]:T}}}}}).on(r.Yv,(m,h)=>{let{fileId:v,teamId:p,highlight:T}=h;return(0,n.A)(m.downloads,[p,v])?{...m,downloads:{...m.downloads,[p]:{...m.downloads[p],[v]:{...m.downloads[p][v],highlight:T}}}}:m}).on(r.n9,m=>({...m,debug:{...m.debug,isPerformanceMonitorEnabled:!m.debug.isPerformanceMonitorEnabled}})).on(r.um,(m,h)=>h?{...m,activeTeamId:h}:m)},7600673124:(N,g,e)=>{"use strict";e.d(g,{y:()=>s});var t=e(5818203962);const s=_((o,n)=>(0,t.I$)(o,n),"getIsMemberDisconnectedById")},1844213939:(N,g,e)=>{"use strict";e.d(g,{z:()=>i});var t=e(8170643398),s=e(5765052177),o=e(2384831516),n=e(1809170903),c=e(8276911661);const i=(0,o.Mz)((r,a)=>{if(!a)return!1;const l=(0,c.nv)(r,a);return!l||(0,t.zU)(l)||(0,s.C)(l)?!1:!!(0,n.Vd)(r,a)});i.meta={name:"createSelector",key:"createSelectorshouldShowDndByMemberId",description:(r,a)=>{if(!a)return!1;const l=(0,c.nv)(r,a);return!l||(0,t.zU)(l)||(0,s.C)(l)?!1:!!(0,n.Vd)(r,a)}}},5005457582:(N,g,e)=>{"use strict";e.d(g,{D8:()=>c,QR:()=>i,cg:()=>a,y0:()=>d,Di:()=>u,Rg:()=>l});var t=e(3458206977),s=e(3009309149),o=e(7982171047),n=e(9392104102);const c={CANT_UNFURL:"cant_unfurl",COMPLETE:"complete",ERROR:"error",FETCHING:"fetching",REMOVED:"removed"},i=(0,s.Ay)((f,m)=>{var h;return f==null||(h=f.draftContactUnfurls)===null||h===void 0?void 0:h[m]});i.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlEntriesForDraft",description:(f,m)=>{var h;return f==null||(h=f.draftContactUnfurls)===null||h===void 0?void 0:h[m]}};const r=(0,s.Ay)(function(f){let{draftId:m,contactUserId:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!m||!h)return null;const v=i(f,m);return v?v[h]:null});r.meta={name:"createSelector",key:"createSelectorgetContactUnfurlEntryForDraft",description:function(f){let{draftId:m,contactUserId:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!m||!h)return null;const v=i(f,m);return v?v[h]:null}};const a=(0,s.Ay)((f,m)=>{const h=i(f,m);return h?Object.keys(h):[]});a.meta={name:"createSelector",key:"createSelectorgetAllContactUnfurlIdsForDraft",description:(f,m)=>{const h=i(f,m);return h?Object.keys(h):[]}};const l=(0,s.Ay)((f,m)=>{let h=[];if(!m)return h;const v=i(f,m);return v&&(h=(0,t.A)(v,(p,T,A)=>{T&&T.status===c.REMOVED&&p.push(A)},[])),h});l.meta={name:"createSelector",key:"createSelectorgetRemovedContactUnfurlIdsForDraft",description:(f,m)=>{let h=[];if(!m)return h;const v=i(f,m);return v&&(h=(0,t.A)(v,(p,T,A)=>{T&&T.status===c.REMOVED&&p.push(A)},[])),h}};const d=(0,s.Ay)((f,m)=>{let h=[];if(!m)return h;const v=i(f,m);return v&&(h=(0,t.A)(v,(p,T,A)=>{T&&T.status===c.COMPLETE&&p.push(A)},[])),h});d.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlIdsForDraft",description:(f,m)=>{let h=[];if(!m)return h;const v=i(f,m);return v&&(h=(0,t.A)(v,(p,T,A)=>{T&&T.status===c.COMPLETE&&p.push(A)},[])),h}};const u=(0,s.Ay)((f,m)=>{if(!(0,o.Cq)(f)||!m)return n.Ml;const h=i(f,m);if(!h)return n.Ml;const v=(0,t.A)(h,(p,T)=>{T&&T.status===c.COMPLETE&&p.push(T.data)},[]);return v.length?v:n.Ml});u.meta={name:"createSelector",key:"createSelectorgetCompleteContactUnfurlsForDraft",description:(f,m)=>{if(!(0,o.Cq)(f)||!m)return n.Ml;const h=i(f,m);if(!h)return n.Ml;const v=(0,t.A)(h,(p,T)=>{T&&T.status===c.COMPLETE&&p.push(T.data)},[]);return v.length?v:n.Ml}}},5780637120:(N,g,e)=>{"use strict";e.d(g,{G:()=>n});var t=e(7982171047),s=e(6304789565),o=e(5005457582);const n=(0,s.Ay)("Gets contacts to unfurl and formats them as message attachments",function(c,i){let{draftId:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=i();if(!(0,t.Cq)(a))return[];if(!r)return[];const l=(0,o.y0)(a,r);if(!(l!=null&&l.length))return[];const d=l.map(u=>({contact_user_id:u}));return d!=null&&d.length?d:[]});n.meta={name:"createThunk",key:"createThunkgetContactUnfurlsForMessageSend",description:"Gets contacts to unfurl and formats them as message attachments"}},358675944:(N,g,e)=>{"use strict";e.d(g,{GD:()=>i,Wz:()=>n,Xq:()=>a,dz:()=>o,ff:()=>r,ht:()=>s,r1:()=>l,v$:()=>t,yR:()=>c});const t="fetching",s="preview_pending",o="user_auth_required",n="complete",c="stale",i="no_attachment",r="error",a="removed",l=5},4686051014:(N,g,e)=>{"use strict";e.d(g,{E_:()=>M,uh:()=>E,EP:()=>D,at:()=>W,nz:()=>S,PC:()=>y,Ki:()=>k,Zv:()=>R,y3:()=>O,CN:()=>x});var t=e(3009309149),s=e(9392104102),o=e(358675944),n=e(4761125736),c=e(717227853),i=e(3458206977),r=e(9113979368),a=e(2047021170),l=e(9935649141),d=e(4711108074),u=e.n(d),f=e(3078252698),m=e(2774532222),h=e(235108050),v=e(1963643401),p=e(308057085);const A=_(L=>{if(!L||!L.length)return[];const b=[];return L.forEach(F=>{var B;if(!(0,p.Ay)(F))return;const K=F.insert,H=(B=F.attributes)===null||B===void 0?void 0:B.link;if(!(0,f.A)(K)||!(0,f.A)(H))return;const Y=(0,v.A)(K),Z=(0,v.A)(H);(0,m.A)(Z??void 0,"http://")&&Z.slice(7)===Y||(0,m.A)(Z??void 0,"https://")&&Z.slice(8)===Y||!((0,m.A)(Z??void 0,"http://")||(0,m.A)(Z??void 0,"https://")||(0,m.A)(Z??void 0,"spotify:"))||b.push(H)}),(0,h.A)(b)},"getUrlsInOpsToUnfurl");var C=e(7765212398),I=e(9268451279);const D=(0,t.Ay)((L,b)=>{var F;return L==null||(F=L.draftUnfurls)===null||F===void 0?void 0:F[b]});D.meta={name:"createSelector",key:"createSelectorgetAllUnfurlEntriesForDraft",description:(L,b)=>{var F;return L==null||(F=L.draftUnfurls)===null||F===void 0?void 0:F[b]}};const y=(0,t.Ay)(function(L){let{draftId:b,url:F}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!b||!F)return;const B=D(L,b);if(B)return B[F]});y.meta={name:"createSelector",key:"createSelectorgetUnfurlEntryForDraft",description:function(L){let{draftId:b,url:F}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!b||!F)return;const B=D(L,b);if(B)return B[F]}};const P=(0,t.Ay)((L,b)=>{const F=D(L,b);if(F)return Object.keys(F)});P.meta={name:"createSelector",key:"createSelectorgetAllUnfurlUrlsForDraft",description:(L,b)=>{const F=D(L,b);if(F)return Object.keys(F)}};const E=(0,t.Ay)((L,b)=>{const F=D(L,b);if(!F)return;const B=[];return Object.entries(F).forEach(K=>{let[H,Y]=K;Y.status!==o.yR&&B.push(H)}),B});E.meta={name:"createSelector",key:"createSelectorgetAllNonStaleUnfurlUrlsForDraft",description:(L,b)=>{const F=D(L,b);if(!F)return;const B=[];return Object.entries(F).forEach(K=>{let[H,Y]=K;Y.status!==o.yR&&B.push(H)}),B}};const M=(0,t.Ay)((L,b)=>{const F=D(L,b);if(!F)return;const B=[];return Object.entries(F).forEach(K=>{let[H,Y]=K;Y.status!==o.yR&&(0,c.a)(Y.data)&&B.push(H)}),B});M.meta={name:"createSelector",key:"createSelectorgetAllNonStaleRemoteFileUnfurlUrlsForDraft",description:(L,b)=>{const F=D(L,b);if(!F)return;const B=[];return Object.entries(F).forEach(K=>{let[H,Y]=K;Y.status!==o.yR&&(0,c.a)(Y.data)&&B.push(H)}),B}};const S=(0,t.Ay)((L,b)=>{if(!b)return;const F=D(L,b);if(F)return(0,i.A)(F,(B,K,H)=>{K&&K.status===o.Xq&&B.push(H)},[])});S.meta={name:"createSelector",key:"createSelectorgetRemovedUnfurlUrlsForDraft",description:(L,b)=>{if(!b)return;const F=D(L,b);if(F)return(0,i.A)(F,(B,K,H)=>{K&&K.status===o.Xq&&B.push(H)},[])}};const R=(0,t.Ay)((L,b)=>{let{ops:F}=b;if(!F||(0,r.A)(F))return s.Ml;const B=(0,a.ty)(L,"plain_text_mode");let K=F;if(B){const H=(0,l.Ay)(new(u())(F.slice()))||{};K=H&&H.ops}return A(K)});R.meta={name:"createSelector",key:"createSelectorgetUrlsInOpsToUnfurl",description:(L,b)=>{let{ops:F}=b;if(!F||(0,r.A)(F))return s.Ml;const B=(0,a.ty)(L,"plain_text_mode");let K=F;if(B){const H=(0,l.Ay)(new(u())(F.slice()))||{};K=H&&H.ops}return A(K)}};const k=(0,t.Ay)((L,b,F)=>{if(!b)return;const B=(0,C.YI)(L,b);var K;const H=(K=(0,I._l)(B))!==null&&K!==void 0?K:[],Y=R(L,{ops:H});if(!Y||(0,r.A)(Y))return;const Z=Y.map(V=>y(L,{draftId:b,url:V})).filter(V=>V&&F.includes(V.status)).map(V=>V==null?void 0:V.data);if(!(!Z||(0,r.A)(Z)))return Z});k.meta={name:"createSelector",key:"createSelectorgetUnfurlsInDraftOpsWithStatuses",description:(L,b,F)=>{if(!b)return;const B=(0,C.YI)(L,b);var K;const H=(K=(0,I._l)(B))!==null&&K!==void 0?K:[],Y=R(L,{ops:H});if(!Y||(0,r.A)(Y))return;const Z=Y.map(V=>y(L,{draftId:b,url:V})).filter(V=>V&&F.includes(V.status)).map(V=>V==null?void 0:V.data);if(!(!Z||(0,r.A)(Z)))return Z}};const O=(0,t.Ay)((L,b)=>k(L,b,[o.dz]));O.meta={name:"createSelector",key:"createSelectorgetUserAuthRequiredUnfurlsInDraftOps",description:(L,b)=>k(L,b,[o.dz])};const U=(0,t.Ay)((L,b)=>k(L,b,[o.Wz]));U.meta={name:"createSelector",key:"createSelectorgetCompleteUnfurlsInDraftOps",description:(L,b)=>k(L,b,[o.Wz])};const W=(0,t.Ay)((L,b)=>{const F=[o.Wz];return(0,n._Z)(L,"magic_unfurls")==="treatment"&&F.push(o.yR),(0,n._Z)(L,"composer_auth")==="treatment"&&F.push(o.dz),k(L,b,F)});W.meta={name:"createSelector",key:"createSelectorgetDisplayableUnfurlsInDraftOps",description:(L,b)=>{const F=[o.Wz];return(0,n._Z)(L,"magic_unfurls")==="treatment"&&F.push(o.yR),(0,n._Z)(L,"composer_auth")==="treatment"&&F.push(o.dz),k(L,b,F)}};const x=(0,t.Ay)((L,b)=>{const F=(0,C.YI)(L,b),B=(0,I._l)(F)||[],K=R(L,{ops:B});return(K==null?void 0:K.length)>o.r1});x.meta={name:"createSelector",key:"createSelectorhasReachedUnfurlLimit",description:(L,b)=>{const F=(0,C.YI)(L,b),B=(0,I._l)(F)||[],K=R(L,{ops:B});return(K==null?void 0:K.length)>o.r1}}},1234667274:(N,g,e)=>{"use strict";e.d(g,{a:()=>o});var t=e(6304789565),s=e(5347038960);const o=(0,t.Ay)("Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints",(n,c,i)=>{let{draftId:r,ops:a}=i;const l=n((0,s.f)({draftId:r,ops:a}));if(!l)return;let d;try{l.length&&(d=JSON.stringify(l))}catch{d=void 0}return d});o.meta={name:"createThunk",key:"createThunkgetCompleteUnfurlsInDraftOpsForDraftSync",description:"Creates JSON string of URLs used to submit unfurl data to draft syncing endpoints"}},5347038960:(N,g,e)=>{"use strict";e.d(g,{f:()=>i});var t=e(6304789565),s=e(4686051014),o=e(9113979368),n=e(5980399196),c=e(8840779375);const i=(0,t.Ay)("Gets URLs to unfurl from ops for message sending APIs",function(r,a){let{draftId:l,ops:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=a();if(!l||!d)return;const f=(0,s.Zv)(u,{ops:d});if(!f||(0,o.A)(f))return[];const m=(0,s.nz)(u,l),h=(0,n.A)(f,m??[]);return(0,c.A)(h,p=>({url:p}))});i.meta={name:"createThunk",key:"createThunkgetDraftUnfurlsForMessageSend",description:"Gets URLs to unfurl from ops for message sending APIs"}},5522343655:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(1545824888),s=e(3134334389),o=e(2664504268),n=e(337319621),c=e(1212709343),i=e(6304789565),r=e(1944827014),a=e(5060694341),l=e(6471059816),d=e(5733135148);const u=new l.Ay("drafts");function f(){return s.createElement(d.Ay,null,u.t("You\u2019ve reached the maximum number of drafts allowed"))}_(f,"DraftLimitToast"),f.displayName="DraftLimitToast";const m=(0,i.Ay)("Create a new composer draft",function(v,p){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=p();if((0,c.A)(A))return v((0,a.M)({element:s.createElement(f)})),(0,n.Ay)({state:A,label:"DRAFTS"}).info("Failed to create composer draft (max_num_drafts)"),t.S.reject(new Error("max_num_drafts"));const C=T.client_draft_id||(0,o.A)(),I={client_draft_id:C,is_from_composer:!0,...T};return v((0,r.i)({draft:I,reason:"createComposerDraft",sync:!1})),t.S.resolve(C)});m.meta={name:"createThunk",key:"createThunkcreateComposerDraft",description:"Create a new composer draft"};const h=m},9273427308:(N,g,e)=>{"use strict";e.d(g,{m:()=>h});var t=e(9113979368),s=e(6304789565),o=e(1545824888),n=e(337319621),c=e(6532287396),i=e(2567328269),r=e(9268451279),a=e(9256397769),l=e(6728717861),d=e(1161020392),u=e(1100145935),f=e(7765212398);const m=(0,s.Ay)("Creates a synced draft",function(p,T){let{draftId:A,reason:C,handleExistingAttachedDraft:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!A)return o.S.reject(new Error("Cannot sync draft creation due to a missing draft id"));const{error:D,info:y}=(0,n.Ay)({getState:T,label:"DRAFTS"}),P=(0,f.YI)(T(),A);return P?(0,l.sc)(T())?(y(`Syncing a new draft - ${A}`),(0,i.VE)(A),p((0,a.c)({draft:P,reason:C})).then(E=>{if(y(`New draft synced - ${A}`),!(E!=null&&E.draft)){D(`No draft received from the drafts.create response ${A}`);return}const M=(0,f.YI)(T(),A);if((0,t.A)(M)){y(`Draft no longer exists locally, skipping post API updates - ${A}`);return}const S=parseFloat(E.draft.last_updated_ts);p((0,u.nz)({client_draft_id:A,id:E.draft.id,last_updated_ts:S}))}).catch(E=>{(E==null?void 0:E.name)==="attached_draft_exists"&&I?I(A,P):D(`The drafts.create call failed - ${A}`,E)}).finally(()=>{(0,i.jb)(A)})):(y(`Deferring create draft API while offline (id: ${A})`),p((0,d.iZ)({draftClientId:A})),o.S.resolve()):(y(`No need to sync changes for a draft that no longer exists locally - ${A}`),o.S.resolve())});m.meta={name:"createThunk",key:"createThunksyncDraftCreate",description:"Creates a synced draft"};const h=(0,s.Ay)("Creates a draft locally and via API",function(p,T){let{draft:A,reason:C,syncImmediately:I=!1,handleExistingAttachedDraft:D}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,t.A)(A))return;const{error:y}=(0,n.Ay)({getState:T,label:"DRAFTS"}),P=(0,r.ue)(A);if(!P){y("Draft does not have an ID - an ID is required to create a draft");return}const E=_(()=>{const M={draftId:P,reason:C};D&&(M.handleExistingAttachedDraft=D),p(m(M))},"sync");I?E():(0,c.I8)({draftId:P,sync:E})});h.meta={name:"createThunk",key:"createThunkcreateDraft",description:"Creates a draft locally and via API"};const v={syncDraftCreate:m}},1944827014:(N,g,e)=>{"use strict";e.d(g,{i:()=>D});var t=e(9113979368),s=e(6304789565),o=e(337319621),n=e(1100145935),c=e(7765212398),i=e(9273427308),r=e(4550534021),a=e(8086952004),l=e(166097325),d=e(2664504268),u=e(6874418585),f=e(4804521718),m=e(1938854790),h=e(9268451279),v=e(5969942984);const p=(0,s.Ay)("Recover from attached_draft_exists error",(y,P,E)=>{let{draft:M,draftId:S,syncImmediately:R,reason:k}=E;if((0,t.A)(M))return;const{error:O,info:U}=(0,o.Ay)({getState:P,label:"DRAFTS"});U(`The drafts.create call failed with attached_draft_exists - ${S} - attempting to recover by moving existing draft`),y((0,f.U)({reason:"attached_draft_exists:recovery",limit:100,isActive:!0})).then(W=>{const x=(W==null?void 0:W.drafts)||[],L=(0,a.A)(x,b=>{const F=(0,h.GP)(b);return F?(0,l.A)(F,(0,h.GP)(M)):!1});if(L){y((0,u.$)({draftId:(0,h.iS)(L),clientLastUpdatedTs:Date.now().toString(),reason:"attached_draft_exists:recovery"})).then(()=>{y((0,i.m)({draft:M,reason:k,syncImmediately:R}))});const{threadTs:b}=(0,h.GP)(L)||{};b||y((0,m.a)({blocks:JSON.stringify((0,h.lq)(L)),clientMsgId:(0,d.A)(),destinations:(0,h.l7)(L),fileIds:JSON.stringify((0,v.A)(L)||[]),isFromComposer:!0,attachments:JSON.stringify((0,h.aY)(L)),reason:"attached_draft_exists:recovery"}))}else O(`The drafts.create call failed due to attached_draft_exists and the existing draft could not be found - ${S}`)})});p.meta={name:"createThunk",key:"createThunkhandleExistingAttachedDraft",description:"Recover from attached_draft_exists error"};const T=p;var A=e(6934022494),C=e(3862871806),I=e(1189736859);const D=(0,s.Ay)("Stores and syncs draft changes",(y,P,E)=>{let{draft:M,reason:S,sync:R=!0,syncImmediately:k=!1,skipEqualityCheck:O=!1}=E;const U=P(),W=(0,h.ue)(M),x=(0,A.BH)(U)&&(0,A.bc)(U,{draftId:W}),L=(0,I.e)(U)&&(0,C.ck)(U,{draftId:W});if((0,t.A)(M)&&!x&&!L)return;const{error:b,info:F}=(0,o.Ay)({getState:P,label:"DRAFTS"});if(!W){b("Draft does not have an id - an id is required to create or update a draft");return}let B=(0,c.YI)(P(),W);if(!B&&(0,h.sC)(M)){const H=(0,h.EF)(M);H&&(B=(0,c.V4)(P(),H))}const K={...B,...M};if(!(!O&&(0,h.CV)(K,B))&&(F(`Storing draft changes locally - ${W}`),y((0,n.nz)({...K,last_updated:Date.now(),skipEqualityCheck:O})),R)){const H=(0,c.YI)(P(),W),Y=(0,h.iS)(H);y(Y?(0,r.j)({draft:H,reason:S,syncImmediately:k}):(0,i.m)({draft:H,reason:S,syncImmediately:k,handleExistingAttachedDraft:(Z,V)=>y(T({draftId:Z,draft:V,syncImmediately:k,reason:S}))}))}});D.meta={name:"createThunk",key:"createThunksetDraft",description:"Stores and syncs draft changes"}},4550534021:(N,g,e)=>{"use strict";e.d(g,{j:()=>h});var t=e(9113979368),s=e(6304789565),o=e(1545824888),n=e(337319621),c=e(1100145935),i=e(7765212398),r=e(6532287396),a=e(2567328269),l=e(9268451279),d=e(6728717861),u=e(1161020392),f=e(8466415572);const m=(0,s.Ay)("Syncs draft updates",function(p,T){let{draftId:A,reason:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!A)return o.S.reject(void 0);const{error:I,info:D}=(0,n.Ay)({getState:T,label:"DRAFTS"}),y=(0,i.YI)(T(),A);if(!y||(0,t.A)(y))return D(`No need to sync changes for a draft that no longer exists locally - ${A}`),o.S.resolve();if(!(0,d.sc)(T()))return D(`Deferring update draft API while offline (id: ${A})`),p((0,u.NJ)({draftClientId:A})),o.S.resolve();const P=(0,l.iS)(y),E=`client id: ${A} || server id: ${P}`;return D(`Syncing draft updates - ${E}`),(0,a.VE)(P),p((0,f.J)({draft:y,reason:C})).then(M=>{if(D(`Draft updates synced \u2705 - ${E}`),!M.draft){I(`No draft received from the drafts.update response - ${E}`);return}const S=(0,i.YI)(T(),A);if((0,t.A)(S)){D(`Draft no longer exists locally, skipping post API updates - ${E}`);return}p((0,c.nz)({client_draft_id:A,last_updated_ts:parseFloat(M.draft.last_updated_ts)}))}).catch(M=>{I(`Draft updates failed to sync - ${E}`,M)}).finally(()=>{(0,a.jb)(P)})});m.meta={name:"createThunk",key:"createThunksyncDraftUpdates",description:"Syncs draft updates"};const h=(0,s.Ay)("Updates a draft locally and via API",function(p,T){let{draft:A,reason:C,syncImmediately:I=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,t.A)(A))return;const{error:D}=(0,n.Ay)({getState:T,label:"DRAFTS"}),y=(0,l.ue)(A);if(!y){D("Draft does not have an ID - an ID is required to update a draft");return}const P=_(()=>p(m({draftId:y,reason:C})),"sync");I?P():(0,r.I8)({draftId:y,sync:P})});h.meta={name:"createThunk",key:"createThunkupdateDraft",description:"Updates a draft locally and via API"};const v={syncDraftUpdates:m}},2567328269:(N,g,e)=>{"use strict";e.d(g,{VE:()=>r,eh:()=>i,jb:()=>a});var t=e(7174777686),s=e(8403493408),o=e(337319621);const n="DRAFTS",c=[],i=_(d=>(0,t.A)(c,d),"shouldIgnoreDraftUpdateEvent");function r(d){if(!d||(0,t.A)(c,d))return;const{debug:u}=(0,o.Wo)({label:n});u(`Adding an id to the draft update event manager: ${d}`),c.push(d)}_(r,"addServerIdToUpdateEventManager");function a(d){if(!d||!(0,t.A)(c,d))return;const{debug:u}=(0,o.Wo)({label:n});u(`Removing an id from the draft update event manager: ${d}`),(0,s.A)(c,d)}_(a,"removeServerIdFromUpdateEventManager");const l={getTrackedIds:()=>c}},4318855015:(N,g,e)=>{"use strict";e.d(g,{$x:()=>c,H9:()=>s,at:()=>r,j_:()=>l,jy:()=>a,o2:()=>n,qw:()=>o,su:()=>i});var t=e(2140362605);const s=(0,t.Ay)("Mark emoji collections as fetch (or not fetched");s.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const o=(0,t.Ay)("Set and replace emoji collections");o.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const n=(0,t.Ay)("Signals that an emoji collection has been installed");n.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const c=(0,t.Ay)("Signals that an emoji collection has been uninstalled");c.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const i=(0,t.Ay)("Signals that badges should be added post-install");i.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const r=(0,t.Ay)("Signals that the message input badge should be removed");r.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const a=(0,t.Ay)("Signals that the message tab badge should be removed from the emoji picker");a.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const l=(0,t.Ay)("Increments emoji click count");l.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},3004085654:(N,g,e)=>{"use strict";e.d(g,{Cs:()=>f,Ur:()=>p,_J:()=>T,_o:()=>h,fl:()=>A,nQ:()=>m,pG:()=>v,uI:()=>u});var t=e(2101927269),s=e(9113979368),o=e(2141441167),n=e(2048121586),c=e(6696292586),i=e(3009309149),r=e(3385422400),a=e(2047021170);const l=60*60*24*14,d=(0,i.Ay)((C,I)=>C&&C.emojiCollections&&C.emojiCollections.collections&&C.emojiCollections.collections[I]);d.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(C,I)=>C&&C.emojiCollections&&C.emojiCollections.collections&&C.emojiCollections.collections[I]};const u=(0,i.Ay)(C=>C&&C.emojiCollections&&C.emojiCollections.collections);u.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:C=>C&&C.emojiCollections&&C.emojiCollections.collections};const f=(0,r.Mz)(u,C=>(0,t.A)(C,I=>I.installed)),m=(0,i.Ay)(C=>C&&C.emojiCollections&&C.emojiCollections.hasFetched);m.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:C=>C&&C.emojiCollections&&C.emojiCollections.hasFetched};const h=(0,i.Ay)(C=>C&&C.emojiCollections&&C.emojiCollections.inputBadge);h.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:C=>C&&C.emojiCollections&&C.emojiCollections.inputBadge};const v=(0,i.Ay)(C=>C&&C.emojiCollections&&C.emojiCollections.tabBadge);v.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:C=>C&&C.emojiCollections&&C.emojiCollections.tabBadge};const p=(0,i.Ay)(C=>C&&C.emojiCollections&&C.emojiCollections.emojiClickCount);p.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:C=>C&&C.emojiCollections&&C.emojiCollections.emojiClickCount};const T=(0,i.Ay)(C=>{const I=u(C);if((0,s.A)(I))return null;const D=(0,o.A)(I);return(0,n.A)(D,y=>y.date_create)});T.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:C=>{const I=u(C);if((0,s.A)(I))return null;const D=(0,o.A)(I);return(0,n.A)(D,y=>y.date_create)}};const A=(0,i.Ay)(C=>{const I=(0,a.ty)(C,"emoji_packs_most_recent_available_time");if(!(0,c.A)(I))return!1;const D=I+l;return Date.now()/1e3<D});A.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:C=>{const I=(0,a.ty)(C,"emoji_packs_most_recent_available_time");if(!(0,c.A)(I))return!1;const D=I+l;return Date.now()/1e3<D}}},7564917982:(N,g,e)=>{"use strict";e.d(g,{H:()=>m});var t=e(7156798807),s=e(6304789565),o=e(1194535350),n=e(2878685908),c=e(3004085654),i=e(4318855015),r=e(2048121586),a=e(2047021170),l=e(5510392579),d=e(387484329);const u=(0,s.Ay)("handle updating prefs if new emoji pack has become available",(h,v,p)=>{let{collections:T}=p;const A=v(),C=(0,l.h3)(A),I=(0,a.ty)(A,"emoji_packs_most_recent_available_time")||0,D=(0,r.A)(T,M=>M.date_create),{date_create:y,installed:P}=D||{};(C||P)&&y>I&&h((0,d.Hj)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});u.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};const f=u,m=(0,s.Ay)("Process and add emoji collections",(h,v,p)=>{let{reason:T}=p;const A=v();(0,c.nQ)(A)||(h((0,i.H9)({hasFetched:!0})),h((0,o.KO)({reason:T})).then(C=>{const I=C.installed||[],D=C.available||[],y=(0,t.A)(I,"id"),P=D.map(E=>({...E,installed:!!y[E.id],localEmoji:y[E.id]?y[E.id].emoji:E.emoji}));h(f({collections:P})),(0,n.Cu)()?h((0,i.qw)({collections:P.filter(E=>!["1044122771874","11"].includes(E.id))})):h((0,i.qw)({collections:P}))}).catch(()=>{h((0,i.H9)({hasFetched:!1}))}))});m.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"}},7929066846:(N,g,e)=>{"use strict";e.d(g,{D:()=>n});var t=e(8847766420),s=e(6304789565),o=e(3829348308);const n=(0,s.Ay)("Checks and returns whether an emoji exists for a given team ID",(c,i,r)=>{const a=i(),l=(0,t.ZT)(a);return(0,o.ux)(a,{text:r,teamId:l})});n.meta={name:"createThunk",key:"createThunkdoesEmojiExist",description:"Checks and returns whether an emoji exists for a given team ID"}},1890276164:(N,g,e)=>{"use strict";e.d(g,{R:()=>s,t:()=>n});var t=e(3009309149);const s=(0,t.Ay)((i,r)=>{var a;return!!(!((a=i.externalTeamIds)===null||a===void 0)&&a[r])});s.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(i,r)=>{var a;return!!(!((a=i.externalTeamIds)===null||a===void 0)&&a[r])}};var o;const n=(0,t.Ay)(i=>!!Object.keys((o=i.externalTeamIds)!==null&&o!==void 0?o:{}).length);var c;n.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:i=>!!Object.keys((c=i.externalTeamIds)!==null&&c!==void 0?c:{}).length}},9296711617:(N,g,e)=>{"use strict";e.d(g,{Oq:()=>o,ZB:()=>s,eh:()=>c});var t=e(3009309149);const s=(0,t.Ay)((i,r,a)=>{var l,d,u;return i==null||(l=i.filePermissions)===null||l===void 0||(d=l.draftPermissions)===null||d===void 0||(u=d[r])===null||u===void 0?void 0:u[a]});s.meta={name:"createSelector",key:"createSelectorgetSelectedFilePermission",description:(i,r,a)=>{var l,d,u;return i==null||(l=i.filePermissions)===null||l===void 0||(d=l.draftPermissions)===null||d===void 0||(u=d[r])===null||u===void 0?void 0:u[a]}};const o=(0,t.Ay)((i,r)=>{var a,l;return i==null||(a=i.filePermissions)===null||a===void 0||(l=a.draftPermissions)===null||l===void 0?void 0:l[r]});o.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissionsByDraftId",description:(i,r)=>{var a,l;return i==null||(a=i.filePermissions)===null||a===void 0||(l=a.draftPermissions)===null||l===void 0?void 0:l[r]}};const n=(0,t.Ay)(i=>i==null?void 0:i.filePermissions);n.meta={name:"createSelector",key:"createSelectorgetAllSelectedFilePermissions",description:i=>i==null?void 0:i.filePermissions};const c=(0,t.Ay)((i,r)=>{var a;return(i==null||(a=i.filePermissions)===null||a===void 0?void 0:a.messageTs)===r});c.meta={name:"createSelector",key:"createSelectorgetMessageTsForPermissionRequest",description:(i,r)=>{var a;return(i==null||(a=i.filePermissions)===null||a===void 0?void 0:a.messageTs)===r}}},8636946118:(N,g,e)=>{"use strict";e.d(g,{j:()=>o});var t=e(6304789565),s=e(9296711617);const o=(0,t.Ay)("Get file permissions from draft file-permissions-store for message sending APIs",function(n,c){let{draftId:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=c();return Object.values((0,s.Oq)(r,i)||{}).map(d=>({grant:d.grant,file_id:d.fileId}))});o.meta={name:"createThunk",key:"createThunkgetFilePermissionsForMessageSend",description:"Get file permissions from draft file-permissions-store for message sending APIs"}},5975971606:(N,g,e)=>{"use strict";e.d(g,{f:()=>o});var t=e(6304789565),s=e(8636946118);const o=(0,t.Ay)("Creates JSON string of file permissions data submit to draft syncing endpoints",function(n,c){let{draftId:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=n((0,s.j)({draftId:i}));if(!r)return;let a;try{r.length&&(a=JSON.stringify(r))}catch{a=void 0}return a});o.meta={name:"createThunk",key:"createThunkgetFormattedFilePermissions",description:"Creates JSON string of file permissions data submit to draft syncing endpoints"}},6403218297:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(8086952004),s=e(3571452446),o=e(6217320234),n=e(6626377467);function c(i,r){if(!i||!r)return r;const a=r.comments||[],l=(0,t.A)(a,p=>p.id===i.id),d=(0,s.A)(l,["is_starred","_rxn_key"]),u={...l,...i,...d},f=(0,o.A)((0,n.A)([u,...a],"id"),"timestamp"),h=r.initial_comment&&i.id===r.initial_comment.id?u:r.initial_comment,v={...r,comments:f};return h&&(v.initial_comment=h),v}_(c,"addCommentToFile")},9553287e3:(N,g,e)=>{"use strict";e.d(g,{n:()=>n});var t=e(6304789565),s=e(2384831516);const o=(0,s.Mz)(c=>c.fullscreenHistory);o.meta={name:"createSelector",key:"createSelectorgetFullscreenHistory",description:c=>c.fullscreenHistory};const n=(0,t.Ay)("Find view container for a specific window history entry",(c,i,r)=>{let{id:a}=r;return o(i())[a]});n.meta={name:"createThunk",key:"createThunkgetFullscreenContainerByHistoryId",description:"Find view container for a specific window history entry"}},56562029:(N,g,e)=>{"use strict";e.d(g,{G:()=>c});var t=e(9139930183),s=e(848813706),o=e(3193155968);const n={enabled:!1,containers:{}},c=(0,t.Ay)({},n,{storeKey:"fullscreen",persistenceEnabled:!1}).on(s.K$,i=>({...i,enabled:!0})).on(s.sM,i=>({...i,enabled:!1,containers:{}})).on(s.BR,(i,r)=>{let{container:a,windowId:l}=r;const d=l===o.N2?"main":l;if(i.containers[d]===a)return i;if(a)return{...i,containers:{...i.containers,[d]:a}};const u={...i};return delete u.containers[d],u})},2332058678:(N,g,e)=>{"use strict";e.d(g,{r:()=>t,u:()=>s});const t={openCount:0,unreadCount:0},s={issues:{},stats:t,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},761034736:(N,g,e)=>{"use strict";e.d(g,{fE:()=>q,ZL:()=>ae,Fb:()=>F,wB:()=>V,Cb:()=>Y,sv:()=>Z,wg:()=>ne,tL:()=>me,aN:()=>le,Mu:()=>ue,Kb:()=>B,cN:()=>H,ZO:()=>K,Eq:()=>fe,PN:()=>he});var t=e(3009309149),s=e(8847766420),o=e(3398586081),n=e(2141441167),c=e(8352634987),i=e(6533394955),r=e(4848430086),a=e(6304789565),l=e(930270247),d=e(7629299684),u=e(2927826522);const f=(0,a.Ay)("Fetch product release cards into the store",(X,j,w)=>{let{locale:Q}=w;return X((0,l.l)({count:3,type:"product_release_card",locale:Q,reason:"client/fetch_published_product_release_cards"})).then(G=>{let{cards:J}=G;X((0,d.M0)((0,u.t)(J)))})});f.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var m=e(9532047472);const h=(0,a.Ay)("Fetch helpdesk articles into the store",(X,j,w)=>{let{locale:Q,reason:G}=w;return X((0,m.a)({locale:Q,reason:G})).then(J=>{let{articles:te}=J;X((0,d.NX)((0,u.t)(te))),X((0,d.a4)(Q))})});h.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var v=e(3593297427),p=e(138202077),T=e(1545824888);const A=(0,a.Ay)("Fetch recommended articles into the store",(X,j,w)=>{let{locale:Q,reason:G}=w;return X((0,p.H)({reason:G})).then(async J=>{let{articles:te,request_id:se}=J;const ce=await T.S.all(te.map(async Ee=>X((0,v.w)({articleId:Ee.id,locale:Q,reason:G})).then(de=>{let{article:re}=de;return{id:re.article_id,title:re.title}})));X((0,d.LV)({articles:ce,requestId:se??""}))})});A.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};var C=e(8745755260);const I=(0,a.Ay)("Fetch help sections into the store",(X,j,w)=>{let{categoryId:Q,locale:G,reason:J}=w;return X((0,C.h)({categoryId:Q,locale:G,reason:J})).then(te=>{let{sections:se}=te;return X((0,d.CK)((0,u.t)(se)))})});I.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var D=e(6936450040);const y=(0,a.Ay)("Fetch help categories into the store",(X,j,w)=>{let{locale:Q,reason:G}=w;return X((0,D.G)({locale:Q,reason:G})).then(J=>{let{categories:te}=J;X((0,d.KO)((0,u.t)(te))),X((0,d.WL)(Q))})});y.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const P=(0,o.A)(()=>new c.Ay({storeKey:"help",fetch:X=>(0,i.Qw)(X,(0,r.w)()),isEnabled:()=>!0})),E=(0,o.A)(X=>new c.Ay({storeKey:"help",fetch:j=>(0,i.Qw)(j,f({locale:X})),isEnabled:()=>!0})),M=(0,o.A)((X,j)=>new c.Ay({storeKey:"help",fetch:w=>(0,i.Qw)(w,h({locale:X,reason:j})),isEnabled:()=>!0})),S=(0,o.A)((X,j)=>new c.Ay({storeKey:"help",fetch:w=>(0,i.Qw)(w,A({locale:X,reason:j})),isEnabled:()=>!0,maxAge:()=>86400})),R=(0,o.A)((X,j,w)=>new c.Ay({storeKey:"help",fetch:Q=>(0,i.Qw)(Q,I({categoryId:X,locale:j,reason:w})),isEnabled:()=>!0}),(X,j)=>(0,n.A)([X,j]).join("_")),k=(0,o.A)((X,j)=>new c.Ay({storeKey:"help",fetch:w=>(0,i.Qw)(w,y({locale:X,reason:j})),isEnabled:()=>!0}));var O=e(2332058678),U=e(9907843289),W=e(6471059816);const x=new W.Ay("help"),L="",b=(0,t.Ay)(X=>X&&X.help||O.u);b.meta={name:"createSelector",key:"createSelectorgetHelpState",description:X=>X&&X.help||O.u};const F=(0,t.Ay)((X,j)=>{const w=(0,s.ZT)(X),Q=(0,U.db)();return b(X).zdLocale!==Q&&M(Q,j).markObjectsAsStale(w,[Q]),M(Q,j).maybeRefetch(w,Q),b(X).helpSearchArticles||[]});F.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(X,j)=>{const w=(0,s.ZT)(X),Q=(0,U.db)();return b(X).zdLocale!==Q&&M(Q,j).markObjectsAsStale(w,[Q]),M(Q,j).maybeRefetch(w,Q),b(X).helpSearchArticles||[]}};const B=(0,t.Ay)(X=>{const j=(0,s.ZT)(X),w=(0,U.Yp)();return b(X).locale!==w&&E(w).markObjectsAsStale(j,[w]),E(w).maybeRefetch(j,w),b(X).productReleaseCards||[]});B.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:X=>{const j=(0,s.ZT)(X),w=(0,U.Yp)();return b(X).locale!==w&&E(w).markObjectsAsStale(j,[w]),E(w).maybeRefetch(j,w),b(X).productReleaseCards||[]}};const K=(0,t.Ay)((X,j)=>{var w;const Q=(0,s.ZT)(X),G=(0,U.Yp)();return b(X).locale!==G&&S(G,j).markObjectsAsStale(Q,[G]),S(G,j).maybeRefetch(Q,G),((w=b(X).recommendedArticles)===null||w===void 0?void 0:w.articles)||[]});K.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(X,j)=>{var w;const Q=(0,s.ZT)(X),G=(0,U.Yp)();return b(X).locale!==G&&S(G,j).markObjectsAsStale(Q,[G]),S(G,j).maybeRefetch(Q,G),((w=b(X).recommendedArticles)===null||w===void 0?void 0:w.articles)||[]}};const H=(0,t.Ay)(X=>{var j;return((j=b(X).recommendedArticles)===null||j===void 0?void 0:j.requestId)||""});H.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:X=>{var j;return((j=b(X).recommendedArticles)===null||j===void 0?void 0:j.requestId)||""}};const Y=(0,t.Ay)(X=>b(X).helpNavigation||O.u.helpNavigation);Y.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:X=>b(X).helpNavigation||O.u.helpNavigation};const Z=(0,t.Ay)((X,j,w)=>{var Q,G;const J=(0,s.ZT)(X),te=(0,U.Yp)(),se=b(X).locale,ce=w??((Q=b(X).helpNavigation)===null||Q===void 0?void 0:Q.categoryId),Ee=(G=b(X).helpSections[0])===null||G===void 0?void 0:G.categoryId;return ce?(Ee&&ce!==Ee?(R(ce,te,j).markObjectsAsStale(J,[ce.toString()]),R(ce,te,j).maybeRefetch(J,ce.toString())):se!==te&&R(ce,te,j).markObjectsAsStale(J,[te]),R(ce,te,j).maybeRefetch(J,te),b(X).helpSections||[]):b(X).helpSections||[]});Z.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(X,j,w)=>{var Q,G;const J=(0,s.ZT)(X),te=(0,U.Yp)(),se=b(X).locale,ce=w??((Q=b(X).helpNavigation)===null||Q===void 0?void 0:Q.categoryId),Ee=(G=b(X).helpSections[0])===null||G===void 0?void 0:G.categoryId;return ce?(Ee&&ce!==Ee?(R(ce,te,j).markObjectsAsStale(J,[ce.toString()]),R(ce,te,j).maybeRefetch(J,ce.toString())):se!==te&&R(ce,te,j).markObjectsAsStale(J,[te]),R(ce,te,j).maybeRefetch(J,te),b(X).helpSections||[]):b(X).helpSections||[]}};const V=(0,t.Ay)((X,j)=>{const w=(0,s.ZT)(X),Q=(0,U.Yp)();return b(X).locale!==Q&&k(Q,j).markObjectsAsStale(w,[Q]),k(Q,j).maybeRefetch(w,Q),b(X).helpCategories||[]});V.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(X,j)=>{const w=(0,s.ZT)(X),Q=(0,U.Yp)();return b(X).locale!==Q&&k(Q,j).markObjectsAsStale(w,[Q]),k(Q,j).maybeRefetch(w,Q),b(X).helpCategories||[]}};const ne=(0,t.Ay)(X=>b(X).helpTour||O.u.helpTour);ne.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:X=>b(X).helpTour||O.u.helpTour};const q=(0,t.Ay)(X=>b(X).anchorId||O.u.anchorId);q.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:X=>b(X).anchorId||O.u.anchorId};const me=(0,t.Ay)(X=>b(X).isArticleLoaded||O.u.isArticleLoaded);me.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:X=>b(X).isArticleLoaded||O.u.isArticleLoaded};const ue=(0,t.Ay)(X=>{var j,w;if(!((j=X.desktop)===null||j===void 0||(w=j.app)===null||w===void 0)&&w.updateInfo){var Q;const{releaseName:G}=X.desktop.app.updateInfo;if(!((Q=X.desktop)===null||Q===void 0)&&Q.environment){const{appVersion:J}=X.desktop.environment;if(G.endsWith(J))return null}return G}return null});ue.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:X=>{var j,w;if(!((j=X.desktop)===null||j===void 0||(w=j.app)===null||w===void 0)&&w.updateInfo){var Q;const{releaseName:G}=X.desktop.app.updateInfo;if(!((Q=X.desktop)===null||Q===void 0)&&Q.environment){const{appVersion:J}=X.desktop.environment;if(G.endsWith(J))return null}return G}return null}};const ae=(0,t.Ay)(X=>{if(X.desktop&&X.desktop.app&&X.desktop.app.updateInfo){const{releaseName:j,releaseNotes:w,releaseDate:Q}=X.desktop.app.updateInfo;return{timestamp:Q?Q.getTime():Date.now(),title:j,description:x.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:w,url_title:x.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});ae.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:X=>{if(X.desktop&&X.desktop.app&&X.desktop.app.updateInfo){const{releaseName:j,releaseNotes:w,releaseDate:Q}=X.desktop.app.updateInfo;return{timestamp:Q?Q.getTime():Date.now(),title:j,description:x.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:w,url_title:x.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const le=(0,t.Ay)(X=>{const j=ae(X)||null;return j?j.timestamp:-1});le.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:X=>{const j=ae(X)||null;return j?j.timestamp:-1}};const fe=(0,t.Ay)(X=>{const j=(0,s.ZT)(X);return P().maybeRefetch(j,L),b(X).stats||O.r});fe.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:X=>{const j=(0,s.ZT)(X);return P().maybeRefetch(j,L),b(X).stats||O.r}};const he=(0,t.Ay)(X=>fe(X).unreadCount);he.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:X=>fe(X).unreadCount};const ie=(0,t.Ay)(X=>b(X).isHelpTipHistoryTourActive||O.u.isHelpTipHistoryTourActive);ie.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:X=>b(X).isHelpTipHistoryTourActive||O.u.isHelpTipHistoryTourActive}},4848430086:(N,g,e)=>{"use strict";e.d(g,{w:()=>n});var t=e(6304789565),s=e(8726791251),o=e(7629299684);const n=(0,t.Ay)("Fetch and upsert ticket stats into the store",c=>c((0,s.I)({reason:"fetchAndUpsertTicketStats"})).then(i=>{const r={unreadCount:i.unread_count||0,openCount:i.open_count||0};return c((0,o.SX)(r)),r}));n.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},5492254797:(N,g,e)=>{"use strict";e.d(g,{P:()=>c,S:()=>i});var t=e(3398586081),s=e(337319621),o=e(8668318456);const n=_(r=>{try{return JSON.stringify(r)}catch(a){return(0,s.Wo)().error("stringify-error-constructing-link-trigger-context-from-message",a),""}},"stringifyObject"),c=(0,t.A)(r=>r!=null&&r.channelId?{location:"message",channelId:r.channelId,messageTs:(r==null?void 0:r.ts)||""}:{location:"markdown_link"},n),i=(0,t.A)((r,a)=>({eventId:o.EventId.HERMES_LINK_TRIGGER,uiComponentName:o.UiComponentName.LINK_TRIGGER_URL,entryPoint:r?"message":"other",workflowTriggerId:a.triggerId,channelId:r==null?void 0:r.channelId,onClick:{enableClogAction:!0}}),n)},8239363237:(N,g,e)=>{"use strict";e.d(g,{GF:()=>l,Tk:()=>d,UI:()=>p,X_:()=>u,iN:()=>v,pm:()=>m,t6:()=>T,vc:()=>f,xA:()=>h});var t=e(3385422400),s=e(2647703359),o=e(937317117),n=e(1990810649),c=e(387328355);const i=_((A,C)=>{var I;return C?(I=(0,o.Lp)(A,C))===null||I===void 0?void 0:I.localUpdated:null},"getFileLocalUpdated"),r=_(A=>(0,c.lt)(A),"getFileId"),a=_(A=>(0,t.Mz)([C=>(0,c.JC)(C),C=>{const I=r(C);return i(C,I)},C=>{const I=r(C);return I?(0,o.Lp)(C,I):null}],(C,I,D)=>D!=null&&D.id&&(C===n.cM.CanvasFile||C===n.cM.QuipFile)?A(D):null),"selectFromUpdatedFile"),l=a(A=>A),d=a(A=>A==null?void 0:A.id),u=a(A=>A?(0,s.sJ)(A):!1),f=a(A=>A?(0,s.uO)(A):!1),m=a(A=>A?(0,s.WP)(A):null),h=a(A=>A==null?void 0:A.user),v=a(A=>!!A),p=a(A=>A?(0,s.l7)(A):!1),T=a(A=>A?(0,s.wL)(A):!1)},5145584581:(N,g,e)=>{"use strict";e.d(g,{x:()=>A});var t=e(8628145494),s=e(6304789565),o=e(7384121809),n=e(4250409994),c=e(5286203919),i=e(387328355),r=e(1990810649),a=e(7434063642),l=e(6251210828),d=e(7723800688),u=e(2664504268),f=e(6470070112),m=e(8668318456),h=e(56548687),v=e(7598536680),p=e(7884000776);const T=_((I,D,y,P)=>{const E=(0,o.Ry)(),M=(0,c.E9)(E),S=(0,f.$t)(D,{huddleId:M}),R=(0,f.kn)(E),k=(0,f.UE)(E),O=(0,l.Ec)(D,{huddleId:M});let U,W,x=null,L=null,b=null;if(y===r.cM.None)U=d.Hi.FOCUS_CLOSE,W=(0,l.U7)(D,{key:d.Hi.FOCUS_OPEN});else{var F;switch(U=d.Hi.FOCUS_OPEN,W=(0,u.A)(),b=(P==null||(F=P.item)===null||F===void 0?void 0:F.id)||null,y){case r.cM.Screenshare:x="focus_screenshare",L="screenshare";break;default:x="focus_file",L="file"}I((0,a.Mn)({key:d.Hi.FOCUS_OPEN,value:W}))}(0,h.e)({state:D}).track(m.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:O?O.toString():null,ui_properties:{element_name:U},action:m.UiAction.IMPRESSION},calls:k},...S,...R,interaction_id:W,canvas_dimension_marker:x,type:L,item_file_id:b})},"clogCanvasEvent"),A=(0,s.Ay)("Sets a user content view which represents what the user is focused on in the canvas",(I,D,y)=>{if(!y||(0,t.A)(y.contentViewType))return;const P=D(),E=y.contentViewType,M=!1;if(E===r.cM.Screenshare){const R=(0,i.JC)(P),k=C(P);R===r.cM.None&&!k&&I((0,a.fI)({isThreadOpen:!1})),I((0,a.Zx)({userId:""}))}I((0,a.YC)({isFullscreen:M})),I((0,a.s7)({isNotesOpen:E===r.cM.QuipFile}));const S=y.contentViewType===r.cM.None||!y.contentViewConfig?{}:y.contentViewConfig;I((0,i.sK)({id:y.peerId,contentViewType:E,contentViewConfig:S})),(0,o.dispatchForClientStore)((0,n.xq)({contentViewType:E,contentViewConfig:S})),T(I,P,E,S)});A.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function C(I){const D=(0,o.Ry)(),y=(0,c.E9)(D),P=(0,c.hc)(D),E=(0,l.fG)(I,{huddleId:y});if(!(E!=null&&E.ts)||!P)return!1;const M=(0,v.zC)({viewContext:p.Y.HUDDLE_THREADS,channelId:P,threadTs:E.ts});return(M==null?void 0:M.hasFocus())||!1}_(C,"doesThreadInputHaveFocus")},6758774099:(N,g,e)=>{"use strict";e.d(g,{Lm:()=>n,T3:()=>o,U$:()=>c,WO:()=>s,dD:()=>r,h2:()=>i,jL:()=>a});var t=e(2140362605);const s=(0,t.Ay)("Enable huddle event log");s.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const o=(0,t.Ay)("Disable huddle event log");o.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const n=(0,t.Ay)("Set loading state for huddle event log");n.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const c=(0,t.Ay)("Add non-transcription event");c.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const i=(0,t.Ay)("Update with latest transcription events");i.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const r=(0,t.Ay)("Set enabled state for huddle captions side-by-side view");r.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const a=(0,t.Ay)("Set enabled state for huddle closed captions view");a.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},8409540889:(N,g,e)=>{"use strict";e.d(g,{u:()=>s,y:()=>t});const t=2e3,s=2e3},4988306802:(N,g,e)=>{"use strict";e.d(g,{Cb:()=>u,M3:()=>a,TP:()=>i,VN:()=>l,gL:()=>r,iv:()=>f});var t=e(3385422400),s=e(3009309149),o=e(8409540889),n=e(8783285437);const c=(0,s.Ay)(m=>m.huddleEvents);c.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:m=>m.huddleEvents};const i=(0,s.Ay)(m=>c(m).enabled);i.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:m=>c(m).enabled};const r=(0,s.Ay)(m=>c(m).isLoading);r.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:m=>c(m).isLoading};const a=(0,s.Ay)(m=>m.huddleEvents.isSideBySideEnabled);a.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:m=>m.huddleEvents.isSideBySideEnabled};const l=(0,s.Ay)(m=>m.huddleEvents.isClosedCaptionsEnabled);l.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:m=>m.huddleEvents.isClosedCaptionsEnabled};const d=(0,s.Ay)(m=>m.huddleEvents.isClosedCaptionsEnabled);d.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:m=>m.huddleEvents.isClosedCaptionsEnabled};const u=(0,t.Mz)(m=>c(m).events,m=>{const h=[];let v,p=[];const T=_(()=>{v&&h.push({...v,content:p.join(" ")})},"maybeCommit");return m.forEach(A=>{v&&A.type===n.v.TRANSCRIBE&&v.memberId===A.memberId&&A.timestampMs-v.endTimeMs<o.y?(p.push(A.content),v.endTimeMs=A.endTimeMs):(T(),A.type===n.v.TRANSCRIBE?(v={type:n.v.TRANSCRIBE,resultId:"",memberId:A.memberId,content:"",timestampMs:A.timestampMs,endTimeMs:A.endTimeMs},p=[A.content]):(v=null,p=[],h.push(A)))}),T(),h}),f=(0,t.Mz)(m=>u(m),m=>m.filter(h=>h.type===n.v.TRANSCRIBE||h.type===n.v.START_TRANSCRIPTION).slice(-5))},1889537412:(N,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(6304789565),s=e(727128009),o=e(1545824888),n=e(9640070512),c=e(2527782504),i=e(6758774099),r=e(4988306802),a=e(7004355564),l=e(7384121809),d=e(337319621),u=e(5286203919),f=e(8783285437),m=e(6694086724),h=e(6815073048),v=e(2709531527);const p=(0,t.Ay)("Start transcription for current huddle",async(A,C)=>{if((0,r.TP)(C())||(0,r.gL)(C()))return o.S.resolve();const I=(0,l.Ry)(),D=(0,u.E9)(I);return D?(A((0,i.WO)()),A((0,i.Lm)(!0)),await(0,a.A)(),A((0,m.e)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),A((0,s.i)({reason:"start-event-log",callId:D})).catch(y=>{var P;if(((P=y.data)===null||P===void 0?void 0:P.error)==="permission_denied")return o.S.delay(5e3).then(()=>A((0,s.i)({reason:"start-event-log/retry",callId:D})));throw y}).catch(y=>{(0,d.Ay)({getState:C}).error(y),A((0,i.T3)())}).finally(()=>{A((0,i.Lm)(!1)),A((0,n.H)({focusKey:c.Ay.HUDDLE_CAPTIONS_TAB})),A((0,i.U$)({type:f.v.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:0}));const{huddleEventsTrace:y}=(0,h.A)().getAllTraceHandlers();y==null||y.update({name:v.p.TRANSCRIPT,type:v.G.START})})):o.S.reject(new Error("No active call ID for huddle"))});p.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"};const T=p},6855917924:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(6304789565),s=e(580220061),o=e(1545824888),n=e(6758774099),c=e(4988306802),i=e(7384121809),r=e(5286203919),a=e(6815073048),l=e(2709531527);const d=(0,t.Ay)("Stop transcription for current huddle",(f,m)=>{if(!(0,c.TP)(m())||(0,c.gL)(m()))return o.S.resolve();const h=(0,i.Ry)(),v=(0,r.E9)(h);return v?(f((0,n.T3)()),f((0,n.Lm)(!0)),f((0,s.W)({reason:"stop-event-log",callId:v})).finally(()=>{f((0,n.Lm)(!1));const{huddleEventsTrace:p}=(0,a.A)().getAllTraceHandlers();p==null||p.update({name:l.p.TRANSCRIPT,type:l.G.STOP})})):o.S.reject(new Error("No active call ID for huddle"))});d.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"};const u=d},8783285437:(N,g,e)=>{"use strict";e.d(g,{v:()=>t});var t;(function(s){s.JOIN="JOIN",s.LEAVE="LEAVE",s.SCREENSHARE_START="SCREENSHARE_START",s.SCREENSHARE_STOP="SCREENSHARE_STOP",s.TRANSCRIBE="TRANSCRIBE",s.SEND_REACTION="SEND_REACTION",s.START_TRANSCRIPTION="START_TRANSCRIPTION"})(t||(t={}))},4250409994:(N,g,e)=>{"use strict";e.d(g,{Ag:()=>K,B5:()=>te,Bk:()=>k,Db:()=>w,Dj:()=>re,Gx:()=>ue,HC:()=>E,HF:()=>P,Hg:()=>ce,I9:()=>l,JM:()=>fe,Jc:()=>v,Ko:()=>O,Lx:()=>X,M4:()=>u,OA:()=>j,QZ:()=>D,Rb:()=>R,Rh:()=>h,Rr:()=>y,Sd:()=>c,Sn:()=>C,TK:()=>Ee,VU:()=>o,WB:()=>W,WM:()=>F,WY:()=>ie,YA:()=>I,Yi:()=>U,_H:()=>q,_I:()=>i,_U:()=>Y,_o:()=>ee,_u:()=>he,aO:()=>b,bV:()=>Z,bk:()=>le,cx:()=>ae,f2:()=>L,fP:()=>A,hB:()=>p,kg:()=>se,kn:()=>n,nI:()=>J,nU:()=>d,nw:()=>Q,o9:()=>G,og:()=>We,ol:()=>M,pl:()=>a,qW:()=>r,qr:()=>V,so:()=>f,t2:()=>de,u8:()=>T,wr:()=>$,xf:()=>m,xq:()=>H,yR:()=>S,yW:()=>Ve,yi:()=>me});var t=e(2140362605),s=e(6304789565);const o=(0,t.Ay)("Set flag to indicate if Huddles is enabled.");o.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const n=(0,t.Ay)("Stores audio reference that will be passed to SDK");n.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const c=(0,t.Ay)("Start video shariing");c.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const i=(0,t.Ay)("Stop video shariing");i.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const r=(0,t.Ay)("Connect to Huddle media server");r.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const a=(0,t.Ay)("Leave the huddle and stop media transmission");a.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const l=(0,t.Ay)("Enable or disable local microphone");l.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const d=(0,t.Ay)("Send an emoji reaction");d.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const u=(0,t.Ay)("Send a sticky emoji reaction");u.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const f=(0,t.Ay)("Send a mute request");f.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const m=(0,t.Ay)("Insert new active huddle reference with teamId channelId, etc.");m.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const h=(0,t.Ay)("Upsert existing active huddle reference");h.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const v=(0,t.Ay)("Upsert existing active huddle channel");v.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const p=(0,t.Ay)("Set active huddle invite");p.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const T=(0,t.Ay)("Clear invite for given channel ID");T.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const A=(0,t.Ay)("Mark invite notifications as viewed by clearing them.");A.meta={name:"createAction",key:"createActionmarkInvitesSeenForTeam",description:"Mark invite notifications as viewed by clearing them."};const C=(0,s.Ay)("Mark invite notifications as viewed by clearing them after a delay",(ze,st,Ge)=>{let{delay:be,teamId:Se}=Ge;setTimeout(()=>{ze(A({teamId:Se,markBeforeMs:Date.now()-be}))},be)});C.meta={name:"createThunk",key:"createThunkmarkInvitesReadOnDelay",description:"Mark invite notifications as viewed by clearing them after a delay"};const I=(0,t.Ay)("Start screen share for current user with given mediaSourceId");I.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const D=(0,t.Ay)("Stop screen share for current user");D.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const y=(0,t.Ay)("Notify peers of changes to isDrawEnabled");y.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const P=(0,t.Ay)("Enabled annotations for screen share host");P.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const E=(0,t.Ay)("Notify middleware that a new preferred device was selected");E.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const M=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");M.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const S=(0,t.Ay)("Notify middleware that noise suppression setting has changed");S.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const R=(0,t.Ay)("Notify middleware that video background setting has changed");R.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const k=(0,t.Ay)("Toggle global keyboard shortcut support for muting / unmuting a huddle");k.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const O=(0,t.Ay)("Internal store update for mini-panel visibility");O.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const U=(0,t.Ay)("Upsert join credentials for a channel");U.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const W=(0,t.Ay)("Clear the join credentials for a specific channel");W.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const x=(0,t.Ay)("Store and/or remote push Chime meeting events");x.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const L=(0,t.Ay)("Transition from the prejoin state to started");L.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const b=(0,t.Ay)("Action to update the store to either show or hide discovery banner");b.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const F=(0,t.Ay)("Toggle Video");F.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const B=(0,t.Ay)("Reporting CPU and memory usage stats");B.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const K=(0,t.Ay)("Set true to specify that lounge music is playing, false otherwise.");K.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const H=(0,t.Ay)("Set current focused view type");H.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const Y=(0,t.Ay)("Set last huddle start time");Y.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const Z=(0,t.Ay)("Set last huddle end time");Z.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const V=(0,t.Ay)("Set last huddle duration time");V.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const ne=(0,t.Ay)("Toggle video background filter");ne.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const q=(0,t.Ay)("Starts the video preview on the video element using the specified device");q.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const me=(0,t.Ay)("Stops the video preview on the video element");me.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const ue=(0,t.Ay)("Identifies which screenshare is being viewed in the mini-player");ue.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const ae=(0,t.Ay)("Resets the store");ae.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const le=(0,t.Ay)("Start the canvas jukebox using content share");le.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const fe=(0,t.Ay)("Stop the canvas jukebox");fe.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const he=(0,t.Ay)("Set selected song");he.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const ie=(0,t.Ay)("Send jukebox active song");ie.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const X=(0,t.Ay)("Request a jukebox song");X.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const j=(0,t.Ay)("Request the jukebox stops");j.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const w=(0,t.Ay)("Send recording start notification");w.meta={name:"createAction",key:"createActionsendRecordingStartNotification",description:"Send recording start notification"};const Q=(0,t.Ay)("Sets whether the active invite card in the sidebar can be rendered");Q.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const G=(0,t.Ay)("Sets whether the huddle window of an active huddle is in focus or not.");G.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const J=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");J.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const te=(0,t.Ay)("Reports to the SDK when the client is offline");te.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const se=(0,t.Ay)("Sets whether audio only mode is active or not.");se.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const ce=(0,t.Ay)("Sets whether the camera was enabled when audio only mode was activated.");ce.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const Ee=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");Ee.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const de=(0,t.Ay)("True if huddle mini player is hidden, false if shown.");de.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const re=(0,t.Ay)("Asks for video permission and enumerates devices");re.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const _e=(0,t.Ay)("Execute readiness check for audio input");_e.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const ve=(0,t.Ay)("Execute readiness check for audio output");ve.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const ge=(0,t.Ay)("Execute readiness check for video input");ge.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const Le=(0,t.Ay)("Execute readiness check for a particular camera resolution");Le.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const ke=(0,t.Ay)("Execute readiness check for audio connectivity");ke.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const Ke=(0,t.Ay)("Execute readiness check for video connectivity");Ke.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const Ne=(0,t.Ay)("Execute readiness check for content share connectivity");Ne.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const Re=(0,t.Ay)("Execute readiness check for network UDP connectivity");Re.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const xe=(0,t.Ay)("Execute readiness check for network TCP connectivity");xe.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const We=(0,t.Ay)("Sets that the Huddle was joined via prejoin");We.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"};const $=(0,t.Ay)("Sets Huddle device based on preview entry");$.meta={name:"createAction",key:"createActionsetDeviceStateBasedOnPreviewEntry",description:"Sets Huddle device based on preview entry"};const ee=(0,t.Ay)("Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow");ee.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewChannel",description:"Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow"};const Ve=(0,t.Ay)("Sets the current background effect selected from the preview background picker");Ve.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewBackgroundEffect",description:"Sets the current background effect selected from the preview background picker"}},5702042015:(N,g,e)=>{"use strict";e.d(g,{A:()=>c,p:()=>i});var t=e(5286203919),s=e(4250409994),o=e(6304789565);let n;const c=(0,o.Ay)("Temporarily show mini-panel",function(r,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(n),r((0,s.Ko)(!0)),n=setTimeout(()=>r((0,s.Ko)(!1)),l)});c.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const i=(0,o.Ay)("Temporarily pause mini-panel visibility transition",(r,a)=>{const l=a();(0,t.Ae)(l)&&clearTimeout(n)});i.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},2778217221:(N,g,e)=>{"use strict";e.d(g,{WS:()=>o,nq:()=>s,o7:()=>t});const t="HUDDLES",s=864e5,o=2},5378147939:(N,g,e)=>{"use strict";e.d(g,{A:()=>Ee});var t=e(3398586081),s=e(387328355),o=e(1289024643),n=e(462591818),c=e(6533394955),i=e(7384121809),r=e(5795074931),a=e(2047021170),l=e(1889537412),d=e(6758774099),u=e(4250409994),f=e(5881236351),m=e(6304789565),h=e(6562711329);const v=(0,m.Ay)("Fetch channel membership info for huddle member",(de,re,_e)=>{let{channelId:ve,userId:ge}=_e;return de((0,h.z)({channelId:ve,userIds:[ge]})).then(Le=>{let{membershipInfo:ke}=Le;return ke[ge]&&"isMember"in ke[ge]?!ke[ge].isMember:!0})});v.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var p=e(2778217221),T=e(7434063642),A=e(9548972574),C=e(5332875232),I=e(1670069836),D=e(8305649700),y=e(567847295),P=e(9712681361),E=e(9680914051),M=e(2084347232),S=e(4540171876),R=e(1545824888),k=e(6470070112),O=e(6839188756),U=e(56548687),W=e(8668318456),x=e(1890776492),L=e(4476913522),b=e(5286203919),F=e(2028988448),B=e(2141441167),K=e(4949104520),H=e(337319621),Y=e(7578434623),Z=e(1651628626),V=e(2664504268),ne=e(1921074781),q=e(5203103513);const me=60*1e3,ue=15*1e3,ae=1e3*10,le=1e3*60,fe=5e3;let he=!1;const ie=500,X=25;let j=_(class{async setTargetState(re){this.targetState=re;const{huddleState:_e,huddleSubState:ve}=this.targetState;this.isValidHuddleSubState(_e,ve)||(this.targetState.huddleSubState=this.getInitialSubStateForHuddleState(_e)),(0,i.dispatchForClientStore)((0,u.Rh)(this.getOptimisticState(re))),await this.process()}setTargetChannel(re){this.targetState.channelId=re}async setTargetSubState(re){this.isValidHuddleSubState(this.targetState.huddleState,re)&&(this.targetState.huddleSubState=re,await this.process())}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:P.RJ.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}async waitForStartStop(){return this.startStopDeferred||R.S.resolve()}isProcessing(){var re;return(re=this.startStopDeferred)===null||re===void 0?void 0:re.isPending()}isTargetState(){const{teamId:re,channelId:_e,huddleState:ve}=this.getClientHuddleState();return(0,k.Ft)(this.targetState.huddleState)?ve===this.targetState.huddleState:re===this.targetState.teamId&&_e===this.targetState.channelId&&ve===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(re){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>re-ie:!1}isValidHuddleSubState(re,_e){return re===P.RJ.STARTED?_e===void 0?!1:(0,B.A)(P.J_).includes(_e):_e===void 0}getInitialSubStateForHuddleState(re){if(re===P.RJ.STARTED)return P.J_.INITIAL_ALONE}async process(){if(this.isProcessing())return this.waitForStartStop();this.startStopDeferred=(0,x.u)();const re=setTimeout(async()=>{var _e;if(!((_e=this.startStopDeferred)===null||_e===void 0)&&_e.isPending()){const ve=new R.S.TimeoutError("HuddleStateManager timeout");await this.handleErrorAndDisconnect(ve)}},this.startStopTimeout);try{await this.runLoop(),clearTimeout(re),this.startStopDeferred.resolve()}catch(_e){await this.handleErrorAndDisconnect(_e)}finally{clearTimeout(re)}this.startStopDeferred=null}async runLoop(){let re=0;for(;!this.isTargetState();){if(!this.isProcessing())return;if(re+=1,re>X)throw new Error("runLoop was stuck");const{teamId:ge,channelId:Le,huddleState:ke}=this.getClientHuddleState(),{teamId:Ke,channelId:Ne,huddleState:Re,callId:xe}=this.targetState;if(ge!==Ke&&(delete this.clogger,delete this.logger,delete this.telemeter),[P.RJ.STARTED,P.RJ.PRE_JOINED].includes(Re)){if(ge!==Ke||Le!==Ne){switch(ke){case P.RJ.PENDING:case P.RJ.STARTED:case P.RJ.PRE_JOINED:await this.goToNext(P.RJ.ENDING);break;default:await this.goToNext(P.RJ.STARTING)}continue}switch(ke){case P.RJ.NOT_STARTED:await this.goToNext(P.RJ.STARTING);break;case P.RJ.STARTING:try{await this.goToNext(P.RJ.PENDING)}catch(We){var _e;if(!((_e=this.credentials)===null||_e===void 0)&&_e.isQuickJoinCredentials){if(delete this.credentials,await this.clearQuickJoinCredentials(),We.message===P.M6.ChimeMeetingEnded)throw We;if(xe){const st=(0,A.P_)(this.getState(),xe);if(st&&st.hasEnded)throw new Error(P.M6.ChimeMeetingEnded)}const $=Date.now(),ee=!0;await this.safelyDisconnect(ee);const ze=Date.now()-$;this.getLogger().info(`Disconnecting after failed attempt to join huddle added ${ze}ms to TTI`),await this.goToNext(P.RJ.STARTING)}else throw We}break;case P.RJ.PENDING:await this.goToNext(this.targetState.huddleState);break;case P.RJ.PRE_JOINED:await this.goToNext(P.RJ.COMPLETING_PRE_JOIN);break;case P.RJ.COMPLETING_PRE_JOIN:await this.completePrejoin({isStartMuted:this.targetState.muted}),await this.goToNext(P.RJ.STARTED);break;case P.RJ.STARTED:throw new Error("This should not be possible");case P.RJ.ENDING:case P.RJ.SURVEY:case P.RJ.SURVEY_GOOD:default:await this.goToNext(P.RJ.STARTING);break}continue}if([P.RJ.PENDING,P.RJ.STARTED,P.RJ.PRE_JOINED].includes(ke)){await this.goToNext(P.RJ.ENDING);continue}await this.goToNext(Re)}let ve=0;for(;!this.isTargetSubState();){if(ve+=1,ve>X)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:ge,huddleSubState:Le}=this.getClientHuddleState(),{huddleSubState:ke}=this.targetState;if(!this.isValidHuddleSubState(ge,ke)){const Ke=this.getInitialSubStateForHuddleState(ge);this.targetState.huddleSubState=Ke,await this.goToNextSubState(Ke),this.getLogger().warn(p.o7,`attempted to reach invalid huddleSubstate (${ke}) for the given huddleState (${ge})`);continue}if(ge===P.RJ.STARTED){switch(Le){case P.J_.INITIAL_ALONE:if(ke===P.J_.INITIAL_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(ke);break}await this.goToNextSubState(P.J_.IN_PROGRESS_TOGETHER);break;case P.J_.INITIAL_ALONE_NOTICE_ACTIVE:if(ke===P.J_.INITIAL_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(ke);break}await this.goToNextSubState(P.J_.IN_PROGRESS_TOGETHER);break;case P.J_.INITIAL_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(P.J_.IN_PROGRESS_TOGETHER);break;case P.J_.IN_PROGRESS_TOGETHER:await this.goToNextSubState(P.J_.IN_PROGRESS_ALONE);break;case P.J_.IN_PROGRESS_ALONE:if(ke===P.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(ke);break}await this.goToNextSubState(P.J_.IN_PROGRESS_TOGETHER);break;case P.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(ke===P.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(ke);break}await this.goToNextSubState(P.J_.IN_PROGRESS_TOGETHER);break;case P.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(P.J_.IN_PROGRESS_TOGETHER);break;default:await this.goToNextSubState(P.J_.INITIAL_ALONE)}continue}await this.goToNextSubState(void 0)}}async goToNext(re){var _e,ve,ge,Le;this.getLogger().info(`Marking huddle as ${re} [${(ge=(_e=this.targetState)===null||_e===void 0?void 0:_e.teamId)!==null&&ge!==void 0?ge:"N/A"}, ${(Le=(ve=this.targetState)===null||ve===void 0?void 0:ve.channelId)!==null&&Le!==void 0?Le:"N/A"}]`);const ke=Date.now();this.timeOfLastStateChange=ke,this.timeOfLastSubStateChange=ke;const Ke=this.getInitialSubStateForHuddleState(re);if(re===P.RJ.STARTING){var Ne,Re;const $=this.assertTargetTeamAndChannel(P.RJ.STARTING),ee=this.getOptimisticState(this.targetState);this.getLogger().info(`Optimistic state: ${ee.optimisticHuddleState}`),(0,i.dispatchForClientStore)((0,u.xf)({huddleState:re,huddleSubState:Ke,...$,...ee,isPrejoin:((Ne=this.targetState)===null||Ne===void 0?void 0:Ne.huddleState)===P.RJ.PRE_JOINED,sessionId:(0,V.A)()})),this.credentials=await this.fetchCredentials(),(Re=this.getTelemeter())===null||Re===void 0||Re.mark(E.Bq);return}if(re===P.RJ.PENDING){const $=this.assert(this.credentials,"Expected credentials to be set before PENDING");(0,i.dispatchForClientStore)((0,u.Rh)({huddleState:re,huddleSubState:Ke,...this.assertTargetTeamAndChannel(P.RJ.PENDING),callId:$.roomId})),await this.connectToChime($,this.targetState),delete this.credentials;return}if(re===P.RJ.STARTED){var xe;const $=this.assertTargetTeamAndChannel(P.RJ.STARTED);(0,i.dispatchForClientStore)((0,u.Rh)({huddleState:re,huddleSubState:Ke,optimisticHuddleState:null,...$,isPrejoin:!1})),(0,a.ty)(this.getState(),"huddles_set_status")&&this.scheduleHuddleStateExpirationIncrement(),this.setCoachmarkTimeout(Ke),(xe=ne.F.getInstance())===null||xe===void 0||xe.request()}else{var We;(We=ne.F.getInstance())===null||We===void 0||We.release()}if(re===P.RJ.PRE_JOINED&&(0,i.dispatchForClientStore)((0,u.Rh)({huddleState:re,huddleSubState:Ke,optimisticHuddleState:null,...this.assertTargetTeamAndChannel(P.RJ.PRE_JOINED)})),re===P.RJ.ENDING){(0,i.dispatchForClientStore)((0,u.Rh)({huddleState:re,huddleSubState:Ke})),await this.safelyDisconnect();return}(0,i.dispatchForClientStore)((0,u.Rh)({huddleState:re,huddleSubState:Ke,optimisticHuddleState:null}))}async goToNextSubState(re){re===P.J_.IN_PROGRESS_ALONE&&setTimeout(()=>{var _e;((_e=this.getClientHuddleState())===null||_e===void 0?void 0:_e.huddleSubState)===P.J_.IN_PROGRESS_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(ae)&&this.setTargetSubState(P.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},ae),this.timeOfLastSubStateChange=Date.now(),(0,i.dispatchForClientStore)((0,u.Rh)({huddleSubState:re}))}async handleErrorAndDisconnect(re){var _e;this.getLogger().error(re);const{huddleState:ve}=this.getClientHuddleState();if([P.RJ.PENDING,P.RJ.STARTED].includes(ve))try{await R.S.race([new R.S((ge,Le)=>{setTimeout(()=>Le(new Error("HuddleStateManager disconnect timeout")),this.disconnectTimeout)}),this.safelyDisconnect()])}catch(ge){this.getLogger().error(ge)}(0,i.dispatchForClientStore)((0,u.Rh)({huddleState:P.RJ.NOT_STARTED,optimisticHuddleState:null})),await R.S.resolve(this.handleError(re,ve)),(_e=this.startStopDeferred)===null||_e===void 0||_e.reject(re)}getInitialAloneInHuddleTimeOutValue(){if(he)return fe;const re=this.getState(),_e=(0,a.ty)(re,q.VW);return _e?_e*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),le)}setCoachmarkTimeout(re){re===P.J_.INITIAL_ALONE&&(setTimeout(()=>{var _e;((_e=this.getClientHuddleState())===null||_e===void 0?void 0:_e.huddleSubState)===P.J_.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.setTargetSubState(P.J_.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var re;return!!(!((re=(0,s.Ng)(this.getState()))===null||re===void 0)&&re.isMicrophoneEnabled)}getClientHuddleState(){const re=(0,i.Ry)(),_e=(0,b.EG)(re),{channelId:ve,teamId:ge}=(0,b.Qn)(re)||{};if(!_e||_e===P.RJ.NOT_STARTED)return{huddleState:P.RJ.NOT_STARTED,channelId:ve,teamId:ge};const Le=(0,b.EO)(re);return{huddleState:_e,huddleSubState:Le,channelId:ve,teamId:ge}}assertTargetTeamAndChannel(re){const{teamId:_e,channelId:ve}=this.targetState;return{teamId:this.assert(_e,`Expected teamId to be set for ${re}`),channelId:this.assert(ve,`Expeted channelId to be set for ${re}`)}}getChannelIdOrDie(){const{channelId:re}=this.getClientHuddleState(),{channelId:_e}=this.targetState,ve=re||_e;return this.assert(ve,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:re}=this.getClientHuddleState(),{threadTs:_e}=this.targetState;return re||_e}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:re}=this.getClientHuddleState(),{teamId:_e}=this.targetState,ve=re||_e;return this.assert(ve,"No team ID or active huddle")}getCallIdOrDie(){const re=(0,i.Ry)(),_e=(0,b.E9)(re);return this.assert(_e,"No call ID or active huddle")}getHuddleState(){const{huddleState:re}=this.getClientHuddleState();return re}dispatch(re){const _e=this.getTeamIdOrDie();return(0,c.Qw)(_e,re)}getState(re){const _e=re||this.getTeamIdOrDie();return(0,c.$D)(_e)}assert(re,_e){if(re==null)throw new Error(_e);return re}getClogger(){if(this.clogger)return this.clogger;const{teamId:re}=this.getClientHuddleState();return this.clogger=re?(0,U.e)({state:(0,c.$D)(re)}):(0,U.e)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=(0,H.Wo)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:re}=this.getClientHuddleState();return re?this.telemeter=(0,Y.Cy)({state:(0,c.$D)(re)}):this.telemeter=(0,Y.rh)(),this.telemeter}constructor({logLabel:re=p.o7,startStopTimeout:_e=me,disconnectTimeout:ve=ue}={}){var ge=this;this.targetState={huddleState:P.RJ.NOT_STARTED},this.startStopDeferred=null,this.safelyDisconnect=async function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;try{await ge.disconnect(Le)}catch(ke){ge.getLogger().error("Failed to disconnect from the Huddle. This may mean the user is still connected to the media server",ke)}},this.scheduleHuddleStateExpirationIncrement=async()=>{if(this.isTargetState()&&this.targetState.huddleState!==P.RJ.STARTED)return;const Le=60*5,ke={huddle_state_expiration_ts:new Date().getTime()/1e3+Le};await this.dispatch((0,Z.c)({profile:ke,reason:"increment-huddle-state-expiration-ts"})),setTimeout(this.scheduleHuddleStateExpirationIncrement,(0,K.A)(24e4,-.1,.1))},this.logLabel=re,this.startStopTimeout=_e,this.disconnectTimeout=ve,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");(0,F.ul)("baseHuddleStateManager",{setShortTimeoutValue:()=>{he=!0},resetShortTimeoutValue:()=>{he=!1}}),Object.defineProperty({shouldUseDebugTimeout:he},"shouldUseDebugTimeout",{get:()=>he,set:()=>{he=!0}});var Q=e(7004355564),G=e(6251210828),J=e(415910655),te=e(6815073048);class se extends j{async start(re,_e,ve,ge,Le,ke,Ke){await this.startHuddleWithTargetState(P.RJ.STARTED,re,_e,ve,ge,Le,ke,Ke)}async prejoin(re,_e,ve,ge){await this.startHuddleWithTargetState(P.RJ.PRE_JOINED,re,_e,ve,ge,void 0)}async setOthersInHuddle(){await this.setTargetSubState(P.J_.IN_PROGRESS_TOGETHER)}async setAloneInHuddle(){await this.setTargetSubState(P.J_.IN_PROGRESS_ALONE)}async dismissAloneInHuddleWarning(re){const _e=re?P.J_.INITIAL_ALONE_NOTICE_DISMISSED:P.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED;await this.setTargetSubState(_e)}async startHuddleWithTargetState(re,_e,ve,ge,Le,ke,Ke,Ne){var Re;!((Re=this.currentHuddleDeferred)===null||Re===void 0)&&Re.isPending()||(this.currentHuddleDeferred=(0,x.u)()),await this.setTargetState({huddleState:re,teamId:_e,channelId:ve,muted:ge,callId:Le,threadTs:ke,isMultiDevice:Ke,experimentStandaloneHuddlesOn:Ne})}async stop(){var re;const _e=this.getState(),ve=this.getHuddleState()!==P.RJ.PRE_JOINED&&(0,A.Cd)(_e)&&!this.isProcessing();ve&&(this.getLogger().info(`Show huddle survey in ${this.getChannelIdOrDie()}`),this.dispatch((0,y.Cd)({timeSeen:new Date().toISOString()}))),await this.setTargetState({huddleState:ve?P.RJ.SURVEY:P.RJ.NOT_STARTED}),this.getHuddleState()===P.RJ.NOT_STARTED&&(!((re=this.currentHuddleDeferred)===null||re===void 0)&&re.isPending())&&this.currentHuddleDeferred.resolve()}async enterTerminalState(re){var _e;!((_e=this.pendingHuddleStart)===null||_e===void 0)&&_e.isPending()?this.pendingHuddleStart.reject(re):await this.handleErrorAndDisconnect(re)}waitForHuddleToEnd(){return R.S.resolve(this.currentHuddleDeferred)}handleError(re,_e){var ve;this.getLogger().error(re);const ge=_e===P.RJ.STARTING||_e===P.RJ.PENDING;this.dispatch((0,M.A)({errorCode:(0,P.dJ)(re.name)?re.name:re.message,isJoinError:ge})),!((ve=this.currentHuddleDeferred)===null||ve===void 0)&&ve.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(re){let{teamId:_e,channelId:ve,huddleState:ge}=re;if([P.RJ.NOT_STARTED].includes(ge))return{optimisticHuddleState:P.RJ.ENDING};if([P.RJ.SURVEY].includes(ge))return{optimisticHuddleState:null};if(ge===P.RJ.PRE_JOINED)return{optimisticHuddleState:P.RJ.PRE_JOINED,isPrejoin:!0};if(ge===P.RJ.STARTED&&_e){var Le,ke;const Ke=(0,c.$D)(_e),Ne=(0,i.Ry)(),Re=(0,b.aQ)(Ne),xe=(Re==null?void 0:Re.channelId)===ve||!((Le=(0,A.Yw)(Ke,ve))===null||Le===void 0||(ke=Le.activeParticipants)===null||ke===void 0)&&ke.length?null:P.RJ.STARTED;return(0,a.ty)(Ke,"huddles_global_mute")&&(0,i.dispatchForClientStore)((0,u.Bk)(!0)),{isPrejoin:!1,optimisticHuddleState:xe}}return{}}async fetchCredentials(){const re=this.getTeamIdOrDie(),_e=this.getChannelIdOrDie(),ve=this.getThreadTsOrNothing(),ge=(0,i.Ry)(),Le=(0,A.Yw)(this.getState(),_e),{ttiTrace:ke}=(0,te.A)().getAllTraceHandlers(),Ke=(0,b.WL)(ge,_e),Ne=this.getIsMultiDevice();if(ke==null||ke.createFetchCredentialsSpan(),Ke){ke==null||ke.setCachedTag({cached:!0});const xe=(Le==null?void 0:Le.id)||(0,k.RW)(Ke.credentials);if(xe){const We=(0,A.P_)(this.getState(),xe);if(We&&We.hasEnded)throw await this.clearQuickJoinCredentials(),new Error(P.M6.ChimeMeetingEnded)}return this.getTelemeter().count(E.K7),ke==null||ke.closeFetchCredentialsSpan(),{roomId:xe,server:Ke.credentials,isQuickJoinCredentials:!0}}const Re=(0,G._6)(this.getState(),{channelId:_e});if(Re){const xe=(0,A.it)(this.getState(re),_e),We=(0,G.G5)(this.getState(),{channelId:_e}),$=(0,k.RW)(Re);return xe&&We&&this.dispatch((0,D.KN)({channelId:_e,threadTs:xe,lastRead:xe,reason:"huddles-rooms-join-kte"})),{roomId:$,server:Re,isQuickJoinCredentials:!1}}return this.getTelemeter().mark(E.aW),ke==null||ke.setCachedTag({cached:!1}),this.dispatch((0,S.O3)({teamId:re,channelId:_e,shouldFetchRegion:!Le,traceId:ke==null?void 0:ke.getTTITraceId(),parentSpanId:ke==null?void 0:ke.getFetchCredentialsSpanId(),...ve&&{threadTs:ve},...Ne&&{isMultiDevice:Ne}})).then(xe=>{var We,$;if(!(!(xe==null||(We=xe.server)===null||We===void 0)&&We.meeting)||!(!(xe==null||($=xe.server)===null||$===void 0)&&$.attendee))throw new Error("create_meeting_failed");ke==null||ke.closeFetchCredentialsSpan(),this.getTelemeter().mark(E.bW);const ee=this.getTelemeter().measure(E.aW,E.iE,E.bW);this.getTelemeter().count(E.iE,ee),(0,J.jm)({roomsJoinTime:ee});let Ve=_e;return this.getIsExperimentStandaloneHuddlesOn()&&xe.channelId&&(Ve=xe.channelId,this.setTargetChannel(Ve),(0,i.dispatchForClientStore)((0,u.Jc)(Ve))),(0,i.dispatchForClientStore)((0,u.Yi)({channelId:Ve,joinCredentials:xe.server,expiry:Date.now()+p.nq,fromInvite:!1})),xe.rootThreadTs&&xe.roomId&&(this.dispatch((0,T.ZL)({huddleId:xe.roomId,thread:{channelId:Ve,ts:xe.rootThreadTs}})),this.dispatch((0,D.KN)({channelId:Ve,threadTs:xe.rootThreadTs,lastRead:xe.rootThreadTs,reason:"canvas-rooms-join-api"})),this.dispatch((0,L.a)({channelId:Ve,threadTs:xe.rootThreadTs,oldest:xe.rootThreadTs}))),xe})}async connectToChime(re,_e){let{server:ve,roomId:ge}=re,{muted:Le,huddleState:ke}=_e;const{ttiTrace:Ke}=(0,te.A)().getAllTraceHandlers();return Ke==null||Ke.createConnectToMediaServiceSpan(),(0,i.dispatchForClientStore)((0,u.qW)({callResult:{server:ve,roomId:ge,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:Le,waitForHuddleStart:(0,x.u)(),isPrejoin:ke===P.RJ.PRE_JOINED})),this.pendingHuddleStart=(0,x.u)(),ke===P.RJ.PRE_JOINED?R.S.resolve():this.pendingHuddleStart}async resolvePendingJoin(re){try{var _e;const ge=this.getChannelIdOrDie(),{ttiTrace:Le}=(0,te.A)().getAllTraceHandlers(),ke=this.getState(),Ke=(0,i.Ry)(),{callId:Ne,optimisticHuddleState:Re}=(0,b.Qn)(Ke)||{},xe=(0,A.dy)(ke);if(this.getLogger().info(`Resolve pending huddle (${ge}, optimisticHuddleState: ${Re}, has optimisticTopic: ${!!xe})`),!(!((_e=this.pendingHuddleStart)===null||_e===void 0)&&_e.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const We=this.assert(Ne,"Room ID is not defined for pending join"),$=(0,a.ty)(ke,"huddles_cc_by_default");if((0,k.UA)(ke,ge)&&$&&(this.dispatch((0,l.A)()),this.dispatch((0,d.dD)(!0)),this.dispatch((0,d.jL)(!0))),xe){try{await this.dispatch((0,S.xB)({roomId:We,name:xe})),this.dispatch((0,o.oU)({id:We,name:xe}))}catch(Ve){this.getLogger().error(Ve)}this.dispatch((0,f.Jc)(null))}(0,i.dispatchForClientStore)((0,u.u8)(ge)),Le==null||Le.closeConnectToMediaServiceSpan(),(0,U.e)({state:ke}).track(W.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:We,duration_ms:Math.round(re),channel_id:ge}}}),(0,J.jm)({audioConnectedTime:re}),(0,i.dispatchForClientStore)((0,u.Rh)({isSelfJoined:!0})),this.pendingHuddleStart.resolve()}catch(ge){var ve;(ve=this.pendingHuddleStart)===null||ve===void 0||ve.reject(ge)}}async completePrejoin(re){const _e=this.getChannelIdOrDie(),ve=(0,i.Ry)(),{ttiTrace:ge}=(0,te.A)().getAllTraceHandlers(),Le=(0,b.WL)(ve,_e);return ge==null||ge.setCachedTag({cached:!!Le}),ge==null||ge.createConnectToMediaServiceSpan(),(0,i.dispatchForClientStore)((0,u.f2)({...re}))}async clearQuickJoinCredentials(){const re=(0,i.Ry)(),{channelId:_e}=(0,b.Qn)(re)||{};return(0,i.dispatchForClientStore)((0,u.WB)({channelId:_e}))}async disconnect(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var _e;const ve=this.getState(),ge=(0,i.Ry)(),{channelId:Le,teamId:ke}=(0,b.Qn)(ge)||{};if(!re)try{(0,te.A)().cleanup()}catch(Ke){this.getLogger().error(`Error cleaning up huddle tracing: ${Ke}`)}try{(0,i.dispatchForClientStore)((0,u.Bk)(!1)),(0,C.lV)(ve)&&((0,i.dispatchForClientStore)((0,u.JM)()),(0,i.dispatchForClientStore)((0,u._u)({song:void 0}))),(0,i.dispatchForClientStore)((0,u.Rh)({isSelfJoined:!1}));const Ne=(0,r.WR)(ve),Re=Le&&(0,A.Yw)(ve,Le);if(Re&&Le){const xe=(Re.activeParticipants||[]).filter($=>!((0,n.MZ)($)&&$.slackId===Ne));this.dispatch((0,o.oU)({id:Re.id,activeParticipants:xe}));const We=(0,o.H6)(this.getState(),Re.id);We&&this.dispatch((0,f.mr)({call:We,channelId:Le}))}if(Le){const xe=await(0,c.Qw)(ke,v({channelId:Le,userId:Ne})),We=(0,I.H7)(ve),$=(0,O.tc)(We);(xe||$)&&await this.clearQuickJoinCredentials(),(0,i.dispatchForClientStore)((0,u.u8)(Le))}}catch(Ke){this.getLogger().error("An error occurred cleaning up huddle redux state. Proceeding to disconnect from media server.",Ke)}try{const Ke=(0,x.u)();(0,i.dispatchForClientStore)((0,u.pl)({waitForHuddleEnd:Ke})),await Ke}catch(Ke){this.getLogger().error("An error occurred while disconnecting from the media server.",Ke)}this.dispatch((0,s.VL)({huddlesVideoActive:!1})),this.dispatch((0,T.np)()),(0,i.dispatchForClientStore)((0,u.cx)()),!((_e=this.pendingHuddleStart)===null||_e===void 0)&&_e.isPending()&&this.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))}}_(se,"HuddleStateManager");const Ee=(0,t.A)(()=>{const de=new se;return(0,Q.R)(de.waitForStartStop.bind(de)),de})},7004355564:(N,g,e)=>{"use strict";e.d(g,{A:()=>n,R:()=>o});var t=e(1545824888);let s;const o=_(c=>{s=c},"setWaitForStartStop"),n=_(()=>s?s():t.S.resolve(),"__WEBPACK_DEFAULT_EXPORT__")},3065433701:(N,g,e)=>{"use strict";e.d(g,{CE:()=>a,Gu:()=>l,Lu:()=>f,Qu:()=>m,lW:()=>u,vT:()=>s.vT});var t=e(6304789565),s=e(7366481123),o=e(56548687),n=e(8668318456);const c=3*1e3,i={[s.vT.NoUserAudioStream]:!0,[s.vT.NoUserVideoStream]:!0,[s.vT.NoAudioOutputAudioElementError]:!0,[s.vT.NoAudioOutputAudioLevelError]:!0,[s.vT.PeerMuteRequest]:!0};let r={};const a=(0,t.Ay)("Display alert message for huddle call",(v,p,T)=>{let{alert:A,peerId:C}=T;const I=(0,o.e)({getState:p});if(!r[A]){if(i[A]){r[A]=setTimeout(()=>{r[A]&&(clearTimeout(r[A]),delete r[A]),v((0,s.Sb)({alert:A,peerId:C})),I.track(n.EventId.HUDDLES_ALERT_SHOWN,{contexts:{ui_context:{ui_properties:{element_name:A},action:n.UiAction.IMPRESSION}}})},c);return}v((0,s.Sb)({alert:A,peerId:C})),I.track(n.EventId.HUDDLES_ALERT_SHOWN,{contexts:{ui_context:{ui_properties:{element_name:A},action:n.UiAction.IMPRESSION}}})}});a.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const l=(0,t.Ay)("Undisplay an alert message for huddle call",(v,p,T)=>{r[T]&&(clearTimeout(r[T]),delete r[T]),v((0,s.LL)(T))});l.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"};const d=_(function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const p=new Set;for(const[T,A]of Object.entries(r))v&&T===s.vT.PeerMuteRequest||A&&(clearTimeout(A),p.add(T));p.forEach(T=>{delete r[T]})},"clearPendingTimeouts"),u=(0,t.Ay)("Clear all alert messages for huddle call",(v,p)=>{d(),v((0,s.eV)())});u.meta={name:"createThunk",key:"createThunkclearAlerts",description:"Clear all alert messages for huddle call"};const f=(0,t.Ay)("Clear all video alert messages for huddle call",(v,p)=>{d(!0),v((0,s.GT)())});f.meta={name:"createThunk",key:"createThunkclearPossibleVideoAlerts",description:"Clear all video alert messages for huddle call"};const m=(0,t.Ay)("Clear all video alert messages for huddle call",(v,p)=>{d(!0),v((0,s.hF)())});m.meta={name:"createThunk",key:"createThunkclearPossibleAudioAlerts",description:"Clear all video alert messages for huddle call"},Object.defineProperty({alertTimeouts:r},"alertTimeouts",{get:()=>r,set:v=>{r=v}})},5253428843:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(6304789565),s=e(5378147939);const o=(0,t.Ay)("Handle huddle error",(c,i,r)=>(0,s.A)().enterTerminalState(new Error(r.terminalState)));o.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"};const n=o},2766373332:(N,g,e)=>{"use strict";e.d(g,{N$:()=>ge,KD:()=>re,kq:()=>de,HU:()=>_e});var t=e(6304789565),s=e(6533394955),o=e(7384121809),n=e(387328355),c=e(9864164947),i=e(7067820909),r=e(7621809678),a=e(9323322135),l=e(2778217221),d=e(6134475965),u=e(1049642794),f=e(3134334389),m=e(7173172014),h=e(4233000497),v=e(8320929653),p=e(3288846409),T=e(3037015781),A=e(1407713935),C=e(8920264989),I=e(8921478798),D=e(2683115972),y=e(3165300465),P=e(1610251172),E=e(4979382452),M=e(4636370173),S=e(2465132699),R=e(8523371695),k=e(3606117573),O=e(8029613601),U=e(4947127560),W=e(8668318456),x=e(6471059816),L=e(5363983309),b=e(9506008067),F=e(9101533895),B=e(5286203919);function K(){return K=Object.assign||function(Le){for(var ke=1;ke<arguments.length;ke++){var Ke=arguments[ke];for(var Ne in Ke)Object.prototype.hasOwnProperty.call(Ke,Ne)&&(Le[Ne]=Ke[Ne])}return Le},K.apply(this,arguments)}_(K,"_extends");const H=new x.Ay("huddles"),Y={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:W.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},Z={elementName:"huddles_invite_confirmation_dialog_ok",eventId:W.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function V(Le){let{closeModal:ke,...Ke}=Le;const{channelId:Ne,senderUserId:Re}=Ke,xe=(0,h.A)(Ne),{handleDecline:We,handleJoin:$,isLoading:ee,inviteText:Ve}=(0,v.lc)(Ke),ze=(0,b.d4)(Te=>(0,I.I)(Te,Re));let st=H.t("Huddle with {dmPersons}",{dmPersons:ze,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const Ge=(0,b.d4)(Te=>(0,F.OL)(Te,Ne)),be=(0,b.d4)(Te=>(0,T.uz)(Ge)?(0,C.SB)(Te,Ge,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);be&&(st=(0,A.JM)(Ge)?H.t("Huddle with {dmPersons}",{dmPersons:be,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):H.t("Huddle in {channelName}",{channelName:be,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Se=(0,p.cw)(B.hc)===Ne;(0,f.useEffect)(()=>{Se&&!ee&&(ke==null||ke())},[Se,ee,ke]);const we=(0,f.useCallback)(()=>{We(),ke==null||ke()},[ke,We]),Ce="huddle-invite-join-modal";return f.createElement(m.A,K({uiComponentName:W.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},xe),f.createElement(E.A,{labelledby:Ce,dataQa:Ce,closeModal:ke,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},f.createElement(O.A,null,f.createElement(U.A,{title:st,id:Ce})),f.createElement(M.A,null,f.createElement(S.A,null,Ve)),f.createElement(R.A,null,f.createElement(k.A,null,f.createElement(D.Ay,{type:"outline",onClick:we,"data-qa":"huddle_invite_join_cancel",autoClogProps:Y},H.t("Not Now")),f.createElement(y.A,{type:"primary",loading:ee,onClick:$,"data-qa":"huddle_invite_join_go",autoClogProps:Z,autoFocus:!0,"aria-label":H.t("Join")},f.createElement(P.A,{type:"headphones"}),f.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},H.t("Join")))))))}_(V,"HuddleInviteJoinModal"),V.displayName="HuddleInviteJoinModal";const ne={HuddleInviteJoinModal:V},q=(0,L.A)(V);var me=e(605594140),ue=e(1545824888),ae=e(337319621),le=e(8040098042),fe=e(2960290117),he=e(6415612447),ie=e(6470070112),X=e(56548687),j=e(4094753332),w=e(8746998952),Q=e(9712681361),G=e(5702042015),J=e(7429662208),te=e(3193155968),se=e(9629572172),ce=e(352142497);const Ee=_((Le,ke,Ke)=>{(0,X.e)({state:Le}).track(ke,{contexts:{calls:(0,ie.gG)(Le,Ke),ui_context:{action:W.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),de=(0,t.Ay)("Start huddle in highlighted channel or current primary view",async(Le,ke,Ke)=>{let{highlightedChannelId:Ne}=Ke;var Re;const xe=(0,o.Ry)(),We=ke(),$=(0,J.e6)(We),ee=(Re=(0,J.F8)(We,{tab:$,container:te.mq.Primary}))===null||Re===void 0?void 0:Re.id,Ve=Ne||ee,{channelId:ze,teamId:st}=(0,B.Ak)(xe)||{};if(ze&&st&&(!Ne||Ne===ze)){(0,s.Qw)(st,(0,d.A)()),Ee(We,W.EventId.HUDDLES_LEAVE,ze);return}const Ge=(0,B.aQ)(xe);if(Ge&&!Ne){const{channelId:Se,senderUserId:we,callId:Ce,teamId:Te}=Ge;(0,s.Qw)(Te,q({channelId:Se,senderUserId:we,callId:Ce}));return}if(!Ve||!(0,le.A)(Ve)&&!(0,fe.Ay)(Ve)){Le((0,me.A)());return}const be=(0,he.Y)(We,Ve);be&&(0,ie.Bn)(We,be)&&(Ee(We,W.EventId.HUDDLES_JOIN,be.id),Le((0,w.A)({channelId:be.id,forceFocus:!0,entryPoint:Q.su.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});de.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const re=(0,t.Ay)("Start huddle in the current view",async(Le,ke,Ke,Ne)=>{var Re,xe;const We=ke(),{isChildWindow:$,getViewSet:ee}=Ne(se.U),Ve=ee(We);(!$||(Ve==null||(Re=Ve[te.mq.Primary])===null||Re===void 0?void 0:Re.viewType)!==ce.D.Channel)&&Le(de({highlightedChannelId:void 0}));const ze=Ve==null||(xe=Ve[te.mq.Primary])===null||xe===void 0?void 0:xe.id;Le(de({highlightedChannelId:ze}))});re.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const _e=(0,t.Ay)("Toggle microphone from current value to opposite value",(Le,ke)=>{const Ke=(0,o.Ry)(),{teamId:Ne,channelId:Re}=(0,B.Ak)(Ke)||{};if(!Ne)return;const xe=(0,s.$D)(Ne),We=(0,n.Ng)(xe),$=We==null?void 0:We.isMicrophoneEnabled;(0,s.Qw)(Ne,(0,u.A)(!$)),Le($?(0,c.Ho)():(0,c.qc)()),(0,ae.Ay)({state:xe}).info(l.o7,`Keyboard shortcut invoked -- toggling mic to ${$?W.EventId.HUDDLES_MUTE:W.EventId.HUDDLES_UNMUTE}`),Re&&Ee(xe,$?W.EventId.HUDDLES_MUTE:W.EventId.HUDDLES_UNMUTE,Re)});_e.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let ve=!1;const ge=_(Le=>{var ke;return(0,j.dY)("4.13.0")?(Le&&!ve&&((0,a.zin)(r.Sr.TOGGLE_MUTE,async()=>{const Ke=(0,o.Ry)(),{teamId:Ne}=(0,B.Ak)(Ke)||{};Ne&&((0,s.Qw)(Ne,_e()),(0,i.Sr)((0,o.Ry)())||(0,o.dispatchForClientStore)((0,G.A)()))}),ve=!0),(ke=(0,a.wzE)(r.Sr.TOGGLE_MUTE,Le))===null||ke===void 0?void 0:ke.then(()=>Le)):ue.S.resolve(!1)},"maybeToggleGlobalMuteShortcut")},567847295:(N,g,e)=>{"use strict";e.d(g,{uZ:()=>H,Tn:()=>Z,Cd:()=>Y});var t=e(337319621),s=e(6304789565),o=e(7384121809),n=e(387484329),c=e(2778217221),i=e(4250409994),r=e(9712681361),a=e(5227672331),l=e(3134334389),d=e(6122756707),u=e(6313685253),f=e(6948117092),m=e(5016574668),h=e(3855029223),v=e(8851980998),p=e(6310192986),T=e(1616072515);const A="survey";var C;(function(V){V.Good="good",V.Bad="bad",V.Dismiss="dismiss"})(C||(C={}));const I="HUDDLES-SURVEY-TRACE",D=_(V=>{let{teamId:ne,callId:q,results:me}=V;const ue=ne?(0,t.Ay)({label:I,teamId:ne}):(0,t.Wo)({label:I});if(!ne){ue.warn("Missing team id. Exiting early");return}const ae=(0,h.E)({teamOrEnterpriseId:ne}),le=ae.createTrace({traceName:m.Sq,tags:{__dataset:m.RN},samplingOptions:{sampleRate:1,sampleType:v.tS.SESSION}}),fe=le.startSpan(A),he={...me};(0,f.A)(he,"comments");const{notOkResponses:ie,summary:X}=he||{};if(!q){ue.warn("Missing callId. Exiting early");return}if(!X){ue.warn("Missing summary. Exiting early");return}try{ue.info(`Processing huddle survey response. callId: ${q} - traceId: ${le.getTraceId()} - results: ${JSON.stringify(he)}`)}catch(Q){ue.error(Q)}const j={teamId:ne,callId:q,surveySummary:X,surveyResponseCount:(ie==null?void 0:ie.length)||0,surveyResponses:ie==null?void 0:ie.join(" ")},w=(0,T.tT)({...j,...(0,p.vP)()});fe.addTags(w),fe.close(),ue.info(`Reporting huddle survey trace with ${Object.keys(w).length} tags (${le.getTraceId()})`),ue.debug("Tags attached",w),ae.reportTrace(le),ae.clearTrace(le)},"reportHuddleSurveyResultsTrace");var y=e(6084388622),P=e(3989454579),E=e(7138682671),M=e(8472205500),S=e(8739505998),R=e(980293773),k=e(7171435821),O=e(6471059816),U=e(8847766420),W=e(5363983309),x=e(9506008067);const L=new O.Ay("huddles");function b(V){return(0,u.A)(V,(ne,q,me)=>(q&&ne.push(me),ne),[])}_(b,"collectResponses");const F=_(V=>{let{closeModal:ne,callId:q}=V;const me=(0,x.d4)(U.ZT),[ue,ae]=(0,l.useState)({}),[le,fe]=(0,l.useState)(""),[he,ie]=(0,l.useState)(!1),X=`https://${(0,k.qF)()}`,j=(0,d.wA)(),w=[{value:a.p.NoAudioInput,text:L.t("Others couldn\u2019t hear me")},{value:a.p.NoAudioOutput,text:L.t("I couldn\u2019t hear others")},{value:a.p.DeviceSelectionError,text:L.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:a.p.LowAudioQuality,text:L.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:a.p.LowVideoQuality,text:L.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:a.p.VideoNotWorking,text:L.t("Video didn\u2019t work at all")},{value:a.p.Disconnected,text:L.t("I got disconnected from the Huddle")},{value:a.p.SomethingElse,text:L.t("Something else went wrong")}],Q=a.AJ.HuddleSurvey,G=(0,l.useCallback)(()=>{ie(!0);const Ee={isOk:!1,notOkResponses:b(ue),comments:le,callId:q,type:Q};j((0,a.S)(Ee)).then(()=>{me&&D({teamId:me,callId:q,results:{summary:C.Bad,...Ee}}),ie(!1),ne==null||ne()})},[q,ue,ne,me,le,j,Q]),J=(0,l.useCallback)(()=>{j((0,a.S)({isOk:!1,notOkResponses:[a.p.Dismiss],callId:q,type:Q})),ne==null||ne()},[ne,q,Q,j]),te=(0,l.useCallback)(Ee=>fe(Ee),[]),ce=!!ue[a.p.SomethingElse];return l.createElement(R.dW,{closeModal:J,showCloseButton:!0,centered:!0,maxWidth:600},l.createElement(l.Fragment,null,l.createElement(R.rQ,null,l.createElement(R.Rc,{title:L.t("What went wrong?")})),l.createElement(R.$m,null,l.createElement(R.qf,null,w.map(Ee=>{let{value:de,text:re}=Ee;return l.createElement(E.A,{text:re,key:de,id:de,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},l.createElement(P.A,{name:de,value:de,checked:!!ue[de],onChange:_e=>ae(ve=>({...ve,[de]:_e.target.checked}))}))}),ce&&l.createElement(E.A,{className:"padding_top_75",text:L.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},l.createElement(M.A,{name:"details",id:"details",onChange:te,value:le})))),l.createElement(R.jl,null,l.createElement(S.A,{href:`${X}/privacy-policy`,target:"_blank"},L.t("Privacy Policy")),l.createElement(R.ox,null,l.createElement(y.$n,{onClick:J,type:"outline"},L.t("Dismiss")),l.createElement(y.lV,{loading:he,onClick:G,"aria-label":L.t("Send")},L.t("Send"))))))},"HuddleSurveyModal");F.displayName="HuddleSurveyModal";const B=(0,W.A)(F);var K=e(5286203919);const H=(0,s.Ay)("Close the mini survey after a postive response",(V,ne,q)=>{let{channelId:me}=q;(0,o.dispatchForClientStore)((0,i.Rh)({channelId:me,optimisticHuddleState:null,huddleState:r.RJ.NOT_STARTED}))});H.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const Y=(0,s.Ay)("Set the date for when the user last saw the huddle survey",(V,ne,q)=>{let{timeSeen:me}=q;V((0,n.AZ)({pref:"huddle_survey_last_seen",value:me}))});Y.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const Z=(0,s.Ay)("Record the result of the mini survey we first display the user after a huddle ends.",(V,ne,q)=>{let{result:me}=q;const ue=(0,o.Ry)(),ae=(0,K.E9)(ue),le=(0,K.hc)(ue),fe=(0,K.l4)(ue),he=a.AJ.HuddleSurvey;let ie=r.RJ.NOT_STARTED,X;switch(me){case"bad":ae&&V(B({callId:ae}));break;case"good":ie=r.RJ.SURVEY_GOOD,V((0,a.S)({isOk:!0,callId:ae,type:he})),X=C.Good;break;case"dismiss":X=C.Dismiss,V((0,a.S)({isOk:!1,callId:ae,notOkResponses:[a.p.Dismiss]}));break;default:}X&&D({teamId:fe,callId:ae,results:{summary:X}}),(0,o.dispatchForClientStore)((0,i.Rh)({channelId:le,optimisticHuddleState:null,huddleState:ie})),(0,t.Ay)({getState:ne}).info(c.o7,`Marking huddle as ${ie} in component: huddle-survey`)});Z.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},6741408957:(N,g,e)=>{"use strict";e.d(g,{GD:()=>v,Ss:()=>T,iz:()=>C});var t=e(3398586081),s=e(1289024643),o=e(4540171876),n=e(1545824888),c=e(3037015781),i=e(8352634987),r=e(6304789565),a=e(6533394955),l=e(7384121809),d=e(9640070512),u=e(2527782504),f=e(5286203919),m=e(5881236351);const h=_((D,y)=>(0,a.Qw)(D,(0,o.Db)({callIds:y,reason:"all-calls-store/conditional-fetch"})).then(P=>P.map(E=>(0,a.Qw)(D,(0,s.oU)(E)))),"fetchAndUpsert"),v=(0,t.A)(()=>new i.Ay({storeKey:"allCalls",fetch:h,isEnabled:()=>!0})),p=_((D,y)=>{const P=y.map(E=>((0,a.Qw)(D,(0,s.oU)(E)),E.id));v().markObjectsAsFresh(D,P)},"upsertCalls"),T=(0,t.A)(()=>new c.Ay({fetch:(D,y)=>(0,a.Qw)(D,(0,o.Db)({callIds:y,reason:"all-calls-store/unknown-fetch"})),upsertKnown:p,upsertNonExistent:(D,y)=>p(D,y.map(P=>{let{id:E}=P;return{id:E,name:""}}))}));let A=0;const C=(0,r.Ay)("Set a huddle topic",(D,y,P)=>{let{channelId:E,topic:M}=P;const S=(0,l.Ry)();if((0,f.aS)(S))return D((0,m.Jc)(M)),n.S.resolve();const R=(0,f.E9)(S);if(!R)return n.S.reject(new Error(`No callId for channel ${E}`));D((0,m.Jc)(M)),A+=1;const k=A;return D((0,o.xB)({roomId:R,name:M})).then(()=>D((0,s.oU)({id:R,name:M}))).finally(()=>{k===A&&D((0,m.Jc)(null)),D((0,d.H)({focusKey:u.Ay.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});C.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const I={fetchAndUpsert:h}},666760496:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(4540171876),s=e(1545824888),o=e(6304789565),n=e(387328355),c=e(7384121809),i=e(9548972574),r=e(7723800688),a=e(8668318456),l=e(56548687),d=e(6470070112);const u=(0,o.Ay)("Notify members to join huddle",async(m,h,v)=>{let{channelId:p,userIds:T}=v;const A=[];if(T&&T.length>0){T.forEach(M=>{m((0,n.oN)({userId:M})),A.push(new s.S((S,R)=>{m((0,t.OB)({userId:M,channelId:p,reason:"huddle-notify-member"})).then(S).catch(k=>{const O=new Error(k.message);O.invitedMemberId=M,O.inviteRejectionReason=k.name,R(O)})}))});const C=(0,c.Ry)(),I=h(),D=(0,i.Yw)(I,p),y=(0,d.$t)(I,{huddleId:D==null?void 0:D.id}),P=(0,d.kn)(C),E=(0,d.UE)(C);(0,l.e)({state:I}).track(a.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:r.Hi.INVITATION_SENT},action:a.UiAction.INVITE_PEOPLE},calls:E},invited_user_ids:T,...y,...P})}return s.S.all(A).then(C=>C)});u.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"};const f=u},1070786785:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>a,V3:()=>i,kb:()=>r});var t=e(6304789565),s=e(7384121809),o=e(6134475965),n=e(5286203919);const c=(0,t.Ay)("End huddle for channelId if any",(l,d,u)=>{const f=(0,s.Ry)(),m=(0,n.hc)(f);m&&m===u&&l((0,o.A)())});c.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const i=(0,t.Ay)("End last active huddle for channelId if any",(l,d,u)=>{var f;const m=(0,s.Ry)(),h=(f=(0,n.Qn)(m))===null||f===void 0?void 0:f.channelId,v=(0,n.Ak)(m);(h&&h===u||v===null&&h&&h!==u)&&l((0,o.A)())});i.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const r=(0,t.Ay)("End huddle for call Id and channelId if any",(l,d,u)=>{let{channelId:f,callId:m}=u;const h=(0,s.Ry)(),{channelId:v,callId:p}=(0,n.Qn)(h)||{};v&&v===f&&p===m&&l((0,o.A)())});r.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"};const a=c},9864164947:(N,g,e)=>{"use strict";e.d(g,{Gt:()=>S,Ho:()=>y,LW:()=>D,Md:()=>A,OF:()=>W,Ux:()=>E,Wf:()=>U,fH:()=>C,gA:()=>I,gV:()=>k,qc:()=>P,rV:()=>M,s5:()=>R});var t=e(5950652755),s=e(6304789565),o=e(2778217221),n=e(337319621),c=e(8664881451),i=e(2854284421),r=e(2047021170),a=e(1809170903),l=e(7022928841),d=e(5332875232),u=e(2791814261),f=e(9907843289);const m=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?i.Ji:i.o8,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),h=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?i.PV:i.CZ,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),v=(0,t.A)(function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,c.ZH)(x?i.DT:i.o,{loop:!1,useSlackPreferredSink:!0})},0,{leading:!0,trailing:!1}),p=(0,t.A)((x,L,b)=>{let F=L?i.sQ:i.wg;const B=.25,K=(0,u.L)(b),H=(0,d.DR)(b);L&&x==="gong"&&H&&K&&(F=i.o3);const Y=(0,d.Ey)(b);L&&x==="duck"&&Y&&K&&(F=i.nP),(0,c.ZH)(F,{loop:!1,volume:B,useSlackPreferredSink:!0})},5e3,{leading:!0,trailing:!1}),T=_(x=>!(0,r.ty)(x,"mute_huddle_sounds"),"canPlayHuddleSound"),A=(0,s.Ay)("Play sound when user joins",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playSoundOnUserJoin"),m(!1))});A.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const C=(0,s.Ay)("Play sound when user leaves",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playSoundOnUserLeft"),h(!1))});C.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const I=(0,s.Ay)("Play sound when you join",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playSoundOnYouJoin"),m(!0))});I.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const D=(0,s.Ay)("Play sound when you leave",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playSoundOnYouLeft"),h(!0))});D.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const y=(0,s.Ay)("Play sound when user mutes the mic using keyboard shortcut",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playSoundOnMicMute"),v(!0))});y.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const P=(0,s.Ay)("Play sound when user unmutes the mic using keyboard shortcut",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playSoundOnMicUnmute"),v(!1))});P.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const E=(0,s.Ay)("Play sound when reaction is received",(x,L,b)=>{let{emoji:F,isEffect:B}=b;const K=L();(0,r.ty)(K,"huddles_reactions_play_sound")&&T(K)?((0,n.Ay)({getState:L}).info(o.o7,"playSoundOnReaction"),p(F,B,K)):(0,n.Ay)({getState:L}).info(o.o7,"did not playSoundOnReaction")});E.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const M=(0,s.Ay)("Plays the huddle invite sound",(x,L)=>{const b=L();(0,a.ux)(b)||!T(b)||(0,c.ZH)((0,l.qF)(b),{useSlackPreferredSink:!1})});M.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"};const S=(0,s.Ay)("Plays the huddle new requester sound",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playHuddleNewRequesterSound"),(0,c.ZH)(i.rT,{loop:!1,useSlackPreferredSink:!0}))});S.meta={name:"createThunk",key:"createThunkplayHuddleNewRequesterSound",description:"Plays the huddle new requester sound"};const R=(0,s.Ay)("Plays the huddle request accepted sound",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playHuddleNewRequestAcceptedSound"),(0,c.ZH)(i.rT,{loop:!1,useSlackPreferredSink:!0}))});R.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestAcceptedSound",description:"Plays the huddle request accepted sound"};const k=(0,s.Ay)("Plays the huddle request expired sound",(x,L)=>{T(L())&&((0,n.Ay)({getState:L}).info(o.o7,"playHuddleNewRequestExpiredSound"),(0,c.ZH)(i.xE,{loop:!1,useSlackPreferredSink:!0}))});k.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestExpiredSound",description:"Plays the huddle request expired sound"};const O=_(x=>{let L={onSound:void 0,offSound:void 0};switch(x){case"ja-JP":L={onSound:i.Q6,offSound:i.uv};break;case"es-LA":case"es-ES":L={onSound:i.ll,offSound:i.PK};break;default:L={onSound:i.sH,offSound:i.IZ};break}return L},"getHuddleSounds"),U=(0,s.Ay)("Plays the huddle recording on sound",(x,L)=>{const b=(0,f.Yp)(),{onSound:F,offSound:B}=O(b);F&&B&&((0,c.ds)(F),(0,c.ds)(B),(0,c.ZH)(F,{loop:!1,useSlackPreferredSink:!0}))});U.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOnSound",description:"Plays the huddle recording on sound"};const W=(0,s.Ay)("Plays the huddle recording off sound",(x,L)=>{const b=(0,f.Yp)(),{onSound:F,offSound:B}=O(b);F&&B&&((0,c.ds)(F),(0,c.ds)(B),(0,c.ZH)(B,{loop:!1,useSlackPreferredSink:!0}))});W.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOffSound",description:"Plays the huddle recording off sound"}},4156857608:(N,g,e)=>{"use strict";e.d(g,{a:()=>p});var t=e(6304789565),s=e(7384121809),o=e(4250409994),n=e(7434063642),c=e(8783285437),i=e(6758774099),r=e(1990810649),a=e(387328355),l=e(6815073048),d=e(2709531527),u=e(5795074931),f=e(4921059838),m=e(3829348308),h=e(8847766420),v=e(488107601);const p=(0,t.Ay)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(T,A,C)=>{let{emoji:I,emojiUrl:D,reactionType:y=r.o.Standard}=C;if(y===r.o.Sticker)T((0,n.Kp)({emoji:I})),(0,s.dispatchForClientStore)((0,o.M4)(I));else{const M=A(),S=(0,h.ZT)(M);let R=D;if(!D&&!(0,f.A)(M,I)){var P;R=(P=(0,m.Ez)(M,{text:I,teamId:S,emojiMode:v.VZ.AS_TEXT,emojiSize:v.lw.MEDIUM}))!==null&&P!==void 0?P:void 0}(0,s.dispatchForClientStore)((0,o.nU)({emoji:I,reactionType:y,emojiUrl:R})),T((0,a._x)({peerId:"self",emoji:I,isEmoji:!0,reactionType:y,emojiUrl:R}));const{huddleEventsTrace:k}=(0,l.A)().getAllTraceHandlers();k==null||k.update({name:d.p.REACTION,type:d.G.ONCE,tags:{reactionType:y}})}const E=(0,u.WR)(A());E&&T((0,i.U$)({type:c.v.SEND_REACTION,memberId:E,timestampMs:Date.now(),emoji:I}))});p.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},1049642794:(N,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(8571983633),s=e(6304789565),o=e(6533394955),n=e(7384121809),c=e(8847766420),i=e(2778217221),r=e(4250409994),a=e(6694086724),l=e(5286203919),d=e(4094753332),u=e(337319621),f=e(462591818),m=e(7434063642),h=e(6251210828),v=e(387328355),p=e(9365970888),T=e(3065433701),A=e(700984029);const C=(0,s.Ay)("Enable or disable local microphone",async(D,y,P)=>{const E=(0,n.Ry)(),M=y(),S=(0,u.Ay)({state:M}),R=(0,p.Hc)(M);if((0,h.RT)(M)||D((0,m.G4)({canShowMutedBanner:!0})),(0,d.y3)()||await(0,n.dispatchForClientStore)((0,A.e$)({mediaResourceType:f.mT.MICROPHONE})),S.info(i.o7,`Set microphone to ${P}`),R&&P){S.warn(i.o7,"Microphone could not be set to enabled as access to the device was blocked"),(0,d.y3)()?D((0,T.CE)({alert:T.vT.NoSystemAudio})):D((0,T.CE)({alert:T.vT.NoBrowserAudioPermission}));return}const{teamId:O}=(0,l.Qn)(E)||{};if(O&&O!==(0,c.ZT)(M)){(0,o.Qw)(O,C(P));return}(0,t.A)(P)||((0,n.dispatchForClientStore)((0,r.I9)(P)),P&&(0,l.wQ)(E)&&D((0,a.e)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),D((0,v.kT)({id:"self",isMicrophoneEnabled:P}))});C.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"};const I=C},8746998952:(N,g,e)=>{"use strict";e.d(g,{A:()=>M});var t=e(6304789565),s=e(1545824888),o=e(337319621),n=e(7578434623),c=e(5613673538),i=e(5319025363),r=e(7384121809),a=e(6470070112),l=e(5286203919),d=e(5933621899),u=e(9680914051),f=e(8330768070),m=e(6259241484),h=e(716227588),v=e(1655938719),p=e(5332875232),T=e(5881236351),A=e(9712681361),C=e(3015351052),I=e(2047021170),D=e(5203103513);const y="HUDDLES",P=(0,t.Ay)("Join/start huddle, but confirm with shouty rooster modal first",(S,R,k)=>{let{channelId:O,threadTs:U,muted:W,callId:x,forceFocus:L,entryPoint:b,forceConfirmation:F,markTelemeter:B,isMultiDevice:K,isStandaloneHuddle:H}=k,Y=!1;if((0,p.Rk)(R())){const me=(0,r.en)().getState(),ue=(0,l.J0)(me),ae=(0,I.ty)(R(),D.aI)||!1;Y=O!==void 0&&ue!==O&&ae}const V=_(()=>{var q;B&&(0,n.Cy)({state:R()}).mark(u.qr),(q=S((0,c.A)({channelId:O,threadTs:U,muted:W,callId:x,forceFocus:L,entryPoint:b,isMultiDevice:K,isStandaloneHuddle:H})))===null||q===void 0||q.catch(me=>{(0,o.Ay)({getState:R}).error("Could not start huddle",me)})},"onConfirm"),ne=_(()=>{Y&&O&&S((0,C._)({channelId:O,handleJoin:V}))},"showHuddlesJoinPreview");if((0,a.Qj)(R(),O,U)||F){U?S((0,v.iR)({event:{type:m.jo.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{(0,h.Hp)(R(),m.xu.LAUNCH_MODAL)===m.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?S((0,d.Wx)({channelId:O??"",onConfirm:V})):Y?ne():V()}):S((0,f.Oe)({channelId:O??"",onConfirm:V}));return}Y?ne():V()});P.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const E=(0,t.Ay)("Join/start huddle, but confirm if already in another huddle",(S,R,k)=>{const{channelId:O}=k,U=R(),W=(0,p.pL)(U),x=(0,r.Ry)(),L=(0,l.hc)(x),b=(0,l.EG)(x),F=(0,l.$V)(x),B=(0,a.r5)(U,{channelId:O});if(S((0,i.z)()),L&&O!==L&&!F){(0,o.Ay)({getState:R}).info(y,"Opening Huddle Switch Modal"),S((0,f.Y6)({prevChannelId:L,nextChannelId:O??"",onConfirm:()=>{S(P({...k,markTelemeter:!1}))}}));return}if(W&&B){(0,o.Ay)({getState:R}).info(y,"Opening Multi Device Flow"),S((0,T.$Z)({channelId:O??"",onConfirm:K=>{let{isMultiDevice:H}=K;return S(P({...k,markTelemeter:!1,isMultiDevice:H}))}}));return}return L&&O===L&&b===A.RJ.STARTED?((0,o.Ay)({getState:R}).info(y,"User attempted to start ongoing huddle again. Aborting."),s.S.resolve()):((0,o.Ay)({getState:R}).info(y,"Joining Huddle through Shouty Rooster"),S(P({...k,markTelemeter:!0})))});E.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"};const M=E},5613673538:(N,g,e)=>{"use strict";e.d(g,{A:()=>ae});var t=e(92886754),s=e(3134334389),o=e(7173172014),n=e(3078708518),c=e(8739505998),i=e(825587348),r=e(8668318456),a=e(7171435821),l=e(6471059816),d=e(9506008067),u=e(4761125736),f=e(3051824855);const m=new l.Ay("huddles");function h(le){let{closeModal:fe}=le;const he=(0,d.d4)(n.A),ie=(0,d.d4)(w=>(0,u._Z)(w,"adoption_instant_slack"))==="treatment";let X,j;if((0,t.yh)())X=m.t("Your browser does not support Huddles"),j=he&&ie?m.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},w=>{let{text:Q}=w;return s.createElement(c.A,{href:"https://www.google.com/chrome"},Q)}):m.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},w=>{let{tag:Q,text:G}=w;switch(Q){case"desktop-link":return s.createElement(c.A,{href:`https://${(0,a.qF)()}/downloads`},G);case"chrome-link":return s.createElement(c.A,{href:"https://www.google.com/chrome"},G);default:return null}});else if((0,t.WT)())X=m.t("Please update Slack"),j=m.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return s.createElement(o.A,{eventId:r.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:r.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},s.createElement(i.A,{onClose:fe,onSubmit:fe,showCancelButton:!1,showSubmitButton:!0,title:X,submitButtonText:m.t("OK")},j))}_(h,"HuddleUnsupportedAlert"),h.displayName="HuddleUnsupportedAlert";const v=(0,f.e)(h);var p=e(1545824888),T=e(6304789565),A=e(5881236351),C=e(5378147939),I=e(6758774099),D=e(8847766420),y=e(1289024643),P=e(7304871158);const E=(0,T.Ay)("End active call",(le,fe)=>{const he=(0,y.J2)(fe());if(he){const ie=(0,y.Ms)(he);ie&&!ie.isClosed()&&(0,P.R)(ie,"endActiveCall")}});E.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var M=e(9640070512),S=e(2527782504),R=e(2832209848),k=e(7843142872),O=e(7384121809),U=e(9548972574),W=e(8935621861),x=e(5332875232),L=e(5795074931),b=e(2791814261),F=e(5286203919),B=e(9712681361),K=e(7723800688),H=e(56548687),Y=e(6470070112),Z=e(6290537170),V=e(5470425448),ne=e(5071086688),q=e(4250409994),me=e(6815073048);const ue=(0,T.Ay)("Start huddle",async(le,fe,he)=>{let{channelId:ie,threadTs:X,muted:j,callId:w,forceFocus:Q,entryPoint:G=B.su.UNKNOWN,isMultiDevice:J,isStandaloneHuddle:te}=he;const se=fe(),ce=(0,Z.Vo)(se),Ee=(0,u._Z)(se,"hide_all_sidebars")==="on";if(!ce&&!Ee?(0,O.dispatchForClientStore)((0,q.t2)(!0)):(0,O.dispatchForClientStore)((0,q.t2)(!1)),le(E()),le((0,I.Lm)(!1)),le((0,I.T3)()),(0,t.WT)()||(0,t.yh)())return le(v()),p.S.resolve();le((0,k.g6)({experimentHuddlesDiscoveryCallsGroupTreatment:(0,x.Ms)(se),interactionType:R.X8.Click}));const de=(0,b.L)(se),re=(0,D.ZT)(se);(0,me.A)().initializeTraces({teamId:re,isTinySpeck:de});const _e=!!(0,F.gj)((0,O.Ry)()),ve=await W.A.getInstance().getNearestChimeMediaRegion(re),{ttiTrace:ge,huddleEventsTrace:Le}=(0,me.A)().getAllTraceHandlers();ge.addTTIMetaTags({entryPoint:G,preferredMediaRegion:ve,isPrejoin:_e,isCreate:!(0,U.Yw)(se,ie)}),Le==null||Le.recordEntryPoint(G),ne.A.publish({type:V.lx.PreferredMediaRegion,update:{mediaRegionPreferred:ve}});const ke=(0,C.A)(),Ke=(0,L.WR)(se);return ke.start(re,ie??"",j,w,X,J,te).then(async()=>{const Ne=(0,O.Ry)(),Re=(0,Y.$t)(se,{huddleId:w}),xe=(0,Y.kn)(Ne),We=(0,Y.UE)(Ne);(0,H.e)({state:se}).track(r.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:G,ui_properties:{element_name:K.Hi.CANVAS_JOIN},action:r.UiAction.TOGGLE},calls:We},...Re,...xe}),le((0,M.H)({focusKey:S.Ay.HUDDLE_SIDEBAR_FOOTER,forceFocus:Q})),le((0,A.xb)(!1)),w&&le((0,y.r_)({callId:w,userId:Ke}))})});ue.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};const ae=ue},5319025363:(N,g,e)=>{"use strict";e.d(g,{z:()=>n});var t=e(6304789565),s=e(7022928841),o=e(8664881451);const n=(0,t.Ay)("Stop the huddle invite sound",(c,i)=>{(0,o.ds)((0,s.qF)(i()),{logFailure:!1})});n.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},6694086724:(N,g,e)=>{"use strict";e.d(g,{e:()=>l});var t=e(6304789565),s=e(337319621),o=e(4869203191),n=e(4250409994),c=e(7384121809),i=e(5286203919),r=e(7434063642),a=e(6251210828);const l=(0,t.Ay)("Stops huddle lounge music from playing",(d,u,f)=>{let{clearOnEndedCallback:m,logContext:h,isStoppedByUser:v}=f;const p=u(),T=(0,s.Ay)({state:p}),A=(0,a.jr)(p),C=(0,a.K8)(p),I=(0,c.Ry)(),D=(0,i.E9)(I);o.Ay.getInstance().stopMusic({clearOnEndedCallback:m,logger:T,logContext:h}),(0,c.dispatchForClientStore)((0,n.Ag)(!1)),v&&D&&d((0,r.sH)({huddleId:D,hasUserStoppedLoungeMusic:v})),(v||C)&&A&&d((0,r.ju)({stopMusic:!0}))});l.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},6134475965:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(6304789565),s=e(5378147939),o=e(7384121809),n=e(6694086724),c=e(6855917924),i=e(5332875232),r=e(4250409994),a=e(7366481123);const l=(0,t.Ay)("Stop the active huddle",(u,f)=>{const m=f(),h=(0,i.lV)(m);return(0,o.dispatchForClientStore)((0,r.yi)({})),u((0,c.A)()),u((0,n.e)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),h&&(0,o.dispatchForClientStore)((0,r.JM)()),u((0,a.LL)(a.vT.HiddenUserJoinedHuddle)),(0,s.A)().stop()});l.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"};const d=l},6310192986:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>w,vP:()=>ie});var t=e(6313685253),s=e(9137897911),o=e(3398586081),n=e(716022512),c=e(6696292586),i=e(4518410378),r=e(9548972574),a=e(8233775522),l=e(6470070112),d=e(9323322135),u=e(5286203919),f=e(4988306802),m=e(9012396182),h=e(9101533895),v=e(7384121809),p=e(2767624118),T=e(6664301844),A=e(7429662208),C=e(387328355),I=e(1990810649),D=e(9365970888),y=e(6117529990),P=e(8736071954),E=e(610288365),M=e(5332875232),S=e(6251210828),R=e(2465464861),k=e(4094753332),O=e(9195837907),U=e(1473609332),W=e(3193155968),x=e(6839188756);function L(Q){return Q?(0,x.tc)(Q)?"free":(0,x.r7)(Q)?"enterprise":"pro":"unknown"}_(L,"getTeamTier");var b=e(1670069836),F=e(2878685908),B=e(4761125736),K=e(415910655),H=e(5795074931),Y=e(7366481123),Z=e(1917379822),V=e(6148781344),ne=e(1183664059);const q=navigator.hardwareConcurrency,me=(0,k.zS)(),ue=(0,F.b3)(),ae=(0,F.$i)(),le=_(Q=>(0,t.A)(Q,(G,J,te)=>{if(te===W.N2)return G;const se=te.split(/-|_/).slice(0,-1).join("-"),ce=(0,s.A)(`windows-${se}-count`);return G[ce]?G[ce]+=1:G[ce]=1,G},{}),"countWindowsByType"),fe=_(Q=>{if(!Q)return"";let G=Q;const J=/Default -/g;G=Q.replace(J,"");const te=/ *?\([^)]*?\) *?/g;return G=G.replace(te,""),G=G.trim(),G},"scrubDeviceLabelForReporting");let he;const ie=_(()=>he,"getMostRecentStableTags"),X=(0,o.A)((Q,G)=>{let{teamState:J,clientState:te}=Q;var se;const ce=(0,u.E9)(te),Ee=(0,u.hc)(te),de=(0,y.OV)(J),re=(0,M.MJ)(J),_e=(0,M.nC)(J),ve=(0,M.ZI)(J),ge=(0,M.lz)(J),Le=T.zF.sdkVersion,ke=(0,l.R8)(J),Ke=(0,M.Qq)(J),Ne=(0,u.sQ)(te),Re=(0,M.Jf)(J),xe=(0,M.Ml)(J),We=(0,B._Z)(J,"huddles_filter_worker",!1),$=(0,u.l4)(te),ee=(0,b.H7)(J),Ve=L(ee);var ze;const st=(ze=(se=(0,m.getBootedWorkspaces)(te))===null||se===void 0?void 0:se.length)!==null&&ze!==void 0?ze:0,Ge=(0,h.D5)(J),be=(Ge==null?void 0:Ge.length)||0,Se=(0,K.s2)()||{},we={teamId:$,huddleId:ce,huddleChannelId:Ee,workspaceCount:st,chimeSdkVersion:Le,teamTier:Ve,isPreWarmed:Ke,isPrejoin:Ne,isHuddlesIncreaseMaxParticipantsEnabled:_e,isTranscriptAllowed:ke,isChimeSdkExpEnabled:de,isHuddlesLaterEnabled:re,isVideoQualityIncreaseEnabled:Re,isPerfMetricsAveragesEnabled:xe,isDevicesExpEnabled:ve,osVersion:me,envIsJsPath:ue,envIsQa:ae,xwsChannelCount:be,filterWorkerGroup:We,isFilterWorkerEnabled:ge,...Se};return he=we,we},(Q,G)=>G),w=_(Q=>{let{state:G,appMetrics:J}=Q;var te,se,ce,Ee,de,re,_e,ve;const ge=(0,v.en)().getState(),Le=(0,u.cN)(ge),ke=(0,u.E9)(ge),Ke=`${Le}${ke??""}`,Ne=X({teamState:G,clientState:ge},Ke),{huddleId:Re,huddleChannelId:xe,workspaceCount:We}=Ne,$={},ee=(0,A.e6)(G),Ve=ee?(0,A.Le)(G,{tab:ee}):{},{primary:ze,secondary:st,sidebar:Ge}=Ve||{};Object.assign($,{viewPrimary:ze==null?void 0:ze.viewType,viewSecondary:st==null?void 0:st.viewType,viewSidebar:Ge==null?void 0:Ge.viewType,viewTab:ee});const be=(0,D.Hc)(G),Se=(0,D.AZ)(G),we=(0,D.IO)(G),Ce=(0,D.JM)(G),Te=(0,D.SR)(G),Ye=(0,D.f3)(G),De=(0,D.aA)(G),Pe={microphoneIsBlocked:be,microphoneIsAvailable:Se,cameraIsBlocked:Te,cameraIsAvailable:Ye,isMicrophoneBluetooth:we,isSpeakerBluetooth:Ce,isMicrophoneAndSpeakerOnSameDevice:De},ye=(0,a.fq)(G),He={};if(ye){const mn=Object.keys(ye);Object.assign(He,{windowsTotalOpen:mn.length,windowsOpenTypes:mn.length?mn.join(" "):"",windowsTypeWithFocus:(0,n.A)(ye,hn=>!!hn.isFocused),...le(ye)})}const Qe=(0,l.Fm)(G),dt=Qe&&Qe.type===Y.vT.ConnectionUnstable,Ot=(0,R._R)(G),yt=Ot!==null,Dt={isTroubleshootingPanelOpen:yt,isAudioOnlyModeEnabled:(0,u.Rv)(ge),troubleshootingPanelTab:yt?(0,R.Eh)(G):null,troubleshootingPillPage:(0,R.Wg)(G),troubleshootingEntryPointWas:(0,R.qV)(G),troubleshootingSessionId:yt?`${(0,H.WR)(G)}${Re}:${(0,R.$i)(G)}`:null,troubleshootingBannerInView:dt,troubleshootingSource:Ot},Ct=(0,r.UK)(G),kt=(te=(0,D.ql)(G,P.lW.Camera))===null||te===void 0?void 0:te.label,vt=(se=(0,D.ql)(G,P.lW.Microphone))===null||se===void 0?void 0:se.label,Nt=(ce=(0,D.ql)(G,P.Q4))===null||ce===void 0?void 0:ce.label,{isScreenshareEnabled:It,isHostDrawEnabled:At,isHostDrawRendererActive:Zt,isCameraEnabled:jt,isMicrophoneEnabled:Ht,isConnected:Pt}=(0,C.Ng)(G),Ft=!!It,En=!!jt,Rt=(0,C.fU)(G,{id:"self"}),rn=(0,C.MY)(G),nn=rn==="self",at=Ct.filter(mn=>mn.isCameraEnabled).length,tt=(0,p.H)(xe),ft=(0,U.Bh)(),wt=En&&(ft==null||(Ee=ft.video)===null||Ee===void 0?void 0:Ee.effect)===O.t.Blur,Jt=!!(!(ft==null||(de=ft.audio)===null||de===void 0)&&de.enableNoiseSuppression),sn=Jt&&nn,z=En&&(ft==null||(re=ft.video)===null||re===void 0?void 0:re.effect)===O.t.Background&&(ft==null||(_e=ft.video)===null||_e===void 0?void 0:_e.effectBgKey)!==void 0,Me=!!rn,Be=!!at,Lt=(0,C.nD)(G).length,Bt=!!Lt,Yt=Lt+(Ft?1:0),on=Yt===2,An=Bt||Ft,Sn=(0,R.gA)(G),In=(0,f.VN)(G),Pn=(0,f.M3)(G),bn=Me?(ve=Ct.find(mn=>mn.id===rn))===null||ve===void 0?void 0:ve.userId:void 0,wn=(0,S.dj)(G,{huddleId:Re})||!1,qn=(0,D.dM)(G),kn=(0,D.RL)(G),Dn=(0,Z.$S)(),Un=(Dn==null?void 0:Dn.microphoneCount)||0,Hn=(Dn==null?void 0:Dn.speakerCount)||0,jn=(Dn==null?void 0:Dn.cameraCount)||0,Jn=(Dn==null?void 0:Dn.totalRecords)||0,ln=(Dn==null?void 0:Dn.webAudioDevices)||0,ss=(Dn==null?void 0:Dn.webAudioSelectedDevices)||0,vs=(Dn==null?void 0:Dn.webAudioUsedDevices)||0,Zn=(0,V.p)().getDeviceChangeCountsAtStartOfHuddle(),Rn=Zn.audioInputDevicesChangedAtStartOfHuddleCount,Wn=Zn.audioOutputDevicesChangedAtStartOfHuddleCount,es=Zn.videoInputDevicesChangedAtStartOfHuddleCount,Gn=(0,ne._)(),_s=Gn.hasSelfAudioBeenDetected(),ds=Gn.getSelfAudioDetectionTime(),Wt=Gn.hasRemoteAudioBeenDetected(),et=Gn.getRemoteAudioDetectionTime(),ot=Gn.haveBothSidesBeenDetected(),ut=i.J.document.visibilityState==="visible",pt={isBackgroundBlurActive:wt,isNoiseSuppressionEnabled:Jt,isNoiseSuppressionActive:sn,isCustomVideoBackgroundActive:z,isClosedCaptionsEnabled:In,isSideBySideCaptionsEnabled:Pn},Et={callId:ke,isMicrophoneEnabled:Ht,isActiveSpeaker:nn,isSomeoneSpeaking:Me,isSomeoneSharingScreen:An,isVideoEnabledForSomeone:Sn,isSharingScreen:Ft,isHostDrawEnabled:At,isHostDrawActive:Zt,isSelfVideoEnabled:En,isPeerVideoEnabled:Be,isHuddleWindowVisible:tt,selectedCamera:fe(kt),selectedMicrophone:fe(vt),selectedSpeakers:fe(Nt),activeSpeakerUserId:bn,isPeerSharingScreen:Bt,isDualScreenshareActive:on,cpuCount:q,remotePeerCount:Ct.length,remotePeersWithVideoCount:at,peersScreensharingCount:Lt,activeScreenshareCount:Yt,workspaceCount:We,huddleStartTimestamp:Le,isDisconnected:Pt===!1,isMainWindowVisible:ut,isHuddleSummaryActive:wn,audioInitPossiblyFailed:qn,audioInitTime:kn,deviceRecordsAudioInputCount:Un,deviceRecordsAudioOutputCount:Hn,deviceRecordsCameraCount:jn,deviceRecordsTotalCount:Jn,deviceRecordsWebAudioCount:ln,deviceRecordsWebAudioSelectedCount:ss,deviceRecordsWebAudioUsedCount:vs,earlyDeviceChangeAudioInputCount:Rn,earlyDeviceChangeAudioOutputCount:Wn,earlyDeviceChangeCameraCount:es,selfAudioDetected:_s,selfAudioDetectionTime:ds,remoteAudioDetected:Wt,remoteAudioDetectionTime:et,bothSidesAudioDetected:ot};let Gt={};if(J){const{cpu:mn,memory:hn,gpu:Ln,thermalState:dn,speedLimit:Fn}=J,ts=(0,c.A)(mn)?Math.round(mn*q):void 0,zn=(0,c.A)(Ln)?Math.round(Ln*q):void 0,as=(0,d.oQe)("settings")||{};Gt={cpuUseRelative:mn?Math.round(mn):void 0,cpuUse:ts,gpuUse:zn,memoryUse:(hn==null?void 0:hn.workingSetSize)||void 0,isHardwareAccelerationEnabled:!!as.useHwAcceleration,osThermalState:dn,osSpeedLimit:Fn,osIsThrottlingCpu:(0,c.A)(Fn)&&Fn!==0?Fn<30:void 0}}let $e={huddleViewMode:(0,S.HH)(G,{huddleId:Re})};if(tt){var oe;const mn=(0,S.Ec)(G,{huddleId:Re}),hn=(0,S.SC)(G,{huddleId:Re,surface:mn});$e={...$e,huddleWindowSurface:mn,huddleWindowFocusedContentType:(Rt==null||(oe=Rt.item)===null||oe===void 0?void 0:oe.type)||I.cM.None,huddleWindowIsFullscreen:(0,S.g0)(G),huddleWindowIsSelfDrawingEnabled:(0,S.ny)(G),huddleWindowWindowHeight:hn==null?void 0:hn.height,huddleWindowWindowWidth:hn==null?void 0:hn.width}}const Ae=(0,E.Ay)(),Oe={batteryIsUsing:Ae.isUsingBatteryPower(),batteryPercentRemaining:Ae.getLevel()},{osIsThrottlingCpu:Fe,osThermalState:Ze}=Gt,{batteryIsUsing:rt,batteryPercentRemaining:Tt}=Oe,$t={powerThrottlingActive:!!Fe&&!!rt&&(0,c.A)(Tt)&&Tt<100,thermalThrottlingActive:!!Fe&&(Ze==="critical"||Ze==="serious")};return{...Et,...pt,...Gt,...$e,...$,...Pe,...Oe,...Dt,...He,...Ne,...$t}},"getHuddleStateSnapshot")},4742719639:(N,g,e)=>{"use strict";e.d(g,{o:()=>c});var t=e(2384831516),s=e(9548972574),o=e(8847766420),n=e(6741408957);const c=(0,t.Mz)((i,r)=>{const a=(0,s.dy)(i);if(a)return a;const l=(0,s.Yw)(i,r);if(!l)return null;const d=(0,o.ZT)(i);return l.name===void 0?((0,n.Ss)().fetchObjectWithId(d,l.id),null):((0,n.GD)().maybeRefetch(d,l.id),l.name)});c.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(i,r)=>{const a=(0,s.dy)(i);if(a)return a;const l=(0,s.Yw)(i,r);if(!l)return null;const d=(0,o.ZT)(i);return l.name===void 0?((0,n.Ss)().fetchObjectWithId(d,l.id),null):((0,n.GD)().maybeRefetch(d,l.id),l.name)}}},1921074781:(N,g,e)=>{"use strict";e.d(g,{F:()=>c});var t=e(8571983633),s=e(1545824888),o=e(337319621),n=e(2778217221);class c{static getInstance(){if(!c.wakeLockManager)try{c.wakeLockManager=new c}catch(r){(0,o.Wo)({label:n.o7}).warn("Error instantiating WakeLockManager,",r.message)}return c.wakeLockManager}static doesInstanceExist(){return!(0,t.A)(c.wakeLockManager)}async request(){if(this.wakeLockSentinel)return s.S.resolve();this.wakeLockSentinel=await this.wakeLock.request("screen").catch(r=>(this.logger.warn("WakeLock acquire failed",r.message),null)),this.addHandlers()}async release(){if(!this.wakeLockSentinel)return s.S.resolve();this.shouldRemoveVisibilityHandler=!0,await this.wakeLockSentinel.release(),this.logger.info("WakeLock released")}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}async handleWakeLockReleased(){this.logger.info("WakeLock released by browser"),this.cleanupHandlers()}async handleDocumentVisibilityChange(){document.visibilityState==="visible"&&this.request()}constructor(){if(this.logger=(0,o.Wo)({label:n.o7}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}_(c,"WakeLockManager")},8478954380:(N,g,e)=>{"use strict";e.d(g,{Li:()=>m,ML:()=>c,Rt:()=>r,_6:()=>f,aS:()=>a,al:()=>i,bW:()=>d,it:()=>u,qO:()=>l});var t=e(2140362605),s=e(6304789565),o=e(5071086688),n=e(5470425448);const c=(0,t.Ay)("Update the state of the active tab in the huddle troubleshooting panel");c.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveAccordionViewTrace",description:"Update the state of the active tab in the huddle troubleshooting panel"};const i=(0,t.Ay)("Makes troubleshoot panel V2 visible in source view or clears it");i.meta={name:"createAction",key:"createActionsetTroubleshootingSource",description:"Makes troubleshoot panel V2 visible in source view or clears it"};const r=(0,s.Ay)("Set the screen sharing of a peer.",(h,v,p)=>{o.A.publish({type:n.lx.TroubleshootingEntryPoint,update:(p==null?void 0:p.entryPoint)||null}),h(i(p))});r.meta={name:"createThunk",key:"createThunksetTroubleshootingSourceWithTrace",description:"Set the screen sharing of a peer."};const a=(0,t.Ay)("Sets active pill page for tracing.");a.meta={name:"createAction",key:"createActionsetTroubleshootingPillPageTrace",description:"Sets active pill page for tracing."};const l=(0,t.Ay)("Update stable metrics state");l.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const d=(0,t.Ay)("Update unstable metrics and warnings state");d.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const u=(0,t.Ay)("Update stable warnings state");u.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const f=(0,t.Ay)("Update stable alert state");f.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const m=(0,t.Ay)("Update unstable alert state");m.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},2465464861:(N,g,e)=>{"use strict";e.d(g,{$i:()=>d,Eh:()=>r,FP:()=>T,Ku:()=>C,Wf:()=>p,Wg:()=>l,Z8:()=>i,_R:()=>a,cB:()=>h,gA:()=>I,h:()=>v,m:()=>A,qV:()=>u});var t=e(3009309149),s=e(9392104102),o=e(6790819894),n=e(7091646278),c=e(387328355);const i=3,r=(0,t.Ay)(D=>D.huddleTroubleshooting.view.activeAccordionView);r.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveAccordionView",description:D=>D.huddleTroubleshooting.view.activeAccordionView};const a=(0,t.Ay)(D=>D.huddleTroubleshooting.view.source);a.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelSource",description:D=>D.huddleTroubleshooting.view.source};const l=(0,t.Ay)(D=>D.huddleTroubleshooting.view.activePillPage);l.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPillPageTrace",description:D=>D.huddleTroubleshooting.view.activePillPage};const d=(0,t.Ay)(D=>D.huddleTroubleshooting.view.source?D.huddleTroubleshooting.view.openCounter:-1);d.meta={name:"createSelector",key:"createSelectorgetTroubleshootingSessionCounterIdTrace",description:D=>D.huddleTroubleshooting.view.source?D.huddleTroubleshooting.view.openCounter:-1};const u=(0,t.Ay)(D=>D.huddleTroubleshooting.view.entryPoint);u.meta={name:"createSelector",key:"createSelectorgetTroubleshootingEntryPointTrace",description:D=>D.huddleTroubleshooting.view.entryPoint};const f=(0,t.Ay)(D=>D.huddleTroubleshooting.view.alertCount>=i);f.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:D=>D.huddleTroubleshooting.view.alertCount>=i};const m=(0,t.Ay)(D=>D.huddleTroubleshooting.metrics.stable);m.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:D=>D.huddleTroubleshooting.metrics.stable};const h=(0,t.Ay)(D=>D.huddleTroubleshooting.metrics.unstable);h.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:D=>D.huddleTroubleshooting.metrics.unstable};const v=(0,t.Ay)(D=>D.huddleTroubleshooting.warnings.stable);v.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:D=>D.huddleTroubleshooting.warnings.stable};const p=(0,t.Ay)(D=>D.huddleTroubleshooting.warnings.unstable);p.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:D=>D.huddleTroubleshooting.warnings.unstable};const T=(0,t.Ay)(D=>D.huddleTroubleshooting.alerts.stable);T.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:D=>D.huddleTroubleshooting.alerts.stable};const A=(0,t.Ay)(D=>D.huddleTroubleshooting.alerts.unstable);A.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:D=>D.huddleTroubleshooting.alerts.unstable};const C=(0,o.F)(D=>T(D)||s.t0,D=>A(D)||s.t0,D=>v(D)||s.t0,(D,y,P)=>{const{isMicrophoneBlocked:E,isCameraBlocked:M,isDisconnected:S,isMicrophoneNotSendingAudio:R,isPowerThrottlingActive:k}=D,{isAudioQualityPoor:O,isCpuCompetitionPoor:U,isNetworkQualityPoor:W,networkQualityHealth:x}=y,{isSpeakerBluetooth:L,isHardwareAccelerationDisabled:b}=P,F=!!(O&&W),B=!!(O&&(U||k)),K=!!(L&&O||M||E||R),H=!!(F||B||M||E||R||S),Y=O||S?n.bz.Bad:x,Z=U||k||b?n.bz.Warn:n.bz.Good;return{shouldSurfaceGeneralWarning:H,shouldSurfaceSystemWarning:B,shouldSurfaceDevicesWarning:K,aggregateNetworkHealth:Y,aggregateSystemHealth:Z}}),I=(0,o.F)(c.Ng,c.nt,(D,y)=>{const{isCameraEnabled:P}=D;return!!(P||y)})},7091646278:(N,g,e)=>{"use strict";e.d(g,{ML:()=>s,bz:()=>o,pK:()=>t});var t;(function(n){n.Network="network",n.System="system",n.Devices="devices",n.Overview="overview"})(t||(t={}));var s;(function(n){n.EnlargedWindow="EnlargedWindow",n.CompactWindow="CompactWindow",n.MiniPlayer="MiniPlayer"})(s||(s={}));var o;(function(n){n.Good="good",n.Warn="warn",n.Bad="bad"})(o||(o={}))},7763971809:(N,g,e)=>{"use strict";e.d(g,{V:()=>t});const t="identity_links_prefs"},2239896522:(N,g,e)=>{"use strict";e.d(g,{IC:()=>a,Kb:()=>m,LG:()=>h,R1:()=>u,SU:()=>v,Xe:()=>f,bm:()=>d});var t=e(6790819894),s=e(3009309149),o=e(2047021170),n=e(8847766420),c=e(5597672932),i=e(337319621),r=e(7763971809);const a=(0,t.F)(p=>(0,o.ty)(p,r.V),p=>(0,n.ZT)(p),function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",T=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(p)}catch(A){return(0,i.Ay)({teamId:T}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",A),{}}}),l=(0,s.Ay)(p=>(0,c.xp)(p,r.V));l.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:p=>(0,c.xp)(p,r.V)};const d=(0,s.Ay)(p=>{const T=l(p);var A;return(A=T==null?void 0:T.is_enabled)!==null&&A!==void 0?A:!1});d.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:p=>{const T=l(p);var A;return(A=T==null?void 0:T.is_enabled)!==null&&A!==void 0?A:!1}};const u=(0,s.Ay)((p,T)=>{const A=a(p);var C;return(C=A==null?void 0:A[T])!==null&&C!==void 0?C:!1});u.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(p,T)=>{const A=a(p);var C;return(C=A==null?void 0:A[T])!==null&&C!==void 0?C:!1}};const f=(0,s.Ay)((p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.date_opted_out)!==null&&C!==void 0?C:null});f.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.date_opted_out)!==null&&C!==void 0?C:null}};const m=(0,s.Ay)((p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.completed_transfer)!==null&&C!==void 0?C:!1});m.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.completed_transfer)!==null&&C!==void 0?C:!1}};const h=(0,s.Ay)((p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.num_skipped)!==null&&C!==void 0?C:0});h.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.num_skipped)!==null&&C!==void 0?C:0}};const v=(0,s.Ay)((p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.date_disconnected)!==null&&C!==void 0?C:null});v.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(p,T)=>{const A=u(p,T);var C;return(C=A==null?void 0:A.date_disconnected)!==null&&C!==void 0?C:null}}},1469799399:(N,g,e)=>{"use strict";e.d(g,{C:()=>d});var t=e(3134334389),s=e(6304789565),o=e(337319621),n=e(8262898118),c=e(7008286275),i=e(2375333597),r=e(6591744424),a=e(97319433),l=e(2239896522);const d=(0,s.Ay)("Handle a user clicking on an identity link",async(u,f,m)=>{let{url:h,channelId:v}=m;const p=(0,o.Ay)({getState:f}),T=(0,n.ND)(f(),h),A=(0,n.pF)(f(),h),C=(0,r.Z3)(f());if(!(0,n.w$)(f(),h)){window.open(h,"_blank","noopener,noreferrer");return}if(!T){p.error(`error getting appId for domain: ${A}`,h),window.open(h,"_blank","noopener,noreferrer");return}const I=(0,l.SU)(f(),T);if(!C||I){window.open(h,"_blank","noopener,noreferrer");return}if((0,l.Kb)(f(),T)){u((0,a.Ap)({appId:T,url:h,channelId:v,domain:A}));return}if((0,l.Xe)(f(),T)===null){u((0,i.q)({element:t.createElement(c.A,{appId:T,domain:A,url:h,channelId:v}),isStackable:!0}));return}window.open(h,"_blank","noopener,noreferrer")});d.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},97319433:(N,g,e)=>{"use strict";e.d(g,{zL:()=>p,Ap:()=>v});var t=e(6304789565),s=e(337319621),o=e(3810796320),n=e(2927826522),c=e(5257368278),i=e(4433296946);const r=(0,c.A)("Get SIWS transfer payload",(A,C,I)=>{let{appId:D,clientMsgId:y,url:P,channelId:E}=I;return A((0,o.o)({appId:D,clientMsgId:y,uri:P,reason:"siws-get-transfer-payload",channelId:E})).then(M=>({...(0,n.t)(M)})).catch(M=>{var S;throw((S=M.data)===null||S===void 0?void 0:S.error)==="invalid_client_cache"&&A((0,i._)()),M})});r.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};const a=r;var l=e(4094753332),d=e(3134334389),u=e(2375333597),f=e(7008286275);const m=(0,t.Ay)("opens the Identity Transfer Modal when we want to Reverify Email",async(A,C,I)=>{let{appId:D,domain:y,url:P,channelId:E}=I;A((0,u.q)({element:d.createElement(f.A,{appId:D,domain:y,url:P,channelId:E,reverifyEmail:!0}),isStackable:!0}))});m.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};const h={window:null,appId:void 0},v=(0,t.Ay)("Fetch and open the initialization URL for an identity link",async(A,C,I)=>{let{appId:D,url:y,domain:P,clientMsgId:E,shouldCloseWindowOnCompletion:M=!1,channelId:S}=I;const R=(0,s.Ay)({getState:C,label:"IDENTITY_LINKS"});let k=null;try{if((0,l.y3)()){const{initiateUrl:O}=await A(a({appId:D,clientMsgId:E,url:y,channelId:S}));window.open(O,"_blank","noopener,noreferrer")}else{k=window.open("","_blank");const{initiateUrl:O}=await A(a({appId:D,clientMsgId:E,url:y,channelId:S}));k.location.href=O,R.info(`opened identity transfer window for appId ${D}`),M&&(h.window=k,h.appId=D)}}catch(O){const U=O==null?void 0:O.data;R.error(`error getting transfer payload for link with appId ${D}`,U==null?void 0:U.error),(U==null?void 0:U.error)===o.V.EmailNotVerified?(k==null||k.close(),A(m({appId:D,channelId:S,domain:P,url:y}))):k?k.location.href=y:window.open(y,"_blank","noopener,noreferrer")}});v.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const p=(0,t.Ay)("Close the browser window used for the identity transfer flow with the given app, if it exists",(A,C,I)=>{let{appId:D}=I;const y=(0,s.Ay)({getState:C,label:"IDENTITY_LINKS"});if(y.info(`checking if there's an identity transfer window to close for appId ${D}`),D&&h.appId===D&&h.window){try{var P,E;h==null||(P=h.window)===null||P===void 0||(E=P.close)===null||E===void 0||E.call(P),y.info(`closed identity transfer window for appId ${D}`)}catch(M){y.error(`error attempting to close identity transfer window for appId ${D}`,M)}h.window=null,h.appId=void 0}});p.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const T={lastOpenedWindowRef:h}},5973312896:(N,g,e)=>{"use strict";e.d(g,{J:()=>r});var t=e(6304789565),s=e(387484329),o=e(337319621),n=e(475074488),c=e(2239896522),i=e(7763971809);const r=(0,t.Ay)("Set all or some identity links user prefs in single call",(a,l,d)=>{let{appId:u,completedTransfer:f,dateOptedOut:m,numSkipped:h,dateLastSkipped:v}=d;const p=(0,c.IC)(l()),T=(0,c.R1)(l(),u);let A="{}";const C={completedTransfer:f,dateOptedOut:m,numSkipped:h,dateLastSkipped:v};try{A=JSON.stringify({...p,[u]:{...T,...(0,n.Ay)(C)}})}catch(I){(0,o.Ay)({getState:l}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",I)}return a((0,s.AZ)({pref:i.V,value:A}))});r.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},4525672255:(N,g,e)=>{"use strict";e.d(g,{E:()=>a});var t=e(6554371307),s=e(6085611183),o=e(337319621),n=e(304127728),c=e(6304789565),i=e(474652310),r=e(832411022);const a=(0,c.Ay)("Fetch lists",async function(l,d){let{query:u,sort:f,reason:m}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const h=await(u?l((0,t.yz)({query:`type:list ${u}`,includeShares:!0,reason:m||"get-lists",bypassCache:!0})):l((0,s.jQ)({module:n.MT.FILES,query:"type:list",sort:f||r.VU.lastRead,reason:m||"get-lists",context:n.Oj.ListsDefault})).then(v=>{let{items:p}=v;return p}));l((0,i.b)({files:h}))}catch(h){(0,o.Ay)({label:"lists"}).error("error fetching lists",h)}});a.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},9174292896:(N,g,e)=>{"use strict";e.d(g,{D:()=>d});var t=e(444762595),s=e(5917710436),o=e(6642124196),n=e(337319621),c=e(6471801899),i=e(6304789565),r=e(8847766420),a=e(9943020700),l=e(4001611198);const d=(0,i.Ay)("Fetch list records",async(u,f,m)=>{let{listId:h,currentUserId:v,archived:p=!1,includeSuggested:T=!1,applyNewHighlight:A=!1,preserveNewHighlight:C=!1}=m;const I=f(),D=(0,r.ZT)(I)||"",y=(0,o.isListsPerfEnabled)(I);try{const E=(await u((0,t.z)({listId:h,reason:p?"get-list-archived-records":"get-list-records",includeSubtasks:!0,archived:p,includeSuggested:T}))).records;(0,l.mY)(D,E.map(R=>R.id),h);const M=(0,s.yJ)({listId:h,state:I}),S=E.map(R=>(0,c.jG)(R,M));return p?u((0,a.yw)({listId:h,records:S})):y?u((0,a.oY)({listId:h,records:S,applyNewHighlight:A,preserveNewHighlight:C,currentUserId:v})):(u((0,a.VV)({listId:h,records:S})),u((0,a.fg)({listId:h,currentUserId:v}))),S}catch(P){(0,n.Ay)({label:"lists"}).error("error fetching list records",P)}return null});d.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},8873215801:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(6304789565),s=e(6485511687),o=e(3603672985),n=e(6259241484);const c=(0,t.Ay)("Close the message pane banner",(r,a,l)=>{r((0,s.a)({action:n.hw.DISMISS,reason:"close-banner",...l})),r((0,o.KT)({spaceName:n.xu.MESSAGE_PANE,channelId:l.channelId}))});c.meta={name:"createThunk",key:"createThunkcloseBanner",description:"Close the message pane banner"};const i=c},2938177083:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>m});var t=e(337319621),s=e(6304789565),o=e(1545824888),n=e(6259241484),c=e(716227588),i=e(3603672985),r=e(7003004874),a=e(7679173189),l=e(1655938719);const d=(0,s.Ay)("record a dismissal on a megaphone notification",(h,v,p)=>{const{spaceName:T,...A}=p,C=p.channelId||p.entityId,I=(0,t.Wo)();if(!T)return I.error(n.cK,"spaceName is required when dispatching recordAndClearNotification."),o.S.resolve();const D=v(),y=(0,c.Hp)(D,T,C);return(0,a.Ay)(C)&&p.entityType==="team"?h((0,i.pn)({spaceName:T,channelId:C})):h((0,i.KT)({spaceName:T,channelId:C})),h((0,r.A)({notificationName:y,...A}))});d.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"};const u=(0,s.Ay)("DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal",async function(h,v){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{megaphoneSpaces:T,channelSpaces:A}=(0,c.NI)(v()),{reload:C}=p;await Promise.all(Object.values(T).filter(I=>!!I).map(I=>h((0,r.A)({notificationName:I.notificationName,action:n.hw.DISMISS})))),await Promise.all(Object.values(A).filter(I=>!!I).map(I=>Promise.all(Object.values(I).map(D=>h((0,r.A)({notificationName:D.notificationName,action:n.hw.DISMISS})))))),C&&h((0,l.AD)({megaphoneReason:"dev-debug-force-refetch"}))});u.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearAllMegaphoneNotifications",description:"DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal"};const f=(0,s.Ay)("DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned",async(h,v,p)=>{const{notificationName:T,spaceName:A,event:C}=p;let I=!1,D=0;for(;!I&&D<10;){const y=(0,c.Hp)(v(),A);await h((0,r.A)({notificationName:y,action:n.hw.DISMISS})),C?await h((0,l.iR)({event:C})):await h((0,l.iR)({event:{type:n.jo.REQUEST_SPACES,spaces:[A]}}));const P=(0,c.Hp)(v(),A);(P===T||!P)&&(I=!0),D+=1}});f.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearSpaceUntilNotificationReturned",description:"DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned"};const m=d},7003004874:(N,g,e)=>{"use strict";e.d(g,{A:()=>u,j:()=>d});var t=e(337319621),s=e(6304789565),o=e(8760181906),n=e(6485511687),c=e(1545824888),i=e(6259241484);const r=(0,s.Ay)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(f,m,h)=>{const{notificationName:v,...p}=h,T=(0,t.Wo)();var A;const C=(A=h.reason)!==null&&A!==void 0?A:"record-notification-event";if(!v)return T.error(i.cK,"notificationName is required when dispatching recordNotificationEvent."),c.S.resolve();const I={notification:v,...p,reason:C};return f((0,n.a)(I))});r.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const a=6e4,l=!1,d=(0,o.Ay)(r,a,l,void 0,!1),u=r},7487228876:(N,g,e)=>{"use strict";e.d(g,{h:()=>n});var t=e(337319621),s=e(6259241484);const o=(0,t.Wo)(),n=_(c=>{let{spaceName:i,notificationName:r}=c;r&&o.error(s.cK,`${r} is not a recognized notification name for space ${i}.`)},"maybeLogUnrecognizedNotification")},1345620242:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3009309149),s=e(8170643398),o=e(8276911661),n=e(3428522109);const c=(0,t.Ay)((r,a)=>{const l=(0,o.nv)(r,a),{status_text_canonical:d}=l.profile;return d?(0,s.UM)(l):(0,n.K)(r,l)?0:(0,s.UM)(l)});c.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(r,a)=>{const l=(0,o.nv)(r,a),{status_text_canonical:d}=l.profile;return d?(0,s.UM)(l):(0,n.K)(r,l)?0:(0,s.UM)(l)}};const i=c},2072540560:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(8086952004),s=e(3009309149),o=e(8276911661),n=e(2334406124),c=e(3428522109);const i=(0,s.Ay)((a,l)=>{const d=(0,o.nv)(a,l),{status_text_canonical:u}=d.profile;if(u){let f;const m=(0,n.A)(a);return m&&(f=((0,t.A)(m,h=>h.canonical===u)||{}).text||null),u.toLowerCase()==="on a call"&&(f=o.Ru.t("On a call")),f||d.profile.status_text||""}return(0,c.K)(a,d)?o.Ru.t("In a huddle"):d.profile.status_text||""});i.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(a,l)=>{const d=(0,o.nv)(a,l),{status_text_canonical:u}=d.profile;if(u){let f;const m=(0,n.A)(a);return m&&(f=((0,t.A)(m,h=>h.canonical===u)||{}).text||null),u.toLowerCase()==="on a call"&&(f=o.Ru.t("On a call")),f||d.profile.status_text||""}return(0,c.K)(a,d)?o.Ru.t("In a huddle"):d.profile.status_text||""}};const r=i},1651628626:(N,g,e)=>{"use strict";e.d(g,{c:()=>d});var t=e(5797466484),s=e(6304789565),o=e(1545824888),n=e(887579008),c=e(9291336591),i=e(4282737224),r=e(2965336964),a=e(8353691456),l=e(3474336343);const d=(0,s.Ay)("Submits changes to the current user\u2019s profile",(u,f,m)=>{let{profile:h,reason:v="submitProfileChange"}=m;if(!(0,t.A)(h))return o.S.resolve();const p={...h},T=f();return h.status_text&&(p.status_text=(0,n.A)(T,h.status_text)),(0,a.F)(T)&&(h!=null&&h.real_name)&&((0,l.lQ)(T)||u((0,i.S)({pref:r.h2,value:!0}))),u((0,c.n)({profile:JSON.stringify(p),reason:v}))});d.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},7651407571:(N,g,e)=>{"use strict";e.d(g,{p:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Upsert fetched ordered membership list for channel");s.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},8188087967:(N,g,e)=>{"use strict";e.d(g,{GD:()=>h,Nd:()=>p});var t=e(3398586081),s=e(1545824888),o=e(7058495549),n=e(8352634987),c=e(7582939986),i=e(337319621),r=e(4949104520),a=e(6304789565),l=e(8847766420),d=e(8760181906),u=e(6533394955),f=e(7651407571);const m=1e4,h=(0,t.A)(()=>new n.Ay({storeKey:"membershipOrdered",fetch:(A,C)=>s.S.all(C.map(I=>(0,u.Qw)(A,T({channelId:I,count:c.Ql})))),isEnabled:()=>!0,metricsName:"member-list"})),v=(0,a.Ay)("marks objects as stale via CFM for Membership List",function(A,C){let{teamId:I,channelId:D}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h().markObjectsAsStale(I,[D])});v.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const p=(0,d.Ay)(v,(0,r.A)(m,0,.5)),T=(0,a.Ay)("Fetches top members for the channel",function(A,C){let{channelId:I,count:D}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.ds)(A,C,I,D).then(y=>{const P=(0,l.ZT)(C());if(!P){(0,i.Wo)().info("MOS","No teamId found");return}return h().markObjectsAsFresh(P,[I]),A((0,f.p)({channelId:I,memberList:y}))})});T.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},1794107122:(N,g,e)=>{"use strict";e.d(g,{$:()=>c});var t=e(9392104102),s=e(3009309149),o=e(8847766420),n=e(8188087967);const c=(0,s.Ay)((i,r)=>{const a=(0,o.ZT)(i);return a&&(0,n.GD)().maybeRefetch(a,r),i&&i.membershipOrdered&&i.membershipOrdered[r]?i.membershipOrdered[r]:t.Ml});c.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(i,r)=>{const a=(0,o.ZT)(i);return a&&(0,n.GD)().maybeRefetch(a,r),i&&i.membershipOrdered&&i.membershipOrdered[r]?i.membershipOrdered[r]:t.Ml}}},6562711329:(N,g,e)=>{"use strict";e.d(g,{z:()=>m});var t=e(7823346015),s=e(8403493408),o=e(1545824888),n=e(1407713935),c=e(8798294025),i=e(6304789565),r=e(8847766420),a=e(6533394955),l=e(5795074931),d=e(9101533895),u=e(3730613858),f=e(2480881364);const m=(0,i.Ay)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(h,v){let{channelId:p,userIds:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=v(),[C,I]=(0,t.A)(T,P=>(0,u.wr)(A,p,P)),D=(0,d.OL)(A,p);if((0,n.LI)(D)){const P=(0,c.e)(D),E=(0,l.WR)(A);(0,s.A)(I,P,E),T!=null&&T.includes(P)&&C.push(P),T!=null&&T.includes(E)&&C.push(E)}const y={};return C.forEach(P=>{y[P]=(0,u.Ql)(A,p,P)}),I.length?(0,a.Qw)((0,r.ZT)(A),(0,f.R)({channelId:p,userIds:I})).then(P=>P&&P.payload&&P.payload.membershipInfo?{membershipInfo:{...P.payload.membershipInfo,...y}}:{membershipInfo:y}):o.S.resolve({membershipInfo:y})});m.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"}},5345057011:(N,g,e)=>{"use strict";e.d(g,{T:()=>s,s:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Add a placeholder to the store");s.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const o=(0,t.Ay)("Remove a placeholder from the store by client_msg_id");o.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},6445408916:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3009309149);const s=(0,t.Ay)(o=>o==null?void 0:o.messagePlaceholders);s.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:o=>o==null?void 0:o.messagePlaceholders}},5774398667:(N,g,e)=>{"use strict";e.d(g,{I:()=>o});var t=e(3009309149),s=e(6445408916);const o=(0,t.Ay)((n,c)=>{var i;return(i=(0,s.A)(n))===null||i===void 0?void 0:i[c]});o.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(n,c)=>{var i;return(i=(0,s.A)(n))===null||i===void 0?void 0:i[c]}}},6347367879:(N,g,e)=>{"use strict";e.d(g,{o:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Start delete animation for a message");s.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"}},1508337910:(N,g,e)=>{"use strict";e.d(g,{h:()=>c});var t=e(3009309149),s=e(9392104102);const o=(0,t.Ay)(r=>r==null?void 0:r.messagesMeta);o.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:r=>r==null?void 0:r.messagesMeta};var n;const c=(0,t.Ay)((r,a)=>{let{channelId:l,ts:d}=a;var u,f;return(n=(u=o(r))===null||u===void 0||(f=u[l])===null||f===void 0?void 0:f[d])!==null&&n!==void 0?n:s.t0});var i;c.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(r,a)=>{let{channelId:l,ts:d}=a;var u,f;return(i=(u=o(r))===null||u===void 0||(f=u[l])===null||f===void 0?void 0:f[d])!==null&&i!==void 0?i:s.t0}}},3521202413:(N,g,e)=>{"use strict";e.d(g,{j:()=>v});var t=e(6304789565),s=e(7606781622),o=e(9101533895),n=e(9629572172),c=e(4096483543),i=e(9121476043),r=e(6347367879),a=e(8233775522),l=e(8726613433);const d=(0,t.Ay)("Checks if the message is in an active view before doing the animation",function(p,T){let{channelId:A,ts:C,threadTs:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3?arguments[3]:void 0;const y=T(),{getViewSet:P}=D(n.U),E=!(0,c.A)()||(0,l.T2)(y),M=(0,a.ko)(y)&&E;var S;const{primary:R}=(S=P(y))!==null&&S!==void 0?S:{},k=R==null?void 0:R.id,O=_(()=>p((0,r.o)({channelId:A,ts:C})),"doAnimation");if(M&&k===A){O();return}p((0,i.A)({channelId:A,ts:C,threadTs:I}))});d.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};const u=d;var f=e(1484767411),m=e(1508337910),h=e(337319621);const v=(0,t.Ay)("Delete a message by channel ID and timestamp",function(p,T){let{deleted_ts:A,channel:C,_from_evt_log:I,previous_message:D}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var y;const P=T(),E=(0,h.Ay)({state:P});if(!A){E.error("Error in messageDeleted: no deleted_ts");return}if(!((0,o.gT)(P,C)&&(0,o.OL)(P,C))){E.error(`Unknown channelId: ${C}`);return}if((y=(0,m.h)(P,{channelId:C,ts:A}))===null||y===void 0?void 0:y.isDeleting)return;const R=!1,O=(0,s.Ld)(P,C,A,R)||D;p(O?u({channelId:C,ts:A,threadTs:O.thread_ts,fromEvtLog:I}):(0,i.A)({channelId:C,ts:A})),p((0,f.o)({channelId:C,ts:A}))});v.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"}},5688490863:(N,g,e)=>{"use strict";e.d(g,{J_:()=>a,QI:()=>h,Up:()=>c,V1:()=>m,Zs:()=>r,iN:()=>n,m3:()=>i,oh:()=>u,qA:()=>d,qj:()=>f,yw:()=>l});var t=e(9392104102),s=e(3009309149);const o=(0,s.Ay)(v=>v.modernSelling.salesListViews);o.meta={name:"createSelector",key:"createSelectorgetSalesListViews",description:v=>v.modernSelling.salesListViews};const n=(0,s.Ay)(v=>o(v).listViewActiveObjectOption);n.meta={name:"createSelector",key:"createSelectorgetListViewActiveObjectOption",description:v=>o(v).listViewActiveObjectOption};const c=(0,s.Ay)(v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.listViewSearchResults});c.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.listViewSearchResults}};const i=(0,s.Ay)((v,p)=>{var T;const A=(T=o(v))===null||T===void 0?void 0:T.listViewIdSearchResultsMap;return(A==null?void 0:A[p])||t.t0});i.meta={name:"createSelector",key:"createSelectorgetListViewObjectMapByOrg",description:(v,p)=>{var T;const A=(T=o(v))===null||T===void 0?void 0:T.listViewIdSearchResultsMap;return(A==null?void 0:A[p])||t.t0}};const r=(0,s.Ay)((v,p,T)=>i(v,p)[T]||t.Ml);r.meta={name:"createSelector",key:"createSelectorgetListViewIdsByOrgAndObject",description:(v,p,T)=>i(v,p)[T]||t.Ml};const a=(0,s.Ay)(v=>{var p;return((p=o(v))===null||p===void 0?void 0:p.listViewActiveSearchResultIds)||t.Ml});a.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:v=>{var p;return((p=o(v))===null||p===void 0?void 0:p.listViewActiveSearchResultIds)||t.Ml}};const l=(0,s.Ay)(v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.listViewActiveSearchQuery});l.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.listViewActiveSearchQuery}};const d=(0,s.Ay)(v=>{var p;return((p=o(v))===null||p===void 0?void 0:p.adminSuggestedListViews)||t.Ml});d.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViewsForSidebar",description:v=>{var p;return((p=o(v))===null||p===void 0?void 0:p.adminSuggestedListViews)||t.Ml}};const u=(0,s.Ay)(v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.areAdminSuggestedListViewsForSidebarFresh});u.meta={name:"createSelector",key:"createSelectorgetAreAdminSuggestedListViewsForSidebarFresh",description:v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.areAdminSuggestedListViewsForSidebarFresh}};const f=(0,s.Ay)(v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.adminConfiguredObjects});f.meta={name:"createSelector",key:"createSelectorgetAdminConfiguredObjects",description:v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.adminConfiguredObjects}};const m=(0,s.Ay)(v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.selectedExplorerRowListViewId});m.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewId",description:v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.selectedExplorerRowListViewId}};const h=(0,s.Ay)(v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.selectedExplorerRowListViewType});h.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewType",description:v=>{var p;return(p=o(v))===null||p===void 0?void 0:p.selectedExplorerRowListViewType}}},8149648525:(N,g,e)=>{"use strict";e.d(g,{b:()=>l});var t=e(5104468117),s=e(8956161330),o=e(1190344069),n=e(6304789565),c=e(7146087658),i=e(5688490863),r=e(1670025826),a=e(146149780);const l=(0,n.Ay)("Search list views by query",(d,u,f)=>{let{isFullSearch:m=!1,objectType:h,query:v,salesforceOrgId:p}=f;const T=u(),A=m?t.Iq:t.TD;let C;const I=!(0,s.hx)(T)&&(0,o.ZK)(T);if(h)C=[h];else if(!I){const D=(0,i.qj)(T);D.length&&(C=D.map(y=>y.sobject_api_name))}return d((0,r.R)({limit:A,listviewObjectScopes:C,query:v,sobjects:[{sobjectApiName:"ListView",fields:["Name","LastViewedDate","SobjectType"]}],salesforceOrgId:p,reason:"list_view_search",skipSimpleArraySerializationInGetFormData:I})).then(D=>{let{records:y}=D;const P=y.map(M=>({id:M.value,label:M.label,objectType:M.extras.SobjectType,salesforceOrgId:p})),E=d((0,a.x)({listViews:P,salesforceOrgId:p}));return m&&d((0,c.hA)(E)),P})});l.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search list views by query"}},146149780:(N,g,e)=>{"use strict";e.d(g,{x:()=>o});var t=e(6304789565),s=e(7146087658);const o=(0,t.Ay)("Upsert list views fetched by search or other API",(n,c,i)=>{let{listViews:r,salesforceOrgId:a}=i;const l=[],d={},u={};return r.forEach(f=>{const m=f.id,h=f.objectType;d[m]={id:m,label:f.label,lastViewedDate:f.lastViewedDate,objectType:h,salesforceOrgId:a,url:f.url},u[h]=u[h]||[],u[h].push(m),l.push(m)}),n((0,s.TO)(d)),n((0,s.KT)({salesforceOrgId:a,listViewObjMap:u})),l});o.meta={name:"createThunk",key:"createThunkupsertFetchedListViews",description:"Upsert list views fetched by search or other API"}},2413251042:(N,g,e)=>{"use strict";e.d(g,{KY:()=>c,p$:()=>s,rB:()=>o,x8:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Set whether inverted sidebar was enabled before starting BBM");s.meta={name:"createAction",key:"createActionsetInvertedSidebarInternal",description:"Set whether inverted sidebar was enabled before starting BBM"};const o=(0,t.Ay)("Set whether peeks were enabled on mouse enter before starting BBM");o.meta={name:"createAction",key:"createActionsetPeeksEnabledOnMouseEnterInternal",description:"Set whether peeks were enabled on mouse enter before starting BBM"};const n=(0,t.Ay)("Set what zoom value was set in the client before starting BBM");n.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client before starting BBM"};const c=(0,t.Ay)("Set whether sidebar was visible before starting BBM");c.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Set whether sidebar was visible before starting BBM"}},6303140164:(N,g,e)=>{"use strict";e.d(g,{UY:()=>o,Vb:()=>t,_J:()=>s,xN:()=>n});const t="slack-inverted-sidebar-initial-setting",s="slack-peeks-enabled-on-mouse-enter-initial-setting",o="slack-zoom-initial-setting",n="slack-is-sidebar-visible-initial-setting"},2634578631:(N,g,e)=>{"use strict";e.d(g,{z:()=>s});var t=e(2140362605);const s=(0,t.Ay)("NOOP");s.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"}},4686544804:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(2028988448),s=e(9139930183),o=e(2634578631),n=e(6533394955),c=e(5881327370);const i=0,a=(0,s.Ay)({},i,{storeKey:"noop",persistenceEnabled:!1}).on(o.z,l=>l+1);(0,t.ul)("dispatchNoop",()=>{(0,n.Qw)((0,c.oI)(),(0,o.z)())})},4741050461:(N,g,e)=>{"use strict";e.d(g,{X:()=>n});var t=e(7178970623),s=e(6304789565),o=e(1091269426);const n=(0,s.Ay)("Fetch a user's onboarding data via API",async function(c,i){let{includeTeamData:r,reason:a=""}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=await c((0,t.l)({include_team_data:r,reason:a})),d={...l.user_data,...l.team_data||{}};return c((0,o.Uv)(d)),d});n.meta={name:"createThunk",key:"createThunkfetchAndSetOnboardingData",description:"Fetch a user's onboarding data via API"}},4309043566:(N,g,e)=>{"use strict";e.d(g,{l:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Relay observed overlays state from OverlaysContextProvider to Redux");s.meta={name:"createAction",key:"createActionrelayOverlays",description:"Relay observed overlays state from OverlaysContextProvider to Redux"}},3180420025:(N,g,e)=>{"use strict";e.d(g,{y:()=>i});var t=e(2384831516),s=e(4309043566),o=e(9392104102);const n=o.t0,c={persistenceEnabled:!1,storeKey:"overlays"},i=(0,t.vy)({},n,c).on(s.l,(r,a)=>a)},983004675:(N,g,e)=>{"use strict";e.d(g,{OI:()=>r,cg:()=>o,kK:()=>s,ot:()=>i,qH:()=>c,us:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Sets the current loading state for a channel");s.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const o=(0,t.Ay)("Adds pinned item identifiers for files and messages to list of pinned items");o.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const n=(0,t.Ay)("Remove an item from the pinned items list for a channel");n.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const c=(0,t.Ay)("Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)");c.meta={name:"createAction",key:"createActionprependPinnedItem",description:"Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)"};const i=(0,t.Ay)("Clears the existing pinned items for a channel and sets the loading state");i.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const r=(0,t.Ay)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");r.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},4352409775:(N,g,e)=>{"use strict";e.d(g,{G:()=>r});var t=e(3398586081),s=e(1545824888),o=e(8352634987),n=e(6533394955),c=e(983004675),i=e(6701536972);const r=(0,t.A)(()=>new o.Ay({storeKey:"pins",fetch:(a,l)=>s.S.map(l,d=>((0,n.Qw)(a,(0,c.ot)({channelId:d})),(0,n.Qw)(a,(0,i.b)({channelId:d})))),isEnabled:()=>!0,metricsName:"pins"}))},6247263305:(N,g,e)=>{"use strict";e.d(g,{R:()=>t,b:()=>s});const t={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},s={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},7158699554:(N,g,e)=>{"use strict";e.d(g,{$U:()=>d,A_:()=>u,Wt:()=>f,YG:()=>h,c7:()=>m,jR:()=>l});var t=e(2384831516),s=e(8847766420),o=e(7606781622),n=e(6457401668),c=e(937317117),i=e(4352409775),r=e(6247263305),a=e(4813703725);const l=(0,t.Mz)(function(p,T){let{refetchIfNeeded:A=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(A){const C=(0,s.ZT)(p);(0,i.G)().maybeRefetch(C,T)}return p&&p.pins&&p.pins.pinsByChannel[T]});l.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(p,T){let{refetchIfNeeded:A=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(A){const C=(0,s.ZT)(p);(0,i.G)().maybeRefetch(C,T)}return p&&p.pins&&p.pins.pinsByChannel[T]}};const d=(0,t.Mz)((p,T)=>{var A,C;return p&&p.pins&&p.pins.pinsByChannel[T]?(A=p.pins.pinsByChannel)===null||A===void 0||(C=A[T])===null||C===void 0?void 0:C.length:0});d.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(p,T)=>{var A,C;return p&&p.pins&&p.pins.pinsByChannel[T]?(A=p.pins.pinsByChannel)===null||A===void 0||(C=A[T])===null||C===void 0?void 0:C.length:0}};const u=(0,t.Mz)((p,T)=>p&&p.pins&&p.pins.loadingStateByChannel[T]);u.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(p,T)=>p&&p.pins&&p.pins.loadingStateByChannel[T]};const f=(0,t.Mz)((p,T)=>{let{channelId:A,ts:C}=T;const I=!1,D=(0,o.Ld)(p,A,C,I);if(!D)return!1;if((0,n.m)(D)&&D.comment){const y=(0,c.yd)(p,D.file,D.comment.id);return y?!!(y.pinned_to&&y.pinned_to.includes(A)):!1}return!!(D.pinned_to&&D.pinned_to.includes(A))});f.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(p,T)=>{let{channelId:A,ts:C}=T;const I=!1,D=(0,o.Ld)(p,A,C,I);if(!D)return!1;if((0,n.m)(D)&&D.comment){const y=(0,c.yd)(p,D.file,D.comment.id);return y?!!(y.pinned_to&&y.pinned_to.includes(A)):!1}return!!(D.pinned_to&&D.pinned_to.includes(A))}};const m=_((p,T)=>{switch(T.type){case r.R.MESSAGE:return{...(0,o.Ld)(p,T.channel,T.ts),type:r.R.MESSAGE};case r.R.FILE:return{...(0,c.Lp)(p,T.id),type:r.R.FILE};case r.R.FILE_COMMENT:return{...(0,c.yd)(p,T.fileId,T.id),fileId:T.fileId,type:r.R.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),h=(0,a.eI)((p,T)=>{const A=l(p,T);return A?A.map(C=>m(p,C)):[]}),v=(0,t.Mz)(p=>p&&p.pins&&p.pins.popoverScrollTop);v.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:p=>p&&p.pins&&p.pins.popoverScrollTop}},6701536972:(N,g,e)=>{"use strict";e.d(g,{b:()=>h});var t=e(337319621),s=e(4811981249),o=e(474652310),n=e(6304789565),c=e(8847766420),i=e(6403218297),r=e(4480770083),a=e(10127715),l=e(6247263305),d=e(983004675),u=e(1581380967),f=e(4352409775),m=e(5792544570);const h=(0,n.Ay)("Fetch pinned items list for channel",(v,p,T)=>{const A=T.channelId;return v((0,d.kK)({loadingState:l.b.LOADING,channelId:A})),v((0,s.xs)({reason:"fetchPinsList",...T})).then(function(){let{items:C}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const I=C.filter(P=>P.type.includes(l.R.FILE)).map(P=>{if(P.type===l.R.FILE_COMMENT){const{comment:E,file:M,...S}=P,R=(0,i.A)(E,M);return{...S,file:R}}return P}),D=C.filter(P=>P.type===l.R.MESSAGE);if(I.length){const P=I.filter(M=>M.type!==l.R.FILE_COMMENT),E=I.filter(M=>M.type===l.R.FILE_COMMENT);v((0,o.b)({files:P.map(M=>M.file)})),v((0,o.b)({files:E.map(M=>M.file)}))}if(D.length){const P=D.map(M=>{let{message:S}=M;return S}),E=v((0,r.A)({imsgs:P,channelId:A}));v((0,a.Kc)(E))}v((0,u.K)({channelId:A,count:C.length})),v((0,d.cg)({items:C.map(m.B),channelId:A})),v((0,d.kK)({loadingState:l.b.LOADED,channelId:A}));const y=(0,c.ZT)(p());(0,f.G)().markObjectsAsFresh(y,[A])}).catch(C=>{throw v((0,d.kK)({loadingState:l.b.NOT_LOADED,channelId:A})),(0,t.Ay)({getState:p}).error(`Error in fetchPinsList: ${JSON.stringify(C)}`),C})});h.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},1581380967:(N,g,e)=>{"use strict";e.d(g,{K:()=>r});var t=e(6304789565),s=e(9606603587),o=e(9101533895),n=e(337319621),c=e(6247263305),i=e(7158699554);const r=(0,t.Ay)("update a pin count for a channel",(a,l,d)=>{let{channelId:u,count:f,forceUpdate:m=!1}=d;const h=l(),v={...(0,o.OL)(h,u)},p=(0,i.jR)(h,u,{refetchIfNeeded:!1}),T=(0,i.A_)(h,u),A=!m&&T===c.b.LOADED?p==null?void 0:p.length:f;if(A===v.pinned_items_count)return;(0,n.Ay)({state:h}).info("PINS",`Pins count updated for channel ${u}: ${A}`);const C={...v,pinned_items_count:A};a((0,s.B)({channel:C}))});r.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},5792544570:(N,g,e)=>{"use strict";e.d(g,{B:()=>s});var t=e(6247263305);const s=_(o=>{switch(o.type){case t.R.MESSAGE:var n;return{type:o.type,channel:o.channel,ts:(n=o.message)===null||n===void 0?void 0:n.ts};case t.R.FILE:var c,i;return{type:o.type,id:o.file?o.file.id:(c=o.files)===null||c===void 0||(i=c[0])===null||i===void 0?void 0:i.id};case t.R.FILE_COMMENT:var r;return{type:o.type,id:o.comment.id,fileId:(r=o.file)===null||r===void 0?void 0:r.id};default:return null}},"formatPinFromAPI")},7665060966:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3009309149),s=e(2047021170);const o=(0,t.Ay)(c=>(0,s.ty)(c,"messages_theme")==="dense"?"dense":"light");o.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:c=>(0,s.ty)(c,"messages_theme")==="dense"?"dense":"light"};const n=o},1317368584:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3009309149),s=e(9599231336),o=e(2047021170),n=e(7665060966);const c=(0,t.Ay)(r=>!(0,s.P)(r)&&!!(0,o.ty)(r,"jumbomoji")&&(0,n.A)(r)!=="dense");c.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:r=>!(0,s.P)(r)&&!!(0,o.ty)(r,"jumbomoji")&&(0,n.A)(r)!=="dense"};const i=c},7520484642:(N,g,e)=>{"use strict";e.d(g,{$n:()=>h,DS:()=>s,Eu:()=>l,JB:()=>m,Lk:()=>v,QU:()=>T,UR:()=>c,Ye:()=>d,aF:()=>p,cl:()=>r,dz:()=>n,gJ:()=>u,mC:()=>i,mo:()=>a,wt:()=>o,zG:()=>f});var t=e(2140362605);const s=(0,t.Ay)("Switch currently active plan");s.meta={name:"createAction",key:"createActionswitchPlans",description:"Switch currently active plan"};const o=(0,t.Ay)("Successfully fetched available plans");o.meta={name:"createAction",key:"createActionplansFetchSuccess",description:"Successfully fetched available plans"};const n=(0,t.Ay)("Successfully fetched cost for current plan");n.meta={name:"createAction",key:"createActioncostFetchSuccess",description:"Successfully fetched cost for current plan"};const c=(0,t.Ay)("Successfully fetched cost for current addon");c.meta={name:"createAction",key:"createActionaddonsCostFetchSuccess",description:"Successfully fetched cost for current addon"};const i=(0,t.Ay)("Received an API error");i.meta={name:"createAction",key:"createActionsetErrorState",description:"Received an API error"};const r=(0,t.Ay)("Plans and cost data loaded");r.meta={name:"createAction",key:"createActionplansAndCostDataLoaded",description:"Plans and cost data loaded"};const a=(0,t.Ay)("Mark plans and cost data as not loaded");a.meta={name:"createAction",key:"createActionmarkPlansAndCostDataAsNotLoaded",description:"Mark plans and cost data as not loaded"};const l=(0,t.Ay)("Set Plan Level");l.meta={name:"createAction",key:"createActionsetPlanLevel",description:"Set Plan Level"};const d=(0,t.Ay)("Set Payment Method");d.meta={name:"createAction",key:"createActionsetPaymentMethod",description:"Set Payment Method"};const u=(0,t.Ay)("Update Is Plans Data Loading");u.meta={name:"createAction",key:"createActionupdateIsPlansDataLoading",description:"Update Is Plans Data Loading"};const f=(0,t.Ay)("Update Is Cost Data Loading");f.meta={name:"createAction",key:"createActionupdateIsCostDataLoading",description:"Update Is Cost Data Loading"};const m=(0,t.Ay)("Load Plans Page Boot Data Success");m.meta={name:"createAction",key:"createActionloadPlansPageBootDataSuccess",description:"Load Plans Page Boot Data Success"};const h=(0,t.Ay)("Mark plans page boot data as not loaded");h.meta={name:"createAction",key:"createActionmarkPlansPageBootDataAsNotLoaded",description:"Mark plans page boot data as not loaded"};const v=(0,t.Ay)("Mark plan payment status data as not loaded");v.meta={name:"createAction",key:"createActionmarkPlanStatusDataAsNotLoaded",description:"Mark plan payment status data as not loaded"};const p=(0,t.Ay)("Set when toggling between base plan and Slack AI on plans page");p.meta={name:"createAction",key:"createActionsetIsSlackAiToggleSelected",description:"Set when toggling between base plan and Slack AI on plans page"};const T=(0,t.Ay)("Team plan status loaded");T.meta={name:"createAction",key:"createActionteamPlanStatusFetchSuccess",description:"Team plan status loaded"}},3810478625:(N,g,e)=>{"use strict";e.d(g,{g:()=>o});var t=e(4761125736),s=e(3009309149);const o=(0,s.Ay)(n=>(0,t._Z)(n,"pnp_e2e",!1)==="on");o.meta={name:"createSelector",key:"createSelectorpnpE2eIsOn",description:n=>(0,t._Z)(n,"pnp_e2e",!1)==="on"}},4005238080:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(6304789565),s=e(165535451),o=e(7520484642);const n=(0,t.Ay)("Load Plans Page Boot Data",i=>(i((0,o.$n)()),i((0,s.ib)()).then(r=>{let a=!0;return r!=null&&r.team_current_product&&r.team_current_product!==""&&(a=!1),i((0,o.aF)({isSelected:a})),i((0,o.JB)(r))})));n.meta={name:"createThunk",key:"createThunkloadPlansPageBootData",description:"Load Plans Page Boot Data"};const c=n},962959561:(N,g,e)=>{"use strict";e.d(g,{L9:()=>p,aJ:()=>h,dF:()=>u,jv:()=>v,s:()=>A});var t=e(9323322135),s=e(6839188756),o=e(6323355797),n=e(3009309149),c=e(4761125736),i=e(1960898919),r=e(7268021173),a=e(9360742940),l=e(1670069836);const d=[{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.MessageLimit},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.Vhq},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.Canvas},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.SharedChannels},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.List},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.WorkflowBuilder},{promoType:o.ZO.PaidFeatureTrial,promoSubtype:o.zG.SlackAI},{promoType:o.ZO.GlobalEntrypointTrial},{promoType:o.ZO.SolutionsGalleryPromo,promoSubtype:o.zG.SolutionsGalleryInProduct}],u=(0,n.Ay)(C=>(0,a.Ii)(C));u.meta={name:"createSelector",key:"createSelectorisEligibleForAutoChargeTrialExperiment",description:C=>(0,a.Ii)(C)};const f=(0,n.Ay)(C=>d.some(I=>{let{promoType:D,promoSubtype:y}=I;return(0,r.G)(C,D,y)}));f.meta={name:"createSelector",key:"createSelectorisCurrentTrialEligiblePromoCampaign",description:C=>d.some(I=>{let{promoType:D,promoSubtype:y}=I;return(0,r.G)(C,D,y)})};const m=(0,n.Ay)(C=>d.some(I=>{let{promoType:D,promoSubtype:y}=I;return(0,r.hq)(C,D,y)}));m.meta={name:"createSelector",key:"createSelectorisEligiblePromoCampaign",description:C=>d.some(I=>{let{promoType:D,promoSubtype:y}=I;return(0,r.hq)(C,D,y)})};const h=_(C=>{let{campaignType:I,campaignSubType:D}=C;return I?d.some(y=>{let{promoType:P,promoSubtype:E}=y;return P===I&&E===D}):!1},"checkIfEligiblePromoCampaign"),v=(0,n.Ay)(C=>{const I=(0,l.H7)(C);return!!(0,i.ax)(C,"has_started_feature_auto_charge_trial")&&!(0,s.tc)(I)&&(0,r.tV)(C)&&f(C)&&u(C)});v.meta={name:"createSelector",key:"createSelectorisCurrentlyOnAutoChargeFeatureTrial",description:C=>{const I=(0,l.H7)(C);return!!(0,i.ax)(C,"has_started_feature_auto_charge_trial")&&!(0,s.tc)(I)&&(0,r.tV)(C)&&f(C)&&u(C)}};const p=(0,n.Ay)(function(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const y=(0,l.H7)(C);return!(0,t.Z9F)()&&(0,s.tc)(y)&&!(0,r.iH)(C)&&(D||m(C))&&(I||(0,a.Ii)(C))});p.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeFeatureTrial",description:function(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const y=(0,l.H7)(C);return!(0,t.Z9F)()&&(0,s.tc)(y)&&!(0,r.iH)(C)&&(D||m(C))&&(I||(0,a.Ii)(C))}};const T=(0,n.Ay)(C=>p(C)&&(0,o.jo)());T.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeAndCheckoutRoute",description:C=>p(C)&&(0,o.jo)()};const A=(0,n.Ay)(C=>(0,c._Z)(C,"pnp_deferred")==="on"&&v(C));A.meta={name:"createSelector",key:"createSelectorisPnpAutoChargeTrial",description:C=>(0,c._Z)(C,"pnp_deferred")==="on"&&v(C)}},5512605238:(N,g,e)=>{"use strict";e.d(g,{F:()=>s});var t=e(3009309149);const s=(0,t.Ay)(o=>o&&o.promo&&o.promo.showTrialStartedCelebration);s.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:o=>o&&o.promo&&o.promo.showTrialStartedCelebration}},8815837079:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(5052102625),s=e(6839188756),o=e(6304789565),n=e(1939990292),c=e(7268021173),i=e(1670069836);const r=(0,o.Ay)("Fetch team trial info, depending on if we have fetched/are fetching and team plan type",(l,d,u)=>{let{reason:f,forceFetch:m}=u;const h=d();if(!!(0,c.Wm)(h)&&!m||(0,c.ek)(h))return Promise.resolve();const T=(0,i.H7)(h);return!m&&(!(0,s.qR)(T)||(0,s.r7)(T))?Promise.resolve():(l((0,n.uR)({isFetching:!0,data:void 0})),l((0,n.Cg)({isFetching:!0,data:void 0})),l((0,t.p)({reason:f})).then(A=>{l((0,n.uR)({isFetching:!1,data:A.trialInfo})),l((0,n.Cg)({isFetching:!1,data:A.featureTrialInfo}))}))});r.meta={name:"createThunk",key:"createThunkfetchTrialInfo",description:"Fetch team trial info, depending on if we have fetched/are fetching and team plan type"};const a=r},7859253282:(N,g,e)=>{"use strict";e.d(g,{r:()=>B});var t=e(3134334389),s=e(5165209241),o=e(5270990260),n=e(6122756707),c=e(6845144532),i=e(6471059816),r=e(8983392585),a=e(4191414376),l=e(3777567130),d=e(3789530276),u=e(9650781710),f=e(1471093810),m=e(7895785073),h=e(7109376014),v=e(2978178368),p=e(8668318456),T=e(9702400417),A=e(6323355797),C=e(9640814771),I=e(5367630355),D=e(9506008067),y=e(9003400431),P=e(3554387543),E=e(7182156071),M=e(1670069836);const S=new i.Ay("trials"),R={eventId:p.EventId.UPGRDEXP_TRIAL,uiComponentName:p.UiComponentName.PRO_TRIAL_ENTRY_POINT_MODAL},k={elementName:"upgrade_now",onClick:{enableClogAction:!0}},O={elementName:"compare_plans",onClick:{enableClogAction:!0}},U=_(K=>{let{isEligibleForTrial:H,canUserPurchase:Y,entryPoint:Z,promoType:V,promoSubtype:ne}=K;const q=(0,D.d4)(E.k),me=(0,D.d4)(M.H7),ue=(0,n.wA)(),ae=(0,r.N)(),le=(0,D.d4)(Le=>(0,P.UO)(Le,A.i6.standard.name,A.ck.monthly)),{currency:fe,primaryBaseCostPerMonth:he,primaryDiscountCostPerMonth:ie}=(0,m.A)(A.i6.standard.name),X=(0,t.useMemo)(()=>{if(!H&&Y)return{text:S.t("Upgrade Now"),url:(0,A.Qn)({team:me,productId:le,excludeDomain:!0,entryPoint:Z})};if(H&&Y){const Le=(0,A.tc)({team:me,productId:le,promoType:V,promoSubtype:ne,entryPoint:Z});return{text:S.t("Try Pro for Free"),url:Le}}},[Y,Z,H,le,ne,V,me]),j=(0,D.d4)(Le=>(0,A.m6)(Le,{action:"checkout",productLevel:A.i6.plus.id,entryPoint:"pro_trials_entry_point_compare_plans_modal"})),w=(0,t.useCallback)(()=>{if(q){ue((0,I.A)({prices:ae,entryPoint:"pro_trials_entry_point_compare_plans_modal",planLevelToHighlight:A.F2.STD,planLevelsToDisplay:{free:!0,pro:!0,plus:!0},title:q?S.t("Compare Pro and Business+ Plans"):"",subtitle:null,actionsByPlanLevel:X?{free:null,pro:{buttonText:X.text,href:X.url},plus:{buttonText:q?S.t("Upgrade Now"):"",href:j}}:"default",onClickBackButton:()=>{if(!V){ue((0,y.O)());return}ue((0,C.A)({promoType:V,promoSubtype:ne,entryPoint:"pro_trials_entry_point_compare_plans_modal"}))}}));return}ue((0,h.A)({canUserPurchase:Y,trialEligible:H}))},[q,ue,Y,H,ae,X,j,V,ne]),Q=(0,u.d)(),G=(0,d.s)(),J=(0,l.D)(),te=(0,a.a)(),se=(0,c.F)().getLocaleForLastViewedTeam(),ce=(0,t.useMemo)(()=>[{key:"slack_ai_message_summaries",imgSrc:Q.assets[se].png,lottieSrc:Q.assets[se].lottie,title:S.t("Get up to speed at lightning speed"),subtitle:S.t("With unlimited message history and AI channel summaries."),theme:"aubergine"},{key:"external_partners",imgSrc:G.assets[se].png,lottieSrc:G.assets[se].lottie,title:S.t("Work with external partners"),subtitle:S.t("Create channels and direct message with external people."),theme:"cilantro"},{key:"unlimited_app_integrations",imgSrc:J.assets[se].png,lottieSrc:J.assets[se].lottie,title:S.t("Make every integration seamless"),subtitle:S.t("Get unlimited apps so your team never misses a beat."),theme:"lagoon"},{key:"slack_ai_huddles_notes",imgSrc:te.assets[se].png,lottieSrc:te.assets[se].lottie,title:S.t("Group meetings with instant notes"),subtitle:S.t("Hop on group calls in channel and leave the note-taking to AI."),theme:"sunflower"}],[te.assets,J.assets,se,G.assets,Q.assets]),Ee=S.t("Compare Plans"),de=(0,t.useMemo)(()=>({text:Ee,onClick:w}),[Ee,w]),re=t.createElement(v.d,{plan:A.i6.standard.name},q?S.t("per person per month"):""),_e=(0,T.A)(ie||he,fe);let ve=q?S.rt("Explore the premium features of our most popular plan for free with a {featureTrialLength} day trial. After that, you\u2019ll be charged {formattedPrice} {perPersonPerMonth}.",{featureTrialLength:A.ew.PAID_FEATURE_TRIAL,formattedPrice:_e,perPersonPerMonth:re}):"";(!H||!Y)&&(ve=q?S.rt("Get the premium features of our most popular plan for {formattedPrice} {perPersonPerMonth}",{formattedPrice:_e,perPersonPerMonth:re}):"");let ge=q?S.rt("Try Pro for {featureTrialLength} days",{featureTrialLength:A.ew.PAID_FEATURE_TRIAL}):"";return(!H||!Y)&&(ge=S.rt("Do more with Slack Pro")),t.createElement(f.m,{autoClogProps:R,primaryCTAAutoClogProps:k,secondaryCTAAutoClogProps:O,title:ge,subtitle:ve,secondaryCTA:de,primaryCTA:X,carouselFeatures:ce,entryPoint:Z})},"ProTrialsEntryPointModal");U.displayName="ProTrialsEntryPointModal";var W=e(677609895),x=e(6304789565),L=e(2375333597),b=e(4005238080),F=e(1384076438);const B=(0,x.Ay)("Open Auto Charge Trial entry modal",async(K,H,Y)=>{let{promoType:Z,promoSubtype:V,entryPoint:ne}=Y;const q=(0,E.k)(H()),me=(0,P.Pr)(H()),{isEligible:ue}=await K((0,F.A)({campaignType:Z,campaignSubType:V,reason:"auto_charge_trial_entry"}));if(q){const ae=(0,W.X)(H());return me||(K((0,L.q)({element:t.createElement(s.A,{className:"p-trial_entry_point_modal__loading_modal"})})),await K((0,b.A)())),K((0,L.q)({element:t.createElement(U,{isEligibleForTrial:ue,canUserPurchase:ae,entryPoint:ne,promoType:Z,promoSubtype:V})}))}return K((0,L.q)({element:t.createElement(o.J,{entryPoint:ne||"auto_charge_trial_entry_point",isEligibleForTrial:ue,promoType:Z,promoSubtype:V})}))});B.meta={name:"createThunk",key:"createThunkopenAutoChargeTrialEntryModal",description:"Open Auto Charge Trial entry modal"}},398781533:(N,g,e)=>{"use strict";e.d(g,{Q:()=>l});var t=e(8668318456),s=e(56548687),o=e(6304789565),n=e(8847766420),c=e(4761125736),i=e(962959561),r=e(1384076438),a=e(9360742940);const l=(0,o.Ay)("Maybe try logging exposure after checking eligibility",async(d,u,f)=>{if(!(0,i.aJ)({campaignType:f==null?void 0:f.campaignType,campaignSubType:f==null?void 0:f.campaignSubType}))return;const{isEligible:m}=await d((0,r.A)(f)),h=u(),v=(0,n.ZT)(h);if(!m&&!(0,i.L9)(h,!0))return;const p=(0,s.e)({state:h}),T=(0,c.KK)(h,"paid_feature_trial_auto_charge");p.track(t.EventId.NEWXP_TEAM_CREATE,{contents:{ui_context:{step_variant:T==null?void 0:T.group,ui_step:f.entryPoint,ui_component_variant:v,ui_properties:{element_name:"autocharge_exposure_clog",element_value:`${f==null?void 0:f.campaignType}-${f==null?void 0:f.campaignSubType}`},action:t.UiAction.IMPRESSION}},assignment:T,exposureEntryPoint:f.entryPoint,campaignType:f==null?void 0:f.campaignType,campaignSubType:f==null?void 0:f.campaignSubType,team_id:v}),d((0,a.Fg)())});l.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposureAndCheck",description:"Maybe try logging exposure after checking eligibility"}},6822097892:(N,g,e)=>{"use strict";e.d(g,{A:()=>u});var t=e(7307560139),s=e(2346425530),o=e(9629572172),n=e(3193155968),c=e(6078549397),i=e(5033667e3),r=e(7429662208),a=e(9108490430),l=e(6304789565);const d=(0,l.Ay)("Open a document on a specific version",async(f,m,h,v)=>{const{fileId:p,windowId:T,version:A,isFromCloseActivityHistory:C,replaceHistoryState:I}=h,D=m(),{versionId:y,sequence:P}={...A};if(!p)return;const{isMainWindow:E,closeView:M,getViewSet:S}=v(o.U),R=(0,r.e6)(D),k=(0,s.xu)(D,T),{versionId:O,sequence:U}={...k},W=C?void 0:y||O,x=C?void 0:P||U;if(C||f((0,t.fw)({windowId:T,versionId:y||O})),I){const L=E?S(D):(0,r.hZ)(D,{windowId:T});if(L){const b=L[n.mq.Primary];if(b){const F={...L,[n.mq.Primary]:{...L[n.mq.Primary],params:{...b.params,versionId:W,sequence:x}}};f(E?(0,i.A)({windowId:n.N2,tab:R,viewSet:F}):(0,i.A)({childWindowId:T.toString(),viewSet:F}))}}}else{const L={id:(0,c.Lo)({id:p}),versionId:W,sequence:x,preserveExistingSecondaryView:!C};f(E?(0,a.IZ)({windowId:n.N2,tab:R,container:n.mq.Primary,params:L}):(0,a.IZ)({childWindowId:T.toString(),container:n.mq.Primary,params:L})),C&&M(n.mq.Secondary)}C&&f((0,t.NA)({windowId:T}))});d.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"};const u=d},7115106069:(N,g,e)=>{"use strict";e.d(g,{Bi:()=>o,d0:()=>c,oj:()=>n});var t=e(3009309149);const s=(0,t.Ay)(i=>i==null?void 0:i.quipDocEmbeds);s.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:i=>i==null?void 0:i.quipDocEmbeds};const o=(0,t.Ay)(i=>{const r=s(i);return r&&Object.keys(r).length>0});o.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:i=>{const r=s(i);return r&&Object.keys(r).length>0}};const n=(0,t.Ay)(i=>{const r=s(i);return Object.keys(r)});n.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:i=>{const r=s(i);return Object.keys(r)}};const c=(0,t.Ay)((i,r)=>{const a=s(i);var l;return((l=a[r])!==null&&l!==void 0?l:0)>0});c.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(i,r)=>{const a=s(i);var l;return((l=a[r])!==null&&l!==void 0?l:0)>0}}},4368281601:(N,g,e)=>{"use strict";e.d(g,{Kt:()=>r,al:()=>c,jw:()=>n,k:()=>s,uo:()=>o,z5:()=>i});var t=e(2140362605);const s=(0,t.Ay)("Store/replace client.counts for this channel");s.meta={name:"createAction",key:"createActionsetQuipUnreadCount",description:"Store/replace client.counts for this channel"};const o=(0,t.Ay)("increment mention count for the channel");o.meta={name:"createAction",key:"createActionincQuipUnreadCountForChannel",description:"increment mention count for the channel"};const n=(0,t.Ay)("Add canvases to hide on undo");n.meta={name:"createAction",key:"createActionsetCanvasesToHideOnClearAll",description:"Add canvases to hide on undo"};const c=(0,t.Ay)("clear new mention flag for the channel");c.meta={name:"createAction",key:"createActionclearNewMentionFlagForChannel",description:"clear new mention flag for the channel"};const i=(0,t.Ay)("Set the list of enterprise file channels (canvases) to exclude from total counts");i.meta={name:"createAction",key:"createActionsetCanvasesToSuppress",description:"Set the list of enterprise file channels (canvases) to exclude from total counts"};const r=(0,t.Ay)("Set the last seen timestamp for a badged canvas animation");r.meta={name:"createAction",key:"createActionsetLastSeenCanvasAnimationTimestamp",description:"Set the last seen timestamp for a badged canvas animation"}},9670560261:(N,g,e)=>{"use strict";e.d(g,{N:()=>a});var t=e(6471059816),s=e(3288567831),o=e(6954805277),n=e(413105706),c=e(674932420),i=e(2332535469);const r=new t.Ay("file"),a=_((l,d,u)=>{var f;if(Array.isArray(u))return u.map(T=>a(l,d,T));const m=(0,c.A)(l,d),h=r.rt("Created by {creator}",{creator:typeof m=="string"?m:(f=m.props)===null||f===void 0?void 0:f.children,fallbackHash:"4c7aaea2bc43e0212099114d908576f8b46f9b20",fallbackHashNs:"quip"});switch(u){case n.s.OWNER:var v;return(v=h.props)===null||v===void 0?void 0:v.children;case n.s.LAST_VIEWED:{const p=d.last_read||d.created,T=(0,o.Od)(p,{uncapitalizedRelativeDay:!0});return(0,o.rK)(p)?r.t("Last viewed {time}",{time:T}):r.t("Last viewed on {time}",{time:T})}case n.s.LAST_UPDATED:{const p=d.updated||d.created,T=(0,s.Ay)((0,o.YY)(p));return r.t("Updated {time}",{time:T})}case n.s.SHARED_TIMESTAMP:{const p=d.created,T=(0,o.Od)(p,{uncapitalizedRelativeDay:!0});return(0,o.rK)(p)?r.t("Shared {time}",{time:T}):r.t("Shared on {time}",{time:T})}case n.s.READ_TIME:return(0,i.O)(l,d);case n.s.CREATED_TIMESTAMP:default:{const p=d.created,T=(0,o.Od)(p,{uncapitalizedRelativeDay:!0});return(0,o.rK)(p)?r.t("Created {time}",{time:T}):r.t("Created on {time}",{time:T})}}},"getFileMetaForSyntheticView")},8096107629:(N,g,e)=>{"use strict";e.d(g,{CK:()=>B,D1:()=>S,Eh:()=>O,F3:()=>D,FB:()=>L,H9:()=>F,Mo:()=>b,S8:()=>H,Ss:()=>P,Yo:()=>R,_s:()=>W,ez:()=>E,ff:()=>K,pV:()=>h,x6:()=>U});var t=e(3037015781),s=e(8352634987),o=e(6304789565),n=e(1545824888),c=e(5811914114),i=e(6533394955),r=e(3398586081),a=e(7217613594),l=e(9692760785),d=e(2823938397),u=e(8872900367);const f="records",m=60*10;function h(Y){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.J1.RecordNotFound;return{...(0,d.WQ)(Y),error:Z}}_(h,"makeNonExistentRecord");function v(Y){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.J1.UnsupportedObject,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return{...(0,d.WQ)(Y),error:Z,salesforceUrl:V}}_(v,"makeUnsupportedRecord");const p=(0,o.Ay)("Fetches record details",async(Y,Z,V)=>{let{record:ne,layoutType:q,fallbackLayoutType:me}=V;return(0,c.f)(Z())?{record:h(ne,u.J1.ClientKnownRestrictedUser)}:Y((0,a.H)({record:ne,reason:"record-detail-conditional-fetch",layoutType:q,fallbackLayoutType:me,mode:"Edit"}))});p.meta={name:"createThunk",key:"createThunkfetchRecordDetailInternal",description:"Fetches record details"};async function T(Y,Z,V,ne){try{return(await(0,i.Qw)(Y,p({record:Z,reason:"record-detail-conditional-fetch",layoutType:V,fallbackLayoutType:ne,mode:"Edit"}))).record}catch(me){if(me.name===u.J1.UnsupportedObject){var q;return v(Z,me.name,(q=me.data)===null||q===void 0?void 0:q.salesforce_url)}return h(Z,me.name)}}_(T,"fetchRecordDetailForTeamId");function A(Y,Z,V,ne){return n.S.map(Z,q=>T(Y,q,V,ne))}_(A,"fetchRecordDetailsForTeamId");function C(Y,Z,V,ne){(0,i.Qw)(Y,(0,l.aR)(Z.map(q=>({id:q.id,layoutType:V,fallbackLayoutType:ne,record:q}))))}_(C,"upsertRecords");const I=_((Y,Z,V,ne)=>A(Y,Z,V,ne).then(q=>C(Y,q,V,ne)),"fetchAndUpsertKnownRecords"),D=_((Y,Z,V,ne)=>T(Y,Z,V,ne).then(q=>(C(Y,[q],V,ne),q)),"fetchAndUpsertKnownRecord"),y=(0,r.A)((Y,Z)=>new s.Ay({storeKey:"recordDetails",maxAge:()=>m,metricsName:f,fetch:(V,ne)=>I(V,ne,Y,Z)})),P=(0,r.A)((Y,Z)=>new t.Ay({fetch:(V,ne)=>A(V,ne,Y,Z),upsertNonExistent:(V,ne)=>C(V,ne,Y,Z),upsertKnown:(V,ne)=>{C(V,ne,Y,Z);const q=ne.filter(d.uz).map(me=>me.id);y(Y,Z).markObjectsAsFresh(V,q)}})),E=_(function(Y,Z){let V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.p5.RecordCrud,ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u.Xx.Full;return y(V,ne).maybeRefetch(Y,Z)},"maybeRefetch"),M=_(function(Y,Z){let V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud,ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:FallbackLayoutType.Full;return y(V,ne).markObjectsAsFresh(Y,Z)},"markObjectsAsFresh"),S=_(function(Y,Z){let V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.p5.RecordCrud,ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:u.Xx.Full;return y(V,ne).markObjectsAsStale(Y,Z)},"markObjectsAsStale"),R=_((Y,Z)=>{Object.keys(u.p5).forEach((V,ne)=>Object.keys(u.Xx).forEach((q,me)=>y(V,q).markObjectsAsStale(Y,Z)))},"markObjectsAsStaleForAllLayoutTypes"),k=_(function(Y,Z){let V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud,ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:FallbackLayoutType.Full;return y(V,ne).isObjectFresh(Y,Z)},"isObjectFresh");function O(Y){return(0,d.mX)(Y)}_(O,"isUnknownRecord");function U(Y){return(0,d.lv)(Y)}_(U,"isNonExistentRecord");function W(Y){return(0,d.uz)(Y)}_(W,"isExistentRecord");function x(Y){return Z=>U(Z)&&(Z==null?void 0:Z.error)===Y}_(x,"createRecordErrorHelper");const L=x(u.J1.RecordNotFound),b=x(u.J1.TokenNotFound),F=x(u.J1.InsufficientRecordAccess),B=x(u.J1.SalesHomeUserConfigNotFound),K=x(u.J1.UnsupportedObject),H=x(u.J1.ClientKnownRestrictedUser)},7045654828:(N,g,e)=>{"use strict";e.d(g,{Of:()=>d,P9:()=>m,PQ:()=>l,VY:()=>f});var t=e(3009309149),s=e(8847766420),o=e(8096107629),n=e(6790819894),c=e(5332109660),i=e(8872900367);const r=Object.freeze((0,o.pV)("INVALID_RECORD_ID"));function a(h,v){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.p5.RecordCrud,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:i.Xx.Full;var C,I,D,y;const P=(0,s.JY)(h)||"",E=v&&((C=h.recordDetails)===null||C===void 0||(I=C.records)===null||I===void 0||(D=I[v])===null||D===void 0||(y=D[T])===null||y===void 0?void 0:y[A]);return E?((0,o.ez)(P,v,T,A),E):v&&p?(0,o.Ss)(T,A).fetchObjectWithId(P,v):p?r:null}_(a,"getRecordDetailByIdSelector");const l=(0,t.Ay)(a);l.meta={name:"createSelector",key:"createSelectorgetRecordDetailById",description:a};const d=(0,n.F)(h=>h.recordDetails.records,(h,v)=>v,(h,v)=>Object.keys(h).filter(p=>(0,c.D)(p).salesforceOrgId===v));function u(h,v){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.p5.RecordCrud,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.Xx.Full;var A,C,I,D;return v?(A=h.recordDetails)===null||A===void 0||(C=A.lastRecordUpserts)===null||C===void 0||(I=C[v])===null||I===void 0||(D=I[p])===null||D===void 0?void 0:D[T]:void 0}_(u,"getLastRecordUpsertSelector");const f=(0,t.Ay)(u);f.meta={name:"createSelector",key:"createSelectorgetLastRecordUpsert",description:u};const m=(0,t.Ay)(h=>h.recordDetails.recordChannelAllowedObjects);m.meta={name:"createSelector",key:"createSelectorgetRecordChannelAllowedObjects",description:h=>h.recordDetails.recordChannelAllowedObjects}},6841242574:(N,g,e)=>{"use strict";e.d(g,{l:()=>m});var t=e(3009309149),s=e(6304789565),o=e(6209625934),n=e(4761125736);const c=(0,t.Ay)(h=>(0,n._Z)(h,"ai_workspace_team_creation_v1",!1));c.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1GetAssignment",description:h=>(0,n._Z)(h,"ai_workspace_team_creation_v1",!1)};const i=(0,t.Ay)(h=>(0,n._Z)(h,"ai_workspace_team_creation_v1",!1)==="control");i.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsControl",description:h=>(0,n._Z)(h,"ai_workspace_team_creation_v1",!1)==="control"};const r=(0,t.Ay)(h=>(0,n._Z)(h,"ai_workspace_team_creation_v1",!1)==="treatment");r.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsTreatment",description:h=>(0,n._Z)(h,"ai_workspace_team_creation_v1",!1)==="treatment"};const a=(0,t.Ay)(h=>{var v;return["treatment"].includes((v=(0,n._Z)(h,"ai_workspace_team_creation_v1",!1))!==null&&v!==void 0?v:"")});a.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsAnyTreatment",description:h=>{var v;return["treatment"].includes((v=(0,n._Z)(h,"ai_workspace_team_creation_v1",!1))!==null&&v!==void 0?v:"")}};const l=(0,t.Ay)(h=>i(h)||a(h));l.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsExposed",description:h=>i(h)||a(h)};const d=(0,t.Ay)(h=>{var v;return["aa_control","aa_treatment"].includes((v=(0,n._Z)(h,"ai_workspace_team_creation_v1",!1))!==null&&v!==void 0?v:"")});d.meta={name:"createSelector",key:"createSelectoraiWorkspaceTeamCreationV1IsAAExposed",description:h=>{var v;return["aa_control","aa_treatment"].includes((v=(0,n._Z)(h,"ai_workspace_team_creation_v1",!1))!==null&&v!==void 0?v:"")}};const u=_(h=>{const v=(0,n.KK)(h,"ai_workspace_team_creation_v1");v&&v.log_exposures&&(0,o.K)("ai_workspace_team_creation_v1",v,h)},"aiWorkspaceTeamCreationV1LogExposure"),f=(0,s.Ay)("Log exposure for the ai_workspace_team_creation_v1 experiment if it is exposed",(h,v)=>{const p=v();(l(p)||d(p))&&u(p)});f.meta={name:"createThunk",key:"createThunkaiWorkspaceTeamCreationV1MaybeLogExposure",description:"Log exposure for the ai_workspace_team_creation_v1 experiment if it is exposed"};const m=(0,t.Ay)(h=>r(h));m.meta={name:"createSelector",key:"createSelectorisTeamEligibleForAiWorkspaceTeamCreation",description:h=>r(h)}},3547923876:(N,g,e)=>{"use strict";e.d(g,{KH:()=>u,RN:()=>i});var t=e(3009309149),s=e(6304789565),o=e(6209625934),n=e(4761125736);const c=(0,t.Ay)(f=>(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="control");c.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsControl",description:f=>(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="control"};const i=(0,t.Ay)(f=>(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="treatment");i.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsTreatment",description:f=>(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="treatment"};const r=(0,t.Ay)(f=>{var m;return["treatment"].includes((m=(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&m!==void 0?m:"")});r.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAnyTreatment",description:f=>{var m;return["treatment"].includes((m=(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&m!==void 0?m:"")}};const a=(0,t.Ay)(f=>c(f)||r(f));a.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsExposed",description:f=>c(f)||r(f)};const l=(0,t.Ay)(f=>{var m;return["aa_control","aa_treatment"].includes((m=(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&m!==void 0?m:"")});l.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAAExposed",description:f=>{var m;return["aa_control","aa_treatment"].includes((m=(0,n._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&m!==void 0?m:"")}};const d=_(f=>{const m=(0,n.KK)(f,"boost_bus_plus_awareness_and_upgrades");m&&m.log_exposures&&(0,o.K)("boost_bus_plus_awareness_and_upgrades",m,f)},"boostBusPlusAwarenessAndUpgradesLogExposure"),u=(0,s.Ay)("Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed",(f,m)=>{const h=m();(a(h)||l(h))&&d(h)});u.meta={name:"createThunk",key:"createThunkboostBusPlusAwarenessAndUpgradesMaybeLogExposure",description:"Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed"}},8615732884:(N,g,e)=>{"use strict";e.d(g,{lD:()=>l});var t=e(3009309149),s=e(6304789565),o=e(6209625934),n=e(4761125736);const c=(0,t.Ay)(h=>(0,n._Z)(h,"joiner_recent_channel_content",!1));c.meta={name:"createSelector",key:"createSelectorjoinerRecentChannelContentGetAssignment",description:h=>(0,n._Z)(h,"joiner_recent_channel_content",!1)};const i=(0,t.Ay)(h=>(0,n._Z)(h,"joiner_recent_channel_content",!1)==="control");i.meta={name:"createSelector",key:"createSelectorjoinerRecentChannelContentIsControl",description:h=>(0,n._Z)(h,"joiner_recent_channel_content",!1)==="control"};const r=(0,t.Ay)(h=>(0,n._Z)(h,"joiner_recent_channel_content",!1)==="simple");r.meta={name:"createSelector",key:"createSelectorjoinerRecentChannelContentIsSimple",description:h=>(0,n._Z)(h,"joiner_recent_channel_content",!1)==="simple"};const a=(0,t.Ay)(h=>(0,n._Z)(h,"joiner_recent_channel_content",!1)==="expanded_ai");a.meta={name:"createSelector",key:"createSelectorjoinerRecentChannelContentIsExpandedAi",description:h=>(0,n._Z)(h,"joiner_recent_channel_content",!1)==="expanded_ai"};const l=(0,t.Ay)(h=>{var v;return["simple","expanded_ai"].includes((v=(0,n._Z)(h,"joiner_recent_channel_content",!1))!==null&&v!==void 0?v:"")});l.meta={name:"createSelector",key:"createSelectorjoinerRecentChannelContentIsAnyTreatment",description:h=>{var v;return["simple","expanded_ai"].includes((v=(0,n._Z)(h,"joiner_recent_channel_content",!1))!==null&&v!==void 0?v:"")}};const d=(0,t.Ay)(h=>i(h)||l(h));d.meta={name:"createSelector",key:"createSelectorjoinerRecentChannelContentIsExposed",description:h=>i(h)||l(h)};const u=(0,t.Ay)(h=>{var v;return["aa_control","aa_simple","aa_expanded_ai"].includes((v=(0,n._Z)(h,"joiner_recent_channel_content",!1))!==null&&v!==void 0?v:"")});u.meta={name:"createSelector",key:"createSelectorjoinerRecentChannelContentIsAAExposed",description:h=>{var v;return["aa_control","aa_simple","aa_expanded_ai"].includes((v=(0,n._Z)(h,"joiner_recent_channel_content",!1))!==null&&v!==void 0?v:"")}};const f=_(h=>{const v=(0,n.KK)(h,"joiner_recent_channel_content");v&&v.log_exposures&&(0,o.K)("joiner_recent_channel_content",v,h)},"joinerRecentChannelContentLogExposure"),m=(0,s.Ay)("Log exposure for the joiner_recent_channel_content experiment if it is exposed",(h,v)=>{const p=v();(d(p)||u(p))&&f(p)});m.meta={name:"createThunk",key:"createThunkjoinerRecentChannelContentMaybeLogExposure",description:"Log exposure for the joiner_recent_channel_content experiment if it is exposed"}},9360742940:(N,g,e)=>{"use strict";e.d(g,{Fg:()=>d,Ii:()=>i});var t=e(3009309149),s=e(6304789565),o=e(6209625934),n=e(4761125736);const c=(0,t.Ay)(u=>(0,n._Z)(u,"paid_feature_trial_auto_charge",!1)==="control");c.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsControl",description:u=>(0,n._Z)(u,"paid_feature_trial_auto_charge",!1)==="control"};const i=(0,t.Ay)(u=>(0,n._Z)(u,"paid_feature_trial_auto_charge",!1)==="treatment");i.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsTreatment",description:u=>(0,n._Z)(u,"paid_feature_trial_auto_charge",!1)==="treatment"};const r=(0,t.Ay)(u=>{var f;return["treatment"].includes((f=(0,n._Z)(u,"paid_feature_trial_auto_charge",!1))!==null&&f!==void 0?f:"")});r.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsAnyTreatment",description:u=>{var f;return["treatment"].includes((f=(0,n._Z)(u,"paid_feature_trial_auto_charge",!1))!==null&&f!==void 0?f:"")}};const a=(0,t.Ay)(u=>c(u)||r(u));a.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsExposed",description:u=>c(u)||r(u)};const l=_(u=>{const f=(0,n.KK)(u,"paid_feature_trial_auto_charge");f&&f.log_exposures&&(0,o.K)("paid_feature_trial_auto_charge",f,u)},"paidFeatureTrialAutoChargeLogExposure"),d=(0,s.Ay)("Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed",(u,f)=>{a(f())&&l(f())});d.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposure",description:"Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed"}},7169590072:(N,g,e)=>{"use strict";e.d(g,{$J:()=>i,E5:()=>u});var t=e(3009309149),s=e(6304789565),o=e(6209625934),n=e(4761125736);const c=(0,t.Ay)(f=>(0,n._Z)(f,"pnp_go",!1)==="control");c.meta={name:"createSelector",key:"createSelectorpnpGoIsControl",description:f=>(0,n._Z)(f,"pnp_go",!1)==="control"};const i=(0,t.Ay)(f=>(0,n._Z)(f,"pnp_go",!1)==="treatment");i.meta={name:"createSelector",key:"createSelectorpnpGoIsTreatment",description:f=>(0,n._Z)(f,"pnp_go",!1)==="treatment"};const r=(0,t.Ay)(f=>{var m;return["treatment"].includes((m=(0,n._Z)(f,"pnp_go",!1))!==null&&m!==void 0?m:"")});r.meta={name:"createSelector",key:"createSelectorpnpGoIsAnyTreatment",description:f=>{var m;return["treatment"].includes((m=(0,n._Z)(f,"pnp_go",!1))!==null&&m!==void 0?m:"")}};const a=(0,t.Ay)(f=>c(f)||r(f));a.meta={name:"createSelector",key:"createSelectorpnpGoIsExposed",description:f=>c(f)||r(f)};const l=(0,t.Ay)(f=>{var m;return["aa_control","aa_treatment"].includes((m=(0,n._Z)(f,"pnp_go",!1))!==null&&m!==void 0?m:"")});l.meta={name:"createSelector",key:"createSelectorpnpGoIsAAExposed",description:f=>{var m;return["aa_control","aa_treatment"].includes((m=(0,n._Z)(f,"pnp_go",!1))!==null&&m!==void 0?m:"")}};const d=_(f=>{const m=(0,n.KK)(f,"pnp_go");m&&m.log_exposures&&(0,o.K)("pnp_go",m,f)},"pnpGoLogExposure"),u=(0,s.Ay)("Log exposure for the pnp_go experiment if it is exposed",(f,m)=>{const h=m();(a(h)||l(h))&&d(h)});u.meta={name:"createThunk",key:"createThunkpnpGoMaybeLogExposure",description:"Log exposure for the pnp_go experiment if it is exposed"}},117899263:(N,g,e)=>{"use strict";e.d(g,{_:()=>o});var t=e(3009309149),s=e(1960898919);const o=(0,t.Ay)(n=>{var c;return(c=(0,s.ax)(n,"is_new_human"))!==null&&c!==void 0?c:!1});o.meta={name:"createSelector",key:"createSelectorisNewHuman",description:n=>{var c;return(c=(0,s.ax)(n,"is_new_human"))!==null&&c!==void 0?c:!1}}},4719739515:(N,g,e)=>{"use strict";e.d(g,{i:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Adds a list of salesforce orgs to the store");s.meta={name:"createAction",key:"createActionupsertSalesforceOrgs",description:"Adds a list of salesforce orgs to the store"}},2032902007:(N,g,e)=>{"use strict";e.d(g,{Ob:()=>h,jt:()=>a,lF:()=>v,qp:()=>u});var t=e(8352634987),s=e(3037015781),o=e(7156798807),n=e(3398586081),c=e(6533394955),i=e(8480246703),r=e(4719739515);const a="SFDC_ORG_INFO_FETCH_ID";function l(p,T){(0,c.Qw)(p,(0,r.i)(T))}_(l,"upsertSalesforceOrgList");async function d(p){const T=await(0,c.Qw)(p,(0,i.k)({reason:"sfdc-org-info-conditional-fetch"}));return[{id:a,orgs:(0,o.A)(T.salesforce_orgs,"id")}]}_(d,"fetchSalesforceOrgList");function u(p){return d(p).then(T=>((0,c.Qw)(p,(0,r.i)(T)),T))}_(u,"fetchAndUpsertSalesforceOrgList");const f=(0,n.A)(()=>new t.Ay({fetch:u,metricsName:"sfdc-org-info",storeKey:"sfdcOrgInfo"})),m=(0,n.A)(()=>new s.Ay({fetch:d,upsertNonExistent:l,upsertKnown:(p,T)=>{l(p,T),f().markObjectsAsFresh(p,[a])}})),h=_(p=>{f().maybeRefetch(p,a)},"maybeRefetchSalesforceOrgs"),v=_(p=>m().fetchObjectWithId(p,a),"fetchSalesforceOrgs")},4158363050:(N,g,e)=>{"use strict";e.d(g,{Vb:()=>u,kO:()=>d,lH:()=>l});var t=e(3009309149),s=e(7732872146),o=e(8847766420),n=e(2823938397),c=e(2032902007);const i=Object.freeze((0,n.WQ)("INVALID_ORG_ID")),r=Object.freeze((0,n.WQ)("MISSING_ORG_ID"));function a(f){function m(h,v){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const T=(0,o.JY)(h)||"",A=h.sfdcOrgInfo.orgInfos[c.jt];return A?((0,c.Ob)(T),v&&(0,n.uz)(A)&&f(A.orgs,v)||r):p?v?(0,c.lF)(T):i:null}return _(m,"getSalesforceOrgInfoInner"),(0,t.Ay)(m)}_(a,"createSalesforceOrgInfoSelector");const l=(0,t.Ay)(f=>f.sfdcOrgInfo.orgInfos[c.jt]);l.meta={name:"createSelector",key:"createSelectorgetSalesforceOrgInfos",description:f=>f.sfdcOrgInfo.orgInfos[c.jt]};const d=a((f,m)=>f[m]),u=a((f,m)=>Object.values(f).find(h=>(0,s.Ay)(h.instance_url).hostname===m))},9968803145:(N,g,e)=>{"use strict";e.d(g,{N:()=>s,t:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Updates the domains collection from the server");s.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const o=(0,t.Ay)("Clears any domains currently stored on the client side");o.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},8262898118:(N,g,e)=>{"use strict";e.d(g,{pf:()=>v,Ls:()=>h,ND:()=>u,pF:()=>f,w$:()=>m});var t=e(3009309149),s=e(3385422400),o=e(9113979368),n=e(9114759771),c=e(7732872146);function i(p,T){var A;if((0,o.A)(p))return{appId:void 0,domain:""};const C=(0,c.Ay)(p),I=(0,n.Ww)(C,!0),D=C.hostname,y=D||I;let P=T==null||(A=T.domains)===null||A===void 0?void 0:A[y];if(!P){var E;const M=Object.keys((E=T==null?void 0:T.wildcards)!==null&&E!==void 0?E:{}).find(S=>D.endsWith(`.${S}`));M&&(P=T.wildcards[M])}return{appId:P,domain:y}}_(i,"getSIWSLinkInfo");var r=e(5772992709);function a(p,T){if((0,o.A)(p))return!1;const A=(0,c.Ay)(p);return l(A,T)}_(a,"isSIWSLink");function l(p,T){var A;if(p.protocol!=="http:"&&p.protocol!=="https:"||(0,r.gU)(p))return!1;const C=(0,n.Ww)(p,!0);if(!p.hostname||!C)return!1;const I=p.hostname,D=I.length>C.length+1,y=!!(!(T==null||(A=T.domains)===null||A===void 0)&&A[I]);var P;const E=D&&Object.keys((P=T==null?void 0:T.wildcards)!==null&&P!==void 0?P:{}).some(M=>I.endsWith(`.${M}`));return y||E}_(l,"isParsedUrlSIWSLink");const d=(0,t.Ay)(p=>{var T;return p==null||(T=p.siwsDomains)===null||T===void 0?void 0:T.domainsCollection});d.meta={name:"createSelector",key:"createSelectorgetDomains",description:p=>{var T;return p==null||(T=p.siwsDomains)===null||T===void 0?void 0:T.domainsCollection}};const u=(0,t.Ay)((p,T)=>{var A;return(A=i(T,d(p)))===null||A===void 0?void 0:A.appId});u.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(p,T)=>{var A;return(A=i(T,d(p)))===null||A===void 0?void 0:A.appId}};const f=(0,t.Ay)((p,T)=>{var A;return(A=i(T,d(p)))===null||A===void 0?void 0:A.domain});f.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(p,T)=>{var A;return(A=i(T,d(p)))===null||A===void 0?void 0:A.domain}};const m=(0,t.Ay)((p,T)=>a(T,d(p)));m.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(p,T)=>a(T,d(p))};const h=(0,t.Ay)((p,T)=>l(T,d(p)));h.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(p,T)=>l(T,d(p))};const v=(0,s.Mz)(d,function(p){let{domains:T,wildcards:A}=p;const C=Object.entries(T).map(D=>{let[y,P]=D;return{appId:P,domain:y,isWildcard:!1}});return[...Object.entries(A).map(D=>{let[y,P]=D;return{appId:P,domain:y,isWildcard:!0}}),...C].reduce((D,y)=>({...D,[y.appId]:{domain:y.domain,isWildcard:y.isWildcard}}),{})})},4433296946:(N,g,e)=>{"use strict";e.d(g,{_:()=>r});var t=e(6304789565),s=e(6439846314),o=e(5257368278);const n=(0,o.A)("Get SIWS registered domains list",a=>a((0,s.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(l=>({cacheTs:l.domains_ts,domains:l.domains,wildcardDomains:l.wildcard_domains})));n.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};const c=n;var i=e(9968803145);const r=(0,t.Ay)("Load remote domains into Redux",a=>{a(c()).then(l=>{let{cacheTs:d,domains:u,wildcardDomains:f}=l;const m=Date.now();a((0,i.N)({cacheTs:d,domains:u,lastGetDomainsTs:m,wildcardDomains:f}))})});r.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},2262285506:(N,g,e)=>{"use strict";e.d(g,{Ac:()=>n,Ic:()=>s,b7:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Set the result of the sharedInvites.canGetLink request");s.meta={name:"createAction",key:"createActionsetIsEligibleToSlackConnectDm",description:"Set the result of the sharedInvites.canGetLink request"};const o=(0,t.Ay)("Remove private channel conversion eligibility for a given SCMPDM");o.meta={name:"createAction",key:"createActionremoveConvertSlackConnectMpdmEligibility",description:"Remove private channel conversion eligibility for a given SCMPDM"};const n=(0,t.Ay)("Set whether or not the user can convert a given SCMPDM to a private channel");n.meta={name:"createAction",key:"createActionsetIsEligibleToConvertSlackConnectMpdm",description:"Set whether or not the user can convert a given SCMPDM to a private channel"}},6470369228:(N,g,e)=>{"use strict";e.d(g,{ED:()=>f,Xr:()=>m,ez:()=>u});var t=e(3398586081),s=e(2764501277),o=e(8352634987),n=e(337319621),c=e(6304789565),i=e(6533394955),r=e(2262285506);const a="scdm_eligibility",l=(0,c.Ay)("Fetch and cache the result of sharedInvites.canGetLink",(v,p)=>v((0,s.d)({reason:"slack-connect-dm-eligibility-cfm"})).then(T=>T.ok?(v((0,r.Ic)({isEligible:T.is_eligible})),T.is_eligible):((0,n.Ay)({getState:p}).error("fetchSlackConnectDmEligibility sharedInvites.canGetLink not ok"),!1)).catch(T=>((0,n.Ay)({getState:p}).error("fetchSlackConnectDmEligibility sharedInvites.canGetLink rejected",T),!1)));l.meta={name:"createThunk",key:"createThunkfetchSlackConnectDmEligibility",description:"Fetch and cache the result of sharedInvites.canGetLink"};const d=(0,t.A)(()=>new o.Ay({storeKey:"slackConnectEligibility",fetch:v=>(0,i.Qw)(v,l()),isEnabled:()=>!0,metricsName:a})),u=_(v=>d().maybeRefetch(v,a),"maybeRefetch"),f=_(v=>d().markObjectsAsFresh(v,[a]),"markAsFresh"),m=_(v=>d().markObjectsAsStale(v,[a]),"markAsStale"),h=_(v=>d().isObjectFresh(v,a),"isObjectFresh")},4982839543:(N,g,e)=>{"use strict";e.d(g,{Fl:()=>a,aJ:()=>i,qJ:()=>r});var t=e(3916100664),s=e(3009309149),o=e(8847766420),n=e(6470369228);const c={canCreate:!1},i=(0,s.Ay)(function(l){let{shouldRefetch:d=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var u;const f=(0,o.ZT)(l);return f?(d&&(0,n.ez)(f),l==null||(u=l.slackConnectEligibility)===null||u===void 0?void 0:u.dm.isEligible):!1});i.meta={name:"createSelector",key:"createSelectorgetIsEligibleToSlackConnectDm",description:function(l){let{shouldRefetch:d=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var u;const f=(0,o.ZT)(l);return f?(d&&(0,n.ez)(f),l==null||(u=l.slackConnectEligibility)===null||u===void 0?void 0:u.dm.isEligible):!1}};const r=(0,s.Ay)((l,d)=>{var u,f;return(f=l==null||(u=l.slackConnectEligibility)===null||u===void 0?void 0:u.mpdmConversion[d])!==null&&f!==void 0?f:c});r.meta={name:"createSelector",key:"createSelectorgetIsEligibleToConvertSlackConnectMpdm",description:(l,d)=>{var u,f;return(f=l==null||(u=l.slackConnectEligibility)===null||u===void 0?void 0:u.mpdmConversion[d])!==null&&f!==void 0?f:c}};const a=(0,s.Ay)(l=>!!(i(l,{shouldRefetch:!1})||(0,t.Tc)(l)));a.meta={name:"createSelector",key:"createSelectorgetSidebarShouldShowConnectLink",description:l=>!!(i(l,{shouldRefetch:!1})||(0,t.Tc)(l))}},4476913522:(N,g,e)=>{"use strict";e.d(g,{a:()=>m});var t=e(8086952004),s=e(12126472),o=e(6626377467),n=e(235108050),c=e(7530630315),i=e(5729325965),r=e(2240330919),a=e(1116859610),l=e(1545824888),d=e(6304789565),u=e(3110884894),f=e(3080060173);const m=(0,d.Ay)("gets thread replies from the API",(h,v,p)=>{const{channelId:T,threadTs:A,oldest:C,limit:I}=p;let D=p.latest;C===D&&D===p.threadTs&&(D=null);const y=(0,u.Iu)(T,A);return C&&D?l.S.all([h((0,f.$b)({channelId:T,threadTs:A,latest:D,limit:I})),h((0,f.$b)({channelId:T,threadTs:A,oldest:C,limit:I}))]).then(P=>{let[E,M]=P;const S=(0,t.A)(E.msgs,{ts:A})||(0,t.A)(M.msgs,{ts:A}),R=(0,s.A)(E.msgs,{ts:A}),k=(0,s.A)(M.msgs,{ts:A}),O=E.deleted,U=M.deleted,W=(0,o.A)(R.concat(k),"ts"),x=(0,n.A)((0,c.A)(O,U));!E.hasMore&&S&&W.unshift(S);const L=W.map(b=>b.ts);return h((0,a.A)({msgs:W,channelId:y,hasMore:{hasMoreStart:!!E.hasMore,hasMoreEnd:!!M.hasMore},oldest:(0,i.A)([C,(0,i.A)(L)]),latest:(0,r.A)([D,(0,r.A)(L)]),deleted:x})),{msgs:W}}):h((0,f.$b)({channelId:T,threadTs:A,oldest:C,latest:D,limit:I})).then(P=>{let{msgs:E,deleted:M,hasMore:S}=P;const R=D&&!S||C===A||D===A||!C&&!D&&!S;let k=E;R||(k=(0,s.A)(E,{ts:A}));let O=!!S;!C&&!D&&(O={hasMoreStart:!!S,hasMoreEnd:!1}),h((0,a.A)({msgs:k,channelId:y,hasMore:O,oldest:C,latest:D,deleted:M}));const U=(0,t.A)(E,{ts:A});return U&&C===A&&h((0,a.A)({msgs:[U],channelId:y,hasMore:!1,latest:A})),{msgs:k}})});m.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},1725276404:(N,g,e)=>{"use strict";e.d(g,{KU:()=>n,QG:()=>i,Ri:()=>c,ZG:()=>o,yO:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Update to-dos counts in tab");s.meta={name:"createAction",key:"createActionupdateCounts",description:"Update to-dos counts in tab"};const o=(0,t.Ay)("updates the latest record id from which we received a `todo_due` rtm event");o.meta={name:"createAction",key:"createActionupdateLatestOverdueRecordId",description:"updates the latest record id from which we received a `todo_due` rtm event"};const n=(0,t.Ay)("set active tab in todos page");n.meta={name:"createAction",key:"createActionsetActiveTabInTodosByWindowId",description:"set active tab in todos page"};const c=(0,t.Ay)("Set search query for my todos");c.meta={name:"createAction",key:"createActionsetSearchQuery",description:"Set search query for my todos"};const i=(0,t.Ay)("Set record ids that should show up at the top of to-dos.");i.meta={name:"createAction",key:"createActionsetPinnedRecordIds",description:"Set record ids that should show up at the top of to-dos."}},1827030018:(N,g,e)=>{"use strict";e.d(g,{_:()=>a});var t=e(9746734072),s=e(5238395322),o=e(2101927269),n=e(7486305635),c=e(6304789565),i=e(9101533895),r=e(157328471);const a=(0,c.Ay)("Update the unread count for the all threads view",(l,d,u)=>{let{threadsHasUnreads:f,threadsUnreadCountByChannel:m,threadsMentionCountByChannel:h,threadsLastUpdatedTimestamp:v}=u;const p=(0,t.A)(h)?{}:h,T=d(),A=(0,s.A)((0,o.A)(p,(I,D)=>{const y=(0,i.OL)(T,D);return(0,n.WK)(T,y)&&!(0,n.fA)(T,y)}));let C=0;m?C=(0,s.A)((0,o.A)(m,(I,D)=>{const y=(0,i.OL)(T,D);return(0,n.WK)(T,y)})):C=f?1:0,l((0,r.LI)({threadsUnreadCount:C,threadsUnreadCountByChannel:m,threadsMentionCount:A,threadsMentionCountByChannel:p,threadsLastUpdatedTimestamp:v,suppressThreads:(0,n.dQ)(T)}))});a.meta={name:"createThunk",key:"createThunkthreadsUnreadCountChanged",description:"Update the unread count for the all threads view"}},9132245692:(N,g,e)=>{"use strict";e.d(g,{g:()=>s,y:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Update unread counts for the specified user alert types");s.meta={name:"createAction",key:"createActionupdateUserAlertsUnreadCount",description:"Update unread counts for the specified user alert types"};const o=(0,t.Ay)("Reset the user alerts store to the specified alert counts map");o.meta={name:"createAction",key:"createActionresetAllUserAlertsUnreadCounts",description:"Reset the user alerts store to the specified alert counts map"}},2696160384:(N,g,e)=>{"use strict";e.d(g,{D_:()=>o,FI:()=>s,Sr:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Sets whether the mini player is open or not");s.meta={name:"createAction",key:"createActionsetIsDocked",description:"Sets whether the mini player is open or not"};const o=(0,t.Ay)("Sets mini video player config");o.meta={name:"createAction",key:"createActionsetMiniPlayerConfig",description:"Sets mini video player config"};const n=(0,t.Ay)("Clears mini video player config");n.meta={name:"createAction",key:"createActionclearMiniPlayerConfig",description:"Clears mini video player config"}},1201539379:(N,g,e)=>{"use strict";e.d(g,{$t:()=>n,Fe:()=>d,KY:()=>i,SP:()=>s,hk:()=>o,iO:()=>l,ie:()=>c,mV:()=>r,yL:()=>a});var t=e(2140362605);const s=(0,t.Ay)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");s.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const o=(0,t.Ay)("Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)");o.meta={name:"createAction",key:"createActionsetSidebarWideColumnInternal",description:"Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)"};const n=(0,t.Ay)("Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)");n.meta={name:"createAction",key:"createActionsetSidebarExtraWideColumnInternal",description:"Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)"};const c=(0,t.Ay)("Set the user-specified secondary width and mode (use setSecondaryColumn instead)");c.meta={name:"createAction",key:"createActionsetSecondaryColumnInternal",description:"Set the user-specified secondary width and mode (use setSecondaryColumn instead)"};const i=(0,t.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");i.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const r=(0,t.Ay)("Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)");r.meta={name:"createAction",key:"createActionsetIsWorkspaceSwitcherVisibleInternal",description:"Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)"};const a=(0,t.Ay)("Set the user-specified split width and mode (use setSplitColumn instead)");a.meta={name:"createAction",key:"createActionsetSplitColumnInternal",description:"Set the user-specified split width and mode (use setSplitColumn instead)"};const l=(0,t.Ay)("Set the user-specified split width and mode (use setSplitAiAppsColumn instead)");l.meta={name:"createAction",key:"createActionsetSplitAiAppsColumnInternal",description:"Set the user-specified split width and mode (use setSplitAiAppsColumn instead)"};const d=(0,t.Ay)("Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)");d.meta={name:"createAction",key:"createActionsetCompactModeEnabledInternal",description:"Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)"}},9813790040:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3750057149),s=e(9121100949),o=e(9139930183),n=e(1201539379),c=e(6803195599),i=e(9733150292);const r={persistenceEnabled:!1,storeKey:"viewLayout"},a={sidebarWidthIntent:void 0,sidebarWidthMode:c.tR.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:c.tR.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:c.tR.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:c.tR.AUTO,splitWidthIntent:void 0,splitWidthMode:c.tR.AUTO,splitAIAppsWidthIntent:void 0,splitAIAppsWidthMode:c.tR.AUTO,isSidebarVisible:c.fn,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1,isCompactModeEnabled:!1};try{a.sidebarWidthIntent=(0,i.W6)(s.ke)||void 0,a.sidebarWideWidthIntent=(0,i.W6)(s.u1)||void 0,a.sidebarExtraWideWidthIntent=(0,i.W6)(s.jt)||void 0,a.secondaryWidthIntent=(0,i.W6)(s.gN)||void 0,a.sidebarWidthMode=(0,i.W6)(s.ts)||c.tR.AUTO,a.splitWidthIntent=(0,i.W6)(s.qD)||void 0,a.splitWidthMode=(0,i.W6)(s.$D)||c.tR.AUTO,a.splitAIAppsWidthIntent=(0,i.W6)(s.kU)||void 0,a.splitAIAppsWidthMode=(0,i.W6)(s.f9)||c.tR.AUTO,a.sidebarWidthMode=(0,i.W6)(s.ts)||c.tR.AUTO,a.sidebarWideWidthMode=(0,i.W6)(s.r1)||c.tR.AUTO,a.sidebarExtraWideWidthMode=(0,i.W6)(s.OR)||c.tR.AUTO,a.secondaryWidthMode=(0,i.W6)(s.Ts)||c.tR.AUTO;const u=(0,i.W6)(s.jG);a.isSidebarVisible=(0,t.A)(u)?u:c.fn;const f=(0,i.W6)(s.WU);a.isWorkspaceSwitcherVisible=(0,t.A)(f)?f:!1;const m=(0,i.W6)(s.RC);a.isCompactModeEnabled=(0,t.A)(m)?m:!1}catch{}const d=(0,o.Ay)({},a,r).on(n.SP,(u,f)=>{let{sidebarWidthIntent:m,sidebarWidthMode:h}=f;return{...u,sidebarWidthIntent:m,sidebarWidthMode:h}}).on(n.hk,(u,f)=>{let{sidebarWideWidthIntent:m,sidebarWideWidthMode:h}=f;return{...u,sidebarWideWidthIntent:m,sidebarWideWidthMode:h}}).on(n.$t,(u,f)=>{let{sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:h}=f;return{...u,sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:h}}).on(n.ie,(u,f)=>{let{secondaryWidthIntent:m,secondaryWidthMode:h}=f;return{...u,secondaryWidthIntent:m,secondaryWidthMode:h}}).on(n.yL,(u,f)=>{let{splitWidthIntent:m,splitWidthMode:h}=f;return{...u,splitWidthIntent:m,splitWidthMode:h}}).on(n.iO,(u,f)=>{let{splitAIAppsWidthIntent:m,splitAIAppsWidthMode:h}=f;return{...u,splitAIAppsWidthIntent:m,splitAIAppsWidthMode:h}}).on(n.KY,(u,f)=>({...u,isSidebarVisible:f})).on(n.mV,(u,f)=>({...u,isWorkspaceSwitcherVisible:f})).on(n.Fe,(u,f)=>({...u,isCompactModeEnabled:f}))},8707579690:(N,g,e)=>{"use strict";e.d(g,{J:()=>i});var t=e(9121100949),s=e(6304789565),o=e(1201539379),n=e(7384121809),c=e(9733150292);const i=(0,s.Ay)("Set the user-specified secondary width and mode",(r,a,l)=>{let{secondaryWidthIntent:d,secondaryWidthMode:u}=l;(0,c.q9)(t.gN,d),(0,c.q9)(t.Ts,u),r((0,o.ie)({secondaryWidthIntent:d,secondaryWidthMode:u})),(0,n.dispatchForClientStore)((0,o.ie)({secondaryWidthIntent:d,secondaryWidthMode:u}))});i.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},2779520532:(N,g,e)=>{"use strict";e.d(g,{R:()=>i});var t=e(9121100949),s=e(6304789565),o=e(1201539379),n=e(7384121809),c=e(9733150292);const i=(0,s.Ay)("Set the user-specified sidebar width and mode",(r,a,l)=>{let{sidebarWidthIntent:d,sidebarWidthMode:u}=l;(0,c.q9)(t.ke,d),(0,c.q9)(t.ts,u),r((0,o.SP)({sidebarWidthIntent:d,sidebarWidthMode:u})),(0,n.dispatchForClientStore)((0,o.SP)({sidebarWidthIntent:d,sidebarWidthMode:u}))});i.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},7128275929:(N,g,e)=>{"use strict";e.d(g,{a:()=>i});var t=e(9121100949),s=e(6304789565),o=e(1201539379),n=e(7384121809),c=e(9733150292);const i=(0,s.Ay)("Set the user-specified extra wide sidebar width and mode",(r,a,l)=>{let{sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:u}=l;(0,c.q9)(t.jt,d),(0,c.q9)(t.OR,u),r((0,o.$t)({sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:u})),(0,n.dispatchForClientStore)((0,o.$t)({sidebarExtraWideWidthIntent:d,sidebarExtraWideWidthMode:u}))});i.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},9341298:(N,g,e)=>{"use strict";e.d(g,{q:()=>i});var t=e(9121100949),s=e(6304789565),o=e(1201539379),n=e(7384121809),c=e(9733150292);const i=(0,s.Ay)("Set the user-specified wide sidebar width and mode",(r,a,l)=>{let{sidebarWideWidthIntent:d,sidebarWideWidthMode:u}=l;(0,c.q9)(t.u1,d),(0,c.q9)(t.r1,u),r((0,o.hk)({sidebarWideWidthIntent:d,sidebarWideWidthMode:u})),(0,n.dispatchForClientStore)((0,o.hk)({sidebarWideWidthIntent:d,sidebarWideWidthMode:u}))});i.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},9938554271:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(352142497),s=e(8834730594),o=e(2960290117),n=e(8040098042),c=e(1826991857),i=e(4862221402);const r=_(v=>!!(v!=null&&v.includes(t.D.SalesCreateRecord)),"looksLikeSalesforceRecordCreateId");var a=e(5219786273),l=e(6471801899),d=e(8813411026),u=e(8414867410);const f={activity:t.D.ActivityList,threads:t.D.Threads,rimeto_profile:t.D.Profile,files:t.D.FileDetails,help:t.D.Help,shortcuts:t.D.KeyboardShortcuts,whats_new:t.D.WhatsNew,feedback:t.D.Feedback,comment_thread:t.D.QuipCommentThread,comment_stream:t.D.QuipCommentStream,activity_history:t.D.QuipActivityHistory,quip_automations_overview:t.D.QuipAutomationsOverview,channel_canvas:t.D.ChannelCanvas,thread:t.D.Thread,ai_summary_details:t.D.AiSummaryDetails,search_summary:t.D.SearchSummary,ai_app:t.D.AiApp,about_ai_app:t.D.AboutAiApp,multi_turn_search:t.D.MultiTurnSearch,workflow_details:t.D.WorkflowDetails,app_details:t.D.AppDetails,list_record:t.D.ListRecord,record:t.D.Record,Tasks:t.D.Tasks,[t.D.ActivityInbox]:t.D.ActivityInbox},h=_(v=>v?(0,s.A)(v)?t.D.AppSpace:(0,o.Ay)(v)?t.D.Canvas:(0,n.A)(v)?t.D.Channel:(0,l.pI)(v)?t.D.List:(0,l.or)(v)?t.D.ListRecord:(0,d.T)(v)?(0,u.F8)(v):v&&v[0]==="V"?t.D.Threads:(0,c.A)(v)?t.D.Thread:(0,i.A)(v)?t.D.UserGroup:r(v)?t.D.SalesCreateRecord:(0,a.W)(v)?t.D.ConversationCreate:v===t.D.BrowseCanvases?v:f[v]?f[v]:t.D.Unknown:t.D.Unknown,"convertIdToViewType")},9936094925:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>p,cB:()=>m,ds:()=>f,w9:()=>h,wg:()=>u});var t=e(9113979368),s=e(498506970),o=e(1618349278),n=e(1649982175),c=e(9139930183),i=e(3193155968),r=e(7590914282);const a=100,l={},d={persistenceEnabled:!1,storeKey:"windowHistory"};function u(T){let{windowState:A,entry:C}=T;const I=A?A.stack:[],D=(0,t.A)(I)?null:1;return{stack:[(0,s.A)(C)].concat(I).slice(0,a),index:0,previousIndex:D}}_(u,"handlePushHistoryEntryForWindow");function f(T){let{windowState:A,index:C,previousIndex:I}=T;return{stack:A.stack,index:C,previousIndex:I}}_(f,"handleUpdateIndexForWindow");function m(T){let{windowState:A,index:C}=T;return{stack:(0,o.A)(A.stack,C),index:A.index,previousIndex:null}}_(m,"handlePopHistoryAboveIndexForWindow");function h(T){let{windowState:A,entry:C}=T;const I=[...A.stack];return I[A.index]=(0,s.A)(C),{...A,stack:I}}_(h,"handleReplaceCurrentHistoryEntryForWindowInternal");const p=(0,c.Ay)({},l,d).on(r.zA,(T,A)=>{let{windowId:C,entry:I}=A;return!C||!I?T:{...T,[C]:u({windowState:T[C],entry:I})}}).on(r.aV,(T,A)=>{let{windowId:C}=A;return(0,n.A)(T,C)}).on(r.Nr,(T,A)=>{let{windowId:C,index:I,previousIndex:D}=A;return{...T,[C]:f({windowState:T[C],index:I,previousIndex:D})}}).on(r.o1,(T,A)=>{let{windowId:C,entry:I}=A;return{...T,[C]:{stack:[(0,s.A)(I)],index:0,previousIndex:null}}}).on(r.s0,(T,A)=>{let{windowId:C,index:I}=A;return T[C]?{...T,[C]:m({windowState:T[C],index:I})}:T}).on(r.In,(T,A)=>{let{windowId:C,entry:I}=A;return T[C]?{...T,[C]:h({windowState:T[C],entry:I})}:T}).on(r.$Z,(T,A)=>{let{windowId:C,viewParams:I,index:D}=A;if(!T[C])return T;const P=[...T[C]?T[C].stack:[]];if(!P[D])return T;const{id:E,...M}=(0,s.A)(P[D]),S=M[i.mq.Primary];if(!(S!=null&&S.id))return T;const R={...M,[i.mq.Primary]:{...S,params:{...S.params,...I}}};return P[D]={id:E,...R},{...T,[C]:{...T[C],stack:P}}})},4256476552:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(9139930183),s=e(1780675971),o=e(3193155968);const n={[o.N2]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},i=(0,t.Ay)({},n,{storeKey:"window",persistenceEnabled:!1}).on(s._p,(r,a)=>{let{windowId:l=o.N2,...d}=a;if(!r[l])return r;const u={[o.N2]:{...r[o.N2]}};return u[l]={...r[l],...d},Reflect.ownKeys(r).forEach(f=>{f!==l&&d.isFocused&&(u[f]={...r[f],isFocused:!1})}),{...r,...u}}).on(s.w3,(r,a)=>{let{windowId:l=o.N2,...d}=a;return r[l]?{...r,[l]:{...r[l],isUnloading:d.isUnloading}}:r}).on(s.d1,(r,a)=>{let{windowId:l=o.N2,...d}=a;return{...r,[l]:{...r[l],...d,windowId:l}}}).on(s.pb,(r,a)=>{let{windowId:l=o.N2,...d}=a;return r[l]?{...r,[l]:{...r[l],bootType:d.bootType}}:r}).on(s.jO,(r,a)=>{let{windowId:l}=a;if(l===o.N2||!r[l])return r;const d={...r};return delete d[l],d}).on(s.NV,(r,a)=>{let{windowId:l,viewport:d}=a;return r[l]?{...r,[l]:{...r[l],viewport:d}}:r})},3074155495:(N,g,e)=>{"use strict";e.d(g,{C$:()=>o,EP:()=>r,JA:()=>s,YK:()=>c,b8:()=>n,lP:()=>a,mu:()=>i,sJ:()=>l,yT:()=>d});var t=e(2140362605);const s=(0,t.Ay)("Upsert work objects into the store");s.meta={name:"createAction",key:"createActionupsertWorkObjects",description:"Upsert work objects into the store"};const o=(0,t.Ay)("Update work object loading state");o.meta={name:"createAction",key:"createActionupdateWorkObjectLoading",description:"Update work object loading state"};const n=(0,t.Ay)("Update work object syncing state");n.meta={name:"createAction",key:"createActionupdateWorkObjectSyncing",description:"Update work object syncing state"};const c=(0,t.Ay)("Update work object loading edit state");c.meta={name:"createAction",key:"createActionupdateWorkObjectLoadingEdit",description:"Update work object loading edit state"};const i=(0,t.Ay)("Update work object saving state");i.meta={name:"createAction",key:"createActionupdateWorkObjectSaving",description:"Update work object saving state"};const r=(0,t.Ay)("Enables edit mode");r.meta={name:"createAction",key:"createActionenterWorkObjectEditMode",description:"Enables edit mode"};const a=(0,t.Ay)("Update work object awaiting refresh state");a.meta={name:"createAction",key:"createActionupdateWorkObjectAwaitingRefresh",description:"Update work object awaiting refresh state"};const l=(0,t.Ay)("Upsert a work object summary");l.meta={name:"createAction",key:"createActionupsertWorkObjectSummary",description:"Upsert a work object summary"};const d=(0,t.Ay)("Update work object hasError state");d.meta={name:"createAction",key:"createActionupdateHasError",description:"Update work object hasError state"}},9294306581:(N,g,e)=>{"use strict";e.d(g,{aY:()=>I,GD:()=>E,Ss:()=>S,BX:()=>O,WV:()=>k,nY:()=>R,vD:()=>W,e_:()=>U,mn:()=>x,Fy:()=>M});var t=e(3398586081),s=e(1545824888),o=e(3937186022),n=e(7650175331),c=e(7330016313),i=e(8352634987),r=e(3037015781),a=e(2823938397),l=e(6304789565),d=e(8847766420),u=e(6533394955),f=e(3074155495),m=e(4364890643),h=e(9329658981),v=e(8205955364);const p=(0,t.A)(L=>{try{return JSON.parse(L)}catch{return null}}),T="workObjects",A=60*10;function C(L){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.$.FunctionNotFound;return{...(0,a.WQ)(L),error:b}}_(C,"makeNonExistentWorkObject");const I=Object.freeze(C("INVALID_WORK_OBJECT_ID")),D=(0,l.Ay)("fetch work object details",async(L,b,F)=>{let{recordId:B,lookupFunction:K,channelId:H,entityUrl:Y,messageTs:Z,useLegacyUrl:V}=F;L((0,f.C$)({entityId:B,isLoading:!0}));const ne=b();if((!(0,o.yQ)(ne)||!!V)&&K)try{return{...(await L((0,n.i)({recordId:B,lookupFunction:K,reason:"work-objects-conditional-fetch"}))).entity,id:B}}catch(ue){return C(B,ue.name)}finally{L((0,f.C$)({entityId:B,isLoading:!1})),L((0,h.x)({entityId:B}))}try{return await L((0,c.o)({reason:"work-objects-conditional-fetch",entityId:B,lookupFunction:K!=null&&K.inputs?K:void 0,channelId:H,entityUrl:Y,messageTs:Z})),setTimeout(()=>{const ae=(0,m.a)(b(),B);ae&&R(ae)&&(L((0,f.JA)([C(B)])),L((0,f.b8)({isSynced:!1,entityId:B})),L((0,f.C$)({entityId:B,isLoading:!1})))},1e4),{id:B,isUnknown:!0}}catch(ue){return L((0,f.C$)({entityId:B,isLoading:!1})),C(B,ue.name)}});D.meta={name:"createThunk",key:"createThunkfetchWorkObject",description:"fetch work object details"};const y=_((L,b,F)=>s.S.map(b,B=>{var K,H;const Y=(H=F==null||(K=F.paramsById)===null||K===void 0?void 0:K[B])!==null&&H!==void 0?H:{};var Z;return(0,u.Qw)(L,D({...Y,recordId:B,lookupFunction:(Z=p(Y.lookupFunction))!==null&&Z!==void 0?Z:void 0,useLegacyUrl:Y.useLegacyUrl==="true"}))}),"fetchWorkObjectsForTeamId"),P=_((L,b)=>(0,u.Qw)(L,(0,f.JA)(b)),"upsertWorkObjects"),E=(0,t.A)(()=>new i.Ay({storeKey:"workObjects",maxAge:()=>A,metricsName:T,fetch:(L,b,F)=>y(L,b,F).then(B=>P(L,B))})),M=_((L,b)=>{const F=b.map(B=>B.id);E().markObjectsAsFresh(L,F),P(L,b)},"upsertWorkObjectsAndMarkAsFresh"),S=(0,t.A)(()=>new r.Ay({fetch:y,upsertNonExistent:M,upsertKnown:M}));function R(L){return(0,a.mX)(L)}_(R,"isUnknownWorkObject");function k(L){return(0,a.lv)(L)}_(k,"isNonExistentWorkObject");function O(L){return(0,a.uz)(L)}_(O,"isExistentWorkObject");const U=_((L,b)=>{E().markObjectsAsStale(L,b)},"markWorkObjectsAsStale"),W=_((L,b)=>E().isObjectFresh(L,b),"isWorkObjectFresh"),x=(0,l.Ay)("refresh work object details",async(L,b,F)=>{const B=b(),K=(0,d.ZT)(B);if(!K)return;const H=(0,v.l)(F,(0,o.CK)(B)),Y=await L(D(H));M(K,[Y])});x.meta={name:"createThunk",key:"createThunkrefreshWorkObject",description:"refresh work object details"}},4364890643:(N,g,e)=>{"use strict";e.d(g,{a:()=>s});var t=e(3009309149);const s=(0,t.Ay)((o,n)=>{var c,i;return(c=o.workObjects)===null||c===void 0||(i=c.workObjects)===null||i===void 0?void 0:i[n]});s.meta={name:"createSelector",key:"createSelectordangerouslyGetWorkObjectById",description:(o,n)=>{var c,i;return(c=o.workObjects)===null||c===void 0||(i=c.workObjects)===null||i===void 0?void 0:i[n]}}},7057004528:(N,g,e)=>{"use strict";e.d(g,{$1:()=>y,nh:()=>D,Ne:()=>p,G1:()=>T,zz:()=>I,Vc:()=>C,j_:()=>m,rP:()=>v,Ro:()=>A,hA:()=>h});var t=e(3937186022),s=e(6971099563),o=e(3009309149),n=e(8847766420),c=e(9294306581),i=e(4364890643),r=e(8205955364),a=e(3398586081),l=e(3259889889);const d=(0,a.A)(P=>{try{return(0,l.v)(P)?JSON.stringify(P):null}catch{return null}}),u=_(P=>{let{lookupFunction:E,useLegacyUrl:M,...S}=P;const R={...S},k=d(E);return k&&(R.lookupFunction=k),typeof M=="boolean"&&(R.useLegacyUrl=String(M)),R},"stringifyFetchParams");function f(P,E){const{recordId:M,lookupFunction:S,fetchIfMissing:R=!0,entityUrl:k}=E;if(!M||!S&&!k&&R)return c.aY;const O=(0,i.a)(P,M),U=(0,n.JY)(P)||"",W=u((0,r.l)({...E,recordId:M},(0,t.CK)(P)));return O?((0,c.GD)().maybeRefetch(U,M,{params:W}),O):R?(0,c.Ss)().fetchObjectWithId(U,M,{params:W}):null}_(f,"getWorkObjectByIdSelector");const m=(0,o.Ay)((P,E)=>{var M,S,R;return Boolean((M=P.workObjects)===null||M===void 0||(S=M.workObjects)===null||S===void 0||(R=S[E])===null||R===void 0?void 0:R.isLoading)});m.meta={name:"createSelector",key:"createSelectorisWorkObjectFetching",description:(P,E)=>{var M,S,R;return Boolean((M=P.workObjects)===null||M===void 0||(S=M.workObjects)===null||S===void 0||(R=S[E])===null||R===void 0?void 0:R.isLoading)}};const h=(0,o.Ay)((P,E)=>{var M,S,R;return Boolean((M=P.workObjects)===null||M===void 0||(S=M.workObjects)===null||S===void 0||(R=S[E])===null||R===void 0?void 0:R.isSynced)});h.meta={name:"createSelector",key:"createSelectorisWorkObjectSynced",description:(P,E)=>{var M,S,R;return Boolean((M=P.workObjects)===null||M===void 0||(S=M.workObjects)===null||S===void 0||(R=S[E])===null||R===void 0?void 0:R.isSynced)}};const v=(0,o.Ay)(P=>P.workObjects.isLoadingEdit);v.meta={name:"createSelector",key:"createSelectorisWorkObjectLoadingEdit",description:P=>P.workObjects.isLoadingEdit};const p=(0,o.Ay)(f);p.meta={name:"createSelector",key:"createSelectorgetWorkObjectById",description:f};const T=(0,o.Ay)(P=>P.workObjects.editMode);T.meta={name:"createSelector",key:"createSelectorgetWorkObjectEditMode",description:P=>P.workObjects.editMode};const A=(0,o.Ay)((P,E)=>{const M=P.workObjects.workObjects[E];return(0,s.jH)(M)&&!!M.awaitingSave});A.meta={name:"createSelector",key:"createSelectorisWorkObjectSaving",description:(P,E)=>{const M=P.workObjects.workObjects[E];return(0,s.jH)(M)&&!!M.awaitingSave}};const C=(0,o.Ay)((P,E)=>{const M=P.workObjects.workObjects[E];if((0,s.jH)(M))return M.viewId});C.meta={name:"createSelector",key:"createSelectorgetWorkObjectViewId",description:(P,E)=>{const M=P.workObjects.workObjects[E];if((0,s.jH)(M))return M.viewId}};const I=(0,o.Ay)((P,E)=>{const M=P.workObjects.workObjects[E];if((0,s.jH)(M))return M.serviceId});I.meta={name:"createSelector",key:"createSelectorgetWorkObjectServiceId",description:(P,E)=>{const M=P.workObjects.workObjects[E];if((0,s.jH)(M))return M.serviceId}};const D=(0,o.Ay)((P,E)=>{let{id:M}=E;return P.workObjects.summaryById[M]});D.meta={name:"createSelector",key:"createSelectorgetSummaryById",description:(P,E)=>{let{id:M}=E;return P.workObjects.summaryById[M]}};const y=(0,o.Ay)((P,E)=>{const M=P.workObjects.workObjects[E];if((0,s.jH)(M))return M.hasError});y.meta={name:"createSelector",key:"createSelectorgetHasError",description:(P,E)=>{const M=P.workObjects.workObjects[E];if((0,s.jH)(M))return M.hasError}}},9329658981:(N,g,e)=>{"use strict";e.d(g,{Z:()=>n,x:()=>c});var t=e(4186058919),s=e(6304789565),o=e(3074155495);const n=(0,s.Ay)("Start Work Object OAuth flow",async(i,r,a)=>{let{appId:l,providerKey:d,authUrl:u,reason:f="start_oauth_flow"}=a,m=u;!m&&d&&(m=(await i((0,t.$)({appId:l,providerKey:d,reason:f}))).authorization_url),m&&window.open(m,"_blank","popup,noopener,noreferrer")});n.meta={name:"createThunk",key:"createThunkstartWorkObjectAuth",description:"Start Work Object OAuth flow"};const c=(0,s.Ay)("Show the work object in a synced state",(i,r,a)=>{let{entityId:l}=a;const d=1600;setTimeout(()=>i((0,o.b8)({entityId:l,isSynced:!0})),0),setTimeout(()=>i((0,o.b8)({entityId:l,isSynced:!1})),d)});c.meta={name:"createThunk",key:"createThunkshowTemporarySyncedStatus",description:"Show the work object in a synced state"}},8205955364:(N,g,e)=>{"use strict";e.d(g,{l:()=>s});var t=e(3259889889);const s=_((o,n)=>{let{channelId:c,entityUrl:i,lookupFunction:r,messageTs:a,useLegacyUrl:l,recordId:d}=o;const f={recordId:d,useLegacyUrl:l??!n};return(0,t.v)(r)&&(f.lookupFunction=r),i&&(f.entityUrl=i,a&&c&&(f.messageTs=a,f.channelId=c)),f},"buildWorkObjectFetchParams")},3259889889:(N,g,e)=>{"use strict";e.d(g,{v:()=>s});var t=e(3398586081);const s=(0,t.A)(o=>Boolean((o==null?void 0:o.functionId)&&(o==null?void 0:o.inputs)))},9083290776:(N,g,e)=>{"use strict";e.d(g,{K$:()=>s,fw:()=>o,xW:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Sets the focused workspaces from the client-store");s.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"};const o=(0,t.Ay)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");o.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"};const n=(0,t.Ay)("Sets the last tab for a given channel id");n.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"}},7752506476:(N,g,e)=>{"use strict";e.d(g,{M:()=>c,r:()=>i});var t=e(4096483543);const s=["files","downloads","whats_new","shortcuts","details","apps"],o=["search_results","activity","notifications","reactions","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top","huddle","filespane","help","tile","rimeto_profile","story","feedback","docs","huddles_captions","messages","contact_profile","record","comments","history","ai_summary_details"],n=["convo","groups","team","stars","mentions"],c=[...s,...(0,t.A)()?o:n],i={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",CANVAS:"canvas"}},1116859610:(N,g,e)=>{"use strict";e.d(g,{A:()=>D});var t=e(2101927269),s=e(8840779375),o=e(3750057149),n=e(3110884894),c=e(9392104102),i=e(337319621),r=e(7578434623),a=e(2791814261),l=e(8040098042),d=e(6304789565),u=e(8847766420),f=e(5487781258),m=e(9536404279),h=e(4350638406),v=e(3528815215),p=e(1284885799),T=e(6739248722),A=e(10127715),C=e(3521202413);const I=(0,d.Ay)("Add messages from history",(y,P,E)=>{let{msgs:M,channelId:S,isLimited:R,latest:k,oldest:O,hasMore:U,loading:W,forceUnreadCount:x,deleted:L=[]}=E;const b=P(),F=(0,r.Cy)({getState:P});(0,a.L)(b)&&F.mark("rmsgs_addMessagesFromHistory");const B=(0,t.A)(M,Z=>{const V=S&&(0,T.k)(b,{channelId:S,ts:Z.ts});return V&&(0,i.Ay)({getState:P}).warn(`Filtering out ${Z.ts} in ${S} history response because it was deleted`),!V}),K=R?M.filter(Z=>Z.is_beyond_free_limit).map(Z=>Z.ts):c.Ml,H=(0,s.A)(B,"ts"),Y=(0,l.A)(S)?S:(0,n.Sb)(S).channelId;Y&&(0,h.mY)((0,u.ZT)(b),Y,H),y((0,A.tT)(B)),y((0,m.VG)({channelId:S,timestamps:H,isLimited:R,blurredMessages:K,latest:k,oldest:O,hasMore:U,loading:W,forceUnreadCount:x})),(0,o.A)(W)&&S&&y(W?(0,p.v)({channelId:S,loadingOlder:!!k}):(0,v.f)({channelId:S})),(0,a.L)(b)&&F.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),Y&&L.forEach(Z=>y((0,C.j)({deleted_ts:Z,channel:Y}))),B.forEach(Z=>(0,f.IY)(P,y,Z,Z))});I.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"};const D=I},8243624171:(N,g,e)=>{"use strict";e.d(g,{Fj:()=>R,Vq:()=>S});var t=e(1545824888),s=e(1069376685),o=e(4446301238),n=e(5274604535),c=e(5373179915),i=e(8170643398),r=e(5096647761),a=e(148278831),l=e(6536982570),d=e(2546018671),u=e(5184226701),f=e(7582939986),m=e(4327331459),h=e(4862221402),v=e(6304789565),p=e(1761027239),T=e(4761125736),A=e(8276911661),C=e(3730613858);const I=_((k,O)=>O.map(U=>U.pasted&&!U.entity?{value:U.value,entity:(0,A.nv)(k,U.value)}:U),"getMemberInfoForPastedMembers"),D=_(k=>{const O=k.entity||{};return(0,m.A)(k==null?void 0:k.value)||(0,i.NB)(O)},"isAMember"),y=_(k=>{const O=k.entity;return(0,h.A)(k.value)||(0,d.PH)(O)},"isAUserGroup"),P={[f.IS.ALREADY_IN_CHANNEL]:!0,[f.IS.CANNOT_INVITE_SELF]:!0,[f.IS.ALREADY_IN_CHANNEL_UG]:!0},E={},M=_(k=>{let{shouldPreserve:O,teamId:U}=k;E[U]=O},"setShouldPreserveModalsOnNavigation"),S=_(k=>{let{teamId:O}=k;return E[O]},"getShouldPreserveModalsOnNavigation"),R=(0,v.Ay)("Add users and user groups to channel",async(k,O,U)=>{let{selectedMembers:W,addMemberMode:x,channel:L,keepChannelHistory:b,teamId:F,shouldSkipInitialStage:B}=U;const K={channelId:L.id,force:!0,reason:"submit-invite-channel-invite-modal"};let H,Y;if(x===s.D.AllMembers)K.inviteAll=!0,H=[],Y=[];else{const ae=I(O(),W),le=(0,n.A)(O(),L),fe=(0,c.R)(O(),L);H=ae.reduce((he,ie)=>{if(ie&&D(ie)&&ie.entity){const X=ie,j=(0,C.Sv)(O(),L.id,X.value);if(!j.isKnown||!j.isMember){const w=(0,l.dQ)(X.entity),Q=(0,a.S)(O(),X.entity,L);(fe||(0,r.g)(X.entity)&&w&&le.includes(w)||Q)&&he.push(X.value)}}return he},[]),K.users=H.join(","),Y=W.reduce((he,ie)=>(ie&&y(ie)&&he.push(ie.value),he),[]),K.subteams=Y.join(",")}const Z=K.inviteAll||!!K.users||!!K.subteams,V=(0,T._Z)(O(),"shared_channel_invite_requested_event")==="on",ne={addedExistingMembers:Z,userInviteResults:H.map(ae=>({ok:!0,invitee:ae,inviteeType:u.T0.User,accessType:u.BD.Member,error:""})),groupInviteResults:Y.map(ae=>({ok:!0,invitee:ae,inviteeType:u.T0.UserGroup,accessType:u.BD.Member})),newChannelId:void 0};let q;try{if(b)Z&&(await k((0,o.Cw)(K)).then(ae=>{const{requested_invites:le=[]}=ae;q=le}),V&&(ne.userInviteResults=ne.userInviteResults.map(ae=>{const le=q.find(fe=>fe.user_id===ae.invitee);return{...ae,accessType:le?u.BD.SharedChannel:ae.accessType,inviteeType:le?u.T0.Email:ae.inviteeType,...V&&{isRequestedInvite:!!le}}})));else{M({shouldPreserve:!B,teamId:F}),K.propagateInviteResult=!0;const{channel:ae}=await k((0,p.t)(K));ne.newChannelId=ae.id,M({shouldPreserve:!1,teamId:F})}}catch(ae){var me;M({shouldPreserve:!1,teamId:F});const le=ae==null||(me=ae.data)===null||me===void 0?void 0:me.errors;if(!le){var ue;if(!P[ae==null||(ue=ae.data)===null||ue===void 0?void 0:ue.error])throw ae}le==null||le.forEach(fe=>{if(P[fe.error])return;const he=ne.userInviteResults.filter(X=>X.invitee===fe.user);if(he.length)he[0].ok=!1,he[0].error=fe.error;else if(W.length===1&&!fe.user&&B){var ie;ne.userInviteResults=[{ok:!1,invitee:(ie=W[0])===null||ie===void 0?void 0:ie.value,inviteeType:u.T0.User,error:fe.error,accessType:u.BD.Member}]}else ne.userInviteResults.push({ok:!1,invitee:fe.user,inviteeType:u.T0.User,error:fe.error,accessType:u.BD.Member})})}return t.S.resolve(ne)});R.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},8854307618:(N,g,e)=>{"use strict";e.d(g,{r:()=>i});var t=e(6695353875),s=e(4326266690),o=e(8620339321),n=e(6304789565),c=e(7384121809);const i=(0,n.Ay)("Go back in history",(r,a)=>{const l=a();if((0,t.yZ)(l)){(0,s.ud)((0,c.Ry)())||(0,c.dispatchForClientStore)((0,o.oX)());return}window.history.back()});i.meta={name:"createThunk",key:"createThunkgoBackInWindowHistory",description:"Go back in history"}},7606925238:(N,g,e)=>{"use strict";e.d(g,{h:()=>i});var t=e(6695353875),s=e(4326266690),o=e(8620339321),n=e(6304789565),c=e(7384121809);const i=(0,n.Ay)("Go forward in history",(r,a)=>{const l=a();if((0,t.yZ)(l)){(0,s.uV)((0,c.Ry)())||(0,c.dispatchForClientStore)((0,o.qu)());return}window.history.forward()});i.meta={name:"createThunk",key:"createThunkgoForwardInWindowHistory",description:"Go forward in history"}},8646192222:(N,g,e)=>{"use strict";e.d(g,{AL:()=>v,FR:()=>T,IE:()=>C,Nu:()=>d,Ow:()=>I,bF:()=>m,el:()=>h,hk:()=>u,mT:()=>f,sO:()=>D});var t=e(3202757386),s=e(4094753332),o=e(4517218976),n=e(4761125736),c=e(2047021170),i=e(4518410378),r=e(3193155968),a=e(766806),l;const d=_(()=>{var y,P;return(l=(y=i.J.matchMedia)===null||y===void 0||(P=y.call(i.J,"not all and (prefers-contrast), (prefers-contrast)"))===null||P===void 0?void 0:P.matches)!==null&&l!==void 0?l:!1},"browserSupportsHighContrastColors"),u=_(()=>(0,t.A)()&&((0,s.cX)()||(0,s.jy)())&&(0,s.dY)("4.20.0"),"desktopSupportsHighContrastColors"),f=_((y,P)=>(0,n._Z)(y,"a11y_message_replay")==="on"&&(0,o.xT)(y,P)&&(0,o.ot)(y,P||r.N2),"shouldTriggerMessageReplay"),m=_(y=>(0,n._Z)(y,"a11y_underline_button_link")==="on"&&!!(0,c.ty)(y,"underline_links"),"shouldShowUnderlineButtonLink"),h=_(y=>(0,n._Z)(y,"secondary_view_container_as_dialog")==="on","canSecondaryViewContainerBeDialog"),v=_(y=>!(0,s.cX)()&&(0,n._Z)(y,"aria_application_usage")==="on","isUsingApplicationMode"),p=_(y=>getGroupForUser(y,"bbm_nux_translations")==="on","isBBMNuxTranslationsSupported"),T=_(y=>(0,n._Z)(y,"a11y_charismatic_megafauna")==="on","isAltTextV2Supported"),A=_(y=>T(y)&&!!(0,c.ty)(y,"a11y_show_alt_text_reminders"),"isAltTextV2EnabledForUser"),C=_(y=>T(y)&&!!(0,a.SI)(y,"alt_text_reminders"),"isAltTextV2EnabledForTeam"),I=_(y=>C(y)||A(y),"isAltTextV2Enabled"),D=_(y=>T(y)&&!!(0,c.ty)(y,"a11y_never_show_slackbot_alt_text_reminders"),"shouldNeverShowSlackBotAltTextRemindersMessage")},8496310524:(N,g,e)=>{"use strict";e.d(g,{I:()=>c,u:()=>n});var t=e(9392104102),s=e(7969244833),o=e(9101533895);const n=_(i=>(i==null?void 0:i.name)||"","getActionName"),c=_((i,r,a)=>{const l=!a;let d=t.Ml;if(a){const u=(0,o.OL)(i,a);d=u&&(0,s.f)(i,u)||t.Ml}return r.teams&&(d.length||l)&&!r.isWorkspaceAgnostic?l?r.teams:r.teams.filter(f=>d.includes(f)):t.Ml},"getActionRelatedWorkspaces")},3152334950:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(4178531214),s=e(8847766420);function o(n){const c=(0,s.VO)(n);var i;return(0,t.ss)(n)&&((i=c==null?void 0:c.length)!==null&&i!==void 0?i:0)>1}_(o,"shouldShowAppsIndexTeamPicker")},3982416567:(N,g,e)=>{"use strict";e.d(g,{O4:()=>n,OB:()=>i});var t=e(937317117),s=e(5597672932);const o="canvas_version_history_enabled",n=_(r=>(0,s.xp)(r,o),"getCanvasVersionHistoryEnabledTeamPref"),c=_((r,a)=>{const l=(0,t.Lp)(r,a);return l?l.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),i=_((r,a)=>a?!!n(r)&&!!c(r,a):!1,"isCanvasVersionHistoryEnabled")},123281540:(N,g,e)=>{"use strict";e.d(g,{m:()=>s});var t=e(207659888);const s=_(o=>o===t.VZ.DirectMessages||o===t.VZ.GroupDirectMessages,"isDmLikeSection")},2063075339:(N,g,e)=>{"use strict";e.d(g,{Z:()=>n});var t=e(1407713935),s=e(6007206761),o=e(6113051341);const n=_((c,i)=>!(0,t.JM)(i)&&!(0,s.F)(i)&&!(0,o.N)(i),"canBeExternallyShared")},2912967402:(N,g,e)=>{"use strict";e.d(g,{B2:()=>a,Bw:()=>v,CM:()=>m,FA:()=>d,Jr:()=>h,Kg:()=>I,OH:()=>p,QS:()=>r,Vp:()=>A,bS:()=>C,bw:()=>l,lz:()=>i,oP:()=>f});var t=e(3078252698),s=e(2878685908),o=e(337319621),n=e(6471059816);const c=new n.Ay("channels"),i=80,r=250,a=250;function l(y){let{useFriendlyMpdmMaxLength:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t.A)(y)?y.length>(P?i:r):((0,s.Cu)()&&(0,o.Wo)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}_(l,"channelTopicExceedsLimit");const d="too_long",u="restricted_action",f="user_is_restricted",m="method_not_supported_for_channel_type",h="method_not_supported_for_dm";function v(y){let{useFriendlyMpdmMaxLength:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(y){case d:return c.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:P?i:r});case u:case f:return c.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case m:return c.t("It\u2019s not possible to set a topic here, unfortunately.");case h:return c.t("Regrettably, direct messages do not have topics.");default:return c.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}_(v,"getChannelTopicError");const p="too_long",T="restricted_action",A="user_is_restricted",C="method_not_supported_for_channel_type",I="method_not_supported_for_dm";function D(y){switch(y){case p:return c.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:a});case T:case A:return c.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case C:return c.t("It\u2019s not possible to set a purpose here, unfortunately.");case I:return c.t("Regrettably, direct messages do not have purposes.");default:return c.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}_(D,"getChannelPurposeError")},8243083011:(N,g,e)=>{"use strict";e.d(g,{q:()=>r});var t=e(1407713935),s=e(6113051341),o=e(6839188756),n=e(8040098042),c=e(9101533895),i=e(1670069836);const r=_((a,l)=>{if(!l||!(0,n.A)(l))return!1;const d=(0,i.H7)(a),u=(0,c.OL)(a,l),f=(0,t.JM)(u),m=(0,s.N)(u),h=(0,o.Ny)(d);return!(f||!h&&!m)},"doBroadcastKeywordPrefsApplyForChannel")},4559887502:(N,g,e)=>{"use strict";e.d(g,{i:()=>o});var t=e(1407713935),s=e(4590455802);const o=_((n,c)=>{if((0,t.JM)(c)||!n)return!1;const i=(0,s.j)(c),r=i?n.get(i):null;return r?(r==null?void 0:r.length)>1:!1},"doesChannelHaveNonUniqueName")},7868634217:(N,g,e)=>{"use strict";e.d(g,{Z:()=>a,Y:()=>l});var t=e(3502457281),s=e(8921478798),o=e(8276911661),n=e(3037015781),c=e(9262712126);function i(d,u,f){const m=!f;var h;const v=(h=(0,o.nv)(d,u,{preferNonExistentToNull:!1,fetchIfMissing:m}))!==null&&h!==void 0?h:void 0;return!v||f&&(0,n.mX)(v)?u:(0,c.wg)(v)}_(i,"getRealMemberNameById");var r=e(9392104102);const a=_((d,u)=>u?u.map(f=>({id:f,name:(0,s.I)(d,f)})).sort((f,m)=>(0,t.Ay)(f.name,m.name)).map(f=>f.id):r.Ml,"getAlphabeticallySortedMemberIds"),l=_((d,u)=>!u||!u.length?r.Ml:u.map(f=>({id:f,name:i(d,f)})).sort((f,m)=>(0,t.Ay)(f.name,m.name)).map(f=>f.id),"getRealNameAlphabeticallySortedMemberIds")},6497272239:(N,g,e)=>{"use strict";e.d(g,{I:()=>r});var t=e(395285811),s=e(2647703359),o=e(3634593162),n=e(2823938397),c=e(3009309149),i=e(937317117);const r=(0,c.Ay)((a,l)=>{if(!(0,t.K3)(a,l,{fetchFileIfMissing:!0}))return!1;const d=(0,o.l)(l.id),u=(0,i.Lp)(a,d);return!(0,n.lv)(u)&&!(0,s.Bp)(u)&&!(0,s.sR)(u)?(0,s.DQ)(u):!1});r.meta={name:"createSelector",key:"createSelectorisFileChannelForKnownCanvasFile",description:(a,l)=>{if(!(0,t.K3)(a,l,{fetchFileIfMissing:!0}))return!1;const d=(0,o.l)(l.id),u=(0,i.Lp)(a,d);return!(0,n.lv)(u)&&!(0,s.Bp)(u)&&!(0,s.sR)(u)?(0,s.DQ)(u):!1}}},1212709343:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(7582939986),s=e(9268451279),o=e(6871931471);function n(c){return(0,o.Q)(c).filter(a=>(0,s.sC)(a)).length>=t.KD}_(n,"hasMaxComposerDrafts")},6045879501:(N,g,e)=>{"use strict";e.d(g,{H:()=>t});function t(s){return s&&s.emoji}_(t,"getEmojiCollectionEmoji")},370406050:(N,g,e)=>{"use strict";e.d(g,{M:()=>t});function t(s){return s&&s.name}_(t,"getEmojiCollectionName")},5071545805:(N,g,e)=>{"use strict";e.d(g,{j:()=>t});function t(s){return s&&s.installed}_(t,"isEmojiCollectionInstalled")},3890290905:(N,g,e)=>{"use strict";e.d(g,{Y:()=>t});const t=_(s=>s&&s.name,"getEmojiName")},9362126998:(N,g,e)=>{"use strict";e.d(g,{$R:()=>k,BM:()=>fe,DC:()=>B,JC:()=>U,Jn:()=>q,Kj:()=>Z,NG:()=>le,RI:()=>Y,UF:()=>x,Wg:()=>ne,cG:()=>K,hP:()=>F,lL:()=>ue,p4:()=>he,qh:()=>ae,rY:()=>b,y0:()=>V,yD:()=>W});var t=e(9113979368),s=e(8840779375),o=e(1703559452),n=e(2384831516),c=e(2531389923),i=e(4094753332),r=e(5795074931),a=e(9101533895),l=e(8455301571),d=e(7606781622),u=e(5597672932),f=e(8276911661),m=e(3534324375),h=e(937317117),v=e(4827886670),p=e(340763958),T=e(3110884894),A=e(2647703359),C=e(1257883628),I=e(4702704067),D=e(3929724715),y=e(9536443280),P=e(6471059816),E=e(9392104102),M=e(3207321841),S=e(6946629059);const R=new P.Ay("stories_av"),k=_((ie,X)=>{const j=!!X&&(0,p.ju)(X);let w=!0;return j?w=(0,u.xp)(ie,"allow_video_clips")&&(0,u.xp)(ie,"allow_video_clip_sharing_slack_connect"):w=(0,u.xp)(ie,"allow_video_clips"),w},"isVideoClipSharingEnabledForChannel"),O=_((ie,X,j)=>{const w=(0,a.OL)(ie,X),Q=k(ie,w);return(!X||!j&&(0,v.E)(ie,X)||!!j&&(0,D.NI)(ie,w))&&Q},"canDestinationReceiveVideoClips"),U=_((ie,X,j)=>O(ie,X,j),"canPostVideoClipInDestination"),W=_((ie,X,j)=>O(ie,X,j)&&U(ie,X,j)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),x=_((ie,X)=>{const j=!!X&&(0,p.ju)(X);let w=!0;return j?w=(0,u.xp)(ie,"allow_audio_clips")&&(0,u.xp)(ie,"allow_audio_clip_sharing_slack_connect"):w=(0,u.xp)(ie,"allow_audio_clips"),w},"isAudioClipSharingEnabledForChannel"),L=_((ie,X,j)=>{const w=(0,a.OL)(ie,X),Q=x(ie,w);return(!X||!j&&(0,v.E)(ie,X)||!!j&&(0,D.NI)(ie,w))&&Q},"canDestinationReceiveAudioClips"),b=_((ie,X,j)=>L(ie,X,j),"canPostAudioMessageInDestination"),F=_((ie,X,j)=>L(ie,X,j)&&b(ie,X,j)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),B=_((ie,X)=>{if(!q(X))return!0;const j=(0,u.xp)(ie,"allow_clip_downloads"),w=(0,r.WR)(ie),Q=(0,c.qc)(ie,w);if(j==="anyone"||Q)return!0;const G=X.user!==null&&X.user===w;return!!(j==="creator_and_admins"&&G)},"canDownloadClip"),K=_((ie,X)=>B(ie,X)||(0,i.y3)(),"canOpenClipInNewWindow"),H=(0,n.Mz)((ie,X)=>{if(!X)return!1;if((0,t.A)(X.files))return E.Ml;const j=(0,s.A)(X.files,w=>(0,h.Lp)(ie,w));return(0,o.A)(j,C.A)});H.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(ie,X)=>{if(!X)return!1;if((0,t.A)(X.files))return E.Ml;const j=(0,s.A)(X.files,w=>(0,h.Lp)(ie,w));return(0,o.A)(j,C.A)}};function Y(ie){let{state:X,threadKey:j,includeAllMessages:w=!1,startTs:Q}=ie;const{channelId:G,threadTs:J}=(0,T.Sb)(j),{timestamps:te,reachedStart:se,reachedEnd:ce}=(0,l.r7)(X,j,Q||J)||{},Ee=te!=null&&te.length&&G?te.map(de=>(0,d.Ld)(X,G,de)).filter(S.b):[];return{messages:w?Ee:Ee.filter(de=>H(X,de)),reachedStart:!!se,reachedEnd:!!ce}}_(Y,"getMediaThread");function Z(ie){var X;return ie!=null&&ie.vtt?y.D.available:(ie==null||(X=ie.transcription)===null||X===void 0?void 0:X.status)==="processing"?y.D.processing:y.D.none}_(Z,"getCaptionsAvailability");const V=_(ie=>(0,u.xp)(ie,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function ne(ie,X){let j="";if(X.user){const Q=(0,f.nv)(ie,X.user);j=Q?(0,m.sE)(ie,Q):""}let w;return j?w=(0,I.A)(X)?R.t("Audio clip from {memberName}",{memberName:j}):R.t("Video clip from {memberName}",{memberName:j}):w=(0,I.A)(X)?R.t("Audio clip"):R.t("Video clip"),w}_(ne,"getLabelForClip");function q(ie){return ie!=null&&ie.subtype?me(ie.subtype):!1}_(q,"isClip");function me(ie){let{clipsSubtypes:X=M.Y1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return X.includes(ie)}_(me,"isClipsSubtype");function ue(ie){return ie===M.iN}_(ue,"isAudioClipSubtype");function ae(ie){return ie&&ie.some(X=>me(X.subtype))}_(ae,"containsClip");function le(ie){return ie?ie.filter(X=>me(X.subtype)):[]}_(le,"findClips");function fe(ie,X){const j=(0,r.WR)(ie);return(X==null?void 0:X.user)===j}_(fe,"canRemoveTranscriptPreview");function he(ie){return(0,A.pI)(ie)?(ie==null?void 0:ie.aac)||(ie==null?void 0:ie.url_private):(ie==null?void 0:ie.mp4)||(ie==null?void 0:ie.url_private)}_(he,"getMediaSrc")},7747467459:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3037015781);function s(o){return(0,t.mX)(o)}_(s,"isFileUnknown")},102566929:(N,g,e)=>{"use strict";e.d(g,{Fh:()=>l,Iz:()=>a,gC:()=>r});var t=e(3009309149),s=e(937317117),o=e(497761763),n=e(6078549397),c=e(2823938397);const i=(0,t.Ay)((d,u)=>{const{fileIdOrQuipThreadId:f}=(0,n.EX)(u);if((0,o.A)(f)){var m;return(m=(0,s.Lp)(d,f))!==null&&m!==void 0?m:null}return null});i.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(d,u)=>{const{fileIdOrQuipThreadId:f}=(0,n.EX)(u);if((0,o.A)(f)){var m;return(m=(0,s.Lp)(d,f))!==null&&m!==void 0?m:null}return null}};const r=(0,t.Ay)((d,u)=>{const f=i(d,u);return f&&(0,c.uz)(f)?f:null});r.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(d,u)=>{const f=i(d,u);return f&&(0,c.uz)(f)?f:null}};function a(d){return d.linked_channel_id}_(a,"getLinkedChannelId");function l(d){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(d)}_(l,"isSampleCanvas")},3848977043:(N,g,e)=>{"use strict";e.d(g,{eY:()=>D,QX:()=>E,dL:()=>y,oG:()=>M,Lz:()=>P,L7:()=>W,J5:()=>U,XH:()=>S,nY:()=>R});var t=e(2837660778),s=e(1340402138),o=e(7969244833),n=e(3792998666),c=e(8323393403),i=e(6839188756),r=e(9950739645),a=e(7112191091),l=e(3347557755),d=e(6476812141),u=e(4618126901),f=e(5795074931);const m=_((x,L)=>{const b=(0,f.TZ)(x);if(L&&b){const B=(0,l.oI)(x,{permission:d.p.INVITE_GUEST});return(0,u.Vf)(L.id,B)}const F=(0,l.ox)(x,{permission:d.p.INVITE_GUEST});return(0,u.Jr)(F)},"canUserInviteGuests");var h=e(5184226701),v=e(7668372645),p=e(9101533895),T=e(8276911661),A=e(8983368692),C=e(5597672932),I=e(1670069836);function D(x){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const b=(0,T.cA)(x),F=L??(0,I.H7)(x);if(!F)return!1;const B=(0,a.Me)(x,F.id),K=(0,A.cn)(x,{teamOrEnterpriseIds:[F.id]});return B||K?!0:(0,n.P)(b)?!1:(0,C.xp)(x,"invites_only_admins",L==null?void 0:L.id)?m(x,F):!0}_(D,"canUserInviteMembersToWorkspace");function y(x,L,b){const F=L||(0,T.cA)(x),B=b||(0,I.H7)(x);return!(!B&&!B||(0,n.P)(F)||!(0,C.xp)(x,"invite_requests_enabled",B.id))}_(y,"canUserRequestToInvite");function P(x){const L=(0,T.cA)(x),b=(0,I.H7)(x);return!b||(0,s.R)(x)?!1:(0,i.r7)(b)?!!(0,t.Mo)(x).filter(B=>y(x,L,B)||D(x,B)).length:!!(y(x,L,b)||D(x))}_(P,"canUserSeeInviteModal");function E(x,L){const b=(0,I.H7)(x);if(!b)return!1;const F=(0,p.OL)(x,L),B=(0,i.tc)(b),K=(0,i.r7)(b),H=(0,c.D7)(x,L),Y=K?!R(x,F):P(x);return B&&Y||!B&&(Y||H)}_(E,"canUserInviteToChannelByEmail");function M(x,L){const b=(0,T.cA)(x),F=L?(0,I._J)(x,L):(0,I.H7)(x);return!F||(0,i.tc)(F)?!1:y(x,b,F)?!0:m(x,F)}_(M,"canUserSeeAccountTypeOptions");function S(x,L){let{ignoreGuestSettings:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const F=(0,T.cA)(x),B=L?(0,I._J)(x,L):(0,I.H7)(x);if(!(0,i.r7)(B))return!1;const K=(0,a.Me)(x,B.id),H=(0,A.cn)(x,{teamOrEnterpriseIds:[B.id]});return K||H||!(0,C.xp)(x,"invites_only_admins",B.id)||y(x,F,B)?!1:b?!0:m(x,B)}_(S,"shouldDisableFullMemberInviteOption");function R(x,L){const b=(0,o.f)(x,L);return!!(b!=null&&b.every(F=>S(x,F,{ignoreGuestSettings:!0})))}_(R,"shouldDisableFullMemberInviteOptionForChannel");function k(x){let{state:L,team:b,inviteType:F}=x,B=b;if(!b&&(B=getCurrentTeam(L),!B))return!1;const K=getTeamPref(L,"auth_mode"),H=K==="google"||K==="saml";return isEnterpriseOrEnterpriseWorkspace(B)&&F===AccessType.Member||H&&getTeamPref(L,"sso_auth_restrictions")===0}_(k,"shouldShowSsoAlert");function O(x){let{state:L,inviteType:b}=x;const F=getTeamPref(L,"auth_mode"),B=getTeamPref(L,"sso_auth_restrictions");return F==="google"?b===AccessType.Member&&(B===0||B===1)||(b===AccessType.MultiChannelGuest||b===AccessType.SingleChannelGuest)&&B===0:!1}_(O,"shouldShowGoogleDomainsNotice");function U(x){let{state:L,inviteType:b,team:F}=x;if(!b||!(0,h.LX)(b))throw new Error(`Invalid invite type: ${b}`);const B=F||(0,I.H7)(L);if(!B||(0,r.N)(F))return!1;const K=(0,C.xp)(L,"invites_only_admins",B==null?void 0:B.id),H=(0,a.Me)(L,B.id),Y=(0,A.cn)(L,{teamOrEnterpriseIds:[B.id]}),Z=m(L,B);switch(b){case h.BD.Member:return H||Y?!1:!!K;case h.BD.MultiChannelGuest:case h.BD.SingleChannelGuest:return!Z;default:return!0}}_(U,"isRequestingInvitesForType");function W(x){let{state:L}=x;const b=(0,I.H7)(L);return(0,v.z$)()?!0:(0,i.r7)(b)?!!(0,C.xp)(L,"hide_gsuite_invite_option"):!1}_(W,"isGoogleDirectoryDisabled")},9438480351:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(9101533895),s=e(3929724715);function o(n,c){const i=(0,t.Pu)(n,c&&c.id);return i?(0,s.$M)(i):null}_(o,"getImUnreadCountByMember")},9541658228:(N,g,e)=>{"use strict";e.d(g,{P:()=>i});var t=e(2003990933),s=e(5096647761),o=e(8847766420),n=e(6536982570),c=e(8170643398);function i(r,a){if(!r||!a||(0,s.g)(a))return!1;const l=(0,n.QI)(a);return(0,c.dk)(a)&&(l===(0,o.jV)(r)||l===(0,t.A)(a,"enterprise_user.enterprise_id"))}_(i,"isMemberFromOrg")},148278831:(N,g,e)=>{"use strict";e.d(g,{S:()=>a});var t=e(918457931),s=e(2298581483),o=e(6536982570),n=e(5096647761),c=e(2003903489),i=e(9541658228),r=e(893266994);const a=_((l,d,u)=>{if((0,n.g)(d))return!1;if((0,i.P)(l,d)){if((0,c.S)(u))return!0;if((0,t.t)(u))return(0,s.R)(l,u).some(h=>(0,o.nO)(d,h))}const f=(0,r.c)(u);return(0,o.nO)(d,f)},"isMemberOnSomeChannelWorkspace")},863407566:(N,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(8455301571),s=e(3080060173),o=e(7606781622),n=e(3730613858),c=e(5795074931),i=e(8276911661),r=e(8170643398),a=e(4562579337),l=e(7334104107),d=e(9187449049),u=e(7616363684),f=e(1794107122),m=e(9290914927),h=e(1809170903);const v=23;function p(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max((0,s.UL)(),C),D=arguments.length>4?arguments[4]:void 0;if(!(0,t.si)(T,A))return[];const y=(0,t.r7)(T,A);if(!y||!y.timestamps)return[];const P=(0,o.h8)(T,A),E=y.timestamps.slice(-I),M=(0,c.WR)(T);let S=[],R=[],k=!1;const O=[],U=[],W=[],x=[],L=[],b=[];let F=!1;for(let K=E.length-1;K>=0;K--){const H=P[E[K]],Y=(0,l.Hr)(H);if(!Y)continue;if(D&&Y===M){F=!0;continue}if(!(D?O.includes(Y)||W.includes(Y)||L.includes(Y):S.includes(Y))&&!(0,u.A)(H)&&(0,d.A)(H,M)){const V=(0,n.Sv)(T,A,Y),ne=(0,i.nv)(T,Y);if(k||(k=!(V!=null&&V.isKnown)||(0,r.t8)(ne)),!k&&(V!=null&&V.isKnown)&&(V!=null&&V.isMember)&&!(0,a.A)(ne)&&!(0,r.oy)(ne)){if(D){if((0,m.gd)(T,Y)==="active"?(0,h.Vd)(T,Y)?(W.push(Y),x.push(ne)):(O.push(Y),U.push(ne)):(L.push(Y),b.push(ne)),U.length===C||W.length+b.length===v-C)break}else if(S.push(Y),R.push(ne),R.length===C)break}}}if(k)return[];if(D&&(U.length===C?(R=U,S=O):(R=U.concat(x.slice(0,C-U.length)),S=O.concat(W.slice(0,C-L.length)),R.length<C&&(R=R.concat(b.slice(0,C-U.length)),S=S.concat(L.slice(0,C-L.length))))),R.length>=C)return R;const B=(0,f.$)(T,A);if(!B.length)return[];for(let K=0;K<B.length;K++){const H=B[K];if(H&&!S.includes(H)&&(D&&H===M?F=!0:(S.push(H),R.push((0,i.nv)(T,H)))),R.length===C)break}return R.length===0&&F&&(S.push(M),R.push((0,i.nv)(T,M))),R}_(p,"getLastNRelevantMembersInChannel")},1198382523:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3078252698),s=e(8289365785),o=e(4138249182),n=e(2647703359);function c(i,r){if(!i)return"";let a="";if(i&&i.subtype!=="tombstone"){a=(0,t.A)(i.text)?i.text:"";const l=(0,s.A)(i.attachments);if(l&&l.is_msg_unfurl&&(!a||(0,o.A)(i))){const d=typeof l.original_url=="string"?l.original_url:"";a=l.text||d||""}}if(!a&&r&&!(r!=null&&r.isNonExistent)){const l=(0,n.SB)(r);l&&(a=l)}return a}_(c,"getMessageRootText")},7980641:(N,g,e)=>{"use strict";e.d(g,{A:()=>W});var t=e(2003990933),s=e(8289365785),o=e(937317117),n=e(8276911661),c=e(7582939986),i=e(9464746668),r=e(8677230210),a=e(2647703359),l=e(7334104107),d=e(1407713935),u=e(6470070112),f=e(9373230523),m=e(6471059816),h=e(9101533895),v=e(9548972574);const p=new m.Ay("huddles"),A=_(x=>{let{msg:L,state:b,roomId:F}=x;var B;const K=(0,h.OL)(b,L.channel),H=(0,d.LI)(K),Y=(0,d.yz)(K)||H;let Z=p.t("Huddles");const V=(0,u.Vh)({state:b,roomId:F}),ne=(0,v.E$)(b,F),q=(0,u.Qw)(b,F),me=(0,v.xx)(b,F),ue=(0,v._5)(b,F),ae=(0,v.l)(b,F),le=ue.length+ae.length,fe=(B=(0,v.Ej)(b,F))===null||B===void 0?void 0:B.trim();if(V&&!ne)if(fe){var he;Z=(he=p.rt("{huddleTopic} is happening",{huddleTopic:fe}).props)===null||he===void 0?void 0:he.children}else if(!Y||le===0)Z=p.t("A huddle is happening");else{const w=ue.slice(0,2),Q=ae.slice(0,2);let G,J;w.forEach(te=>{G?J||(J=(0,f.A)(b,te)):G=(0,f.A)(b,te)}),Q.forEach(te=>{G?J||(J=te):G=te}),Z=p.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:le-1,firstParticipant:G,secondParticipant:J})}if(V&&ne)if(fe){var ie;Z=(ie=p.rt("You joined {huddleTopic}",{huddleTopic:fe}).props)===null||ie===void 0?void 0:ie.children}else Z=p.t("You joined the huddle");if(!V)if(q)Z=p.t("You missed a huddle");else if(fe&&me.length){var X;Z=(X=p.rt("{huddleTopic} happened",{huddleTopic:fe}).props)===null||X===void 0?void 0:X.children}else if(fe&&!me.length){var j;Z=(j=p.rt("{huddleTopic} happened, but no one joined",{huddleTopic:fe}).props)===null||j===void 0?void 0:j.children}else Z=p.t("A huddle happened");return Z},"HuddleMessageUserName");var C=e(5795074931),I=e(5332875232);const D=new m.Ay("huddles"),P=_(x=>{let{schedule:L,state:b}=x;var F;if(!(0,I.MJ)(b)||!L)return null;const H=(0,C.WR)(b)===L.inviter_user_id;var Y;const Z=(0,f.A)(b,(Y=L.inviter_user_id)!==null&&Y!==void 0?Y:""),V=D.rt("You scheduled a huddle"),ne=D.rt("{memberName} scheduled a huddle",{memberName:Z});let q=H?V:ne;const me=L.topic;if(me){const ue=D.rt("You scheduled {huddleTopic}",{huddleTopic:me}),ae=D.rt("{memberName} scheduled {huddleTopic}",{memberName:Z,huddleTopic:me});q=H?ue:ae}return(F=q.props)===null||F===void 0?void 0:F.children},"ScheduledHuddleUserName"),E=new m.Ay("huddles"),S=_(x=>{let{schedule:L,state:b}=x;if(!(0,I.MJ)(b))return"";let B=E.t("A scheduled huddle is canceled");const K=L==null?void 0:L.topic;return K&&(B=E.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:K})),B},"DeleteScheduledHuddleUserName");var R=e(9280052135),k=e(6457401668),O=e(7606781622);const U=new m.Ay("assistant");function W(x,L,b){let F=L.user||(0,t.A)(L,"comment.user");const B=L.document_comment;B&&(B.most_recent_editor?F=B.most_recent_editor:B.authors&&B.authors.length>0&&(F=B.authors[0]));const K=L.username;let H=null;const Y=L.file||(0,s.A)(L.files),Z=b||(Y?(0,o.Lp)(x,Y):null);let V=L.bot_id||Z&&Z.bot_id;if(!V){const X=(0,n.nv)(x,F);var ne;V=(ne=(0,i.A)(x,X))!==null&&ne!==void 0?ne:void 0}let q=null;V&&(H=(0,r.AF)(x,V),q=H?H.app_id:null);const me=(0,R.l)(x);if((0,l.mb)(L))return{username:A({msg:L,state:x,roomId:L.room_id}),isHuddleMsg:!0,huddleActivityStatus:(0,u.K8)(x,L.room_id)};if((0,k.Iu)(L)){var ue,ae;if((L==null||(ue=L.ai_context)===null||ue===void 0||(ae=ue.summary)===null||ae===void 0?void 0:ae.type)==="huddle"){var le;const X=U.t("AI huddle notes are ready");return{username:(L==null||(le=L.ai_context)===null||le===void 0?void 0:le.result_status)==="complete"?X:U.t("Slack AI"),isHuddleMsg:!0}}}if(me&&(0,k.qZ)(L))return{username:"Slack Assistant",isAssistantThread:!0};if(me&&(L!=null&&L.thread_ts)&&(L==null?void 0:L.user)==="USLACKBOT"&&(0,k.qZ)((0,O.Ld)(x,L==null?void 0:L.channel,L==null?void 0:L.thread_ts)))return{username:"Slack Assistant",isAssistantThread:!0};if((0,l.zv)(L)){const X=(0,I.MJ)(x);var fe;const j=(fe=L.schedule)!==null&&fe!==void 0?fe:null;return{username:X?P({schedule:j,state:x}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if((0,l.GO)(L)){const X=(0,I.MJ)(x);var he;const j=(he=L.schedule)!==null&&he!==void 0?he:null;return{username:X?S({schedule:j,state:x}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if((0,l.aH)(L)){var ie;return{userId:(ie=L.list_edit)===null||ie===void 0?void 0:ie.created_by,isListEditMsg:!0}}return(0,k.cb)(L)||(0,k.Ni)(L)?{username:"Canvas updated"}:(0,k.gA)(L)?{userId:L.tab_added_user_id}:F===c.Q$&&Z&&Z.bot_id?Z.filetype==="email"&&H&&H.name?{...(0,a.xR)(Z),botId:V,appId:q}:{...(0,a.xR)(Z),username:K||Z.username,botId:V,appId:q}:F?{appId:q,botId:V,userId:F}:{appId:q,botId:V,username:K}}_(W,"getMsgSenderEntity")},4138249182:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(675958705),s=e(8289365785),o=e(9802930866),n=e(8389327410);function c(i){const r=(0,s.A)(i.attachments);if(!r||!r.is_msg_unfurl)return!1;const a=r.from_url;if((0,t.A)(i,!1)){const l=(0,s.A)(i.blocks);if(!l||!l.elements)return!1;const d=(0,o.A)(l.elements,{hasMsgLink:!1,hasOtherContent:!1},(u,f)=>f.type===n.Lv.LINK&&f.url===a&&(!f.text||f.text===a)?{...u,hasMsgLink:!0}:{...u,hasOtherContent:!0});return d.length===1&&d[0].hasMsgLink&&!d[0].hasOtherContent}return!i.text||i.text===`<${a}>`}_(c,"isSimpleMessageUnfurl")},7616363684:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(7334104107),s=e(7582939986);function o(n){return(0,t.Hr)(n)===s.Q$}_(o,"isSlackbotMessage")},6943610832:(N,g,e)=>{"use strict";e.d(g,{A:()=>O});var t=e(4711108074),s=e.n(t),o=e(2047021170),n=e(3829348308),c=e(9907843289),i=e(3009309149),r=e(6866036454),a=e(7582939986),l=e(3890290905),d=e(9599231336),u=e(4590455802),f=e(362134992),m=e(7841516218),h=e(9410394460),v=e(6102481218),p=e(7334334660),T=e(2453977996);function A(U){let{state:W,contents:x,searchFunc:L,highlightWords:b,isEmojiDisplayedAsText:F,useChannelTagging:B}=U;const K=(0,f.A)((0,T.A)(x,{useChannelTagging:B}).map(Y=>{const Z=L(Y.type,Y.labelWithoutPrefix);if(!Z.length)return null;const V={};let ne;if(Y.type==="channel")ne=(0,v.A)({results:Z,globalIndex:Y.globalIndex,matchLength:Y.matchLength,formats:V});else{if(Y.type==="emoji")return(0,h.A)({results:Z,globalIndex:Y.globalIndex,matchLength:Y.matchLength,formats:V});ne=(0,p.A)({state:W,results:Z,text:Y.text,label:Y.label,globalIndex:Y.globalIndex,localIndex:Y.localIndex,matchLength:Y.matchLength,formats:V})}return!ne||ne.id==="UNVERIFIED"?null:ne}));if(!K.length)return x;const H=(0,m.A)(K,b,F);return x.compose(H)}_(A,"replacePotentialMentionsSynchronously");var C=e(9935649141),I=e(4291335534),D=e(2229186),y=e(7908601590),P=e(3924280006),E=e(4206015041),M=e(4244114639),S=e(4504227813),R=e(7383598433);const k=(0,i.Ay)((U,W)=>{const{channelId:x,inThread:L,useChannelTagging:b=!0,useColonEmojiConversion:F=!1,delta:B=new(s())}=W,K=(0,r.A)(U),H=F||(0,d.P)(U),Y=L||!(0,y.A)(U,x||"")?[]:(0,D.A)(U,x||"");let Z=B;const V=(0,o.ty)(U,"plain_text_mode");if(V&&(Z=(0,C.Ay)(Z,{ignoreUnbalancedParentheses:!0}),[S.A,M.A].forEach(me=>{Z=Z.compose(me(Z,null,V))})),H){const me=(0,E.A)(B,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:(0,c.Yp)(),emojiNames:(0,n.CK)(U),replaceNativeEmoji:!1,usePlainTextMode:!!V,teamId:void 0});me.length()>0&&(Z=B.compose(me))}const ne={contents:Z.ops},q=A({state:U,contents:new(s())(ne.contents),highlightWords:K,isEmojiDisplayedAsText:H,useChannelTagging:b,searchFunc:(me,ue)=>{if(!["member","channel"].includes(me))return[];if(!ue)return[];if(me==="channel")return(0,P.G2)(U,{query:ue,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(fe=>(0,u.j)(fe)===ue);const ae=(0,I.dx)(Y,ue);return ae?[ae]:!H&&me==="emoji"?(0,P.G2)(U,{query:ue,options:{entities:{emoji:!0},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(fe=>(0,l.Y)(fe)===ue):(0,P.G2)(U,{query:ue,options:{entities:{userGroups:{includeFromAnotherTeam:(0,R.J)(U)},members:{includeSelf:!0,includeSlackbot:!1}},limit:a.zE,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:(0,C.Ay)(q,{limitCodeBlockLinksToFullURLs:!0,ignoreExistingLinks:!0})}});k.meta={name:"createSelector",key:"createSelectorprepareMessage",description:(U,W)=>{const{channelId:x,inThread:L,useChannelTagging:b=!0,useColonEmojiConversion:F=!1,delta:B=new(s())}=W,K=(0,r.A)(U),H=F||(0,d.P)(U),Y=L||!(0,y.A)(U,x||"")?[]:(0,D.A)(U,x||"");let Z=B;const V=(0,o.ty)(U,"plain_text_mode");if(V&&(Z=(0,C.Ay)(Z,{ignoreUnbalancedParentheses:!0}),[S.A,M.A].forEach(me=>{Z=Z.compose(me(Z,null,V))})),H){const me=(0,E.A)(B,{inlineEmojiIsEnabled:!0,useWysiwyg:!0,locale:(0,c.Yp)(),emojiNames:(0,n.CK)(U),replaceNativeEmoji:!1,usePlainTextMode:!!V,teamId:void 0});me.length()>0&&(Z=B.compose(me))}const ne={contents:Z.ops},q=A({state:U,contents:new(s())(ne.contents),highlightWords:K,isEmojiDisplayedAsText:H,useChannelTagging:b,searchFunc:(me,ue)=>{if(!["member","channel"].includes(me))return[];if(!ue)return[];if(me==="channel")return(0,P.G2)(U,{query:ue,options:{entities:{channels:{includePrivate:!1,includeFromAnotherTeam:!0}},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(fe=>(0,u.j)(fe)===ue);const ae=(0,I.dx)(Y,ue);return ae?[ae]:!H&&me==="emoji"?(0,P.G2)(U,{query:ue,options:{entities:{emoji:!0},limit:a.zE,sort:{source:"texty-autocomplete"}}}).filter(fe=>(0,l.Y)(fe)===ue):(0,P.G2)(U,{query:ue,options:{entities:{userGroups:{includeFromAnotherTeam:(0,R.J)(U)},members:{includeSelf:!0,includeSlackbot:!1}},limit:a.zE,sort:{source:"texty-autocomplete"}}})}});return{processedDelta:(0,C.Ay)(q,{limitCodeBlockLinksToFullURLs:!0,ignoreExistingLinks:!0})}}};const O=k},6120301420:(N,g,e)=>{"use strict";e.d(g,{Du:()=>d,FI:()=>h,Fg:()=>a,H0:()=>v,QG:()=>l,Rn:()=>s,Vs:()=>T,ZJ:()=>p,hq:()=>m,p6:()=>o,rY:()=>f,wS:()=>n,yu:()=>c});var t=e(4761125736);function s(A){return(0,t._Z)(A,"spaceship_posts_migration")==="on"}_(s,"isSpaceshipPostsMigrationEnabled");function o(A){return(0,t._Z)(A,"spaceship_inline_comments")==="on"}_(o,"isSpaceshipInlineCommentsEnabled");function n(A){return(0,t._Z)(A,"canvas_button_workflows")==="on"}_(n,"isCanvasButtonWorkflowsEnabled");function c(A){return(0,t._Z)(A,"canvas_convert_to_callout")==="on"}_(c,"isCanvasConvertToCalloutEnabled");function i(A){return getGroupForUser(A,"spaceship_automation_next")==="on"}_(i,"isCanvasAutomationNextEnabled");function r(A){return getGroupForUser(A,"spaceship_automation_variables_next")==="on"}_(r,"isCanvasAutomationVariablesNextEnabled");function a(A){return(0,t._Z)(A,"spaceship_automation_later")==="on"}_(a,"isCanvasAutomationLaterEnabled");function l(A){return(0,t._Z)(A,"canvas_smart_cards")==="on"}_(l,"isCanvasSmartCardsEnabled");function d(A){return(0,t._Z)(A,"canvas_channel_overview_creation")==="on"}_(d,"isCanvasChannelOverviewCreationEnabled");function u(A){return getGroupForUser(A,"canvas_expanded_rich_text")==="on"}_(u,"isCanvasExpandedRichTextEnabled");function f(A){return(0,t._Z)(A,"canvas_private_message_unfurl_speedbump_v2")==="on"}_(f,"isCanvasPrivateMessageSpeedbumpForTitlesEnabled");function m(A){return(0,t._Z)(A,"search_channel_canvases")==="on"}_(m,"isChannelCanvasSearchEnabled");function h(A){return(0,t._Z)(A,"canvas_comment_file_sharing")==="on"}_(h,"isCanvasCommentFileSharingEnabled");function v(A){return(0,t._Z)(A,"canvas_comment_content_improvements")==="on"}_(v,"isCanvasCommentContentImprovementsEnabled");function p(A){return(0,t._Z)(A,"huddles_standalone_canvas")==="on"}_(p,"isStandaloneMeetingNotesEnabledForChannel");function T(A){return(0,t._Z)(A,"canvas_readtime")==="on"}_(T,"isCanvasReadtimeEnabled")},3683888369:(N,g,e)=>{"use strict";e.d(g,{l:()=>n});var t=e(1552255081),s=e(6839188756),o=e(1670069836);const n=_(c=>(0,t.F)(c)&&!(0,s.tc)((0,o.H7)(c)),"teamCanCreateStandaloneCanvas")},5757070316:(N,g,e)=>{"use strict";e.d(g,{J:()=>o});var t=e(78546762),s=e(1802262330);const o=_((n,c)=>{var i,r;let a,l,d;n&&(n.subtype==="file_comment"?[l,a]=["file_comment",n.comment]:(0,t.A)(n.subtype)?[l,a]=["file",c]:[l,a,d]=["message",n,n.channel]);const u=l==="message"?(i=a)===null||i===void 0?void 0:i.ts:(r=a)===null||r===void 0?void 0:r.id;return a&&(a._rxn_key||(0,s.B)(l,u,d))},"getReactionKey")},9001455011:(N,g,e)=>{"use strict";e.d(g,{t:()=>o});var t=e(3009309149),s=e(9889493721);const o=(0,t.Ay)(n=>!((0,s.Bf)(n)||!(0,s.pr)(n)));o.meta={name:"createSelector",key:"createSelectorshouldShowAppsLink",description:n=>!((0,s.Bf)(n)||!(0,s.pr)(n))}},2585735826:(N,g,e)=>{"use strict";e.d(g,{R:()=>l});var t=e(1407713935),s=e(6113051341),o=e(340763958);const n=_((d,u)=>!(0,t.JM)(u)&&(0,o.ju)(u)&&!(0,s.N)(u),"canBeDisconnected");var c=e(1359849784),i=e(6839188756),r=e(6025726268),a=e(1670069836);function l(d,u){if(u&&!n(d,u))return!1;if(u&&(0,r.M)(d,u))return!0;const f=(0,a.H7)(d);return(0,i.tc)(f)?!0:(0,c.I)(d,u)}_(l,"canUserDisconnectExternalSharedChannel")},4803097854:(N,g,e)=>{"use strict";e.d(g,{RY:()=>l,cG:()=>c,l6:()=>a});var t=e(7358758030),s=e(1650729052),o=e(5861086925),n=e(6841796315);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalLimitedPref:Symbol("can_create_external_limited_pref"),WhoCanCreateExternalLimitedPref:Symbol("who_can_create_external_limited_pref")},i={ok:!1,reason:c.CanCreateExternalLimitedPref},r={ok:!1,reason:c.WhoCanCreateExternalLimitedPref},a=_(d=>{if(!(0,t.i)(d))return i;const f=o.yY.WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE;return(0,s.y)(d,f)?n.O:r},"canUserInviteExternalLimitedMembersWithReason"),l=_(d=>a(d).ok,"canUserInviteExternalLimitedMembers")},8323393403:(N,g,e)=>{"use strict";e.d(g,{D7:()=>C,JO:()=>p,NU:()=>A,wi:()=>u});var t=e(6027162153),s=e(2063075339),o=e(1407713935),n=e(7969244833),c=e(5455782105),i=e(3916100664),r=e(6839188756),a=e(6841796315),l=e(9101533895),d=e(1670069836);const u={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},f={ok:!1,reason:u.InvalidParams},m={ok:!1,reason:u.FreeTeam},h={ok:!1,reason:u.CannotRequest},v={ok:!1,reason:u.InvalidChannel},p=_((I,D)=>{if(!(0,o.jq)(D))return f;const y=(0,c.k)(I),P=(0,r.qR)((0,d.H7)(I));if(!y&&!P)return m;const M=(0,i.lR)(I,{mustEveryWorkspaceBeAllowed:!0,teamIds:(0,n.f)(I,D)});return!(M!=null&&M.ok)&&(0,t.A)(M==null?void 0:M.reasons,i.jM.UserCannotCreateChannel,i.jM.AllowedWorkspacePref).length>0?h:(0,s.Z)(I,D)?a.O:v},"canUserInviteExternalMembersToChannelWithReason"),T=_((I,D)=>{const P=(0,l.OL)(I,D,!1);return P?p(I,P):f},"canUserInviteExternalMembersToChannelWithReasonById"),A=_((I,D)=>p(I,D).ok,"canUserInviteExternalMembersToChannel"),C=_((I,D)=>T(I,D).ok,"canUserInviteExternalMembersToChannelById")},3916100664:(N,g,e)=>{"use strict";e.d(g,{jM:()=>C,Tc:()=>P,lR:()=>y});var t=e(5455782105),s=e(4803097854),o=e(2643151579),n=e(6839188756),c=e(6992769897),i=e(9087248458),r=e(5980399196),a=e(3071940241),l=e(8359728598),d=e(4761125736);const u=(0,l.A)((E,M)=>{const{teams:S,value:R}=M;switch(R){case"ONLY_SELECTED":return(0,i.A)(E,S).length===E.length;case"ALL_EXCEPT_SELECTED":return(0,r.A)(E,S).length===E.length;default:return!0}},2);function f(E){let{slackConnectAllowedWorkspacesPref:M,teamIds:S}=E;return S!=null&&S.length?u(S,M):!1}_(f,"isEveryTargetWorkspaceAllowedToHaveSharedChannelsStateless");function m(E,M){return!(0,t.k)(E)||(0,d._Z)(E,"sc_allowed_workspaces_pref_override")==="on"?!0:f({slackConnectAllowedWorkspacesPref:(0,a.a)(E),teamIds:M})}_(m,"isEveryTargetWorkspaceAllowedToHaveSharedChannels");var h=e(1507833885),v=e(3559837422),p=e(8847766420),T=e(1670069836);const A={ok:!0},C={...s.cG,...o.Xg,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),FreeTeam:Symbol("free_team"),NoOneCanManagePref:Symbol("who_can_manage_ext_shared_channels_pref_no_one"),UserCannotCreateChannel:Symbol("create_channel_restricted_action"),AllowedWorkspacePref:Symbol("slack_connect_allowed_workspaces_pref")},I=_((E,M,S)=>M?(0,h._t)(E,S):(0,h.Uq)(E,S),"channelCreationChecker"),D=_((E,M,S)=>M?m(E,S):(0,c.A)(E,S),"allowedWorkspacesChecker"),y=_(function(E){let{mustEveryWorkspaceBeAllowed:M,teamIds:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const R=[],k=(0,T.H7)(E),O=(0,t.k)(E),U=(0,n.qR)(k),W=!O&&!U;if((0,v.AB)(E)||(0,v.sV)(E))return R.push(C.UserIsRestricted),{ok:!1,reasons:R};var x;const L=(x=S??(0,p.kN)(E))!==null&&x!==void 0?x:[];I(E,M,L)||R.push(C.UserCannotCreateChannel),D(E,M,L)||R.push(C.AllowedWorkspacePref),W&&R.push(C.FreeTeam);const b=(0,s.l6)(E),F=(0,o._d)(E);return!b.ok&&!F.ok&&R.push(b.reason,F.reason),R.length>0?{ok:!!W,reasons:R}:A},"canUserInviteExternalMembersWithReason"),P=_((E,M)=>y(E,M).ok,"canUserInviteExternalMembers")},2643151579:(N,g,e)=>{"use strict";e.d(g,{Xg:()=>c,_d:()=>a,ml:()=>l});var t=e(5225510813),s=e(1650729052),o=e(5861086925),n=e(6841796315);const c={RestrictedAction:Symbol("restricted_action"),CanCreateExternalUnlimitedPref:Symbol("can_create_slack_connect_channel_pref"),WhoCanCreateExternalUnlimitedPref:Symbol("who_can_create_slack_connect_channel_pref")},i={ok:!1,reason:c.CanCreateExternalUnlimitedPref},r={ok:!1,reason:c.WhoCanCreateExternalUnlimitedPref},a=_(d=>{if(!(0,t.C)(d))return i;const f=o.yY.WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE;return(0,s.y)(d,f)?n.O:r},"canUserInviteExternalUnlimitedMembersWithReason"),l=_(d=>a(d).ok,"canUserInviteExternalUnlimitedMembers")},1359849784:(N,g,e)=>{"use strict";e.d(g,{I:()=>C,r:()=>A});var t=e(7174777686),s=e(9087248458),o=e(3929724715),n=e(1407713935),c=e(5455782105),i=e(7224980887),r=e(3792998666),a=e(5861086925),l=e(5331698805),d=e(6839188756),u=e(7112191091),f=e(5510392579),m=e(4761125736),h=e(8276911661),v=e(8983368692),p=e(1670069836),T=e(598369692);function A(I){const D=(0,m._Z)(I,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",y=(0,p.H7)(I);if(D)return(0,d.tc)(y)?!1:(0,v.es)(I);const P=(0,h.cA)(I),E=(0,l.u)(I);if(!(E!=null&&E.value))return!1;if((0,c.k)(I)){let M=[];switch(E.value){case a.GX.ALL_ADMINS_AND_OWNERS:return(0,u.EC)(I)||(0,i.n5)(P)||(0,i.rr)(P);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,i.n5)(P)||(0,i.rr)(P)?!0:(M=(0,T.QF)(I),!!((0,t.A)(E.users,P==null?void 0:P.id)||(0,s.A)(E.userGroups,M).length));case a.GX.EVERYONE:return!(0,r.Ez)(P);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,i.n5)(P)||(0,i.rr)(P)}}if((0,d.qR)(y))switch(E.value){case a.GX.TOPLEVEL_OWNERS:return(0,f.p2)(I);case a.GX.EVERYONE:return!(0,r.Ez)(P);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,f.p2)(I)||(0,f.Zo)(I)}return!1}_(A,"canUserManageExternalSharedChannels");function C(I,D){const y=(0,m._Z)(I,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",P=(0,p.H7)(I);if(y){if((0,d.tc)(P)||!(0,n.jq)(D))return!1;const S=(0,o.FB)(D);return(0,v.es)(I,{channelId:S})}const E=(0,h.cA)(I),M=(0,l.u)(I);if(!(M!=null&&M.value))return!1;if((0,c.k)(I)){let S=[];switch(M.value){case a.GX.ALL_ADMINS_AND_OWNERS:return(0,u.S4)(I,D);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,i.n5)(E)||(0,i.rr)(E)?!0:(S=(0,T.QF)(I),!!((0,t.A)(M.users,E==null?void 0:E.id)||(0,s.A)(M.userGroups,S).length));case a.GX.EVERYONE:return!(0,r.Ez)(E);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,i.n5)(E)||(0,i.rr)(E)}}if((0,d.qR)(P))switch(M.value){case a.GX.TOPLEVEL_OWNERS:return(0,f.p2)(I);case a.GX.EVERYONE:return!(0,r.Ez)(E);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,f.p2)(I)||(0,f.Zo)(I)}return!1}_(C,"canUserManageSlackConnectChannel")},7324846416:(N,g,e)=>{"use strict";e.d(g,{VX:()=>u});var t=e(8170643398),s=e(7982171047),o=e(4087360693);function n(f){return f==null?void 0:f[o.bl]}_(n,"getMemberWhoCanShareContactCardPref");var c=e(5096647761),i=e(8276911661);function r(f,m){const h=(0,i.nv)(f,m);if(!h)return!1;const v=n(h);return v===o.X4.NO_ONE?!1:(0,c.g)(h)?v===o.X4.EVERYONE:!0}_(r,"isMemberContactInfoShareableById");var a=e(5795074931);const l={...s.BC,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function d(f,m){let h=[];(0,a.WR)(f)===m&&(h=h.concat(l.CONTACT_IS_SELF));const p=(0,i.nv)(f,m);(0,t.ls)(p)||(h=h.concat(l.CONTACT_NOT_ACTIVE_MEMBER));const T=(0,s.Hp)(f);return!T.ok&&T.reasons&&(h=h.concat(T.reasons)),r(f,m)||h.push(l.CONTACT_PREFS_RESTRICTED),h.length>0?{ok:!1,reasons:h}:{ok:!0}}_(d,"canUserShareContactByIdWithReasons");function u(f,m){return d(f,m).ok}_(u,"canUserShareContactById")},7982171047:(N,g,e)=>{"use strict";e.d(g,{BC:()=>r,Cq:()=>l,Hp:()=>a});var t=e(3792998666),s=e(6536982570),o=e(6839188756),n=e(5795074931),c=e(8276911661),i=e(1670069836);const r={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function a(d){const u=[],f=(0,n.WR)(d),m=(0,c.nv)(d,f),h=(0,s.Ux)(d,m);var v;const p=(v=(0,i._J)(d,h))!==null&&v!==void 0?v:null;return(0,t.Ez)(m)&&u.push(r.RESTRICTED_USER),(0,o.tc)(p)&&u.push(r.USER_IS_ON_FREE_TEAM),u.length>0?{ok:!1,reasons:u}:{ok:!0}}_(a,"canUserShareContactsWithReasons");function l(d){return a(d).ok}_(l,"canUserShareContacts")},1273480023:(N,g,e)=>{"use strict";e.d(g,{u:()=>c});var t=e(2063075339),s=e(340763958),o=e(6839188756),n=e(1670069836);const c=_((i,r)=>{const a=(0,n.H7)(i);return(0,o.tc)(a)&&(0,s.ju)(r)&&(0,t.Z)(i,r)},"getIsCurrentTeamSponsoredInSlackConnectChannel")},8767621462:(N,g,e)=>{"use strict";e.d(g,{S:()=>i});var t=e(8170643398),s=e(5096647761),o=e(9107158149),n=e(7600673124),c=e(8276911661);const i=_((r,a)=>{const l=(0,c.nv)(r,a);return(0,t.Zx)(l)?!1:(0,s.g)(l)?!!((0,o.bo)(r,a)&&(0,o.zP)(r,a)&&!(0,n.y)(r,a)):!0},"isMemberConnectedById")},3071940241:(N,g,e)=>{"use strict";e.d(g,{_:()=>i,a:()=>r});var t=e(2003990933),s=e(5455782105),o=e(9392104102),n=e(6790819894),c=e(766806);const i={All:"ALL",AllExceptSelected:"ALL_EXCEPT_SELECTED",OnlySelected:"ONLY_SELECTED"},r=(0,n.F)(s.k,a=>(0,c.SI)(a,"slack_connect_allowed_workspaces"),(a,l)=>a?{value:(0,t.A)(l,"type[0]"),teams:(l==null?void 0:l.team)||o.Ml}:{value:i.All,teams:o.Ml})},7358758030:(N,g,e)=>{"use strict";e.d(g,{i:()=>r});var t=e(5455782105),s=e(5861086925),o=e(6839188756),n=e(766806),c=e(5597672932),i=e(1670069836);const r=_(a=>{const l=(0,t.k)(a),d=(0,i.H7)(a);return!l&&(0,o.tc)(d)?!1:(l?n.SI:c.xp)(a,s.yY.CAN_CREATE_EXTERNAL_LIMITED_INVITE)},"getCanCreateExternalLimitedInvitePref")},5225510813:(N,g,e)=>{"use strict";e.d(g,{C:()=>r});var t=e(5455782105),s=e(5861086925),o=e(6839188756),n=e(766806),c=e(5597672932),i=e(1670069836);const r=_(a=>{const l=(0,t.k)(a),d=(0,i.H7)(a);return!l&&(0,o.tc)(d)?!1:(l?n.SI:c.xp)(a,s.yY.CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE)},"getCanCreateSlackConnectChannelInvitePref")},1650729052:(N,g,e)=>{"use strict";e.d(g,{y:()=>p});var t=e(7530630315),s=e(235108050),o=e(7174777686),n=e(9087248458),c=e(5455782105),i=e(5861086925),r=e(8087758879),a=e(6839188756),l=e(5510392579),d=e(3559837422),u=e(8847766420),f=e(5795074931),m=e(1670069836),h=e(598369692);const v=_(A=>{if((0,d.sV)(A))return!1;const C=(0,u.jV)(A);if((0,l.V7)(A,C)||(0,l.PY)(A,C))return!0;const I=(0,u.ZT)(A),D=(0,t.A)(I,(0,u.kN)(A));return(0,s.A)(D).some(P=>!!((0,l.$G)(A,P)||(0,l.h3)(A,P)))},"isCurrentUserAnyAdminOrOwner"),p=_((A,C)=>{const I=(0,f.WR)(A);var D;const y=(D=(0,m.H7)(A))!==null&&D!==void 0?D:void 0;if((0,d.AB)(A)||(0,d.sV)(A))return!1;const P=(0,l.p2)(A),E=(0,l.Zo)(A),M=v(A),S=(0,c.k)(A),R=(0,a.qR)(y),k=(0,r.o)(A,C);if(S){const O=(0,l.hu)(A),U=(0,l.FQ)(A);switch(k.value){case i.GX.TOPLEVEL_ADMINS_AND_OWNERS:return O||U;case i.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return O||U?!0:!!(0,o.A)(k.users,I);case i.GX.ALL_ADMINS_AND_OWNERS:return O||U||M;case i.GX.EVERYONE:return!0;default:return!1}}if(R)switch(k.value){case i.GX.TOPLEVEL_OWNERS:return P;case i.GX.TOPLEVEL_ADMINS_AND_OWNERS:return P||E;case i.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return P||E||(0,o.A)(k.users,I)?!0:!!(0,n.A)(k.userGroups,(0,h.QF)(A)).length;case i.GX.EVERYONE:return!0;default:return!1}return!1},"isUserWhoCanDoSlackConnectPref"),T={isCurrentUserAnyAdminOrOwner:v}},5861086925:(N,g,e)=>{"use strict";e.d(g,{GX:()=>s,cM:()=>n,d5:()=>o,yY:()=>t});const t={CAN_CREATE_EXTERNAL_LIMITED_INVITE:"can_create_external_limited_invite",WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE:"who_can_create_external_limited_invite",CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"can_create_slack_connect_channel_invite",WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"who_can_create_slack_connect_channel_invite",CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"can_accept_slack_connect_channel_invites",WHO_CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"who_can_accept_slack_connect_channel_invites",WHO_CAN_MANAGE_SHARED_CHANNELS:"who_can_manage_ext_shared_channels",WHO_CAN_SLACK_CONNECT_DM:"who_can_dm_anyone"},s={TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},o={...s,NO_ONE:"NO_ONE",DEFAULT:s.EVERYONE},n={CAN_FREE_TEAMS_JOIN_SC_CHANNELS:"allow_sponsored_slack_connections"}},5331698805:(N,g,e)=>{"use strict";e.d(g,{u:()=>o});var t=e(5861086925),s=e(8087758879);const o=_(n=>{const c=t.yY.WHO_CAN_MANAGE_SHARED_CHANNELS;return(0,s.o)(n,c)},"getWhoCanManageSharedChannelsPref")},8087758879:(N,g,e)=>{"use strict";e.d(g,{o:()=>l});var t=e(5455782105),s=e(5861086925),o=e(6839188756),n=e(9392104102),c=e(766806),i=e(5597672932),r=e(1670069836);const a={plan:"",value:"",users:n.Ml,userGroups:n.Ml},l=_((d,u)=>{var f;const m=(0,r.H7)(d),h=(0,t.k)(d);if(!h&&(0,o.tc)(m))return a;const v=(h?"enterprise":m.plan)||"",p=h?(0,c.SI)(d,u):(0,i.xp)(d,u),T=(p==null||(f=p.type)===null||f===void 0?void 0:f[0])||"",A=T===s.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,C=A&&(p==null?void 0:p.user)||a.users,I=A&&(p==null?void 0:p.subteam)||a.userGroups;return{plan:v,value:T,users:C,userGroups:I}},"getWhoCanPref")},4087360693:(N,g,e)=>{"use strict";e.d(g,{V1:()=>n,X4:()=>o,bl:()=>s});var t=e(2047021170);const s="who_can_share_contact_card",o={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},n=_(c=>(0,t.ty)(c,s),"getWhoCanShareContactCardPref")},7035389884:(N,g,e)=>{"use strict";e.d(g,{KP:()=>n,KX:()=>i,jE:()=>c});var t=e(9420277174),s=e(9262712126),o=e(4291335534);function n(r){if(r.is_broadcast_keyword||r.is_usergroup)return"";let a="";return(0,s.Fh)(r)&&(a=(0,s.wg)(r)),a?`@${a}`:""}_(n,"getSecondaryNameForSearchResult");const c=(0,t.A)((r,a)=>r===(0,o.Pc)(i(a))||r===(0,o.Pc)(n(a)));function i(r){return r.is_broadcast_keyword?`@${r.name}`:r.is_usergroup?`@${r.handle}`:`@${(0,s.Gt)(r)}`}_(i,"getDisplayTextForSearchResult")},3212336858:(N,g,e)=>{"use strict";e.d(g,{DP:()=>he,qc:()=>Q,qA:()=>se,Bs:()=>w,Hv:()=>X,fK:()=>ie,tY:()=>ce,GE:()=>J,b:()=>j,iH:()=>Ee,mE:()=>_e});var t=e(7174777686),s=e(9323322135),o=e(5597672932),n=e(8276911661),c=e(9101533895),i=e(3792998666),r=e(7582939986),a=e(2791814261),l=e(8904182388),d=e(6165525655),u=e(591259428),f=e(1407713935),m=e(395285811),h=e(2585735826),v=e(340763958),p=e(9416626);const T={...p.u9,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},A={ok:!1,reason:T.ChannelNotFound},C={ok:!1,reason:T.ChannelTypeNotSupported},I={ok:!1,reason:T.CantDisconnectExtShared},D={ok:!1,reason:T.WhoCanManagePref},y={ok:!0},P=_((ge,Le)=>(0,f.jq)(Le)?(0,m.K3)(ge,Le)?C:(0,v.ju)(Le)&&!(0,h.R)(ge,Le)?I:(0,p.iz)(ge,Le):A,"canUserArchiveChannelWithReasons"),E=_((ge,Le)=>P(ge,Le).ok,"canUserArchiveChannel");var M=e(7563681762),S=e(3848977043),R=e(6495946979),k=e(2912967402),O=e(4094753332),U=e(6471059816),W=e(5156662944),x=e(4761125736);const L=_(ge=>ge&&(0,x._Z)(ge,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var b=e(529357503),F=e(7969244833),B=e(6934022494),K=e(2052624953);const H=new U.Ay("cmd_handlers"),{UNKNOWN_COMMAND:Y,UNSUPPORTED_IN_THREAD:Z,UNSUPPORTED_IN_SHORTCUTS_MENU:V,CUSTOM_ERROR:ne}=r.gu,q=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/gif","/active","/giphy","/iamcal","/mute","/remind"],me=["/asana","/adobe-manage","/adobe-subscribe","/adobe-feedback","/adobe-help","/cohere-help","/cohere-settings","/cohere-summarize","/cohere-quiet","/augment","/dev-augment","/staging-augment"],ue=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],ae=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],le=["/slackaccessibility","/slackgov"],fe=["/leave","/close","/part","/archive","/topic"],he=_(ge=>ge&&ge.alias_of,"getCommandAliasOf"),ie=_(ge=>ge&&ge.name,"getCommandName"),X=_(ge=>ge&&(ge.desc||ge.description),"getCommandDesc"),j=_(ge=>ge&&ge.usage,"getCommandUsage"),w=_(ge=>ge&&(ge.canonical_name||ge.name),"getCommandCanonicalName"),Q=_(ge=>ge&&ge.aliases,"getCommandAliases"),G=_(ge=>ge&&(ge==null?void 0:ge.is_runnable_from_thread),"getCommandIsRunnableFromThread"),J=_(ge=>ge&&ge.type,"getCommandType"),te=_(ge=>ge&&ge.app,"getCommandApp"),se=_(ge=>ge==null?void 0:ge.appName,"getCommandAppName"),ce=_((ge,Le,ke)=>{const Ke=(0,c.OL)(ge,ke),Ne=Ke?(0,F.f)(ge,Ke)||[]:[];return Le.teams&&Ne.length&&Le.appName!=="Slack"&&!Le.isWorkspaceAgnostic?Le.teams.filter(xe=>Ne.includes(xe)):[]},"getCommandRelatedWorkspaces"),Ee=_(function(ge,Le){let{channelId:ke}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Le)return!1;const Ke=w(Le);return Ke==="/leave"?(0,d.Y9)(ge,ke):Ke==="/remove"?(0,l.Vj)(ge,ke):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(Ke)>-1?!1:!!Le.autocomplete},"isAutocompleteCommand"),de=_(ge=>!!(ge&&ge.isServer),"isServerCommand"),re=_(function(ge){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(ge){case M.a_.InvalidDm:return H.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case M.a_.OwnerRequired:return H.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case M.a_.InvalidParams:return Le?H.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):H.t("You don\u2019t have permission to rename.");case M.a_.RestrictedUser:return Le?H.t("Your admins have limited who can rename multi-workspace channels."):H.t("You don\u2019t have permission to rename.");case M.a_.OrgSharedSettings:return Le?H.t("Your admins have limited who can rename multi-workspace channels."):H.t("You don\u2019t have permission to rename.");case M.a_.InvalidChannelType:return H.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return H.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),_e=_(function(ge,Le){let{channelId:ke,isThread:Ke,isShortcutsMenu:Ne}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ge||!Le)return{isEnabled:!1,reason:Y};const Re=(0,K.i7)(ge),xe=w(Le),We=J(Le),$=(0,c.OL)(ge,ke);if(!(0,a.L)(ge)&&(0,t.A)(ae,xe))return{isEnabled:!1,reason:Y};if(!(0,O.y3)()&&(0,t.A)(le,xe))return{isEnabled:!1,reason:Y};if((0,m.jT)($)&&(0,t.A)(fe,xe))return{isEnabled:!1,reason:Y};if(Ke){if(Re){if(!(0,t.A)(q,xe)&&!G(Le))return{isEnabled:!1,reason:Z}}else if(!((0,t.A)(q,xe)||(0,t.A)(me,xe)))return{isEnabled:!1,reason:Z}}if(Ne&&(0,t.A)(ue,xe))return{isEnabled:!1,reason:V};if(We==="custom"||We==="service"){const Ve=(0,o.xp)(ge,"commands_only_regular"),ze=(0,n.cA)(ge);if(Ve&&(0,i.Ez)(ze))return{isEnabled:!1,reason:Y}}if(Le.teams){const Ve=(0,F.f)(ge,$)||[];if(!Le.teams.filter(st=>Ve.includes(st)).length){const st=`Command not run. No intersection found between channel teams (${Ve}) and command teams (${Le.teams})`;return{isEnabled:!1,reason:ne,logString:st,feedback:H.t("This command is not available in this channel")}}}if(xe==="/open"||xe==="/feed"){const Ve=(0,n.cA)(ge);if((0,i.Ez)(Ve))return{isEnabled:!1,reason:Y}}else if(xe==="/topic"){const{ok:Ve,reason:ze}=(0,u.X)(ge,ke);if(!Ve)return{isEnabled:!1,reason:ne,feedback:(0,k.Bw)(ze)}}else if(xe==="/invite"){const Ve=(0,n.cA)(ge);if((0,i.Yd)(Ve))return{isEnabled:!1,reason:Y};if(!(0,R.bl)($))return{isEnabled:!1,reason:ne,feedback:H.t("You don\u2019t have permission to invite people.")};if((0,i.Ez)(Ve)&&!(0,f.Zp)($)||(0,b.A)(ge,Ve,$))return{isEnabled:!1,reason:ne,feedback:H.t("You don\u2019t have permission to invite people.")}}else if(xe==="/invite_people"){if(!(0,S.Lz)(ge))return{isEnabled:!1,reason:ne,feedback:H.t("You don\u2019t have permission to invite people.")}}else if(xe==="/rename"){const{ok:Ve,reason:ze}=(0,M.be)(ge,ke);if(!Ve)return{isEnabled:!1,reason:ne,feedback:re(ze)}}else if(xe==="/archive"){if(!E(ge,$))return{isEnabled:!1,reason:Y}}else if(xe==="/call"){if(!(0,W.lp)(ge,ke)||(0,W.tO)(ge))return{isEnabled:!1,reason:Y}}else if(xe==="/slacktrace"){if(!(0,s.Rg4)())return{isEnabled:!1,reason:ne,feedback:H.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(xe==="/feedback"){if(L(ge))return{isEnabled:!1,reason:Y}}else if(xe==="/gif"&&!(0,B.BH)(ge))return{isEnabled:!1,reason:ne,feedback:H.t("Attach a GIF is not enabled.")};return{isEnabled:!0}},"isSlashCommandEnabled"),ve={getRenameDisabledFeedback:re,TS_ONLY_COMMANDS:ae,DESKTOP_APP_ONLY_COMMANDS:le}},6992769897:(N,g,e)=>{"use strict";e.d(g,{A:()=>l,O:()=>a});var t=e(9087248458),s=e(5980399196),o=e(5455782105),n=e(3071940241),c=e(8359728598),i=e(4761125736);const r=(0,c.A)((d,u)=>{const{teams:f,value:m}=u;switch(m){case"ONLY_SELECTED":return!!(0,t.A)(d,f).length;case"ALL_EXCEPT_SELECTED":return!!(0,s.A)(d,f).length;default:return!0}},2);function a(d){let{slackConnectAllowedWorkspacesPref:u,teamIds:f}=d;return f!=null&&f.length?r(f,u):!1}_(a,"areSomeTargetWorkspacesAllowedToHaveSharedChannelsStateless");function l(d,u){return!(0,o.k)(d)||(0,i._Z)(d,"sc_allowed_workspaces_pref_override")==="on"?!0:a({slackConnectAllowedWorkspacesPref:(0,n.a)(d),teamIds:u})}_(l,"areSomeTargetWorkspacesAllowedToHaveSharedChannels")},2801540778:(N,g,e)=>{"use strict";e.d(g,{z:()=>n});var t=e(6839188756),s=e(8847766420),o=e(1890276164);function n(c,i){if(!c||!i)return!1;const r=(0,t.ZT)(i);if((0,s.Kc)(c)===r||(0,s.ZT)(c)===r)return!1;const a=(0,s.jV)(c);return a&&a===i.enterprise_id?!1:(0,o.R)(c,i.id)}_(n,"isTeamExternal")},8489773543:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>p,w2:()=>h});var t=e(3009309149),s=e(3202757386),o=e(4096483543),n=e(2249017398),c=e(2615100822),i=e(5731054235),r=e(6089972488);const l=_(()=>(0,s.A)(),"isDarkModeFeatureEnabled");var d=e(4094753332),u=e(506684971),f=e.n(u);const m=_(()=>{var A;const C=(0,d.y3)()||((A=window.matchMedia)===null||A===void 0?void 0:A.call(window,"(prefers-color-scheme)").media)!=="not all",I=(0,d.cX)()&&(0,r.Z)((0,r.P)(f().osversion),(0,r.P)("10.14"))>=0,D=(0,d.jy)(),y=(0,d.j9)()&&(0,d.dY)("4.36.136"),P=I||D||y,E=(0,d.y3)()||(0,o.A)()||(0,n.A)()||(0,c.A)()||(0,i.A)();return(0,s.A)()&&C&&P&&E},"computeSystemSyncIsSupportedOnBoot"),h=m(),v=(0,t.Ay)(()=>!!h&&!!l());v.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:()=>!!h&&!!l()};const p=v,T={computeSystemSyncIsSupportedOnBoot:m}},3402139184:(N,g,e)=>{"use strict";e.d(g,{d:()=>s,s:()=>o});var t=e(4761125736);function s(n){return(0,t._Z)(n,"today_v2")==="on"}_(s,"isTodayV2Enabled");function o(n){return(0,t._Z)(n,"today_v2_next")==="on"}_(o,"isTodayV2NextEnabled")},5779706188:(N,g,e)=>{"use strict";e.d(g,{S:()=>o,z:()=>n});var t=e(8983368692),s=e(4761125736);function o(c){return(0,s._Z)(c,"hermes_template_builder_role")==="on"?(0,t.T)(c):!0}_(o,"canUserCreateWorkflowTemplates");function n(c){return(0,s._Z)(c,"hermes_template_admin_permission")==="on"?(0,t.m8)(c):!0}_(n,"canUserPublishWorkflowTemplates")},317660850:(N,g,e)=>{"use strict";e.d(g,{D:()=>s});var t=e(8983368692);const s=_(o=>(0,t.NH)(o),"canUserAddEmoji")},324756633:(N,g,e)=>{"use strict";e.d(g,{S:()=>r});var t=e(9101533895),s=e(201941576),o=e(4761125736),n=e(337319621),c=e(8983368692),i=e(1407713935);function r(a,l){const d=(0,o._Z)(a,"etf_escal_permission_fe_logs")==="on",u=(0,t.gT)(a,l)&&(0,t.OL)(a,l)||void 0;return d&&(0,n.Ay)({state:a,label:"escal-cannot-at-channel"}).error("debug escal errors for escal-cannot-at-channel in canUserAtChannelInChannelById",{channelId:`${l}`,isMpim:`${(0,i.yz)(u)}`,deprecatedIsPermittedToAtChannelMPIM:`${(0,c.De)(a)}`,deprecatedIsPermittedToAtChannel:`${(0,c.De)(a,{channelId:l})}`,shouldStopChannelMentions:`${(0,s.i)(a,u==null?void 0:u.id,{allowToAdmins:!0})}`}),((0,i.yz)(u)?(0,c.De)(a):(0,c.De)(a,{channelId:l}))&&!(0,s.i)(a,u==null?void 0:u.id,{allowToAdmins:!0})}_(r,"canUserAtChannelInChannelById")},641827819:(N,g,e)=>{"use strict";e.d(g,{W:()=>a});var t=e(9101533895),s=e(201941576),o=e(6113051341),n=e(5795074931),c=e(4761125736),i=e(337319621),r=e(8983368692);const a=_((l,d)=>{const u=(0,c._Z)(l,"etf_escal_permission_fe_logs")==="on",f=(0,t.gT)(l,d)&&(0,t.OL)(l,d)||void 0;return u&&(0,i.Ay)({state:l,label:"escal-cannot-at-channel"}).error("debug escal errors for escal-cannot-at-channel in canUserAtEveryoneInChannelById",{channelId:`${d}`,isChannelExistent:`${(0,t.gT)(l,d)}`,isGeneral:`${(0,o.N)(f)}`,pageNeedsEnterprise:`${(0,n.u8)(l)}`,deprecatedIsPermittedToAtEveryone:`${(0,r.Pj)(l,{channelId:d})}`,shouldStopChannelMentions:`${(0,s.i)(l,f==null?void 0:f.id,{allowToAdmins:!0})}`}),!d||!f||!(0,o.N)(f)?!1:(0,n.u8)(l)?(0,r.Pj)(l,{channelId:d})&&!(0,s.i)(l,f==null?void 0:f.id,{allowToAdmins:!0}):(0,r.Pj)(l,{channelId:d})},"canUserAtEveryoneInChannelById")},1507833885:(N,g,e)=>{"use strict";e.d(g,{MM:()=>c,Uq:()=>i,_t:()=>r});var t=e(3385422400),s=e(5962670951),o=e(241752795),n=e(1340402138);const c=_(a=>((0,o.HV)(a)||(0,s.R)(a))&&!(0,n.R)(a),"canUserCreateChannelsInSomeWorkspace"),i=(0,t.Mz)(o.y5,s.S,(a,l)=>l,(a,l,d)=>d.some(u=>a.includes(u)||l.includes(u))),r=(0,t.Mz)(o.y5,s.S,(a,l)=>l,(a,l,d)=>d.every(u=>a.includes(u)||l.includes(u)))},5962670951:(N,g,e)=>{"use strict";e.d(g,{R:()=>i,S:()=>r});var t=e(3078708518),s=e(4618126901),o=e(3347557755),n=e(6476812141);const c=_(a=>!(0,t.A)(a),"isPermittedToPrecondition"),i=_(a=>{if(!c(a))return!1;const l=(0,o.ox)(a,{permission:n.p.CREATE_PRIVATE_CHANNEL});return(0,s.Jr)(l)},"canUserCreatePrivateChannelsInSomeWorkspace"),r=_(a=>{if(!c(a))return[];const l=(0,o.oI)(a,{permission:n.p.CREATE_PRIVATE_CHANNEL});return(0,s.n9)(l)},"getWorkspaceIdsOnWhichUserCanCreatePrivateChannels")},241752795:(N,g,e)=>{"use strict";e.d(g,{HV:()=>u,YD:()=>m,y5:()=>f});var t=e(3078708518),s=e(1407713935),o=e(6495946979),n=e(7304011293),c=e(3307632080),i=e(7112191091),r=e(4618126901),a=e(3347557755),l=e(6476812141);const d=_(h=>!(0,t.A)(h),"isPermittedToPrecondition"),u=_(h=>{if(!d(h))return!1;const v=(0,a.ox)(h,{permission:l.p.CREATE_PUBLIC_CHANNEL});return(0,r.Jr)(v)},"canUserCreatePublicChannelsInSomeWorkspace"),f=_(h=>{if(!d(h))return[];const v=(0,a.oI)(h,{permission:l.p.CREATE_PUBLIC_CHANNEL});return(0,r.n9)(v)},"getWorkspaceIdsOnWhichUserCanCreatePublicChannels"),m=_((h,v)=>{if(!(0,s.Zp)(v)||!d(h)||(0,c.A)(h,v))return!1;const p=(0,a.WB)(h,{permission:l.p.CONVERT_PRIVATE_TO_PUBLIC,channelId:v.id});return(0,r.Jr)(p)&&(0,o.bl)(v)||(0,i.yG)(h,v)||(0,s.rI)(v)&&(0,n.O)(h,v.id)?!0:!!(0,i.yG)(h,v)},"canUserCreatePublicChannelFromPrivateChannel")},8023032856:(N,g,e)=>{"use strict";e.d(g,{u:()=>n});var t=e(4761125736),s=e(8983368692),o=e(4982839543);const n=_(function(c){let{shouldRefetch:i=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t._Z)(c,"light_read_who_can_dm_anyone_pref_migration")==="on"?(0,s.Tt)(c):(0,o.aJ)(c,{shouldRefetch:i})},"canUserCreateSlackConnectDms")},1612857492:(N,g,e)=>{"use strict";e.d(g,{i:()=>l,q:()=>a});var t=e(3929724715),s=e(6495946979),o=e(7112191091),n=e(1407713935),c=e(9101533895),i=e(8983368692),r=e(8250322877);const a=_((d,u)=>{if(!(0,n.jq)(u))return!1;const f=(0,t.FB)(u);return(0,r.D)(d,u)&&((0,o.S4)(d,u)||(0,s.bl)(u)&&(0,i.Fk)(d,{channelId:f}))},"canUserInviteExternalUsersToChannel"),l=_((d,u)=>{const m=(0,c.OL)(d,u,!1);return m?a(d,m):!1},"canUserInviteExternalUsersToChannelById")},9183417278:(N,g,e)=>{"use strict";e.d(g,{Q:()=>l,e:()=>d});var t=e(3929724715),s=e(6495946979),o=e(1407713935),n=e(7112191091),c=e(9101533895),i=e(4761125736),r=e(8983368692),a=e(8250322877);const l=_((u,f)=>{const m=(0,i._Z)(u,"invite_to_channel_permission")==="on";if(!(0,o.jq)(f))return!1;const h=(0,t.FB)(f),v=(0,a.D)(u,f);return m&&(0,o.Zp)(f)?v&&((0,n.S4)(u,f)||(0,s.bl)(f)&&(0,r.jw)(u,{channelId:h})):v},"canUserInviteInternalUsersToChannel"),d=_((u,f)=>{const h=(0,c.OL)(u,f,!1);return h?l(u,h):!1},"canUserInviteInternalUsersToChannelById")},8250322877:(N,g,e)=>{"use strict";e.d(g,{D:()=>m,X:()=>h});var t=e(1340402138),s=e(3929724715),o=e(1407713935),n=e(6007206761),c=e(5373179915),i=e(6495946979),r=e(2350349607),a=e(7112191091),l=e(3559837422),d=e(9101533895),u=e(4761125736),f=e(8983368692);const m=_((v,p)=>{const T=(0,u._Z)(v,"invite_to_channel_permission")==="on";if(!(0,o.jq)(p))return!1;const A=(0,s.FB)(p);return(0,l.AB)(v)||(0,n.F)(p)||!(0,r.V)(p)||(0,t.R)(v)&&(0,c.R)(v,p)?!1:T&&(0,o.Zp)(p)?(0,a.S4)(v,p)||(0,i.bl)(p)&&((0,f.jw)(v,{channelId:A})||(0,f.Fk)(v,{channelId:A})):(0,a.S4)(v,p)||(0,i.bl)(p)},"canUserInviteToChannel"),h=_((v,p)=>{const A=(0,d.OL)(v,p,!1);return A?m(v,A):!1},"canUserInviteToChannelById")},8904182388:(N,g,e)=>{"use strict";e.d(g,{CE:()=>h,Vj:()=>I,VJ:()=>C});var t=e(1407713935),s=e(6007206761),o=e(6841796315),n=e(9101533895);const c={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},i={ok:!1,reason:c.ArchivedChannel},r={ok:!1,reason:c.InvalidDm},a={ok:!1,reason:c.RequiredChannel};function l(D,y){const P=(0,n.gT)(D,y)?(0,n.OL)(D,y):null;return(0,s.F)(P)?i:(0,t.LI)(P)||(0,t.yz)(P)?r:(0,t.gx)(P)?a:o.O}_(l,"isChannelKickableWithReason");function d(D,y){return l(D,y).ok}_(d,"isChannelKickable");var u=e(6915262278),f=e(3559837422),m=e(8983368692);const h={...c,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},v={ok:!1,reason:h.InvalidParams},p={ok:!1,reason:h.UserIsRestricted},T={ok:!1,reason:h.RestrictedPublicChannel},A={ok:!1,reason:h.RestrictedPrivateChannel};function C(D,y){const P=(0,n.gT)(D,y)?(0,n.OL)(D,y):null;if(!(0,t.jq)(P))return v;if((0,f.sV)(D))return p;const E=l(D,y);if(!E.ok)return{ok:!1,reason:E.reason};const M=(0,m.J3)(D,{channelId:y}),S=(0,m.j)(D,{channelId:y}),R=(0,t.rW)(P)?"public":"private",k=R==="private"?u.Po:u.LI,O=R==="private"?u.tU:u.H7;return!(k(D)||O(D))&&!(R==="private"?S:M)?R==="private"?A:T:o.O}_(C,"canUserKickFromChannelWithReason");function I(D,y){return C(D,y).ok}_(I,"canUserKickFromChannel")},6915262278:(N,g,e)=>{"use strict";e.d(g,{H7:()=>u,LI:()=>l,Po:()=>d,tU:()=>f});var t=e(5597672932),s=e(1670069836),o=e(5455782105),n=e(6839188756),c=e(5510392579),i=e(4618126901),r=e(3347557755),a=e(6476812141);const l=_(m=>{if(!(0,o.k)(m))return!1;const h=(0,r.tA)(m,{permission:a.p.MANAGE_PUBLIC_CHANNELS});return(0,i.Jr)(h)},"canUserManagePublicChannelsInOrgDash"),d=_(m=>{if(!(0,o.k)(m))return!1;const h=(0,r.tA)(m,{permission:a.p.MANAGE_PRIVATE_CHANNELS});return(0,i.Jr)(h)},"canUserManagePrivateChannelsInOrgDash"),u=_(m=>{const h=(0,s.H7)(m);return(0,n.Ny)(h)?(0,c.h3)(m):!1},"canUserManagePublicChannelsInTeamSite"),f=_(m=>{const h=(0,s.H7)(m);if(!(0,n.Ny)(h)||(0,n.NB)(h)&&!(0,t.xp)(m,"has_compliance_export"))return!1;const v=(0,r.ox)(m,{permission:a.p.MANAGE_WORKSPACE_PRIVATE_CHANNELS});return(0,i.Jr)(v)},"canUserManagePrivateChannelsInTeamSite")},7563681762:(N,g,e)=>{"use strict";e.d(g,{JJ:()=>p,a_:()=>a,be:()=>h,rY:()=>v});var t=e(1407713935),s=e(6915262278),o=e(6841796315),n=e(5795074931),c=e(9101533895),i=e(3490825458),r=e(8983368692);const a={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},l={ok:!1,reason:a.InvalidParams},d={ok:!1,reason:a.InvalidDm},u={ok:!1,reason:a.InvalidChannelType},f={ok:!1,reason:a.UserHasNoPermissions},m=_((T,A)=>{if(!(0,t.jq)(A))return l;if((0,t.LI)(A)||(0,t.yz)(A))return d;if((0,t.rI)(A))return u;const C=(0,n.TZ)(T),I=(0,i.s)(T),D=(0,i.R)(T);return C?(0,r.JF)(T,{channelId:A.id})?o.O:f:I&&((0,t.Zp)(A)&&(0,s.Po)(T)||(0,t.rW)(A)&&(0,s.LI)(T))||D&&((0,t.Zp)(A)&&(0,s.tU)(T)||(0,t.rW)(A)&&(0,s.H7)(T))?o.O:f},"canUserRenameChannelWithReason"),h=_((T,A)=>{const I=(0,c.OL)(T,A,!1);return I?m(T,I):l},"canUserRenameChannelWithReasonById"),v=_((T,A)=>m(T,A).ok,"canUserRenameChannel"),p=_((T,A)=>h(T,A).ok,"canUserRenameChannelById")},9416626:(N,g,e)=>{"use strict";e.d(g,{NG:()=>y,iz:()=>D,u9:()=>d});var t=e(3929724715),s=e(1407713935),o=e(6007206761),n=e(6495946979),c=e(2585735826),i=e(340763958),r=e(9846841407),a=e(7112191091),l=e(8983368692);const d={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),NotAllowedHomeExternallyShared:Symbol("not_allowed_home_ext_shared"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},u={ok:!1,reason:d.ChannelNotFound},f={ok:!1,reason:d.ChannelTypeNotSupported},m={ok:!1,reason:d.CantArchiveGeneral},h={ok:!1,reason:d.NotInChannel},v={ok:!1,reason:d.AlreadyArchived},p={ok:!1,reason:d.NotAllowedHomeExternallyShared},T={ok:!1,reason:d.AwayExternallyShared},A={ok:!1,reason:d.UserHasNoPermissions},C={ok:!1,reason:d.DefaultOrgWideChannel},I={ok:!0},D=_((P,E)=>{if(!(0,s.jq)(E))return u;if((0,s.LI)(E)||(0,s.yz)(E))return f;if((0,s.gx)(E))return m;if((0,o.F)(E))return v;if((0,r.b)(P,E))return T;if(!(0,a.S4)(P,E)&&!(0,n.bl)(E))return h;const S=(0,t.FB)(E);return(0,i.ju)(E)&&!(0,r.b)(P,E)&&!(0,c.R)(P,E)?p:(0,l.xQ)(P,{channelId:S})?I:A},"canUserSeeArchiveChannelOptionWithReasons"),y=_((P,E)=>D(P,E).ok,"canUserSeeArchiveChannelOption")},591259428:(N,g,e)=>{"use strict";e.d(g,{P:()=>v,X:()=>h});var t=e(9101533895),s=e(6495946979),o=e(2912967402),n=e(1407713935),c=e(6007206761),i=e(3559837422),r=e(340763958),a=e(4827886670),l=e(8983368692);const d={ok:!0},u={ok:!1,reason:o.CM},f={ok:!1,reason:o.Jr},m={ok:!1,reason:o.oP},h=_((p,T)=>{const A=(0,t.gT)(p,T)&&(0,t.OL)(p,T);return A?(0,n.JM)(A)&&(0,r.ju)(A)?f:(0,c.F)(A)?m:(0,l.YH)(p,{channelId:T})?d:!(0,s.bl)(A)||!(0,a.c)(p,A)||(0,i.sV)(p)||(0,i.AB)(p)?m:d:u},"canUserSetTopicForChannelWithReasonById"),v=_((p,T)=>h(p,T).ok,"canUserSetTopicForChannelById")},3307632080:(N,g,e)=>{"use strict";e.d(g,{A:()=>n,G:()=>o});var t=e(6545221113),s=e(8847766420);const o=_((c,i)=>{if(!c||!i)return!1;const r=(0,s.Kc)(c);return(0,t.A)(c,r,i)},"isExternalLimited"),n=o},6052171436:(N,g,e)=>{"use strict";e.d(g,{A:()=>M});var t=e(3134334389),s=e(7715417323),o=e(2843556239),n=e(4348392507),c=e(4094753332),i=e(3527550343),r=e(8646591923),a=e(337319621),l=e(3193155968);const d='<div aria-hidden="true" style="position:absolute" tabindex="1"></div>',u='<div aria-hidden="true" style="position:absolute" tabindex="0"></div>',f={},m={},h=_((S,R)=>{const k=S.createElement("div");k.innerHTML=d+u;const O=k.firstChild,U=k.lastChild,W=S.body;!O||!U||(W.insertBefore(O,W.firstChild),W.appendChild(U),m[R].firstHiddenTabStop=O,m[R].lastHiddenTabStop=U)},"createHiddenTabStops"),v=_((S,R)=>{const{firstHiddenTabStop:k,lastHiddenTabStop:O}=m[R];k&&(S==null||S.body.removeChild(k)),O&&(S==null||S.body.removeChild(O))},"removeHiddenTabStops"),p=_(S=>{const R=(0,i.Fp)(S.getElementById("client-ui"));R&&R.focus()},"focusFirstInClient"),T=_(S=>{const R=(0,i.LQ)(S.getElementById("client-ui"));R&&R.focus()},"focusLastInClient"),A=_((S,R)=>{let{keyCode:k,type:O,shiftKey:U,ctrlKey:W,metaKey:x}=R;const L=m[S];k===r.wn&&(W||(0,c.cX)()&&x||(L.keydownTimeoutId&&clearTimeout(L.keydownTimeoutId),L.relatedEvent={type:O,keyCode:k,shiftKey:U},L.keydownTimeoutId=setTimeout(()=>{L.relatedEvent=null},15)))},"onDocumentKeyDown"),C=_((S,R)=>{let{type:k}=R;const O=m[S];O.mousedownTimeoutId&&clearTimeout(O.mousedownTimeoutId),O.relatedEvent={type:k},O.mousedownTimeoutId=setTimeout(()=>{O.relatedEvent=null},15)},"onDocumentMouseDown"),I=_((S,R)=>{const{currentTarget:k,target:O,relatedTarget:U}=R,W=m[S],x=W.relatedEvent,L=x&&x.type==="keydown"?x:null,b=W.firstHiddenTabStop,F=W.lastHiddenTabStop,B=O===b,K=O===F;if(O!==k){if(B&&L){if(L.shiftKey){O.blur();return}if(!U){p(k);return}}if(K&&L){L.shiftKey?T(k):O.blur();return}if(!U&&!L&&(B||K)){if(W.relatedEvent={type:"keydown",shiftKey:!1,keyCode:9},B){p(k),W.relatedEvent=null;return}K&&(T(k),W.relatedEvent=null)}}},"onDocumentFocus"),D=_((S,R)=>{const{currentTarget:k,relatedTarget:O}=R,U=m[S];U.blurTimeoutId&&(clearTimeout(U.blurTimeoutId),U.blurTimeoutId=null);const{shiftKey:W,type:x,keyCode:L}=U.relatedEvent||{};!O&&x==="keydown"&&(U.blurTimeoutId=setTimeout(()=>{if(k.activeElement!==k.body)return;U.relatedEvent={type:x,shiftKey:W,keyCode:L},(W?T:p)(k),U.relatedEvent=null},150))},"onDocumentBlur"),y=_((S,R)=>R.bind(null,S),"withWindowId"),P=_(S=>({firstHiddenTabStop:null,lastHiddenTabStop:null,onDocumentBlur:y(S,D),onDocumentFocus:y(S,I),onDocumentKeyDown:y(S,A),onDocumentMouseDown:y(S,C),relatedEvent:null,blurTimeoutId:null,keydownTimeoutId:null,mousedownTimeoutId:null}),"initRefs");let E=_(class extends t.PureComponent{componentDidMount(){var R;const k=t.Children.only(this.props.children);typeof k.type=="function"&&this.checkChildIsValid(k);const{windowRef:O,windowId:U=l.N2}=this.props,W=(R=O.deref())===null||R===void 0?void 0:R.document;if(!W){(0,a.Wo)().warn("FOCUS-MANAGER","FocusManager does not have a document (mount)");return}if(!f[U]){f[U]=0,m[U]=P(U);const x=m[U];(0,c.y3)()?W.addEventListener("blur",x.onDocumentBlur,!0):(h(W,U),W.addEventListener("focus",x.onDocumentFocus,!0)),W.addEventListener("keydown",x.onDocumentKeyDown,!0),W.addEventListener("mousedown",x.onDocumentMouseDown,!0)}f[U]+=1}componentWillUnmount(){var R;const{windowRef:k,windowId:O=l.N2}=this.props,U=(R=k.deref())===null||R===void 0?void 0:R.document;if(!U){(0,a.Wo)().warn("FOCUS-MANAGER","FocusManager does not have a document (unmount)");return}if(f[O]-=1,f[O]===0){const W=m[O];(0,c.y3)()?U==null||U.removeEventListener("blur",W.onDocumentBlur,!0):(v(U,O),U==null||U.removeEventListener("focus",W.onDocumentFocus,!0)),U==null||U.removeEventListener("keydown",W.onDocumentKeyDown,!0),U==null||U.removeEventListener("mousedown",W.onDocumentMouseDown,!0),W.blurTimeoutId&&clearTimeout(W.blurTimeoutId),W.keydownTimeoutId&&clearTimeout(W.keydownTimeoutId),W.mousedownTimeoutId&&clearTimeout(W.mousedownTimeoutId),delete f[O],delete m[O]}}onBlur(R){const{currentTarget:k,target:O,relatedTarget:U}=R,W={relatedTarget:U,currentTarget:k,target:O};k.contains(U)||this.props.onFocusLeave&&this.props.onFocusLeave(W)}onFocus(R){const{currentTarget:k,target:O,relatedTarget:U}=R,{windowId:W=l.N2}=this.props,{relatedEvent:x}=m[W];if(!(k==null?void 0:k.contains(O)))return;const F=k.contains(U)?this.props.onFocusWithin:this.props.onFocusEnter;F&&F({relatedTarget:U,currentTarget:k,target:O,relatedEvent:x})}checkChildIsValid(R){const{onFocus:k,onBlur:O}=R.props;if(!(k&&O))throw new Error("FocusManager requires a single child with onFocus and onBlur props.")}render(){const R=this.props.children;return t.cloneElement(R,{onFocus:this.onFocus,onBlur:this.onBlur},R.props.children)}constructor(R){super(R),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}},"FocusManager");E.defaultProps={children:null,onFocusEnter:s.A,onFocusWithin:s.A,onFocusLeave:s.A,windowRef:o.Jh.windowRef},E.displayName="FocusManager";const M=(0,n.A)(E)},1820009530:(N,g,e)=>{"use strict";e.d(g,{A:()=>We});var t=e(3134334389),s=e(6122756707),o=e(4844578989),n=e.n(o),c=e(7715417323),i=e(4348392507),r=e(2830068825),a=e(3527550343),l=e(2684695959),d=e(6165267850),u=e(8420440042);const f=_($=>{const{startFocusTransitionFallbackTimeout:ee,cancelFocusTransitionFallback:Ve}=(0,t.useContext)(u.Ay),ze=(0,t.useCallback)((Ge,be)=>{ee($,Ge,be)},[$,ee]),st=(0,t.useCallback)(()=>{Ve($)},[Ve,$]);return(0,t.useEffect)(()=>()=>{Ve($)},[Ve,$]),[ze,st]},"useFocusTransitionFallback");var m=e(3099379614),h=e(7173172014),v=e(4094753332),p=e(7171435821),T=e(6471059816),A=e(7937864072),C=e(5519459863),I=e(2683115972),D=e(3989454579),y=e(7138682671),P=e(4979382452),E=e(4636370173),M=e(2465132699),S=e(8523371695),R=e(3606117573),k=e(8029613601),O=e(4829524689),U=e(4947127560),W=e(4096483543),x=e(9391594207),L=e(9003400431),b=e(1928462597),F=e(387484329),B=e(1684408608);function K(){return K=Object.assign||function($){for(var ee=1;ee<arguments.length;ee++){var Ve=arguments[ee];for(var ze in Ve)Object.prototype.hasOwnProperty.call(Ve,ze)&&($[ze]=Ve[ze])}return $},K.apply(this,arguments)}_(K,"_extends");const H=new T.Ay("contextual_help"),Y={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},Z=_($=>{let{suppressOnClose:ee=!1,cancelButtonAutoClogProps:Ve,cancelButtonText:ze,children:st,className:Ge,closeModal:be,"data-qa":Se="contextual_help_modal",onSubmit:we=c.A,contextualHelpCheckboxLabel:Ce,pref:Te,showCancelButton:Ye=!1,submitButtonAutoClogProps:De,submitButtonText:Pe,submitButtonType:ye="primary",title:He="",illustration:Qe,setUserPrefByApi:dt=c.A}=$;const Ot=(0,A.A)(),[yt]=(0,C.A)(Te),Dt=b.PW[Te],[Ct,kt]=(0,t.useState)(Dt!==yt),vt="contextual-help-modal-dialog-title",Nt="contextual-help-modal-dialog-content",It=(0,t.useCallback)(Ht=>{Ot.action("CONTEXTUAL-HELP-MODAL",`Changed ${Te}: ${Ht}`),(0,W.A)()?(0,B.gj)((0,F.AZ)({pref:Te,value:Ht})):dt({pref:Te,value:Ht})},[Ot,Te,dt]),At=(0,t.useCallback)(function(){let Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ee?It(!Dt):Ht&&It(Dt!==Ct),be()},[ee,be,Dt,Ct,It]),Zt=(0,t.useCallback)(Ht=>{kt(Ht.target.checked)},[]),jt=(0,t.useCallback)(()=>{we(),At(!0)},[At,we]);return t.createElement(P.A,{className:Ge,labelledby:vt,describedby:Nt,closeModal:At,role:"alertdialog",dataQa:Se,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.createElement(k.A,null,Qe?t.createElement(O.A,K({"aria-hidden":!0},Qe)):null,t.createElement(U.A,{title:He,id:vt,"data-qa":`${Se}_header`})),t.createElement(E.A,null,t.createElement(M.A,{"data-qa":`${Se}_content`,id:Nt},st)),t.createElement(S.A,{"data-qa":`${Se}_footer`,className:n()({"c-contextual_help_shortcuts_list__footer_with_checkbox":!ee})},!ee&&t.createElement(y.A,{"data-qa":`${Se}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:Ce||H.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.createElement(D.A,{checked:Ct,onChange:Zt,autoClogProps:Y})),t.createElement(R.A,null,Ye&&t.createElement(I.Ay,{type:"outline",onClick:At,"data-qa":`${Se}_cancel`,autoClogProps:Ve},ze||H.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.createElement(I.Ay,{type:ye,onClick:jt,"data-qa":`${Se}_submit`,autoClogProps:De,autoFocus:!0},Pe||H.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");Z.displayName="ContextualHelpModal";const V=_($=>({closeModal:()=>$((0,L.O)()),setUserPrefByApi:ee=>(0,F.AZ)(ee)}),"mapDispatchToProps"),ne=(0,x.N)(null,V)(Z);var q=e(440635146),me=e(8739505998),ue=e(8783045612),ae=e.n(ue);const le=new T.Ay("contextual_help"),fe={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},he={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},ie={src:ae(),alt:""},X=_(()=>{const $=(0,v.y3)(),ee=le.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),Ve=`https://${(0,p.qF)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,ze=(0,q.ed)("Cmd"),st=(0,q.ed)("Ctrl"),Ge=(0,q.ed)(q.tc.ArrowLeft),be=(0,q.ed)(q.tc.ArrowRight),Se=le.t("F6"),we=le.rt("{ctrlKey}+{f6Key}",{ctrlKey:st,f6Key:Se}),Ce=_(()=>(0,v.cX)()?le.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:ze,ctrlKey:st,leftArrowKey:Ge,rightArrowKey:be}):$?Se:we,"getSectionNavigationKeys"),Te=le.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:Ce(),"<link>":De=>{let{text:Pe}=De;return t.createElement(me.A,{href:Ve,autoClogProps:he},Pe)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),Ye=le.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.createElement(h.A,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.createElement(ne,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:fe,title:ee,illustration:ie,suppressOnClose:!0,submitButtonText:Ye},Te))},"ContextualHelpForSectionNavigationModal");X.displayName="ContextualHelpForSectionNavigationModal";const j=X;var w=e(6304789565),Q=e(3051824855),G=e(2047021170);const J=(0,Q.e)(j),te=(0,w.Ay)("Maybe open modal dialog with contextual help for section navigation",($,ee)=>{const Ve=ee();(0,G.ty)(Ve,"should_show_contextual_help_for_section_navigation")&&$(J())});te.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};const se=null;var ce=e(9551108847),Ee=e(3626175760),de=e(8999436648),re=e(337319621),_e=e(9012396182),ve=e(4134037340),ge=e(8847766420),Le=e(6533394955);function ke(){return ke=Object.assign||function($){for(var ee=1;ee<arguments.length;ee++){var Ve=arguments[ee];for(var ze in Ve)Object.prototype.hasOwnProperty.call(Ve,ze)&&($[ze]=Ve[ze])}return $},ke.apply(this,arguments)}_(ke,"managed_focus_container_extends");const Ke={display:"contents"},Ne="enabled-managed-focus-container",Re=_(()=>!0,"shouldAlwaysFocus"),xe=_($=>{const{id:ee,index:Ve,focusFn:ze=c.A,restoreFocusFn:st=void 0,enableSectionNavigation:Ge=!0,refToForward:be=void 0,onFocus:Se=c.A,onBlur:we=c.A,shouldFocus:Ce=Re,onFirstHiddenTabStopFocus:Te=c.A,onLastHiddenTabStopFocus:Ye=c.A,tabCountToShowContextualHelp:De=4,windowRef:Pe,windowToken:ye=void 0,windowId:He=void 0,className:Qe,...dt}=$,{registerSection:Ot,unregisterSection:yt,setActiveSection:Dt}=(0,t.useContext)(de.A),Ct=(0,r.A)(be),[kt,vt]=(0,t.useState)(),[Nt,It]=(0,t.useState)(0),{getState:At}=(0,s.Pj)(),Zt=At();let jt=Zt,Ht;(0,ve.A)(Zt)?(Ht=(0,_e.getFocusedWorkspace)(Zt),jt=(0,Le.$D)(Ht)):Ht=(0,ge.ZT)(Zt);const Pt=(0,re.Ay)({state:jt}),Ft=(0,G.ty)(jt,"should_show_contextual_help_for_section_navigation"),En=(0,t.useCallback)(Bt=>(0,Le.Qw)(Ht,(0,F.AZ)({pref:"should_show_contextual_help_for_section_navigation",value:Bt})),[Ht]),[Rt,rn]=(0,t.useState)(!1),nn=(0,t.useCallback)(()=>{if(Rt)return;const Bt=Nt+1;if(Ft){It(0),En(!1),rn(!0),(0,Le.Qw)(Ht,J({openModalProps:{forceTargetWindowId:He}}));return}if(Bt>=De){It(0),rn(!0),(0,Le.Qw)(Ht,J({openModalProps:{forceTargetWindowId:He}}));return}It(Bt)},[Rt,En,Ft,De,Nt,Ht,He]),at=(0,t.useCallback)(Bt=>{Te(Bt)},[Te]),tt=(0,t.useCallback)(Bt=>{Ye(Bt),nn()},[nn,Ye]),ft=(0,t.useCallback)(Bt=>{Dt(ee),Se(Bt)},[ee,Se,Dt]),wt=(0,t.useCallback)(Bt=>{const{target:Yt,currentTarget:on,relatedTarget:An}=Bt;on.contains(An)||vt((0,d.O)(Yt)),we(Bt)},[we]),Jt=(0,t.useCallback)(()=>Ce()?!Ct.current||ee===Ee.yE?!0:!!(0,a.Fp)(Ct.current):!1,[Ct,Ce,ee]),sn=(0,t.useCallback)(()=>{var Bt,Yt;return!!(!((Bt=Ct.current)===null||Bt===void 0)&&Bt.contains((Yt=Pe.deref())===null||Yt===void 0?void 0:Yt.document.activeElement))},[Ct,Pe]),z=(0,t.useCallback)(()=>{const Bt=kt==null?void 0:kt.deref();return!(!Bt||!Bt.focus||!Ct.current.contains(Bt)||!(0,l.A)(Bt,Pe.deref()))},[Ct,kt,Pe]),Me=(0,t.useCallback)(Bt=>{var Yt;if(Bt!==((Yt=Pe.deref())===null||Yt===void 0?void 0:Yt.document.activeElement)||!Ct.current||sn())return;const on=(0,a.Fp)(Ct.current);on&&on.focus()},[Ct,Pe,sn]),Be=(0,t.useCallback)(Bt=>{if(Nt===0||Rt)return;const{key:Yt,shiftKey:on}=Bt.detail;Yt==="Tab"&&!on||It(0)},[Rt,Nt]),[nt]=f(Me);(0,t.useEffect)(()=>{var Bt;return(Bt=Pe.deref())===null||Bt===void 0||Bt.document.addEventListener("keyboard-navigation",Be),()=>{var Yt;(Yt=Pe.deref())===null||Yt===void 0||Yt.document.removeEventListener("keyboard-navigation",Be)}},[Pe,Be]),(0,t.useEffect)(()=>(Ge&&(Ot(ee,{focus:()=>{var Bt;if(z()){var Yt;if(st)st(kt==null?void 0:kt.deref());else{var on;(on=kt==null?void 0:kt.deref())===null||on===void 0||on.focus()}if(((Yt=Pe.deref())===null||Yt===void 0?void 0:Yt.document.activeElement)===(kt==null?void 0:kt.deref()))return}ze(),nt(ce.H0,(Bt=Pe.deref())===null||Bt===void 0?void 0:Bt.document.activeElement)},shouldFocus:Jt},Ve),sn()&&Dt(ee)),Ge||yt(ee),()=>{yt(ee)}),[Ge,ze,st,ee,Ve,Ot,yt,Jt,kt,Pe]),(0,t.useEffect)(()=>{var Bt;Ge&&(!((Bt=Ct.current)===null||Bt===void 0)&&Bt.getElementsByClassName(Ne).length)&&Pt.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${ee}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[Ge,Ct,Pt,ee]);const Lt=Ge?Ne:void 0;return t.createElement(m.A,ke({onFocus:ft,onBlur:wt,onFirstHiddenTabStopFocus:at,onLastHiddenTabStopFocus:tt,ref:Ct,className:n()(Qe,Lt)},dt))},"ManagedFocusContainer");xe.displayName="ManagedFocusContainer",xe.defaultProps={style:Ke};const We=(0,i.A)(xe)},3626175760:(N,g,e)=>{"use strict";e.d(g,{Pb:()=>i,bP:()=>r,n_:()=>o,ol:()=>c,yE:()=>s});var t=e(3193155968);const s="QuipEmbed",o=[s,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],n=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter","QuipFloatingActions","QuipPreviewTemplatesFooter"],c=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],i=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary","WFBWaysToStart"],r=[...o,...n,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","ControlStrip",t.mq.Sidebar,t.mq.Primary,t.mq.Secondary,t.mq.Split,t.mq.Modal,"HuddleWorkspace","PocketGuide","ProductivityTips","VideoClipsMiniplayer"]},2035583094:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3193155968);const o={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_SWITCHER_RAIL:2,WORKSPACE_TAB_RAIL:3,CONTROL_STRIP:8,HUDDLE_WORKSPACE:9,POCKET_GUIDE:10,PRODUCTIVITY_TIPS:11,VIDEO_CLIPS_MINIPLAYER:12,[t.mq.Sidebar]:4,[t.mq.Primary]:5,[t.mq.Secondary]:6,[t.mq.Split]:7,[t.mq.Modal]:-1,[t.mq.Peek]:-1,[t.mq.Headless]:-1}},8999436648:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(7715417323),o=e(5135324409);const n=t.createContext({registerSection:s.A,unregisterSection:s.A,setActiveSection:s.A,getActiveSection:o.Q,resetSectionNavigation:s.A})},9839643733:(N,g,e)=>{"use strict";e.d(g,{I:()=>n,U:()=>c});var t=e(3134334389),s=e(9506008067),o=e(6766954308);const n=(0,t.createContext)({useARIAApplicationForListViews:!1}),c=_(i=>{const r=(0,s.d4)(o.dF),a=(0,t.useMemo)(()=>({useARIAApplicationForListViews:r}),[r]);return t.createElement(n.Provider,{value:a},i.children)},"A11yPrefsProvider");c.displayName="A11yPrefsProvider"},581167618:(N,g,e)=>{"use strict";e.d(g,{AO:()=>p,A_:()=>v,Ay:()=>I,QE:()=>h});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6966669095),c=e(7173172014),i=e(6471059816),r=e(6105929840),a=e(1610251172),l=e(2201208793),d=e(4882164428),u=e(8683010724);function f(){return f=Object.assign||function(D){for(var y=1;y<arguments.length;y++){var P=arguments[y];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(D[E]=P[E])}return D},f.apply(this,arguments)}_(f,"_extends");const m=new i.Ay("sk_banner");var h;(function(D){D.default="default",D.boxed="boxed",D.inlineBoxed="inline_boxed",D.nestedBox="nested_box",D.inline="inline",D.custom="custom"})(h||(h={}));var v;(function(D){D.default="default",D.info="info",D.success="success",D.warning="warning",D.error="error"})(v||(v={}));var p;(function(D){D.left="left",D.center="center",D.right="right"})(p||(p={}));const T={elementName:"close",elementType:n.R.X,action:n.l.CLOSE,onClick:{enableClogAction:!0}},A=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),C=_(D=>{let{align:y=p.left,autoClogProps:P={},className:E,heading:M,icon:S,customIcon:R,id:k,level:O=v.default,type:U=h.boxed,children:W,"data-qa":x,isIconVisible:L=!0,showCloseButton:b=!1,onClose:F,ariaLabelForCloseBtn:B,closeBackgroundStyle:K}=D;const H=(0,d.f)(l.j.Alert),[Y,Z]=(0,t.useState)(!1),V=o()("c-alert",`c-alert--${U}`,`c-alert--level_${O}`,`c-alert--align_${y}`,{"c-alert--multiline":!!M},E,H),ne=A.get(O)||"slack-pillow",q=(R||ne)&&U!==h.inline&&U!==h.custom,me=U===h.nestedBox?"inherit":void 0,ue=U!==h.custom&&M,ae=(0,t.useCallback)(()=>{Z(!0),F==null||F()},[F]);return Y?null:t.createElement(c.A,f({},P,{elementType:n.R.ALERT}),t.createElement("div",{className:V,id:k,"data-qa":x,"data-qa-alert":!0,"data-qa-alert-level":O,"data-qa-alert-type":U,"data-qa-alert-align":y},L&&q&&(R||t.createElement(a.A,{type:S||ne,className:"c-alert__icon",size:me,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":S||ne})),t.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},ue&&t.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},M),W),b&&t.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},t.createElement(r.A,{onClick:ae,backgroundStyle:K,"aria-label":B??m.t("Dismiss"),autoClogProps:T,size:"small"},t.createElement(u.A,{name:"close",size:"20"})))))},"Alert");C.displayName="Alert",C.displayName="Alert";const I=C},2645587768:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>R,Gs:()=>P,QE:()=>I,al:()=>M});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(6966669095),i=e(441565466),r=e(8725848962),a=e(4426213732),l=e(3527550343),d=e(6471059816),u=e(8359728598),f=e(2664504268),m=e(9506727031),h=e(1820009530),v=e(2035583094),p=e(6105929840),T=e(8683010724);function A(){return A=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},A.apply(this,arguments)}_(A,"_extends");const C=new d.Ay("sk_banner");var I;(function(k){k.info="info",k.success="success",k.warning="warning",k.urgent="urgent",k.neutral="neutral"})(I||(I={}));const D={elementName:"close",elementType:c.R.X,action:c.l.CLOSE,onClick:{enableClogAction:!0}},y=(0,u.A)((k,O)=>({top:k,opacity:O})),P={type:"success",showCloseButton:!0,closeButtonSize:20,autoFadeout:!1,topOffset:0,className:null,isFixedPosition:!0,"data-qa":"banner",onClose:n.A,onFocus:n.A,onBlur:n.A,closeOnDismiss:!0},E=2e3;let M=_(class extends t.PureComponent{getIsPersistent(){const{closeOnDismiss:O,showCloseButton:U}=this.props;return!O&&!U}componentDidMount(){this.fadeOutMaybe(),this.maybeRemoveAriaDescribedBy()}componentWillUnmount(){this.cancelAnimation()}fadeOutMaybe(){const{autoFadeout:O,onClose:U}=this.props;if(!O)return;const W=(0,r.A)({delay:E,fromValue:1,toValue:0,duration:E,easing:"easeOutQuad",onTick:x=>{let{value:L,nextTick:b}=x;this.setState(()=>({opacity:L})),b()},onComplete:()=>{this.setState(()=>({isShowing:!1})),U==null||U()}});this.cancelAnimation=W.cancel}setRef(O){var U,W;this.banner&&(this.banner.current=O),(W=(U=this.props).innerRef)===null||W===void 0||W.call(U,O)}focus(){const O=(0,l.Fp)(this.banner.current);O&&O.focus()}close(){const{onClose:O,closeOnDismiss:U}=this.props;U&&this.setState(()=>({isShowing:!1})),O==null||O()}onCloseButtonClick(){this.close()}onKeyDown(O){const{showCloseButton:U}=this.props,W=this.getIsPersistent();O.key==="Escape"&&U&&(W||this.close())}maybeRemoveAriaDescribedBy(){var O,U;const{"aria-describedby":W}=this.props;if(W)return;((O=this.textContent)===null||O===void 0||(U=O.current)===null||U===void 0?void 0:U.querySelectorAll("a,button").length)&&this.state.describedbyId&&this.setState(()=>({describedbyId:void 0}))}renderLabel(){const{type:O,"aria-label":U,"aria-labelledby":W}=this.props;if(!W)return U||(O===I.info||O===I.neutral?C.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}):O===I.success?C.t("Success",{fallbackHash:"42a8f651d79fd005eeac0612df6442b983a01184",fallbackHashNs:"a11y_prefs_setup"}):O===I.warning?C.t("Warning",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):O===I.urgent?C.t("Urgent",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):C.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}))}render(){const{type:O,children:U,showCloseButton:W,closeButtonSize:x,topOffset:L,className:b,isFixedPosition:F,dismissButtonLabel:B,"data-qa":K,onFocus:H,onBlur:Y,"aria-labelledby":Z}=this.props,{isShowing:V,opacity:ne,describedbyId:q}=this.state;if(!V)return!1;const me=o()("c-banner",{[`c-banner--${O}`]:!!O,"c-banner--fixed":F},b),ue=O!=="warning"?"dark":"light",ae=C.t("Close",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"ia4"}),fe=this.getIsPersistent()?"group":"dialog";return t.createElement("div",{role:fe,"aria-label":this.renderLabel(),"aria-labelledby":Z,"aria-describedby":q,className:me,style:L?y(L,ne):void 0,"data-qa":K,ref:this.setRef,onFocus:H,onBlur:Y,onKeyDown:this.onKeyDown},t.createElement("div",{id:this.textContentId,className:"c-banner__text",ref:this.textContent},U),W&&t.createElement(p.A,{className:"c-banner__close",onClick:this.onCloseButtonClick,backgroundStyle:ue,"aria-label":B||ae,autoClogProps:D,"data-qa":"banner_close_btn"},t.createElement(T.A,{name:"close",size:x})))}constructor(O){super(O),(0,a.v)(this,["onCloseButtonClick","onKeyDown","focus","setRef","maybeRemoveAriaDescribedBy"]),this.cancelAnimation=n.A,this.banner=t.createRef(),this.textContent=t.createRef(),this.textContentId=(0,f.A)();const{"aria-describedby":U}=O;this.state={isShowing:!0,opacity:1,describedbyId:U||this.textContentId}}},"Banner");M.displayName="Banner",M.defaultProps=P,M.displayName="Banner";const S=(0,t.forwardRef)((k,O)=>{let{enableSectionNavigation:U=!1,...W}=k;const L=`Banner_${(0,i.A)()}`,b=v.A.WORKSPACE_SWITCHER_TAB_LIST-.1;return t.createElement(h.A,{id:L,index:b,focusFn:n.A,enableSectionNavigation:U},t.createElement(M,A({ref:O},W)))}),R=(0,m.A)(S)},9332393661:(N,g,e)=>{"use strict";e.d(g,{A:()=>v});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3398586081),c=e(7715417323),i=e(1610251172);const r=(0,n.A)(p=>({height:`${p}px`,width:`${p}px`}));function a(p){let{icon:T,classes:A=null,size:C=20,ariaHidden:I=void 0,ariaRole:D="img",ariaLabel:y=void 0}=p;const P=o()("c-base_font_icon",A);return t.createElement("div",{className:P,style:r(C),"aria-hidden":I,role:D,"aria-label":y},t.createElement(i.A,{type:T}))}_(a,"BaseFontIcon"),a.displayName="BaseFontIcon";const l=a;var d=e(337319621);const u=(0,d.Wo)(),f=(0,n.A)(p=>({height:`${p}px`,width:`${p}px`})),m=(0,n.A)(p=>({width:`${p}px`}));function h(p){let{image:T=void 0,size:A=20,srcSet:C="",classes:I=void 0,icon:D=void 0,ariaHidden:y=!1,ariaRole:P="img",ariaLabel:E=void 0,widthOnly:M=!1,onLoad:S=c.A,onError:R=c.A,resetIA:k,"data-qa":O}=p;T&&D&&u.warn("BaseIcon: cannot pass in both image and icon!"),!y&&!E&&u.warn("BaseIcon: if ariaHidden is false, we must have an ariaLabel for a11y!");const U=o()("c-base_icon",I,{"c-base_icon--unknown":!T&&!D,"c-base_icon--image":T,"c-base_icon--resetIA":k});if(D)return t.createElement(l,{icon:D,classes:U,size:A,ariaHidden:y,ariaRole:P,ariaLabel:E});const W=t.createElement("img",{src:T,srcSet:C,className:U,style:M?m(A):f(A),"aria-hidden":y,role:P,"aria-label":E,alt:"",onLoad:S,onError:R,"data-qa":O});return M?t.createElement("span",{className:o()("c-base_icon__width_only_container",{"c-base_icon--resetIA":k}),style:f(A)},W):W}_(h,"BaseIcon"),h.displayName="BaseIcon";const v=h},6396024562:(N,g,e)=>{"use strict";e.d(g,{A:()=>r,h:()=>c});var t=e(3134334389),s=e(6122756707),o=e(5249175977),n=e(2419403458);const c=_(a=>{const{left:l=0,top:d=0}=a||{};return{left:l,top:d,right:l,bottom:d,width:0,height:0}},"makeTargetBounds"),i=_(a=>{let{targetBounds:l,onCloseRequested:d,width:u,children:f}=a;const m=t.Children.only(f),h=(0,s.wA)();(0,t.useEffect)(()=>(h((0,n.r)({})),()=>{h((0,n.K)({}))}),[h]);const v=(0,t.useMemo)(()=>({isContextMenu:!0,width:u??"auto",onTriggerClose:d,onMenuItemSelected:d}),[d,u]);return t.createElement(o.AM,{shouldFade:!1,position:"right-bottom",tryOppositePosition:!0,useTargetBoundsAsPosition:!0,shouldCloseOnOverlayMouseDown:!0,shouldReturnFocusAfterClose:!1,isOpen:!0,targetBounds:c(l),onClose:d,ariaHideApp:!1},t.cloneElement(m,v))},"ContextMenu");i.displayName="ContextMenu";const r=i},6496493732:(N,g,e)=>{"use strict";e.d(g,{A:()=>v});var t=e(3134334389),s=e(7715417323),o=e(441565466),n=e(6471059816),c=e(6084388622),i=e(4979382452),r=e(4636370173),a=e(2465132699),l=e(8523371695),d=e(3606117573),u=e(8029613601),f=e(4947127560);const m=new n.Ay("generic_dialog"),h=_(p=>{let{title:T,children:A,submitButtonType:C="primary",submitButtonText:I=m.t("Confirm"),submitButtonIsDisabled:D=!1,submitButtonIsLoading:y=!1,showCancelButton:P=!0,showCloseButton:E=!0,showSubmitButton:M=!0,cancelButtonText:S=m.t("Cancel"),onSubmit:R=s.A,onCancel:k=s.A,onClose:O=s.A,"data-qa":U="dialog",className:W,overlayClassName:x,submitAutoClogProps:L,cancelAutoClogProps:b,shouldReturnFocusAfterClose:F=!0}=p;const B=(0,o.A)(),K=(0,o.A)();return t.createElement(i.A,{describedby:K,labelledby:B,closeModal:O,role:"dialog",className:W,overlayClassName:x,dataQa:U,shouldReturnFocusAfterClose:F,showCloseButton:E},t.createElement(u.A,null,t.createElement(f.A,{id:B,title:T,"data-qa":`${U}_header`})),t.createElement(r.A,null,t.createElement(a.A,{id:K,"data-qa":`${U}_body`},A)),(P||M)&&t.createElement(l.A,{"data-qa":`${U}_footer`},t.createElement(d.A,null,P&&t.createElement(c.Ay,{type:"outline",onClick:k,"data-qa":`${U}_cancel`,autoClogProps:b},S),M&&t.createElement(c.lV,{type:C,onClick:R,loading:y,disabled:D,"data-qa":`${U}_go`,autoClogProps:L,"aria-label":I},I))))},"DialogModalProps");h.displayName="DialogModalProps";const v=h},51460783:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4518138713);function c(){return c=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(a[u]=d[u])}return a},c.apply(this,arguments)}_(c,"_extends");function i(a){const{children:l,className:d}=a;return l?t.createElement("span",c({className:o()(d,"c-base_entity__metadata")},(0,n.A)(a)),l):null}_(i,"BaseEntityMetadata"),i.displayName="BaseEntityMetadata";const r=i},161084047:(N,g,e)=>{"use strict";e.d(g,{A:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4518138713);function c(){return c=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(a[u]=d[u])}return a},c.apply(this,arguments)}_(c,"_extends");function i(a){const{children:l,className:d}=a;return l?t.createElement("span",c({className:o()(d,"c-base_entity__subtext")},(0,n.A)(a)),l):null}_(i,"BaseEntitySubtext"),i.displayName="BaseEntitySubtext";const r=i},3534100833:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4518138713),c=e(2809903252);function i(){return i=Object.assign||function(l){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l},i.apply(this,arguments)}_(i,"_extends");function r(l){const{children:d=null,className:u="",multiline:f=!1,inline:m=!1,breakWords:h=!0,withTruncationTooltip:v=!1}=l;if(!d)return null;const p=f?2:1;return m?t.createElement("span",i({className:o()(u,"c-base_entity__text")},(0,n.A)(l)),d):t.createElement("span",i({className:o()(u,"c-base_entity__text")},(0,n.A)(l)),t.createElement(c.A,{lines:p,breakWords:h,withTooltip:v},d))}_(r,"BaseEntityText"),r.displayName="BaseEntityText";const a=r},1464713483:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4518138713),c=e(7435117457);function i(){return i=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(u[h]=m[h])}return u},i.apply(this,arguments)}_(i,"_extends");const r={className:"c-base_entity__avatar"},a=_((u,f,m,h)=>!(u!==c.ny.medium||!m||h||f),"shouldVerticallyCenter"),l=_(u=>{const{size:f,style:m=c.pI.normal,text:h=null,className:v="",subtext:p=null,avatar:T=_(()=>null,"avatar"),metadata:A=null,forwardedRef:C=null,useAvatarOutline:I=!1}=u,D=T(r),y=!!D,P=(0,t.useCallback)(()=>I?t.createElement("div",{className:"c-base_entity__avatar-container"},D):D,[D,I]);return t.createElement("div",i({className:o()(v,"c-base_entity",`c-base_entity--${f}`,{"c-base_entity--has-avatar":y,"c-base_entity--dim":m===c.pI.dim,"c-base_entity--vertically-center":a(f,p,y,A)})},(0,n.A)(u),{ref:C}),P(),t.createElement("div",{className:"c-base_entity__text-contents"},h,p,A))},"BaseEntity");l.displayName="BaseEntity";const d=l},5273017660:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>c,CG:()=>n.A,Q:()=>s.A,sT:()=>o.A});var t=e(1464713483),s=e(51460783),o=e(161084047),n=e(3534100833);const c=t.A},2671211451:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4518138713),i=e(7435117457),r=e(2809903252);function a(){return a=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},a.apply(this,arguments)}_(a,"_extends");const l=_(m=>{let{children:h,truncate:v=!1,truncateWidth:p,withTruncationTooltip:T=!1}=m;const A=(0,t.useMemo)(()=>({maxWidth:p||void 0}),[p]);if(!v)return t.createElement("span",null,h);let C;return p?C=t.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:A},h):C=t.createElement("span",null,t.createElement(r.A,{lines:1,withTooltip:T},h)),C},"MaybeTruncate");l.displayName="MaybeTruncate";const d={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let u=_(class extends t.Component{render(){const{className:h,avatar:v=n.A,primaryContent:p,secondaryContent:T,style:A=i.pI.normal,truncate:C=!1,truncateWidth:I,withTruncationTooltip:D=!1}=this.props,y=v(d),P=!!y;return t.createElement("span",a({className:o()(h,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":P,"c-base_inline_entity--truncate_block":C&&!I,"c-base_inline_entity--truncate_inline":C&&I,"c-base_inline_entity--dim":A===i.pI.dim,"c-base_inline_entity--highlight-dark":A===i.pI.highlightDark,"c-base_inline_entity--highlight-dim":A===i.pI.highlightDim,"c-base_inline_entity--highlight-light":A===i.pI.highlightLight})},(0,c.A)(this.props)),t.createElement(l,{truncate:C,truncateWidth:I,withTruncationTooltip:D},y,t.createElement("span",{className:"c-base_inline_entity__primary_content"},p),T&&t.createElement("span",{className:"c-base_inline_entity__secondary_content"},T)))}},"BaseInlineEntity");u.displayName="BaseInlineEntity";const f=u},2828836153:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4518138713),c=e(7435117457);function i(){return i=Object.assign||function(l){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l},i.apply(this,arguments)}_(i,"_extends");let r=_(class extends t.Component{render(){const{className:d,ariaLabel:u,primaryContent:f,secondaryContent:m,size:h=c.ny.medium,style:v=c.pI.normal,padding:p=c.FK.normal}=this.props;return t.createElement("div",i({className:o()(d,"c-base_list_entity",`c-base_list_entity--${h}`,{"c-base_list_entity--dim":v===c.pI.dim,"c-base_list_entity--highlight-dark":v===c.pI.highlightDark,"c-base_list_entity--highlight-dim":v===c.pI.highlightDim,"c-base_list_entity--highlight-light":v===c.pI.highlightLight,"c-base_list_entity--no-pad":p===c.FK.none})},(0,n.A)(this.props),{"aria-label":u}),t.createElement("div",{className:"c-base_list_entity__primary_content"},f),m&&t.createElement("div",{className:"c-base_list_entity__secondary_content"},m))}},"BaseListEntity");r.displayName="BaseListEntity";const a=r},3989454579:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(6966669095),i=e(4943209501),r=e(3817509504),a=e(4954329752),l=e(3037610746),d=e(2201208793),u=e(4882164428);function f(){return f=Object.assign||function(v){for(var p=1;p<arguments.length;p++){var T=arguments[p];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(v[A]=T[A])}return v},f.apply(this,arguments)}_(f,"_extends");const h=t.forwardRef(_(function(p,T){let{className:A,isRequired:C=!1,"aria-disabled":I,indeterminate:D=!1,checked:y,unstyled:P,autoClogProps:E,onChange:M,focusOnMount:S,...R}=p;const k=(0,t.useRef)(null),O=(0,t.useContext)(l.A),[U,W]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(D&&y==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");k.current&&(k.current.indeterminate=D)},[y,D]),(0,t.useEffect)(()=>{if(S){var H;(H=k.current)===null||H===void 0||H.focus()}},[S]);const x=(0,t.useCallback)(H=>{y===void 0&&E&&W(H.target.checked),M==null||M(H)},[E,y,M]),L=(0,u.f)(d.j.Checkbox),b=P?o()("c-input_unstyled_checkbox",A,L,{"c-input_unstyled_checkbox--focus-visible":O,"c-input_unstyled_checkbox--checked":y}):o()("c-input_checkbox",A,L,{"c-input_checkbox--focus-visible":O,"c-input_checkbox--disabled":I}),F=t.createElement("input",f({},R,(0,r.A)(R),{"aria-disabled":I,"aria-checked":D?"mixed":void 0,checked:y,type:"checkbox",required:C,className:b,ref:(0,a.P)(k,T),onChange:I?n.A:x})),B=y!==void 0?y:U,K=(0,t.useMemo)(()=>({onChange:{action:B?c.l.UNCHECK:c.l.CHECK}}),[B]);return E?t.createElement(i.A,{autoClogProps:E,actionProps:K,elementType:c.R.CHECKBOX},F):F},"Checkbox"))},5797272849:(N,g,e)=>{"use strict";e.d(g,{E:()=>t});const t={small:"c-form--small",large:"c-form--large"}},7302772898:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s);function n(){return n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(r[d]=l[d])}return r},n.apply(this,arguments)}_(n,"_extends");const c=t.forwardRef(_(function(a,l){let{className:d="",children:u,id:f,...m}=a;const h=o()("c-legend",d);return t.createElement("legend",n({id:f},m,{className:h,ref:l}),u)},"Legend"));c.displayName="Legend";const i=c},3391133100:(N,g,e)=>{"use strict";e.d(g,{Es:()=>o,Yk:()=>c,r7:()=>r,r9:()=>n,zI:()=>i});var t=e(6471059816);const s=new t.Ay("form_inputs");function o(a,l){return`${a}_${l}`}_(o,"getInputBuddyId");function n(){return Math.random().toString(36).substring(2,10)}_(n,"getRandomId");const c=_(a=>{const l=a.filter(d=>d);if(l.length!==0)return l.join(" ")},"makeAriaComboIds"),i=_(a=>s.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:a}),"getMaximumCharacterErrorText"),r=_(a=>s.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:a}),"getMinimumCharacterErrorText")},2660476100:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(4844578989),o=e.n(s);function n(c){let{children:i,className:r,id:a}=c;return i?t.createElement("div",{className:o()("c-hint",r),id:a},i):null}_(n,"Hint")},7138682671:(N,g,e)=>{"use strict";e.d(g,{A:()=>d,Q:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6471059816);function c(){return c=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(u[h]=m[h])}return u},c.apply(this,arguments)}_(c,"_extends");const i=new n.Ay("app_dialog"),r={block:"block",inline:"inline"};var a;let l=_(class extends(a=t.Component){getCursor(){const{cursor:f,htmlFor:m,isDisabled:h}=this.props;return h?null:typeof f>"u"&&m?"pointer":f}renderOptionalTextMaybe(){const{optional:f}=this.props,m=i.t("(optional)");return f?t.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},m):null}renderSubtextMaybe(){const{subtext:f}=this.props;return f?t.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},f):null}render(){const{className:f,cursor:m,htmlFor:h,optional:v,subtext:p,text:T,type:A,isDisabled:C,dataQaLabel:I,...D}=this.props,y=o()("c-label",f,{"c-label--block":A===r.block,"c-label--inline":A===r.inline,"c-label--with_subtext":p,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":C,"c-label--with_formatted_text":typeof T!="string"});return t.createElement("label",c({},D,{htmlFor:h,className:y,"data-qa-label":I,"data-qa-label-type":A}),t.createElement("span",{className:"c-label__text","data-qa-label-text":!0},T,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");l.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"},l.displayName="Label";const d=l},5375115868:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6966669095),c=e(4943209501);function i(){return i=Object.assign||function(d){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},i.apply(this,arguments)}_(i,"_extends");const r={onChange:{action:n.l.CLICK}};let a=_(class extends t.PureComponent{componentDidMount(){const{focusOnMount:u,autoFocus:f}=this.props;(u||f)&&this.focus()}componentDidUpdate(){const{autoFocus:u}=this.props;u&&this.focus()}focus(){var u;(u=this.inputRef.current)===null||u===void 0||u.focus()}render(){const{className:u,autoClogProps:f,autoFocus:m,focusOnMount:h,...v}=this.props,p=o()("c-input_radio",u),T=t.createElement("input",i({},v,{className:p,ref:this.inputRef,type:"radio"}));return f?t.createElement(c.A,{autoClogProps:f,actionProps:r,elementType:n.R.RADIO},T):T}constructor(u){super(u),this.inputRef=t.createRef()}},"Radio");a.defaultProps={autoFocus:!1},a.displayName="Radio";const l=a},5791351025:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(581167618),c=e(7302772898),i=e(2660476100);function r(){return r=Object.assign||function(d){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},r.apply(this,arguments)}_(r,"_extends");const a=_(d=>{let{"aria-label":u,"aria-labelledby":f,errorId:m,className:h,errorText:v,hintId:p,hintText:T,isDisabled:A=!1,isRequired:C=!1,"data-qa":I,errorLevel:D=n.A_.error,errorType:y=n.QE.nestedBox,children:P,legendText:E,legendClassNames:M=""}=d;const S=(0,t.useRef)(null),R=E;(0,t.useEffect)(()=>{const K=S.current;if(!K||R)return;const H=K.querySelectorAll('input[type="radio"]:not(:scope [role="radiogroup"] input[type="radio"])');Array.from(H).forEach(Y=>{Y.disabled=A})},[A,R]);const k=(f||m)&&[f,m].join(" ").trim(),O=v&&t.createElement(n.Ay,{id:m,level:D,type:y,className:"c-alert--error margin_bottom_100"},v),U=T&&t.createElement(i.A,{id:p},T),W=E&&t.createElement(c.A,{className:M},E),x=o()("c-radiogroup",{"c-radiogroup--with_error":!!v,"c-radiogroup--with_hint":!!T},h),L={"aria-describedby":p,"aria-invalid":!!v,"aria-labelledby":k,"aria-required":C,className:x},b=_(()=>t.createElement("fieldset",r({},L,{disabled:A}),W,P),"renderFieldset");b.displayName="renderFieldset";const F=_(()=>t.createElement("div",r({},L,{role:"radiogroup","aria-disabled":A,"aria-label":u,ref:S}),P),"renderAriaGroup");F.displayName="renderAriaGroup";const B=R?b():F();return t.createElement("div",{"data-qa":I},B,O,U)},"Radiogroup");a.displayName="Radiogroup";const l=a},9205344153:(N,g,e)=>{"use strict";e.d(g,{A:()=>p});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4426213732),c=e(124320166),i=e(6471059816),r=e(3708320478),a=e(5166368300);const l=new i.Ay("form_inputs"),d={inline:"inline",multiline:"multiline"},u=_((T,A)=>T>A,"isCurrentCountInvalid"),f=_((T,A)=>A-T,"getCharacterCount"),m=_((T,A,C)=>!C||T>=C?f(T,A).toString():"","getCharacterCountDisplay"),h=_(T=>T.toString().length,"getCharacterCountLength");let v=_(class extends t.Component{getSnapshotBeforeUpdate(A){if(A.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const C=f(this.props.currentCount,this.props.maxCharacterLimit),I=h(C);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==I&&this.setCharacterCountLength(I)}return null}componentDidUpdate(A,C){this.props.type===d.inline&&C.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountElementSize(){return`calc(${this.measureCountWidth()}ch + calc(var(--inline-padding) * 2 ))`}setCharacterCountLength(A){this.setState(()=>({characterCountLength:A}))}setCharactersRemainingMessage(A,C){const I=this.makeCharactersRemainingMessage(A,C);this.setState(()=>({charactersRemainingMessage:I}))}makeCharactersRemainingMessage(A,C){const I=f(A,C);return l.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:I})}measureCountWidth(){const{currentCount:A,maxCharacterLimit:C,counterMinimumCharacters:I}=this.props;return m(A,C,I).toString().length}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:A,maxCharacterLimit:C,counterMinimumCharacters:I}=this.props,D=m(A,C,I);return t.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining"},D)}render(){const{className:A,currentCount:C,maxCharacterLimit:I,children:D,isDisabled:y,size:P,type:E,id:M}=this.props,S=o()(A,"c-input_character_count",{"c-input_character_count--multiline":E===d.multiline,"c-input_character_count--large":P===a.F.large,"c-input_character_count--small":P===a.F.small,"c-input_character_count--invalid":this.state.hasFocus&&u(C,I),"c-input_character_count--disabled":y}),R=this.shouldReadCharactersRemainingMessage&&t.createElement("div",{id:M,hidden:!0},this.state.charactersRemainingMessage);let k;return this.shouldReadCharactersRemainingMessage||(k=t.createElement(r.A,{assertive:!0,message:this.state.charactersRemainingMessage})),t.createElement("div",{role:"presentation",className:S,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},D,this.renderCharactersRemaining(),k,R)}constructor(A){super(A);const C=this.makeCharactersRemainingMessage(A.currentCount,A.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:C,hasFocus:!1},this.shouldReadCharactersRemainingMessage=!0,(0,n.v)(this,["setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=(0,c.A)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");v.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:d.inline,size:a.F.medium,counterMinimumCharacters:0,id:void 0},v.displayName="CharacterCount";const p=v},2219904496:(N,g,e)=>{"use strict";e.d(g,{A:()=>R});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2003990933),c=e(7715417323),i=e(4426213732),r=e(581167618),a=e(3391133100),l=e(2660476100),d=e(9205344153),u=e(5166368300),f=e(1610251172);const m={small:"small",medium:"medium",large:"large"},h=_(k=>{let{size:O,icon:U,children:W}=k;const x=o()("c-input_text_icon",{"c-input_text_icon--small":O===m.small,"c-input_text_icon--large":O===m.large}),L=o()("c-input_text_icon__icon",{"c-input_text_icon__icon--small":O===m.small,"c-input_text_icon__icon--large":O===m.large});return t.createElement("div",{className:x},t.createElement(f.A,{type:U,className:L,size:"inherit"}),W)},"TextInputIcon");h.displayName="TextInputIcon";const v=t.memo(h);let p=_(class extends t.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:O,prefix:U,suffix:W}=this.props,x=o()("c-input_text_overlay",{"c-input_text_overlay--large":O===u.F.large},this.props.className);return t.createElement("div",{className:x,"data-overlay-prefix":U,"data-overlay-suffix":W,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:O,suffix:U}=this.props;return t.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${U} appended to the text value.`},this.renderOverlay(),O)}},"TextInputOverlay");p.defaultProps={className:"",placeholder:"",size:u.F.medium,value:"",prefix:"",suffix:""},p.displayName="TextInputOverlay";const T=p;var A=e(434544446),C=e.n(A),I=e(8509961938);function D(k,O){const U=y(k);return O&&U.length?U.replace((0,I.A)(),"E").replace(C()(),"E").length:U.length}_(D,"getTextLength");function y(k){return k==null?"":typeof k=="string"?k:String(k)}_(y,"coerceValueToString");var P=e(9665283624);function E(){return E=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},E.apply(this,arguments)}_(E,"_extends");const M=12;let S=_(class extends t.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(O,U){(this.props.value!==O.value||this.state.isFocused!==U.isFocused)&&this.getTextStyle(),this.props.value!==O.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(O)}onBlur(O){const{onBlur:U}=this.props;this.setState(()=>({isFocused:!1,everReceivedUserInput:!0})),U&&U(O)}onFocus(O){const{onFocus:U}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),U&&U(O)}getPrefixStyle(){const{size:O,prefix:U}=this.props;if(!U)return;let W;const L=document.createElement("canvas").getContext("2d");return L&&(O===u.F.medium?(L.font="15px Slack-Lato",W=L.measureText(U).width+M):O===u.F.small?(L.font="13px Slack-Lato",W=L.measureText(U).width+M):(L.font="18px Slack-Lato",W=L.measureText(U).width+M)),{paddingLeft:W}}getTextStyle(){var O;const{maxCharacterLimit:U}=this.props;if(!U){this.setTextStyle({});return}this.setTextStyle({paddingRight:((O=this.characterCount)===null||O===void 0?void 0:O.getCharacterCountElementSize())||0})}setTextStyle(O){this.setState(()=>({textStyle:O}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(O){const{focusOnMount:U,forceSelectAll:W}=this.props;this.state.everFocused&&U&&O&&O.focusOnMount===U||!this.input||!this.input.current||!U||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),W&&this.input.current.select())}getIsInputLengthTooShort(){const{emojisShouldCountAsSingleCharacter:O,isRequired:U,minCharacterLimit:W,value:x}=this.props,{everReceivedUserInput:L}=this.state;if(!L||W==null)return!1;const b=D(x,O);return!U&&b===0?!1:b<W}getIsInputLengthTooLong(){const{maxCharacterLimit:O,value:U,emojisShouldCountAsSingleCharacter:W}=this.props;return O==null?!1:D(U,W)>O}renderDeprecatedErrorMaybe(){const{errorLevel:O,errorText:U,errorType:W,minCharacterLimit:x,maxCharacterLimit:L}=this.props;return U?t.createElement(r.Ay,{id:this.state.errorId,level:O,type:W,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},U):this.getIsInputLengthTooLong()?t.createElement(r.Ay,{id:this.state.errorId,level:r.A_.error,type:W,className:"margin_bottom_100"},(0,a.zI)(L)):this.getIsInputLengthTooShort()?t.createElement(r.Ay,{id:this.state.errorId,level:r.A_.error,type:W,className:"margin_bottom_100"},(0,a.r7)(x)):null}renderErrorMaybe(){const{errorText:O,minCharacterLimit:U,maxCharacterLimit:W}=this.props;return O?t.createElement(P.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},O):this.getIsInputLengthTooLong()?t.createElement(P.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,a.zI)(W)):this.getIsInputLengthTooShort()?t.createElement(P.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,a.r7)(U)):null}renderHintMaybe(){const{hintText:O}=this.props;return O?t.createElement(l.A,{id:this.state.hintId,"data-qa":"form-text-hint"},O):null}renderTextInput(){const{className:O,errorId:U,errorLevel:W,errorText:x,errorType:L,hintId:b,hintText:F,id:B,isRequired:K,isInvalid:H,labelId:Y,name:Z,onBlur:V,onChange:ne,onCopy:q,forceSelectAll:me,onFocus:ue,size:ae,prefix:le,suffix:fe,maxCharacterLimit:he,minCharacterLimit:ie,emojisShouldCountAsSingleCharacter:X,counterMinimumCharacters:j,icon:w,focusOnMount:Q,useInlineAlert:G,showError:J,inputRef:te,preventScrollOnFocus:se,ariaDescribedById:ce,autoComplete:Ee,type:de,readOnly:re,..._e}=this.props,ve=!!x||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||H,ge=o()({[`c-input_text--with_${W}`]:ve,"c-input_text--with_hint":F,"c-input_text--with_icon":w},O),Le=Y,ke=(0,a.Yk)([ve?this.state.errorId:null,ce,this.state.hintId,this.characterCounterId]),Ke={...this.state.textStyle,...this.getPrefixStyle()};return t.createElement(u.A,E({},_e,{style:Ke,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:ke,isInvalid:ve,ariaLabelledby:Le,ariaRequired:K,className:ge,id:B,name:Z,onChange:ne,onCopy:q,forceSelectAll:me,ref:this.input,size:ae,autoComplete:Ee,type:de,readOnly:re??void 0}))}renderWrappedTextMaybe(){const{prefix:O,suffix:U,value:W,placeholder:x,maxCharacterLimit:L,counterMinimumCharacters:b,size:F,isDisabled:B,icon:K}=this.props;let H=this.renderTextInput();if(L){const Y=D(W,this.props.emojisShouldCountAsSingleCharacter);H=t.createElement(d.A,{id:this.characterCounterId,currentCount:Y,isDisabled:B,maxCharacterLimit:L,counterMinimumCharacters:b,size:F,ref:Z=>{this.characterCount=Z}},H)}return(O||U)&&(H=t.createElement(T,{className:K&&"c-input_text_overlay--icon",placeholder:x,size:F,prefix:O,suffix:U,value:W??void 0},H)),K&&(H=t.createElement(v,{icon:K,size:F},H)),H}render(){const O=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&O,this.renderHintMaybe())}constructor(O){super(O),(0,i.v)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:U}=O;this.state={errorId:(0,n.A)(this.props,"errorId",(0,a.Es)(U,"error")),everReceivedUserInput:!1,hintId:(0,n.A)(this.props,"hintId",(0,a.Es)(U,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},O.maxCharacterLimit&&(this.characterCounterId=(0,a.Es)(U,"character-count")),this.input=O.inputRef||t.createRef()}},"FormTextInput");S.defaultProps={className:null,errorId:void 0,errorLevel:r.A_.error,errorText:null,errorType:r.QE.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,emojisShouldCountAsSingleCharacter:!1,onBlur:c.A,onChange:c.A,onCopy:c.A,forceSelectAll:!1,readOnly:!1,onFocus:c.A,placeholder:void 0,size:u.F.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:c.A,onMouseLeave:c.A,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:c.A,onKeyDown:c.A,onCompositionStart:c.A,onCompositionEnd:c.A},S.displayName="FormTextInput";const R=S},8472205500:(N,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2003990933),c=e(7715417323),i=e(6966669095),r=e(4943209501),a=e(4426213732),l=e(581167618),d=e(3391133100),u=e(2660476100),f=e(9205344153),m=e(8452232783),h=e(9665283624);function v(){return v=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(A[D]=I[D])}return A},v.apply(this,arguments)}_(v,"_extends");const p={onChange:{action:i.l.ENTER_TEXT}};let T=_(class extends t.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var C;(C=this.input.current)===null||C===void 0||C.focus()}}componentDidUpdate(C,I){if((this.props.value!==C.value||this.state.isFocused!==I.isFocused)&&this.getTextStyle(),this.props.value!==C.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&C.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var D;(D=this.input.current)===null||D===void 0||D.focus()}}onBlur(){const{onBlur:C}=this.props;this.setFocus(!1),C&&C()}onFocus(){const{onFocus:C}=this.props;this.setFocus(!0),C&&C()}getTextStyle(){var C;const{maxCharacterLimit:I}=this.props;if(!I){this.setTextStyle({});return}this.setTextStyle({paddingRight:((C=this.characterCount)===null||C===void 0?void 0:C.getCharacterCountElementSize())||0})}setCharacterCountRef(C){this.characterCount=C}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(C){this.setState(()=>({isFocused:C}))}setInputRef(C){this.input=C}setTextStyle(C){this.setState(()=>({textStyle:C}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:C,minCharacterLimit:I,value:D}=this.props,{everReceivedUserInput:y}=this.state;return!y||I==null||!C&&D.length===0?!1:D.length<I}getIsInputLengthTooLong(){const{maxCharacterLimit:C,value:I}=this.props;return C==null?!1:I.length>C}renderDeprecatedErrorMaybe(){const{showError:C,errorLevel:I,errorText:D,errorType:y,isRequired:P,maxCharacterLimit:E,minCharacterLimit:M,value:S}=this.props;return C?D?t.createElement(l.Ay,{id:this.state.errorId,level:I,type:y,className:"margin_bottom_100"},D):!P&&S.length===0?null:this.getIsInputLengthTooLong()?t.createElement(l.Ay,{id:this.state.errorId,level:l.A_.error,type:y,className:"margin_bottom_100"},(0,d.zI)(E)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(l.Ay,{id:this.state.errorId,level:l.A_.error,type:y,className:"margin_bottom_100"},(0,d.r7)(M)):null:null}renderErrorMaybe(){const{showError:C,errorText:I,isRequired:D,maxCharacterLimit:y,minCharacterLimit:P,value:E}=this.props;return C?I?t.createElement(h.A,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},I):!D&&E.length===0?null:this.getIsInputLengthTooLong()?t.createElement(h.A,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},(0,d.zI)(y)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(h.A,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},(0,d.r7)(P)):null:null}renderHintMaybe(){const{hintText:C}=this.props;return C?t.createElement(u.A,{id:this.state.hintId},C):null}renderTextArea(){const{className:C,showError:I,errorId:D,errorLevel:y,errorText:P,errorType:E,hintId:M,hintText:S,useInlineAlert:R,id:k,isRequired:O,isInvalid:U,labelId:W,name:x,onChange:L,onFocus:b,onBlur:F,maxCharacterLimit:B,minCharacterLimit:K,focusOnMount:H,autoClogProps:Y,ariaDescribedById:Z,inputRef:V,...ne}=this.props,{textStyle:q}=this.state,me=!!P||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||U,ue=o()({[`c-input_textarea--with_${y}`]:me,"c-input_textarea--with_hint":S,"c-input_textarea--with_character_count":!!B,"c-input_text--with_inline_alert":R&&me},C),ae=W,le=(0,d.Yk)([me?this.state.errorId:void 0,Z,this.state.hintId,this.characterCounterId]),fe=t.createElement(m.A,v({},ne,{ref:this.setInputRef,style:q,ariaDescribedby:le,isInvalid:me,ariaLabelledby:ae,ariaRequired:O,className:ue,id:k,"data-qa":ne["data-qa"]||k,name:x,onChange:L,onFocus:this.onFocus,onBlur:this.onBlur}));return Y?t.createElement(r.A,{autoClogProps:Y,actionProps:p,elementType:i.R.TEXTAREA},fe):fe}renderWrappedTextareaMaybe(){const{value:C,maxCharacterLimit:I,size:D,isDisabled:y}=this.props;let P=this.renderTextArea();return I&&(P=t.createElement(f.A,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:C==null?void 0:C.length,isDisabled:y,maxCharacterLimit:I,type:"multiline",size:D},P)),P}render(){const C=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),C,this.renderHintMaybe())}constructor(C){super(C);const{id:I}=this.props;(0,a.v)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:(0,n.A)(this.props,"errorId",(0,d.Es)(I,"error")),hintId:(0,n.A)(this.props,"hintId",(0,d.Es)(I,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=(0,d.Es)(I,"character-count")),this.input=t.createRef()}},"FormTextareaInput");T.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:l.A_.error,errorText:null,errorType:l.QE.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:c.A,onFocus:c.A,onBlur:c.A,placeholder:void 0,size:m.F.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},5166368300:(N,g,e)=>{"use strict";e.d(g,{A:()=>f,F:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(6966669095),i=e(4943209501),r=e(5797272849);function a(){return a=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},a.apply(this,arguments)}_(a,"_extends");const l={small:"small",medium:"medium",large:"large"};var d;let u=_(class extends(d=t.Component){componentDidMount(){if(this.props.focusOnMount&&typeof this.props.refToForward!="function"){var h,v;(h=this.props.refToForward)===null||h===void 0||(v=h.current)===null||v===void 0||v.focus()}}onChange(h){this.props.onChange&&this.props.onChange(h.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(h){this.props.readOnly&&this.props.forceSelectAll&&h.currentTarget.select()}blur(){if(typeof this.props.refToForward!="function"){var h,v;(h=this.props.refToForward)===null||h===void 0||(v=h.current)===null||v===void 0||v.blur()}}focus(){if(typeof this.props.refToForward!="function"){var h,v;(h=this.props.refToForward)===null||h===void 0||(v=h.current)===null||v===void 0||v.focus()}}render(){const{ariaDescribedby:h,isInvalid:v,ariaLabelledby:p,ariaRequired:T,className:A,id:C,isDisabled:I,name:D,placeholder:y,size:P,type:E,refToForward:M,ariaLabel:S,forceSelectAll:R,focusOnMount:k,autoClogProps:O,autoComplete:U,...W}=this.props,x=o()("c-input_text",{"c-input_text--large":P===l.large,"c-input_text--small":P===l.small,"c-input_text--with_error":v,"c-input_text--with_inline_alert":v,[r.E.small]:P===l.small,[r.E.large]:P===l.large},A),L=t.createElement("input",a({},W,{"aria-describedby":W["aria-describedby"]||h,"aria-invalid":W["aria-invalid"]||v,"aria-labelledby":W["aria-labelledby"]||p,"aria-required":W["aria-required"]||T,"aria-label":W["aria-label"]||S,autoComplete:U,className:x,disabled:I,id:C,name:D,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:y,ref:M,type:E}));return O?t.createElement(i.A,{autoClogProps:O,actionProps:{onChange:{action:c.l.ENTER_TEXT},onCopy:{action:c.l.COPY_TO_CLIPBOARD}},elementType:c.R.INPUT},L):L}constructor(h){super(h),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");u.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:n.A,onCopy:n.A,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"},u.displayName="TextInput";const f=t.forwardRef((m,h)=>{const v=(0,t.useRef)(null);return t.createElement(u,a({},m,{refToForward:h||v}))})},8452232783:(N,g,e)=>{"use strict";e.d(g,{A:()=>m,F:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(6966669095),i=e(4943209501),r=e(5797272849);function a(){return a=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var p=arguments[v];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(h[T]=p[T])}return h},a.apply(this,arguments)}_(a,"_extends");const l={small:"small",medium:"medium",large:"large"},d={onBlur:{action:c.l.SAVE}};var u;let f=_(class extends(u=t.Component){componentDidMount(){this.props.focusOnMount&&this.props.refToForward&&this.props.refToForward.current&&this.props.refToForward.current.focus()}onChange(v){this.props.onChange(v.target.value)}render(){const{ariaDescribedby:v,isInvalid:p,ariaLabelledby:T,ariaRequired:A,className:C,placeholder:I,id:D,isDisabled:y,name:P,resize:E,size:M,refToForward:S,focusOnMount:R,autoClogProps:k,...O}=this.props,U=o()("c-input_textarea",{"c-input_textarea--large":M===l.large,"c-input_textarea--small":M===l.small,"c-input_textarea--resize_none":E==="none","c-input_textarea--resize_both":E==="both","c-input_textarea--resize_h":E==="horizontal","c-input_textarea--with_error":p,"c-input_textarea--with_inline_alert":p,[r.E.small]:M===l.small,[r.E.large]:M===l.large},C),W=t.createElement("textarea",a({},O,{"aria-describedby":v,"aria-invalid":p,"aria-labelledby":T,"aria-required":A,className:U,disabled:y,id:D,name:P,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onBlurCapture:this.props.onBlurCapture,placeholder:I,ref:S,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return k?t.createElement(i.A,{autoClogProps:k,actionProps:d,elementType:c.R.TEXTAREA},W):W}constructor(v){super(v),this.onChange=this.onChange.bind(this)}},"TextareaInput");f.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:n.A,onFocus:n.A,onBlur:n.A,onBlurCapture:n.A,placeholder:"",resize:null,size:l.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0},f.displayName="TextareaInput";const m=t.forwardRef((h,v)=>t.createElement(f,a({},h,{refToForward:v||t.createRef()})))},1448603600:(N,g,e)=>{"use strict";e.d(g,{A:()=>d,_:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3564666345),c=e(3391133100),i=e(1581132261),r=e(7872686780);const a=t.createContext({name:""});function l(u){let{children:f,name:m,className:h,labelId:v,validate:p,validateAsync:T,focusOnMount:A=!1}=u;const C=(0,i.A)(m),[I]=(0,n.Mt)({name:m,...T||p?{validate:T||p}:{}}),{hints:D}=(0,r.A)(),y=(0,t.useMemo)(()=>({name:m}),[m]),[P,E]=(0,t.useState)(!1);(0,t.useEffect)(()=>{A&&!P&&E(!P)},[P,A]);const M=(0,c.Yk)([v]),S=(0,c.Yk)([D,C.map(k=>k.id)]),R=o()({"c-input_text--with_hint":D.length||C.length},h);return t.createElement(a.Provider,{value:y},f({field:{...I,ariaLabelledby:M,isInvalid:C.length>0,ariaDescribedby:S,className:R,focusOnMount:A&&!P},fieldErrors:C}))}_(l,"BaseField"),l.displayName="BaseField";const d=l},5059707046:(N,g,e)=>{"use strict";e.d(g,{i:()=>r});var t=e(3134334389),s=e(3564666345),o=e(5375115868),n=e(9078488172);function c(){return c=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(a[u]=d[u])}return a},c.apply(this,arguments)}_(c,"_extends");const i=_(a=>{const{name:l,value:d,validateOnBlur:u,checked:f,...m}=a,{setFieldValue:h,handleBlur:v,setFieldTouched:p}=(0,s.j7)(),T=(0,t.useCallback)(A=>{var C;return h(l,A==null||(C=A.target)===null||C===void 0?void 0:C.value)},[l,h]);return t.createElement(o.A,c({},m,{name:l,value:d,checked:f,onChange:T},u?{onBlur:()=>{v(l),p(l,!0)}}:{onBlur:()=>{p(l,!1)}}))},"WithAdaptedProps");i.displayName="WithAdaptedProps";const r=_(a=>{const{handleBlur:l,handleChange:d}=(0,s.j7)(),{labelText:u,labelSubtext:f,...m}=a;return t.createElement(n.A,c({},a),t.createElement(i,c({},m,{onChange:d,onBlur:l})))},"FieldRadio");r.displayName="FieldRadio"},7685945408:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(8452232783),s=e(8769763882);const n=(0,s.Z)(t.A,c=>{let{name:i,setFieldValue:r,handleBlur:a,setFieldTouched:l,validateOnBlur:d}=c;return{onChange:u=>r(i,u),...d&&{onBlur:()=>{a(i),l(i,!0)}},...!d&&{onBlur:()=>{l(i,!1)}}}})},9078488172:(N,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5828775116),c=e(9392104102),i=e(7138682671),r=e(1448603600),a=e(3155323475),l=e(3391133100),d=e(2660476100),u=e(7872686780);function f(){return f=Object.assign||function(I){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(I[P]=y[P])}return I},f.apply(this,arguments)}_(f,"_extends");function m(I){const{name:D}=(0,t.useContext)(r._),{addHint:y,removeHint:P}=(0,u.A)(),E=(0,t.useMemo)(()=>`${D}_hint_${(0,l.r9)()}`,[D]);return(0,t.useEffect)(()=>(y(E),()=>{P(E)}),[y,E,P]),t.createElement(d.A,f({},I,{id:E}))}_(m,"FormHint"),m.displayName="FormHint";const h=m;function v(I){let{hints:D}=I;return D&&D.map((y,P)=>{const M=((typeof y=="string"?y:y==null?void 0:y.key)||"").slice(-3)+P;return t.createElement(h,{key:M,className:"c-field_input__helpers"},y)})}_(v,"FieldHints");const p=_(I=>`${I}_label_id`,"getLabelId"),T=_((I,D)=>({...I,...D,className:o()(I.className,D.className)}),"mergeProps");function A(I){let{name:D,labelText:y,hints:P=c.Ml,labelSubtext:E,focusOnMount:M=!1,component:S,children:R,optional:k=!1,validate:O,validateAsync:U,...W}=I;const x=p(D);(0,n.A)(!(S&&R),"You should not use <Field component> and <Field children> as a function in the same <Field> component; <Field component> will be ignored.");const L=(0,t.useCallback)(F=>y?t.createElement(i.A,{text:y,id:x,type:"inline",cursor:"pointer",className:o()(F,W.className),optional:k},R):R,[R,x,y,k,W.className]),b=(0,t.useCallback)(()=>y?t.createElement(i.A,{text:y,subtext:E,id:x,optional:k}):null,[x,E,y,k]);return t.createElement(r.A,{name:D,labelId:x,validate:O,validateAsync:U,focusOnMount:M},F=>{let{field:B,fieldErrors:K}=F;return t.createElement(t.Fragment,null,R?L(B.className):t.createElement(t.Fragment,null,b(),t.createElement(S,T(B,{...W}))),t.createElement(a.A,{errors:K}),t.createElement(v,{hints:P}))})}_(A,"Field"),A.displayName="Field";const C=A},4967176632:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(3564666345);function o(){return o=Object.assign||function(i){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i},o.apply(this,arguments)}_(o,"_extends");function n(i){let{className:r=void 0,initialValues:a,initialErrors:l=void 0,validate:d=void 0,validationSchema:u=void 0,validateOnBlur:f=!0,validateOnChange:m=!0,validateOnMount:h=!1,onReset:v=void 0,onSubmit:p,children:T,...A}=i;const C=v?{onReset:v}:{};return t.createElement(s.l1,o({initialValues:a,initialErrors:l,validate:d,validationSchema:u,validateOnBlur:f,validateOnChange:m,validateOnMount:h,onSubmit:p},C,A),I=>{let{handleSubmit:D,handleReset:y,...P}=I;return t.createElement("form",{className:r,onSubmit:D,onReset:y},T({...P}))})}_(n,"Form"),n.displayName="Form";const c=n},3155323475:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9665283624);function c(i){let{className:r,errors:a}=i;var l;return a&&a.length>0?t.createElement(t.Fragment,null,a.map(d=>(0,t.isValidElement)(d.message)?t.cloneElement(d.message,{key:d.id,id:d.id,className:o()(r,"c-field_input__helpers")}):(l=!!d.message&&t.createElement(n.A,{className:o()(r,"c-field_input__helpers"),key:d.id,id:d.id},d.message))!==null&&l!==void 0?l:null)):null}_(c,"FieldErrors")},1581132261:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(3564666345),o=e(3391133100);function n(c){const{getFieldMeta:i,submitCount:r}=(0,s.j7)(),a=i(c),{touched:l,error:d,initialError:u}=a,f=(0,t.useCallback)(m=>m&&m.map&&m.length>0?m.map(h=>({id:`${c}_error_${(0,o.r9)()}`,message:h})):m?[{id:m,message:m}]:[],[c]);return(0,t.useMemo)(()=>l||r>0?f(d):f(u),[l,f,u,d,r])}_(n,"useFieldErrors")},7872686780:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3134334389);function s(){const[n,c]=(0,t.useReducer)(o,[]),i=(0,t.useCallback)(a=>{c({type:"addHint",hintId:a})},[c]),r=(0,t.useCallback)(a=>{c({type:"removeHint",hintId:a})},[c]);return{hints:n,addHint:i,removeHint:r}}_(s,"useHints");function o(n,c){switch(c.type){case"addHint":return[...n,c.hintId];case"removeHint":return n.filter(i=>i!==c.hintId);default:return n}}_(o,"hintsReducer")},8769763882:(N,g,e)=>{"use strict";e.d(g,{Z:()=>r});var t=e(3134334389),s=e(3564666345),o=e(1448603600),n=e(9078488172);function c(){return c=Object.assign||function(l){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l},c.apply(this,arguments)}_(c,"_extends");function i(l,d){return u=>{const{name:f}=(0,t.useContext)(o._),{validateOnBlur:m,...h}=u,v=(0,s.j7)(),p=(0,t.useMemo)(()=>d({name:f,handleChange:v.handleChange,handleBlur:v.handleBlur,setFieldValue:v.setFieldValue,setFieldTouched:v.setFieldTouched,validateOnBlur:m,props:u}),[f,v.handleChange,v.handleBlur,v.setFieldValue,v.setFieldTouched,m,u]);return t.createElement(l,c({},h,p))}}_(i,"withFieldAdapter"),i.displayName="withFieldAdapter";function r(l,d){const u=i(l,d);return _(m=>t.createElement(n.A,c({component:u},m)),"FieldTextInput")}_(r,"withField"),r.displayName="withField";var a=null},9665283624:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3708320478),c=e(8683010724);function i(){return i=Object.assign||function(l){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l},i.apply(this,arguments)}_(i,"_extends");let r=_(class extends t.PureComponent{render(){const{children:d,className:u,id:f,...m}=this.props,h=o()("c-inline_alert",u);return t.createElement("div",i({},m,{className:h,id:f,"data-qa-error":!0}),t.createElement(c.A,{name:"info"}),t.createElement(n.z,{assertive:!0},t.createElement("span",{className:"c-inline_alert__text"},d)))}},"InlineAlert");r.defaultProps={className:"",id:""},r.displayName="InlineAlert";const a=r},440635146:(N,g,e)=>{"use strict";e.d(g,{ed:()=>p,tc:()=>f,zG:()=>T});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(9432515904),c=e(4094753332),i=e(6471059816),r=e(8683010724);function a(){return a=Object.assign||function(A){for(var C=1;C<arguments.length;C++){var I=arguments[C];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(A[D]=I[D])}return A},a.apply(this,arguments)}_(a,"_extends");const l=new i.Ay("keyboard_key");var d;(function(A){A.ArrowUp="\u2191",A.ArrowDown="\u2193",A.ArrowLeft="\u2190",A.ArrowRight="\u2192"})(d||(d={}));var u;(function(A){A.CmdOrCtrl="CmdOrCtrl",A.OptOrAlt="OptOrAlt"})(u||(u={}));const f={...d,...u},m=Object.values(d).map(A=>A.toString()),h={Cmd:{name:"command"},[d.ArrowUp]:{name:"caret-up-filled"},[d.ArrowDown]:{name:"caret-down-filled"},[d.ArrowLeft]:{name:"caret-left-filled"},[d.ArrowRight]:{name:"caret-right-filled"}},v=_(A=>A===u.CmdOrCtrl?(0,c.cX)()?"Cmd":"Ctrl":A===u.OptOrAlt?(0,c.cX)()?"Option":"Alt":A,"getKeyForOS"),p=_(A=>({"\u2191":l.t("up arrow"),"\u2193":l.t("down arrow"),"\u2190":l.t("left arrow"),"\u2192":l.t("right arrow"),Ctrl:l.t("control"),"\u2318":l.t("command"),Cmd:l.t("command"),Option:l.t("option"),Alt:l.t("alt"),".":l.t("period"),",":l.t("comma"),"[":l.t("left bracket"),"]":l.t("right bracket"),"+":l.t("plus"),"-":l.t("minus"),Esc:l.t("escape"),Strg:"Steuerung"}[A]||String(A)).toLowerCase(),"getNameForKey"),T=_(A=>{let{label:C,className:I,slim:D=!1,theme:y=n.Sx.Light,tooltip:P=!1}=A;const E=String(C),M=m.includes(E),S=v(E),R=h[S],k=o()(I,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":M,"c-keyboard_key--slim":D||P,"c-keyboard_key--dark":y===n.Sx.Dark,"c-keyboard_key__tooltip":P}),O=p(S);return t.createElement("div",{role:"img","aria-label":O,className:k},R?t.createElement(r.A,a({},R,{size:D?"inherit":"20",inline:D})):S)},"KeyboardKey");T.displayName="KeyboardKey"},9194155027:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(4094753332),c=e(440635146);const i=_(()=>(0,n.cX)()?t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"\xA0"):t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"+"),"Delimiter");i.displayName="Delimiter";const r=_(l=>{let{isInline:d=!1,title:u,mainKey:f,modifier:m,modifiers:h,className:v,useSlimModifiers:p}=l;const T=o()("c-keyboard_keys",{"c-keyboard_keys--inline":d,"c-keyboard_key__tooltip_text":!(m||h)},v),A=o()("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":d}),C=m?[m]:h,I=C==null?void 0:C.map(D=>t.createElement(t.Fragment,{key:`${D}_key`},t.createElement(c.zG,{label:D,tooltip:!0,slim:p}),t.createElement(i,null)));return t.createElement(t.Fragment,null,t.createElement("span",{className:A,"aria-hidden":"true"},u),t.createElement("span",{className:T},I,t.createElement(c.zG,{label:f,tooltip:!0})))},"KeyboardKeysTooltip");r.displayName="KeyboardKeysTooltip";const a=r},9742374352:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6966669095),c=e(4943209501),i=e(6695894399),r=e(3037610746),a=e(6538933722);function l(){return l=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},l.apply(this,arguments)}_(l,"_extends");const d={onClick:{action:n.l.CLICK}},f=t.forwardRef(_(function(h,v){let{autoClogProps:p,className:T,href:A,invert:C=!1,children:I,...D}=h;const y=(0,t.useContext)(r.A),P=o()("c-link",{"c-link--focus-visible":y,"c-link--invert":C},T),E=D.target==="_blank"||(A==null?void 0:A.startsWith("mailto:")),M=t.createElement("a",l({},(0,i.A)(D),{className:P,href:A,ref:v}),I,E&&t.createElement(a.A,null));return p?t.createElement(c.A,{autoClogProps:p,actionProps:d,elementType:n.R.LINK},M):M},"BaseLink"))},3098394427:(N,g,e)=>{"use strict";e.d(g,{A:()=>De});var t=e(3134334389),s=e(6122756707),o=e(2774532222),n=e(4094753332),c=e(3169083297),i=e(7732872146),r=e(1318506593),a=e(4178531214),l=e(9524650809),d=e(9101533895),u=e(8920264989),f=e(3514831633),m=e(6471059816),h=e(9236644324),v=e(9490897575),p=e(9268451279),T=e(6304789565),A=e(8276911661);const C=(0,T.Ay)("Get a member by their email",(Pe,ye,He)=>{const Qe=ye();return(0,A.OA)(Qe,He)});C.meta={name:"createThunk",key:"createThunkgetMemberByEmail",description:"Get a member by their email"};const I=C;var D=e(5522343655),y=e(1009419259),P=e(8023032856),E=e(858397164),M=e(7173172014),S=e(1734406906),R=e(8668318456),k=e(7884000776),O=e(3110884894),U=e(7749101058),W=e(1407713935),x=e(6839188756),L=e(1670069836),b=e(3848977043);function F(Pe){let{canUserInviteToChannelByEmail:ye,canUserSlackConnectDm:He,isImOrMpim:Qe,isMember:dt,isPOU:Ot,showInvitePeopleGlobalAction:yt}=Pe;const Dt=(He||dt)&&!Ot,Ct=ye!==void 0,kt=Ct&&ye&&!Qe,vt=Ct&&yt&&!dt&&!kt;return{showChannelInviteMenu:kt,showDmMenu:Dt,showSeparator:Dt||kt||vt,showWorkspaceInviteMenu:vt}}_(F,"getEmailMenuItemDisplayRules");var B=e(8170643398),K=e(5279892721),H=e(9225229866),Y=e(3193155968),Z=e(9506008067),V=e(5519146941),ne=e(4518410378),q=e(8040098042),me=e(82287009);function ue(){return ue=Object.assign||function(Pe){for(var ye=1;ye<arguments.length;ye++){var He=arguments[ye];for(var Qe in He)Object.prototype.hasOwnProperty.call(He,Qe)&&(Pe[Qe]=He[Qe])}return Pe},ue.apply(this,arguments)}_(ue,"_extends");const ae=new m.Ay("linkify_emails"),le={elementName:"email_linkify_dm_email",onClick:{enableClogAction:!0}},fe={elementName:"email_linkify_start_invite",onClick:{enableClogAction:!0}},he={elementName:"email_linkify_start_invite_to_workspace",onClick:{enableClogAction:!0}},ie={elementName:"email_linkify_copy_email",onClick:{enableClogAction:!0}},X={elementName:"email_linkify_open_email",onClick:{enableClogAction:!0}},j=_(Pe=>{let{href:ye,channel:He,...Qe}=Pe;const[dt,Ot]=(0,t.useState)(),yt=(0,s.wA)(),Dt=ye.split("mailto:")[1]?ye.split("mailto:")[1]:ye,Ct=ae.rt("Contact {emailAddress}",{emailAddress:Dt}),kt=yt(I(Dt)),vt=kt==null?void 0:kt.id,Nt=(0,B.hh)(kt),It=(0,u.Mn)(He),At=(0,Z.d4)(ft=>(0,x.F1)((0,L.H7)(ft))),Zt=(0,Z.d4)(b.Lz),jt=(0,W.JM)(He),Ht=(0,Z.d4)(P.u);(0,t.useEffect)(()=>{yt((0,E.f$)({context:E.Ui.AddToChannel})).then(ft=>{Ot(ft.addToChannelFlow.inviteToChannelByEmail)})},[yt]);const Pt=(0,t.useCallback)(()=>{yt((0,me.Sb)({initialEmail:Dt}))},[yt,Dt]),Ft=(0,t.useCallback)(()=>{if(vt){const ft=(0,p.h0)({memberIds:[vt]});yt((0,D.A)({destinations:ft})).then(wt=>yt((0,v.U)({draftId:wt}))).catch(()=>{Pt()})}else Pt()},[yt,vt,Pt]),En=(0,t.useCallback)(()=>{let ft={channelId:He.id,entryPoint:K.kP.EmailLinkMenu,initialSelectedEmails:[{key:Dt,label:Dt,value:Dt,hoverText:ae.t("Outside your organization"),isClassifying:!1,classification:y.r.External,entity:{id:Dt,isEmail:!0,value:Dt},icon:void 0}]};vt&&(ft={channelId:He.id,entryPoint:K.kP.EmailLinkMenu,initialSelectedEmails:[{key:Dt,label:Dt,isLoading:!0,queryId:(0,l.A)("query__"),value:void 0,entity:void 0,classification:void 0,icon:void 0}]}),yt((0,me._2)(ft))},[He.id,yt,Dt,vt]),Rt=(0,t.useCallback)(()=>{yt((0,me.Xf)({initialEmail:Dt,source:H.K3.LinkifyEmails}))},[yt,Dt]),{showChannelInviteMenu:rn,showDmMenu:nn,showSeparator:at,showWorkspaceInviteMenu:tt}=F({canUserInviteToChannelByEmail:dt,canUserSlackConnectDm:Ht,isImOrMpim:jt,isMember:!!vt,isPOU:Nt,showInvitePeopleGlobalAction:Zt});return t.createElement(M.A,{eventId:R.EventId.EMAIL_LINK_MENU,elementType:R.ElementType.MENU,clogImpression:!0},t.createElement(f.Ay,ue({},Qe),t.createElement(t.Fragment,null,t.createElement("p",{className:"p-email_link_menu__title"}," ",Ct," "),nn&&t.createElement(f.Dr,{"data-qa":"start_dm_email_linkify",onSelected:Ft,label:ae.t("Start a DM"),autoClogProps:le}),rn&&t.createElement(f.Dr,{"data-qa":"start_invite_email_linkify",onSelected:En,label:ae.rt("Invite to #{channelDisplayName}",{channelDisplayName:It}),autoClogProps:fe}),tt&&t.createElement(f.Dr,{"data-qa":"start_invite_to_workspace_email_linkify",onSelected:Rt,label:ae.rt("Invite to {currentTeamName}",{currentTeamName:At}),autoClogProps:he}),at&&t.createElement(f.bX,null)),t.createElement(f.Dr,{"data-qa":"copy_email_linkify",onSelected:(0,t.useCallback)(()=>(0,h.x3)(Dt),[Dt]),label:ae.t("Copy Email Address"),autoClogProps:ie}),t.createElement(f.Dr,{"data-qa":"send_email_linkify",onSelected:(0,t.useCallback)(()=>ne.J.open(ye,"_blank"),[ye]),label:ae.rt("Email {emailAddress}",{emailAddress:Dt}),autoClogProps:X})))},"RenderMenu");j.displayName="RenderMenu";const w=_(Pe=>{let{href:ye,refToForward:He,channelId:Qe,onClick:dt,...Ot}=Pe;const{getSiblingView:yt}=(0,t.useContext)(V.A),Dt=(0,t.useContext)(U.r4),Ct=ye==null?void 0:ye.startsWith("mailto:"),kt=(0,Z.d4)(At=>{var Zt;if(Ct&&Dt&&Dt===k.Y.THREAD){const Ht=(0,O.jA)(At,{getSiblingView:yt});if(Ht){const Pt=(0,O.Sb)(Ht);if(Pt&&Pt.channelId)return Pt.channelId}}if(Qe)return Qe;const jt=(Zt=yt(At,{container:Y.mq.Primary}))===null||Zt===void 0?void 0:Zt.id;return jt&&(0,q.A)(jt)?jt:void 0}),vt=(0,Z.d4)(At=>(0,d.OL)(At,kt)),Nt=(0,t.useCallback)(At=>{if(vt)return t.createElement(j,ue({},At,{href:ye,channel:vt}))},[ye,vt]),It={href:ye,refToForward:He,...Ot};return Ct&&vt?t.createElement(f.cQ,{renderMenu:Nt,position:"bottom-right"},t.createElement(S.A,ue({},It,{preventDefault:!0}))):t.createElement(S.A,ue({},It,{onClick:dt}))},"EmailLinkMenu");w.displayName="EmailLinkMenu";const Q=w;var G=e(8170244779),J=e(6993486037),te=e(6497272239),se=e(7334104107),ce=e(4821277680),Ee=e(104089241),de=e(219228829),re=e(485355941),_e=e(4096483543),ve=e(4963023022),ge=e(5123689463),Le=e(4252064756),ke=e(2523456537),Ke=e(8847766420),Ne=e(3297051565),Re=e.n(Ne),xe=e(2573911482),We=e.n(xe),$=e(2647703359),ee=e(9018258885),Ve=e(937317117);const ze=(0,T.Ay)("Clog when a URL is clicked and the URL is an external_url of a file",function(Pe,ye){let{clogLinkClick:He,url:Qe,isRawLink:dt=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const Ot=ye();if(!(0,ee.A)(Qe))return;const Dt={is_raw_link:dt,item_type:"link",url_hash_id:We()(Qe),url_domain:(0,i.Ay)(Qe).hostname},Ct=(0,Ve.TL)(Ot,Qe);if(Ct&&(Dt.item_type=Ct.id[0],Dt.item_id=Ct.id,(0,$.Vx)(Ct)&&(Dt.contexts={ui_context:{action:"open",ui_component:"remote_file"}}),(0,$.ge)(Ct)&&(Dt.contexts={link_action:"file_viewer_external_link"},Ct.external_type==="gdrive"))){const kt=Ct.mimetype&&Ct.mimetype.indexOf("image/")!==-1;Dt.contexts.platform={service_type:"GSUITE",app_id:9,has_rich_preview:Ct.has_rich_preview&&!kt}}He(Dt)});ze.meta={name:"createThunk",key:"createThunkclogUrls",description:"Clog when a URL is clicked and the URL is an external_url of a file"},ze.propTypes={clogLinkClick:Re().func.isRequired,url:Re().string.isRequired};const st=ze;var Ge=e(1290436125),be=e(6270439924),Se=e(7606781622),we=e(2047021170);function Ce(){return Ce=Object.assign||function(Pe){for(var ye=1;ye<arguments.length;ye++){var He=arguments[ye];for(var Qe in He)Object.prototype.hasOwnProperty.call(He,Qe)&&(Pe[Qe]=He[Qe])}return Pe},Ce.apply(this,arguments)}_(Ce,"connected_external_link_extends");const Te=_(Pe=>{let{onClick:ye,href:He,target:Qe,maybeOpenSuspiciousLinkDialog:dt,clogLinkClick:Ot,alwaysPerformDefaultOnClickBehavior:yt=!1,children:Dt,hermesLinkTriggerUIContext:Ct,isFromAppHome:kt=!1,refToForward:vt,...Nt}=Pe;const It=(0,s.wA)(),At=(0,Z.d4)(Lt=>(0,L._J)(Lt,(0,a.ss)(Lt)?(0,Ge.gc)(Lt):(0,Ke.ZT)(Lt))),{getSiblingView:Zt}=(0,t.useContext)(V.A),jt=(0,Z.d4)(Lt=>{var Bt;return(Bt=Zt(Lt,{container:Y.mq.Primary}))===null||Bt===void 0?void 0:Bt.id});let Ht=(0,_e.A)()&&He.startsWith("/")?(0,x.Zl)(At,He):He;const Pt=(0,i.Ay)(Ht),Ft=(0,Z.d4)(Lt=>(0,ce.XN)(Lt,Pt)),En=(Ft==null?void 0:Ft.type)===ce.im.CHANNEL_CANVAS?Ft==null?void 0:Ft.channelId:(0,ge.rk)(Pt),Rt=(0,Z.d4)(Lt=>En&&(0,q.A)(En)?(0,d.OL)(Lt,En):void 0),rn=Rt&&(0,W.t8)(Rt),nn=Rt&&(0,W.QR)(Rt),at=(0,Z.d4)(Lt=>{if(Ft&&(Ft==null?void 0:Ft.type)===ce.im.MESSAGE&&(Ft!=null&&Ft.channelId)&&(Ft!=null&&Ft.ts)){const Bt=(0,Se.Ld)(Lt,Ft==null?void 0:Ft.channelId,Ft==null?void 0:Ft.ts);if(!(0,se.ow)(Bt)&&(0,se.xh)(Bt))return!0}return!1}),tt=(0,Z.d4)(Lt=>{if(rn||nn){const Bt=Pt.host;return(0,be.dp)(Lt).some(Yt=>Yt.team_url.includes(Bt))}return!1}),ft=(0,Z.d4)(Lt=>Rt?(0,te.I)(Lt,Rt):!1),wt=Pt&&Pt.pathname,Jt=Pt&&Pt.hostname;((0,o.A)(wt,"/files/")&&(0,ke.A)(Jt)||(0,o.A)(wt,"/docs/")&&(0,Le.D)(Pt))&&(Ht=(0,r.M6)(Ht,"origin_team",At.id),jt&&(Ht=(0,r.M6)(Ht,"origin_channel",jt)));const sn=(0,Z.d4)(Lt=>(0,we.ty)(Lt,"underline_links")),z=(0,t.useCallback)(Lt=>{if(Ot&&It(st({clogLinkClick:Ot,url:Ht,isRawLink:(0,c.A)(Ht,Dt)})),ye&&(ye(Lt),!yt)){Lt.defaultPrevented||(0,ve.A)(Ht,At,Lt,Qe);return}if(!(0,ve.A)(Ht,At,Lt,Qe)&&(dt&&dt(Lt),!Lt.defaultPrevented)){if((0,re.Cz)(Lt)){Lt.preventDefault(),It((0,me._J)({permalink:Ht,shouldOpenInTile:!0}));return}if(!(0,de.A)(Lt)&&Lt.button!==1){if((0,Ee.U)(Ht)&&(0,n.y3)()){Lt.preventDefault(),Lt.stopPropagation(),It((0,me.HB)({uri:Ht,dangerouslyOverrideRouting:kt}));return}if(!tt&&(nn||at)&&!ft){It((0,J.e)({url:Ht})),Lt.preventDefault(),Lt.stopPropagation();return}It((0,me._J)({permalink:Ht,hermesLinkTriggerUIContext:Ct,dangerouslyOverrideRouting:kt,target:Qe}))&&(Lt.preventDefault(),Lt.stopPropagation())}}},[yt,Dt,Ot,It,Ct,Ht,kt,at,nn,tt,dt,ye,Qe,At,ft]),Me=!!(sn&&(Nt["data-stringify-link"]||Nt["data-qa"]==="message_attachment_title_link")),Be=Ht==null?void 0:Ht.startsWith("mailto:"),nt={href:Ht,target:Qe,children:Dt,refToForward:vt,showUnderlineLink:Me,onClick:z,...Nt};return Be?t.createElement(G.A.Consumer,null,Lt=>{let{channelId:Bt}=Lt;return t.createElement(Q,Ce({},nt,{channelId:Bt}))}):t.createElement(S.A,Ce({},nt))},"ConnectedExternalLink");Te.displayName="ConnectedExternalLink";const De=t.forwardRef((Pe,ye)=>t.createElement(Te,Ce({},Pe,{refToForward:ye})))},104089241:(N,g,e)=>{"use strict";e.d(g,{U:()=>s});const t=["slack://open","slack://room"],s=_(o=>o.startsWith("slack://")&&t.filter(n=>o.startsWith(n)).length===0,"shouldDeepLink")},9163962844:(N,g,e)=>{"use strict";e.d(g,{A:()=>s,r:()=>t.rY});var t=e(2762351398);const s=t.Ay},2762351398:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>d,HY:()=>r,rY:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2312625946);function c(){return c=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(u[h]=m[h])}return u},c.apply(this,arguments)}_(c,"_extends");var i;(function(u){u.transparent="transparent",u.black="black",u.red="red",u.white="white",u.blue="blue",u.minGray="min_gray",u.themed="themed"})(i||(i={}));var r;(function(u){u.pill="pill",u.circle="circle"})(r||(r={}));const a=_((u,f)=>u>f?`${f}+`:String(u),"getCountText"),l=_(u=>{let{className:f,count:m,maxCount:h=9,style:v=i.black,toolTipText:p="",shape:T=r.pill}=u;if(!m||m<0)return null;const A=p?n.Ay:t.Fragment,C=p?{tip:p}:{};return t.createElement(A,c({},C),t.createElement("span",{"aria-hidden":"true",className:o()(f,"c-mention_badge",{"c-mention_badge--max":m>h,"c-mention_badge--pill":T===r.pill,"c-mention_badge--circle":T===r.circle,"c-mention_badge--transparent":v===i.transparent,"c-mention_badge--black":v===i.black,"c-mention_badge--red":v===i.red,"c-mention_badge--white":v===i.white,"c-mention_badge--blue":v===i.blue,"c-mention_badge--min_gray":v===i.minGray,"c-mention_badge--themed":v===i.themed},p&&"c-mention_badge--default"),"data-qa":"mention_badge"},a(m,h)))},"MentionBadge");l.displayName="MentionBadge";const d=t.memo(l)},3514831633:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>r,Dr:()=>o.A,YJ:()=>t.YJ,a:()=>s.A,bX:()=>c.Ay,c$:()=>n.Ay,cQ:()=>i.A});var t=e(3659245342),s=e(1357113878),o=e(8245211418),n=e(7417231112),c=e(8184841524),i=e(7433650413);const r=t.Ay},1357113878:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(1658558415),o=e(6308822),n=e(3659245342),c=e(8245211418),i=e(7417231112),r=e(8184841524),a=e(8773153312),l=e(1959847761);function d(){return d=Object.assign||function(m){for(var h=1;h<arguments.length;h++){var v=arguments[h];for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(m[p]=v[p])}return m},d.apply(this,arguments)}_(d,"_extends");const f=(0,t.memo)(_(function m(h){let{template:v,...p}=h;const T=(0,t.useMemo)(()=>v.map((A,C)=>{if(!A)return null;if(A.type===a.A.separator)return t.createElement(r.Ay,d({},A,{key:A.key||`separator-${C}`}));if(A.type===a.A.header)return t.createElement(i.Ay,{key:A.key||`header-${C}`,label:A.label,className:A.className});if(A.type===a.A.loading)return t.createElement(o.A,{key:A.key||"loading",size:"large"});if(A.type===a.A.custom)return A.ariaHidden===!1&&!(0,s.A)()?A.children:t.createElement("div",{"aria-hidden":A.ariaHidden===!1?"false":"true",key:A.key,"data-qa":A.dataQa},A.children);const I={children:A.children,className:A.className,classNameListItem:A.classNameListItem,label:A.label,description:A.description,icon:A.icon,badgeCount:A.badgeCount,badgeLabel:A.badgeLabel,badgeClassName:A.badgeClassName,shortcut:A.shortcut,showEnter:A.showEnter,onSelected:A.click,target:A.target,href:A.href,download:A.download,danger:A.danger,type:A.type,"data-qa":A.dataQa,disabled:A.disabled,showOfflineIcon:A.showOfflineIcon,showLinkIndicatorIcon:A.showLinkIndicatorIcon,checked:A.checked,indeterminate:A.indeterminate,autoClogProps:A.autoClogProps,onMount:A.onMount,onUnmount:A.onUnmount,ariaDescribedBy:A.ariaDescribedBy,ariaRole:A.ariaRole,ariaLabel:A.ariaLabel},D=A.key||(typeof A.label=="string"?A.label:`generated-key-${C}`);if(A.type===a.A.submenu){var y;const P=(y=A.renderSubmenu)!==null&&y!==void 0?y:E=>t.createElement(m,d({template:A.template||A.submenu},E,{width:A.submenuWidth}));return t.createElement(l.A,d({},I,{label:A.label,renderSubmenu:P,key:D}))}return t.createElement(c.A,d({key:D},I))}),[v]);return t.createElement(n.Ay,d({},p),T)},"MenuFromTemplate1"))},7417231112:(N,g,e)=>{"use strict";e.d(g,{$b:()=>d,Ay:()=>a,a6:()=>l});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323);function c(){return c=Object.assign||function(u){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(u[h]=m[h])}return u},c.apply(this,arguments)}_(c,"_extends");const i="_isSlackMenuItemHeader";function r(u){let{for:f,label:m,className:h,onMouseEnter:v=n.A}=u;return t.createElement("div",c({},f&&{id:d(f)},{"aria-hidden":"true",className:o()("c-menu_item__header",h),onMouseEnter:v,"data-qa":"menu-item-header"}),m)}_(r,"MenuItemHeader"),r.displayName="MenuItemHeader",r[i]=!0;const a=r;function l(u){return!!(u!=null&&u[i])}_(l,"isMenuItemHeader");function d(u){return`${u}-label`}_(d,"getMenuItemHeaderIdForGroup")},8245211418:(N,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3078252698),c=e(7715417323),i=e(6966669095),r=e(4094753332),a=e(6471059816),l=e(3385766968),d=e(6084388622),u=e(1610251172),f=e(2762351398),m=e(8773153312),h=e(1963690015),v=e(8683010724);const p=new a.Ay("menu");function T(D){return!!D&&!(0,n.A)(D)&&"label"in D}_(T,"isMenuItemShortcutObjectType");let A=_(class extends t.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(y){var P,E,M,S,R,k;(E=(P=this.props).menuCallbackBefore)===null||E===void 0||E.call(P,y),(S=(M=this.props).onSelected)===null||S===void 0||S.call(M,y),(k=(R=this.props).menuCallback)===null||k===void 0||k.call(R,this.props.menuCallbackId||0,y)}determineMenuRole(){const{type:y,ariaRole:P}=this.props;if(P)return P;switch(y){case m.A.radio:return"menuitemradio";case m.A.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:y,badgeCount:P,badgeClassName:E,badgeVariant:M,highlighted:S}=this.props;return P?t.createElement(f.Ay,{count:P,style:S?f.rY.white:f.rY.red}):y?t.createElement(l.A,{className:E,variant:M},y):null}renderAdditionalIconMaybe(){const{additionalIcon:y}=this.props;return y?t.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},y):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.createElement(v.A,{name:"caret-right"}))}renderEnterMaybe(){const{showEnter:y,highlighted:P}=this.props;return!y||!P?null:t.createElement(u.A,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:y,checked:P,indeterminate:E}=this.props,M=y===m.A.radio||y===m.A.checkbox;return M&&E?t.createElement(u.A,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):M&&P?t.createElement("div",{className:"c-menu_item__checkmark"},t.createElement(v.A,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:y}=this.props;return y?t.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},y):null}renderLinkIconMaybe(){const{href:y,showLinkIndicatorIcon:P}=this.props;return P===!1||P!==!0&&!y?null:t.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.createElement(v.A,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:y}=this.props;if(!y)return null;if(T(y)){const{label:P}=y;return t.createElement("div",{className:"c-menu_item__shortcut"},P)}return t.createElement("div",{className:"c-menu_item__shortcut"},y)}render(){const{autoClogProps:y,children:P,className:E,classNameListItem:M,danger:S,link:R,description:k,disabled:O,showOfflineIcon:U,highlighted:W,label:x,onMouseEnter:L,onMouseLeave:b,href:F,target:B,download:K,type:H,withSubmenu:Y,checked:Z,indeterminate:V,measureRef:ne,ariaDescribedBy:q,ariaLabelledBy:me,ariaLabel:ue,disableHoverStyling:ae}=this.props,le=o()(E,"c-menu_item__button",{"c-menu_item__button--highlighted":W&&!O&&!ae,"c-menu_item__button--danger":S,"c-menu_item__button--link":R,"c-menu_item__button--disabled":O,"c-menu_item__button--with_submenu":Y,"c-menu_item--button--subheader_child":H===m.A.subheaderChild,"c-menu_item__button--checked":(H===m.A.radio||H===m.A.checkbox)&&(Z||V),"c-menu_item--compact":H===m.A.compactItem}),fe=o()(M,"c-menu_item__li",{"c-menu_item__li--highlighted":W&&!ae}),he=o()(M,"c-menu_item__label",{"c-menu_item__label--with_description":k}),ie=Y?"true":void 0,X=k?t.createElement("div",{className:"c-menu_item__description"},k):"",j=this.props.activeMenuId,w=this.props.featureSubmenuRoleDescription?p.t("submenu"):void 0,Q=(0,r.cX)()&&Y?w:void 0;return t.createElement("div",{ref:ne,className:fe,onMouseEnter:L,onMouseLeave:b,"data-qa":`${this.props["data-qa"]}-wrapper`},t.createElement(d.Nm,{autoClogProps:{...y,elementType:i.R.MENU_ITEM},ref:this.buttonRef,id:j,className:le,disabled:O,onClick:this.onSelected,href:F,target:B,download:K,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:Z,"aria-checked":V?"mixed":Z,"aria-haspopup":ie,tabIndex:-1,"aria-roledescription":Q,"aria-describedby":q,"aria-labelledby":me,"aria-label":ue},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.createElement("div",{className:he},x,typeof P=="function"?P({highlighted:W}):P,X),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),U&&t.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.createElement(u.A,{type:"cloud-offline-small"}))))}constructor(y){super(y),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.createRef()}},"MenuItem");A.defaultProps={children:void 0,highlighted:!1,onMouseEnter:c.A,onMouseLeave:c.A,onSelected:c.A,menuCallback:c.A,menuCallbackBefore:c.A,menuCallbackId:0,className:"",classNameListItem:"",label:"",description:"",danger:!1,link:!1,disabled:!1,showOfflineIcon:!1,href:void 0,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,badgeVariant:void 0,showEnter:!1,target:void 0,download:void 0,type:m.A.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:c.A,onUnmount:c.A,disableHoverStyling:!1},A.displayName="MenuItem";const C={MenuItem:A},I=(0,h.Ay)(A)},8184841524:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>i,Ex:()=>n,HP:()=>r});var t=e(3134334389),s=e(4844578989),o=e.n(s);const n="_isSlackMenuSeparator";function c(a){let{className:l,noPadding:d,noPaddingAbove:u,noPaddingBelow:f,noFirstChild:m,noLastChild:h,dataQa:v="menu_separator__separator"}=a;const p=o()("c-menu_separator__li",{padding_0:d,padding_top_0:u,padding_bottom_0:f,"c-menu_separator__li--no_first_child":m,"c-menu_separator__li--no_last_child":h},l);return t.createElement("div",{className:p},t.createElement("hr",{className:"c-menu_separator__separator","data-qa":v}))}_(c,"MenuSeparator"),c.displayName="MenuSeparator",c[n]=!0;const i=c;function r(a){return!!(a!=null&&a[n])}_(r,"isMenuSeparator")},7433650413:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(9392104102),o=e(5249175977);function n(){return n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(r[d]=l[d])}return r},n.apply(this,arguments)}_(n,"_extends");const c=_(r=>{const{renderMenu:a,onPopoverOpen:l,onPopoverClose:d,isDisabled:u=!1,closeOnSelect:f=!0,noPopupVersion:m=!1,onTriggerClose:h,onMenuItemSelected:v,onMenuKeyDown:p,...T}=r,A=_(()=>{l&&l()},"onOpenProp"),C=_(D=>{const{onClose:y,...P}=D,E=_((O,U)=>{y&&y(O),d&&d(O)},"onCloseProp"),M=_(O=>{y&&y(O),h&&h(O)},"onTriggerClose"),S=_((O,U)=>{f&&(y&&y(U),d&&d(U)),v&&v(O,U)},"onMenuItemSelected"),R=typeof r.children=="function"?r.children(s.t0):r.children,k=a({...D,children:R,onTriggerClose:M,onMenuItemSelected:S,onMenuKeyDown:p});return k?t.createElement(o.AM,n({useRestoreFocus:!0,shouldFade:!1,ariaHideApp:!1,onClose:E,onOpen:A},P),k):!1},"renderPopover");if(C.displayName="renderPopover",u)return typeof r.children=="function"?r.children(s.t0):r.children;const I=r.isContextMenu?s.t0:{...T.triggerProps,"aria-haspopup":m?void 0:"menu"};return t.createElement(o.Wv,n({},T,{triggerProps:I,renderPopover:C}),r.children)},"MenuTrigger");c.displayName="MenuTrigger";const i=c},8773153312:(N,g,e)=>{"use strict";e.d(g,{A:()=>s,y:()=>t});const t={default:"default",compactItem:"compact_item",separator:"separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"},s=t},3659245342:(N,g,e)=>{"use strict";e.d(g,{Vf:()=>W,Ay:()=>x,YJ:()=>O});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(3078252698),c=e(9746734072),i=e(8424846741),r=e(7715417323),a=e(6966669095),l=e(4348392507),d=e(7173172014);function u(L){return t.isValidElement(L)&&"children"in L.props}_(u,"hasChildren");function f(L){return L!=null&&typeof L=="object"&&"type"in L&&L.type===t.Fragment}_(f,"isFragment");function m(L){return L instanceof Array?L.map(m):f(L)&&u(L)?m(L.props.children):L}_(m,"defragment");function h(L){return t.Children.toArray(m(L))}_(h,"flattenChildren");var v=e(5803478215);const p=_(L=>{let{"aria-labelledby":b,"aria-owns":F}=L;return F?t.createElement("div",{className:"offscreen",role:"group","aria-owns":F,"aria-labelledby":b}):null},"MenuItemGroup");p.displayName="MenuItemGroup";const T=p;var A=e(7417231112),C=e(8184841524),I=e(1963690015),D=e(1959847761),y=e(337319621);function P(){return P=Object.assign||function(L){for(var b=1;b<arguments.length;b++){var F=arguments[b];for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&(L[B]=F[B])}return L},P.apply(this,arguments)}_(P,"_extends");function E(L){const b=L&&L.type;return!!b&&(0,I.l0)(b)}_(E,"isMenuItem");function M(L){const b=L&&L.type;return!!b&&(0,D.e)(b)}_(M,"isSubmenu");function S(L){const b=L&&L.type;return b&&(0,C.HP)(b)}_(S,"isSeparator");function R(L){const b=L&&L.type;return b&&(0,A.a6)(b)}_(R,"isMenuItemHeader");let k=0;function O(){return k>0}_(O,"isMenuVisible");const U={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"," ":"select",Home:"selectfirst",End:"selectlast"};let W=_(class extends t.Component{componentDidMount(){this.focus(),k+=1}componentDidUpdate(b){this.props.kbNavActive&&!b.kbNavActive&&this.activateKBNav()}componentWillUnmount(){k-=1,this.props.onUnmount&&this.props.onUnmount()}menuItemHtmlId(b){return`${this.activeMenuId}-${b}`}onMenuNavigation(b){const F=this.getIndexOfNextMenuItemInDirection(b);this.setState(()=>({highlightedMenuItemIndex:F,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(b){const F=this.state.highlightCanChangeOnMouseMovement?b:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:F,contingentHighlightedMenuItemIndex:b,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var B;(B=this.ariaMenuNode)===null||B===void 0||B.focus()}}getAllMenuItemIndices(){const b=[];return h(this.props.children).filter(t.isValidElement).forEach((F,B)=>{var K;!((K=this.ariaMenuNode)===null||K===void 0)&&K.querySelector(`#${this.menuItemHtmlId(B)}`)&&(E(F)||M(F))&&b.push(B)}),b}getIndexOfNextMenuItemInDirection(b){const F=this.getAllMenuItemIndices(),B=F.indexOf(this.state.highlightedMenuItemIndex),K=F.length-1;if(b==="selectnext"){const Y=B<K?B+1:0;return F[Y]}const H=B-1>=0?B-1:K;return F[H]}getSelectedMenuItem(){const{highlightedMenuItemIndex:b}=this.state;if(!(b<0)&&this.menuChildren)return this.menuChildren[b]}focus(){const{kbNavActive:b,isSubmenu:F}=this.props;if(!b)return;if(!F){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const B=this.getAllMenuItemIndices();if(!B.length){var K;(K=this.ariaMenuNode)===null||K===void 0||K.focus();return}this.setState(()=>({highlightedMenuItemIndex:B[0]}),()=>{var H;(H=this.ariaMenuNode)===null||H===void 0||H.focus()})}registerKeyboardShortcutForMenuItem(b,F){if(!b||!F)return;const{label:B,key:K}=b;(0,n.A)(B)&&((0,n.A)(K)||(0,c.A)(K))&&(0,i.A)(K).forEach(H=>{this.keyboardShortcutsMap[H]=F})}renderMenuItem(b,F){const B=this.onMouseEnterMenuItem.bind(this,F),{highlightedMenuItemIndex:K,highlightedMenuItemKbNavActive:H,isKeyboardHighlight:Y}=this.state,{onMenuItemSelectedBefore:Z,stripTerminalSeparators:V}=this.props;R(b)&&b.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[b.props.for]={key:b.props.for,"aria-labelledby":(0,A.$b)(b.props.for),"aria-owns":[],index:F});const ne={...b.props,onMouseEnter:B,key:F},q=this.menuItemHtmlId(F),{shortcut:me}=b.props;if(me&&this.registerKeyboardShortcutForMenuItem(me,q),E(b)||M(b)){const fe=K===F;if(ne.activeMenuId=q,fe&&Y){var ue,ae,le;(ae=(ue=this.ariaMenuNode)===null||ue===void 0?void 0:ue.querySelector(`#${ne.activeMenuId}`))===null||ae===void 0||(le=ae.scrollIntoView)===null||le===void 0||le.call(ae)}ne.menuCallbackBefore=Z,ne.menuCallback=this.onMenuItemSelected,ne.menuCallbackId||(ne.menuCallbackId=F),ne.highlighted=K===F,ne.isKeyboardHighlight=ne.highlighted&&Y,ne.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[ne.group]||(this.menuGroups[ne.group]={key:ne.group,"aria-owns":[],index:F}),this.menuGroups[ne.group]["aria-owns"].push(ne.activeMenuId))}if(M(b)&&(ne.isOpen=ne.highlighted&&!Y||ne.highlighted&&H,ne.kbNavActive=ne.highlighted&&H,ne.returnKBNav=this.activateKBNav,ne.preventHighlightChange=this.preventHighlightChange,ne.allowHighlightChange=this.allowHighlightChange),S(b)&&V)if(!this.menuChildren)(0,y.Wo)().warn("Menu.renderMenuItem called without this.menuChildren");else{const fe=this.menuChildren[F-1];if(S(fe))return null;ne.noFirstChild=!0,ne.noLastChild=!0}return t.cloneElement(b,ne)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(b=>b["aria-owns"].length>0).map(b=>({group:t.createElement(T,{key:b.key,"aria-labelledby":b["aria-labelledby"],"aria-owns":b["aria-owns"].join(" ")}),index:b.index})).sort((b,F)=>F.index-b.index):[]}renderMenuItems(){this.menuChildren=h(this.props.children).filter(t.isValidElement);const b=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(B=>{let{group:K,index:H}=B;b.splice(H,0,K)}),b}renderMenu(){const{noMargin:b,menuClassNames:F,"data-qa":B,isUnstyled:K,styleMode:H}=this.props,Y=o()("c-menu__items",{"c-menu__items--no_margin":b}),Z=this.state.highlightedMenuItemIndex!==-1?this.menuItemHtmlId(this.state.highlightedMenuItemIndex):null,V=o()({"c-menu":!K,"c-menu--alternate":H==="alternate"},F);return t.createElement("div",{className:V,"data-qa":B,style:{width:this.props.width}},t.createElement("div",{className:"c-menu__items_scroller"},t.createElement("div",{"aria-activedescendant":Z??void 0,ref:this.setAriaMenuRef,className:Y,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const b=this.renderMenu(),{autoClogProps:F}=this.props;return F?t.createElement(d.A,P({elementType:a.R.MENU},F),b):b}constructor(b){super(b),this.activeMenuId=`menu-${(0,v.A)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.menuGroups={},this.onMenuItemSelected=(F,B)=>{this.props.onMenuItemSelected&&this.props.onMenuItemSelected(F,B)},this.onMenuKeyDown=F=>{var B;const{kbNavActive:K,onMenuKeyDown:H,onCloseSubmenu:Y,onTriggerClose:Z,windowRef:V}=this.props;if(!K)return;const{key:ne}=F,q=U[ne],me=(B=this.keyboardShortcutsMap)===null||B===void 0?void 0:B[ne],ue=this.getSelectedMenuItem(),ae=ue?M(ue):!1,le=this.getAllMenuItemIndices();(q||me)&&(F.stopPropagation(),F.preventDefault()),(q==="selectnext"||q==="selectprevious")&&this.onMenuNavigation(q),q==="closesubmenu"&&(Y==null||Y(F)),(q==="select"||q==="opensubmenu")&&ae&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),q==="closemenu"&&(Z==null||Z(F)),q==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:le[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),q==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:le[le.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const fe=this.menuItemHtmlId(this.state.highlightedMenuItemIndex);if(q==="select"&&fe&&!ae){var he,ie;(ie=(he=V.deref())===null||he===void 0?void 0:he.document.getElementById(fe))===null||ie===void 0||ie.click(),Z==null||Z(F)}if(me){var X,j;(j=(X=V.deref())===null||X===void 0?void 0:X.document.getElementById(me))===null||j===void 0||j.click(),Z==null||Z(F)}H==null||H(F,{isCurrentItemSubmenu:ae,closeMenu:Z,selectedMenuItem:ue})},this.onMouseLeaveMenu=()=>{const F=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:F,contingentHighlightedMenuItemIndex:-1}))},this.setAriaMenuRef=F=>{this.ariaMenuNode=F},this.activateKBNav=()=>{var F;(F=this.ariaMenuNode)===null||F===void 0||F.focus(),this.setState(B=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:B.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):B.highlightedMenuItemIndex}))},this.allowHighlightChange=()=>{this.setState(F=>({highlightedMenuItemIndex:F.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()},this.preventHighlightChange=()=>{this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()},this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1}}},"Menu");W.defaultProps={menuClassNames:void 0,onMenuItemSelected:r.A,onMenuItemSelectedBefore:r.A,onTriggerClose:r.A,onCloseSubmenu:r.A,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:r.A,allowHighlightChange:r.A,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:r.A,onUnmount:r.A,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,styleMode:"default"},W.displayName="Menu";const x=(0,l.A)(W)},1963690015:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>o,KJ:()=>t,l0:()=>s});const t="_isSlackMenuItem";function s(n){return!!n&&n[t]===!0}_(s,"isMenuItem");function o(n){return n[t]=!0,n}_(o,"wrapMenuItem")},4376397139:(N,g,e)=>{"use strict";e.d(g,{j:()=>i,A:()=>a});var t=e(3134334389),s=e(6471059816),o=e(6105929840);const n=new s.Ay("generic_dialog");function c(l){let{onClick:d,...u}=l;return t.createElement(o.A,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:d,"aria-label":n.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"}),"data-qa":u["data-qa"]})}_(c,"ModalBackButton"),c.displayName="ModalBackButton";const i=t.memo(c);var r=e(1427522952);const a=r.A},1427522952:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7937864072),c=e(4979382452);function i(){return i=Object.assign||function(l){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l},i.apply(this,arguments)}_(i,"_extends");function r(l){let{defaultPane:d,panes:u,...f}=l;const m=(0,n.A)(),[h,v]=(0,t.useState)({pane:d}),p=(0,t.useCallback)((I,D)=>v({pane:I,props:D}),[]);var T;const{render:A,modalProps:C}=(T=u[h.pane])!==null&&T!==void 0?T:{};return A?t.createElement(c.A,i({},f,C,{className:o()(f.className,C==null?void 0:C.className,"c-multi_pane_modal")}),t.createElement(t.Fragment,{key:h.pane},A({...h.props,switchPane:p}))):(m.error("MULTI_PANE_MODAL",`Unknown pane "${h.pane}"`),null)}_(r,"MultiPaneModal"),r.displayName="MultiPaneModal";const a=r},7744706116:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(4094753332),s=e(6943667706),o=e(9391594207),n=e(7067820909);let c=_(l=>{var d;if(!(0,t.y3)()||!(0,t.cX)())return{};const u=(0,n.mt)(l);return(u==null||(d=u.darwin)===null||d===void 0?void 0:d.showScrollBars)!=="Always"?{}:{alwaysVisible:!0}},"mapStateToProps");Object.defineProperty({mapStateToProps:c},"mapStateToProps",{get:()=>c,set:l=>{c=l}});const a=(0,o.N)(c,null,null,{forwardRef:!0})(s.A)},5846524816:(N,g,e)=>{"use strict";e.d(g,{A:()=>b});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(3398586081),i=e(6966669095),r=e(4943209501),a=e(4426213732),l=e(4954329752),d=e(5841673352),u=e(3391133100),f=e(2660476100),m=e(3155323475),h=e(45851552),v=e(5404505308),p=e(6696292586),T=e(4348392507),A=e(6471059816),C=e(9359656550),I=e(8683010724);function D(){return D=Object.assign||function(F){for(var B=1;B<arguments.length;B++){var K=arguments[B];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(F[H]=K[H])}return F},D.apply(this,arguments)}_(D,"_extends");const y=new A.Ay("select");let P=_(class extends t.Component{componentDidMount(){const{focusOnMount:B=!1}=this.props;B&&this.onClick()}onKeyDown(B){const{shiftKey:K,ctrlKey:H,metaKey:Y,altKey:Z,key:V}=B;if(!(K||H||Y)){if(V==="Escape"&&!Z){this.onEsc(B);return}if(V===" "&&!Z){this.onSpacebar(B);return}if(V==="Enter"&&!Z){this.onEnter(B);return}if(V==="ArrowUp"&&Z){this.onAltArrowUp(B);return}if(V==="ArrowUp"&&!Z){this.onArrowUp(B);return}if(V==="ArrowDown"){this.onArrowDown(B);return}if(V==="Home"&&!Z){this.onHome(B);return}if(V==="End"&&!Z){this.onEnd(B);return}V==="Tab"&&!Z&&this.onTab()}}onEsc(B){const{selectState:K,setSelectState:H}=this.props,{isExpanded:Y}=K;Y&&(B.stopPropagation(),H(()=>({activeRowIndex:void 0,activeOption:void 0,initialActiveOption:void 0,isExpanded:!1})))}onArrowUp(B){const{selectState:K,setSelectState:H}=this.props,{isExpanded:Y,options:Z}=K;if(Y)return;B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition();const V=(0,h.A)(Z,q=>(0,C.oj)(q),0),ne=Z[V];H(()=>({initialActiveOption:ne,isExpanded:!0}))}onAltArrowUp(B){const{selectState:K}=this.props,{isExpanded:H}=K;if(!H)return;const Y=this.props.listRef.current;Y&&(B.stopPropagation(),B.preventDefault(),Y.onEnter(B))}onArrowDown(B){const{selectState:K,setSelectState:H}=this.props,{isExpanded:Y}=K;Y||(B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition(),H(()=>({isExpanded:!0})))}onHome(B){const{selectState:K,setSelectState:H}=this.props,{isExpanded:Y,options:Z}=K;if(Y)return;B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition();const V=(0,h.A)(Z,q=>(0,C.oj)(q),0),ne=Z[V];H(()=>({initialActiveOption:ne,isExpanded:!0}))}onEnd(B){const{selectState:K,setSelectState:H}=this.props,{isExpanded:Y,options:Z}=K;if(Y)return;B.preventDefault(),B.stopPropagation(),this.updateOptionsListPosition();const V=(0,v.A)(Z,q=>(0,C.oj)(q)),ne=Z[V];H(()=>({initialActiveOption:ne,isExpanded:!0}))}onEnter(B){const{selectState:K}=this.props,{isExpanded:H}=K;H||(B.stopPropagation(),this.onClick())}onSpacebar(B){const{selectState:K}=this.props,{isExpanded:H}=K;H||(B.preventDefault(),B.stopPropagation(),this.onClick())}onTab(){const{setSelectState:B}=this.props;B(()=>({isExpanded:!1}))}onClick(){const{onClick:B=n.A,setSelectState:K,selectState:H}=this.props;this.updateOptionsListPosition(),B&&B(),K(()=>({isExpanded:!H.isExpanded}))}updateOptionsListPosition(){const{selectState:B}=this.props,{isExpanded:K}=B;if(!K&&this.measurePopoverEvent){var H;(H=this.props.windowRef.deref())===null||H===void 0||H.dispatchEvent(this.measurePopoverEvent)}}renderContent(B){const{renderSelectedOption:K,selectState:H,textSelect:Y=!1,textSelectLabel:Z=void 0,selectDataQa:V=void 0,placeholderText:ne=void 0}=this.props,{selectedOption:q}=H,me=q?K(q):t.createElement("span",{className:"c-select_button__placeholder"},ne||y.t("Please select an option")),ue=Y&&Z?t.createElement("span",{className:"c-select_button--text-select-label"},Z):void 0;return t.createElement("div",{id:B,"data-qa":V?`${V}-button-content`:null,className:"c-select_button__content",role:"none"},ue,me)}render(){const{ariaLabelledBy:B=void 0,ariaDescribedBy:K=void 0,ariaLabel:H=void 0,ariaControls:Y=void 0,selectState:Z,size:V,width:ne,textSelect:q=!1,selectDataQa:me=void 0,classPrefix:ue=void 0,onFocus:ae=n.A,onBlur:le=n.A,onMouseEnter:fe=void 0,onMouseLeave:he=void 0,refToForward:ie}=this.props,{isDisabled:X,isExpanded:j,isInvalid:w,selectId:Q,activeRowIndex:G}=Z,J=o()("c-select_button",`c-select_button--${V}`,{"c-select_button--disabled":X,"c-select_button--expanded":j,"c-select_button--text-select":q,"c-select_button--invalid":w,[`${ue}__select_button`]:ue}),te=q?{}:{width:ne},se=(0,u.Es)(Q,"button"),ce=`${se}-option`,Ee=(0,p.A)(G)&&j?(0,u.Es)(Q,`option_${G}`):void 0;return t.createElement("div",{tabIndex:0,className:J,style:te,"data-qa":me?`${me}-button`:null,id:se,ref:ie,role:"combobox","aria-disabled":X?!0:void 0,"aria-labelledby":B,"aria-describedby":K,"aria-label":H,"aria-invalid":w,"aria-activedescendant":Ee,"aria-expanded":j,"aria-haspopup":"listbox","aria-controls":Y,onFocus:ae,onBlur:le,onMouseEnter:fe,onMouseLeave:he,onClick:this.onClick,onKeyDown:this.onKeyDown},this.renderContent(ce),t.createElement("div",{className:`c-select_button__icon c-select_button__icon--${V}`},t.createElement(I.A,{name:"caret-down",size:V===d.hu.SMALL?"inherit":"20"})))}constructor(B){super(B),(0,a.v)(this,["updateOptionsListPosition","onKeyDown","onClick"]);const{measurePopoverEventName:K=null}=this.props;K&&(this.measurePopoverEvent=new Event(K))}},"SelectButton");P.displayName="SelectButton";const E=(0,T.A)(P),M=t.forwardRef((F,B)=>t.createElement(E,D({},F,{refToForward:B})));var S=e(4640201401),R=e(3650946343);function k(){return k=Object.assign||function(F){for(var B=1;B<arguments.length;B++){var K=arguments[B];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(F[H]=K[H])}return F},k.apply(this,arguments)}_(k,"basic_select_extends");const O=10,U={onOptionSelected:{action:i.l.SELECT}},W=_(F=>F.map(B=>{let{id:K}=B;return K}),"getIdsFromHintOrErrors");let x=_(class extends t.Component{onHome(B){const K=this.listRef.current;if(!K||(K.isMouseMoveEnabled=!1,!K.shouldInterceptKeyEvent(B)))return;const{isExpanded:H}=this.props.selectState;H&&B.preventDefault(),K.movePrevious(0)}onEnd(B){const K=this.listRef.current;if(!K||(K.isMouseMoveEnabled=!1,!K.shouldInterceptKeyEvent(B)))return;const{isExpanded:H}=this.props.selectState;H&&B.preventDefault();const Y=K.getOptionsList();if(!Y)return;const Z=Y.length-1;K.moveNext(Z)}onPageUp(B){const K=this.listRef.current;if(!K||(K.isMouseMoveEnabled=!1,!K.shouldInterceptKeyEvent(B)))return;const{isExpanded:H,activeRowIndex:Y}=this.props.selectState;H&&B.preventDefault();const Z=Y?Math.floor(Y/O):0,V=Z>1?(Z-1)*O:0;K.movePrevious(V)}onPageDown(B){const K=this.listRef.current;if(!K||(K.isMouseMoveEnabled=!1,!K.shouldInterceptKeyEvent(B)))return;const{activeRowIndex:H,isExpanded:Y}=this.props.selectState;Y&&B.preventDefault();const Z=K.getOptionsList();if(!Z)return;const V=Z.length,ne=Math.ceil(V/O),q=H?Math.floor(H/O):0,me=q===ne-1?V-1:(q+1)*O;K.moveNext(me)}renderOptionsList(){const{ariaLabel:B,onOptionSelected:K,onOptionsListClose:H,renderOption:Y,resultsInPopover:Z,overlayClassName:V,listClassName:ne,selectState:q,setSelectState:me,width:ue,classPrefix:ae,minOptionsListWidth:le,optionsRowHeight:fe,maxListHeight:he,onScrollablePage:ie,dynamicHeight:X,forceMaxHeight:j,includePadding:w,includeDividers:Q,preventScroll:G,autoClogProps:J}=this.props,{isDisabled:te}=q;if(te)return null;const se=Z?t.createElement(S.A,{selectOptionsListRef:this.listRef,className:ne,selectState:q,setSelectState:me,renderOption:Y,ariaLabel:B,onOptionSelected:K,onOptionsListClose:H,width:ue,inputRef:this.triggerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:ae,selectDataQa:this.fallbackDataQa,minOptionsListWidth:le,optionsRowHeight:fe,popoverProps:V?{overlayClassName:V}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:he,onScrollablePage:ie,dynamicHeight:X,forceMaxHeight:j,includePadding:w,includeDividers:Q,preventScroll:G,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0}):t.createElement(C.Ay,{ref:this.listRef,className:ne,selectState:q,setSelectState:me,renderOption:Y,ariaLabel:B,onOptionSelected:K,onOptionsListClose:H,width:ue,inputRef:this.triggerRef,classPrefix:ae,selectDataQa:this.fallbackDataQa,optionsRowHeight:fe,maxListHeight:he,shouldAlwaysHaveActiveRow:!0,dynamicHeight:X,forceMaxHeight:j,includePadding:w,includeDividers:Q,preventScroll:G,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0});return J?t.createElement(r.A,{autoClogProps:J,actionProps:U,elementType:i.R.DROPDOWN},se):se}render(){const{resultsInPopover:B,selectState:K,setSelectState:H,className:Y,textSelect:Z,textSelectLabel:V,focusOnMount:ne,onFocus:q,onBlur:me,ariaLabel:ue,ariaLabelledBy:ae,ariaDescribedBy:le,buttonRef:fe,errors:he,hints:ie,size:X,renderSelectedOption:j}=this.props,{isExpanded:w,isInvalid:Q,selectId:G}=K,J=(0,R.A)(he),te=(0,R.A)(ie);let se;he&&(se=J?W(he):void 0);let ce;ie&&(ce=te?W(ie):void 0);const Ee=(0,u.Yk)([le,se,ce]);return t.createElement("div",{className:o()(Y,"c-basic-select"),"data-qa":this.fallbackDataQa},t.createElement(M,k({},this.props,{size:X,renderSelectedOption:j,selectDataQa:this.fallbackDataQa,selectState:K,setSelectState:H,measurePopoverEventName:B?this.measurePopoverEventName:void 0,textSelect:Z,textSelectLabel:V,focusOnMount:ne,onFocus:q,onBlur:me,ariaLabel:ue,ariaLabelledBy:ae,ariaDescribedBy:Ee,"aria-invalid":Q},w?{ariaControls:(0,u.Es)(G,"listbox")}:{},{ref:(0,l.P)(this.triggerRef,fe),listRef:this.listRef})),J&&he&&t.createElement(m.A,{errors:he}),te&&ie&&ie.map(re=>{let{id:_e,message:ve}=re;return t.createElement(f.A,{key:_e,id:_e},ve)}),this.renderOptionsList())}constructor(B){super(B),(0,a.v)(this,["renderOptionsList","onHome","onEnd","onPageUp","onPageDown"]),this.triggerRef=t.createRef(),this.listRef=t.createRef();const{selectId:K}=B.selectState;this.measurePopoverEventName=`measureSelectPopover--${K}`,this.fallbackDataQa=B.selectDataQa||K,this.keyCommandShortcuts=[{keys:["home"],handler:this.onHome},{keys:["end"],handler:this.onEnd},{keys:["pageup"],handler:this.onPageUp},{keys:["pagedown"],handler:this.onPageDown}]}},"ControlledBasicSelect");x.defaultProps={renderOption:F=>F.label,renderSelectedOption:F=>F.label,size:d.hu.MEDIUM,width:225,optionsRowHeight:d.bJ,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:n.A,onOptionSelected:n.A,onOptionsListClose:n.A,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onFocus:n.A,onBlur:n.A,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0},x.displayName="ControlledBasicSelect";let L=_(class extends t.Component{static getDerivedStateFromProps(B,K){const{selectedOption:H}=B,{selectedOption:Y}=K;return!Y||H!==void 0&&H!==Y?{selectedOption:H}:null}setSelectState(B,K){return this.setState(B,K)}render(){const{isDisabled:B,isInvalid:K,isRequired:H,errors:Y}=this.props,Z=K||(0,R.A)(Y),V=(0,c.A)(()=>({...this.state,isDisabled:B,isInvalid:Z,isRequired:H}));return t.createElement(x,k({},this.props,{selectState:V(),setSelectState:this.setSelectState}))}constructor(B){super(B),this.state={activeRowIndex:void 0,isDisabled:B.isDisabled,isExpanded:B.isExpanded,isInvalid:B.isInvalid,isRequired:B.isRequired,options:B.options,selectId:B.selectId,selectedOption:B.selectedOption,selectType:d.US.BASIC},(0,a.v)(this,["setSelectState"])}},"BasicSelect");L.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:n.A,onOptionsListClose:n.A,selectedOption:void 0,selectId:`basic-select-${(0,u.r9)()}`,maxListHeight:void 0,autoClogProps:void 0},L.displayName="BasicSelect";const b=L},5536692738:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>c,HH:()=>o.A,P2:()=>n.A,Z1:()=>s.A});var t=e(5846524816),s=e(2727264612),o=e(8274994582),n=e(320706952);const c=t.A},7090824688:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>M,Gn:()=>S,xn:()=>R,yW:()=>P});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(3398586081),i=e(6966669095),r=e(4943209501),a=e(4426213732),l=e(5841673352),d=e(3391133100),u=e(2660476100),f=e(3155323475),m=e(868047630),h=e(9359656550),v=e(4640201401),p=e(5185985254),T=e(2742076544),A=e(3650946343),C=e(7772530643);function I(){return I=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},I.apply(this,arguments)}_(I,"_extends");const D={onOptionSelected:{action:i.l.SELECT}},y=_(k=>k.map(O=>{let{id:U}=O;return U}),"getIdsFromHintOrErrors");let P=_(class extends t.Component{renderOptionsList(O){var U;const{selectState:W,setSelectState:x,renderOption:L,emptyStateMessage:b,enableLoadingState:F,width:B,maxOptionsListHeight:K,minOptionsListWidth:H,inputRef:Y,resultsInPopover:Z,includeWrapper:V,isLoading:ne,classPrefix:q,optionsRowHeight:me,onOptionsListOpen:ue,onOptionsListClose:ae,overlayClassName:le,onScrollablePage:fe,onOptionSelected:he,shouldOptionBeSelected:ie,shouldTokenizeOnComma:X,shouldTokenizeOnSpace:j,autoClogProps:w,dynamicHeight:Q,shouldAllowUnselectInMultiSelectMode:G,stayExpandedAfterSelection:J,optionsListFooterBannerContent:te,offsetY:se,offsetX:ce}=this.props,{isDisabled:Ee,loadInBackground:de}=W;if(Ee)return null;const re={key:`${W.selectId}-popover`};le&&(re.overlayClassName=le),se&&(re.offsetY=se);const _e=(U=this.additionalInfoContainerRef)===null||U===void 0?void 0:U.current;O&&_e&&(re.offsetY=-_e.offsetHeight),ce&&(re.offsetX=ce);const ve=Z?t.createElement(v.A,{selectState:W,setSelectState:x,renderOption:L,emptyStateMessage:b,enableLoadingState:F,width:B,maxListHeight:K,multiSelectMode:!0,inputRef:Y,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:ne&&!de,classPrefix:q,selectDataQa:this.fallbackDataQa,optionsRowHeight:me,onOpen:ue,onOptionsListClose:ae,popoverProps:re,onScrollablePage:fe,onOptionSelected:he,shouldOptionBeSelected:ie,shouldTokenizeOnComma:X,shouldTokenizeOnSpace:j,autoClogProps:w,dynamicHeight:Q,shouldAllowUnselectInMultiSelectMode:G,stayExpandedAfterSelection:J,footerBannerContent:te,minOptionsListWidth:H,includeWrapper:V}):t.createElement(h.Ay,{selectState:W,setSelectState:x,renderOption:L,emptyStateMessage:b,enableLoadingState:F,width:B,maxListHeight:K,multiSelectMode:!0,classPrefix:q,selectDataQa:this.fallbackDataQa,optionsRowHeight:me,onOptionsListClose:ae,onOptionSelected:he,shouldOptionBeSelected:ie,shouldTokenizeOnComma:X,shouldTokenizeOnSpace:j,dynamicHeight:Q,footerBannerContent:te,includeWrapper:V});return w?t.createElement(r.A,{elementType:i.R.DROPDOWN,actionProps:D,autoClogProps:w},ve):ve}render(){const{selectState:O,setSelectState:U,inputRef:W,maxHeight:x,placeholderText:L,size:b,width:F,isLoading:B,focusOnMount:K,resultsInPopover:H,onSelectedItemsChange:Y,onKeyDown:Z,onKeyUp:V,className:ne,classPrefix:q,onFilterQueryChange:me,onFilterQueryPaste:ue,processOptions:ae,onBlur:le,onOptionsListClosedBlur:fe,onOptionsListClose:he,expandOnFocus:ie,ariaLabel:X,ariaLabelledBy:j,ariaDescribedBy:w,onTokenSelect:Q,onInputFocused:G,forceRealName:J,autoClogProps:te,errors:se,hints:ce,disableIdParsing:Ee,customizeTokenProps:de,iconType:re,isTokenEditable:_e,ignoreSelectAllTokensAfterMount:ve,disableCloseOnTab:ge,throttleForceRenderSelectContainer:Le,forceRenderSelectContainerThrottleRate:ke,allowFileToken:Ke}=this.props;let Ne;se&&(Ne=(0,A.A)(se));let Re;ce&&(Re=(0,A.A)(ce));let xe;se&&(xe=Ne?y(se):void 0);let We;ce&&(We=Re?y(ce):void 0);const $=(0,d.Yk)([w,xe,We]),ee=!!(Ne&&se||Re&&ce);return t.createElement("div",{className:o()(ne,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(m.A,{selectState:O,setSelectState:U,size:b,width:F,maxHeight:x,placeholderText:L,isLoading:B,inputRef:W,focusOnMount:K,measurePopoverEventName:H&&this.measurePopoverEventName,onSelectedItemsChange:Y,selectDataQa:this.fallbackDataQa,onKeyDown:Z,onKeyUp:V,classPrefix:q,onFilterQueryChange:me,onFilterQueryPaste:ue,processOptions:ae,onBlur:le,onOptionsListClosedBlur:fe,onOptionsListClose:he,expandOnFocus:ie,ariaLabel:X,ariaLabelledBy:j,ariaDescribedBy:$,onTokenSelect:Q,onInputFocused:G,forceRealName:J,autoClogProps:te,customizeTokenProps:de,iconType:re,disableIdParsing:Ee,isTokenEditable:_e,ignoreSelectAllTokensAfterMount:ve,disableCloseOnTab:ge,throttleForceRenderSelectContainer:Le,forceRenderSelectContainerThrottleRate:ke,allowFileToken:Ke}),t.createElement("div",{className:"flow_root",ref:this.additionalInfoContainerRef},Ne&&se&&t.createElement(f.A,{errors:se}),Re&&ce&&ce.map(Ve=>{let{id:ze,message:st,className:Ge}=Ve;return t.createElement(u.A,{key:ze,id:ze,className:Ge},st)})),this.renderOptionsList(ee))}constructor(O){super(O),(0,a.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef(),this.additionalInfoContainerRef=t.createRef();const{selectId:U}=O.selectState;this.measurePopoverEventName=`measureSelectPopover--${U}`,this.fallbackDataQa=O.selectDataQa||U}},"ControlledMultiSelect");P.defaultProps={renderOption:k=>k.label,size:l.hu.MEDIUM,width:300,optionsRowHeight:l.bJ,maxHeight:void 0,maxOptionsListHeight:void 0,minOptionsListWidth:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:n.A,onKeyDown:n.A,onKeyUp:n.A,className:void 0,classPrefix:void 0,onFilterQueryChange:n.A,onFilterQueryPaste:n.A,processOptions:n.A,onBlur:n.A,onOptionsListClosedBlur:n.A,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:n.A,onInputFocused:n.A,forceRealName:void 0,onOptionsListOpen:n.A,onOptionsListClose:n.A,onScrollablePage:!1,onOptionSelected:n.A,shouldOptionBeSelected:n.A,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0},P.displayName="ControlledMultiSelect";let E=_(class extends t.Component{setSelectState(O,U){this.setState(W=>{let x=O();const{filter:L,options:b}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==W.filterQuery&&L&&(x=L(b,x)),x},U)}render(){const{isDisabled:O,isInvalid:U,isRequired:W,customControlledMultiSelectComponent:x,errors:L}=this.props,b=U||(0,A.A)(L),F=x??P,B=(0,c.A)(()=>({...this.state,isDisabled:O,isInvalid:b,isRequired:W}));return t.createElement(F,I({},this.props,{selectState:B(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(O){super(O),this.state={filterQuery:"",options:O.options,isDisabled:O.isDisabled,isExpanded:O.isExpanded,isInvalid:O.isInvalid,isRequired:O.isRequired,selectId:O.selectId,selectedOptions:O.selectedOptions||[],shouldRefocusInputAfterSelection:!!O.showConfirmDialog,selectedTokenIndexes:O.selectedTokenIndexes||[]},this.inputRef=t.createRef(),(0,a.v)(this,["setSelectState"])}},"MultiSelect");E.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:C.k,selectId:`multi-select-${(0,d.r9)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]},E.displayName="MultiSelect";const M=E,S=(0,p.A)(P),R=(0,T.A)(P)},630868093:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>S,Fw:()=>E,JJ:()=>P,mH:()=>R});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(3398586081),i=e(6966669095),r=e(4943209501),a=e(4426213732),l=e(5841673352),d=e(3391133100),u=e(2660476100),f=e(3155323475),m=e(581574686),h=e(9359656550),v=e(4640201401),p=e(5185985254),T=e(2742076544),A=e(3650946343),C=e(7772530643);function I(){return I=Object.assign||function(k){for(var O=1;O<arguments.length;O++){var U=arguments[O];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(k[W]=U[W])}return k},I.apply(this,arguments)}_(I,"_extends");const D={onOptionSelected:{action:i.l.SELECT}},y=_(k=>k.map(O=>{let{id:U}=O;return U}),"getIdsFromHintOrErrors");let P=_(class extends t.Component{maybeRenderOptionsList(){const{selectState:O,setSelectState:U,renderOption:W,width:x,inputRef:L,ariaLabel:b,resultsInPopover:F,overlayClassName:B,offsetY:K,offsetX:H,onOptionSelected:Y,className:Z,classPrefix:V,optionsRowHeight:ne,onOpen:q,emptyStateMessage:me,minOptionsListWidth:ue,maxOptionsListHeight:ae,isLoading:le,onOptionsListClose:fe,onScrollablePage:he,enableLoadingState:ie,autoClogProps:X,shouldAllowUnselectInSingleSelectMode:j,shouldOptionBeSelected:w,optionsListFooterBannerContent:Q,includeWrapper:G=!0}=this.props;if(F&&(!this.props.inputRef||!this.props.inputRef.current))return null;const J={key:`${O.selectId}-popover`};B&&(J.overlayClassName=B),K&&(J.offsetY=K),H&&(J.offsetX=H);const te=F?t.createElement(v.A,{selectState:O,setSelectState:U,renderOption:W,width:x,inputRef:L,ariaLabel:b,onOptionSelected:Y,popoverProps:J,measurePopoverEventName:this.measurePopoverEventName,className:Z,classPrefix:V,selectDataQa:this.fallbackDataQa,optionsRowHeight:ne,onOpen:q,emptyStateMessage:me,minOptionsListWidth:ue,maxListHeight:ae,isLoading:le,onOptionsListClose:fe,onScrollablePage:he,enableLoadingState:ie,autoClogProps:X,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:j,shouldOptionBeSelected:w,footerBannerContent:Q,includeWrapper:G}):t.createElement(h.Ay,{selectState:O,setSelectState:U,renderOption:W,width:x,inputRef:L,ariaLabel:b,onOptionSelected:Y,classPrefix:V,selectDataQa:this.fallbackDataQa,emptyStateMessage:me,maxListHeight:ae,optionsRowHeight:ne,onOptionsListClose:fe,enableLoadingState:ie,shouldAllowUnselectInSingleSelectMode:j,shouldOptionBeSelected:w,footerBannerContent:Q,includeWrapper:G});return t.createElement(r.A,{elementType:i.R.DROPDOWN,actionProps:D,autoClogProps:X},te)}render(){const{renderSelectedOption:O,className:U,classPrefix:W,placeholderText:x,size:L,width:b,selectState:F,setSelectState:B,inputRef:K,focusOnMount:H,showDropdownIcon:Y,isLoading:Z,resultsInPopover:V,isDisabled:ne,isRequired:q,onFocus:me,onEsc:ue,ariaLabelledBy:ae,ariaDescribedBy:le,inputIcon:fe,maxCharacterLimit:he,onOptionsListClose:ie,ariaLabel:X,expandOnClick:j,searchOnClick:w,autoClogProps:Q,errors:G,hints:J,expandOnFocus:te,hideSelectedOptionOnDropdownOpen:se,retainPreviousSelectionOnDelete:ce}=this.props,{isInvalid:Ee}=F,de=(0,A.A)(G),re=(0,A.A)(J);let _e;G&&(_e=de?y(G):void 0);let ve;J&&(ve=re?y(J):void 0);const ge=(0,d.Yk)([le,_e,ve]),Le=Ee||de;return t.createElement("div",{className:o()(U,"c-search-select"),"data-qa":this.fallbackDataQa},t.createElement(m.Ay,{selectState:{...F,isInvalid:Le,isRequired:q,isDisabled:ne},setSelectState:B,renderSelectedOption:O,placeholderText:x,size:L,width:b,selectDataQa:this.fallbackDataQa,inputRef:K,focusOnMount:H,showDropdownIcon:Y,isLoading:Z,resultsInPopover:V,measurePopoverEventName:V?this.measurePopoverEventName:void 0,classPrefix:W,onBlur:this.onBlur,onFocus:me,onEsc:ue,"aria-label":X,ariaLabelledBy:ae,ariaDescribedBy:ge,icon:fe,maxCharacterLimit:he,onOptionsListClose:ie,expandOnClick:j,autoClogProps:Q,searchOnClick:w,expandOnFocus:te,hideSelectedOptionOnDropdownOpen:se,retainPreviousSelectionOnDelete:ce}),de&&G&&t.createElement(f.A,{errors:G}),re&&J&&J.map(ke=>{let{id:Ke,message:Ne,className:Re}=ke;return Ne&&t.createElement(u.A,{key:Ke,id:Ke,className:Re},Ne)}),this.maybeRenderOptionsList())}constructor(O){super(O),this.onBlur=W=>{if(this.dropdownContainer){const x=this.dropdownContainer.current;if(x&&x.contains(W.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(W)};const{selectId:U}=O.selectState;this.measurePopoverEventName=`measureSelectPopover--${U}`,this.fallbackDataQa=O.selectDataQa||U,this.dropdownContainer=t.createRef()}},"ControlledSearchSelect");P.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:k=>k.label,renderSelectedOption:k=>k.label,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,size:l.hu.MEDIUM,width:360,optionsRowHeight:l.bJ,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:n.A,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:n.A,onFocus:n.A,onEsc:n.A,onOpen:n.A,onOptionsListClose:n.A,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:n.A,isInvalidStateControlled:!1,shouldRefocusInputAfterSelection:void 0},P.displayName="ControlledSearchSelect";const E=(0,p.A)(P);let M=_(class extends t.Component{setSelectState(O,U){this.setState(W=>{let x=O();const{filter:L,options:b}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==W.filterQuery&&L&&(x=L(b,x)),x},U)}render(){const{isRequired:O,isInvalid:U,isDisabled:W,showConfirmDialog:x}=this.props,L=x?E:P,b=(0,c.A)(()=>({...this.state,isInvalid:U,isRequired:O,isDisabled:W}));return t.createElement(L,I({},this.props,{selectState:b(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(O){super(O),this.state={filterQuery:"",displayQuery:"",options:O.options,selectId:O.selectId,isExpanded:O.isExpanded,isInvalid:O.isInvalid,isDisabled:O.isDisabled,selectedOption:O.selectedOption,shouldRefocusInputAfterSelection:O.shouldRefocusInputAfterSelection},this.inputRef=this.props.inputRef?this.props.inputRef:t.createRef(),(0,a.v)(this,["setSelectState"])}},"SearchSelect");M.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:C.k,onOptionSelected:n.A,selectId:`search-select-${(0,d.r9)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0},M.displayName="SearchSelect";const S=M,R=(0,T.A)(P)},2727264612:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(441565466),o=e(6471059816),n=e(3708320478),c=e(6044196829),i=e(8683010724);const r=new o.Ay("form_inputs"),a=_(d=>{let{onCtaClick:u,errorCopy:f,ctaCopy:m}=d;const h=(0,s.A)();return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.createElement(i.A,{name:"warning",inline:!0})),t.createElement("span",null,t.createElement(n.z,{uuid:h,deferBy:100},f||r.t("Selected entries contain errors.")),t.createElement(c.A,{onClick:u,className:"margin_left_25"},m||r.t("Delete all errors"))))},"MultiSelectErrorText");a.displayName="MultiSelectErrorText";const l=a},868047630:(N,g,e)=>{"use strict";e.d(g,{A:()=>W});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8571983633),c=e(6696292586),i=e(3398586081),r=e(5950652755),a=e(7715417323),l=e(6966669095),d=e(4348392507),u=e(4943209501),f=e(1545824888),m=e(4426213732),h=e(4094753332),v=e(4757466470),p=e(1396760875),T=e(5841673352),A=e(6308822),C=e(5797272849),I=e(3391133100),D=e(1610251172),y=e(561151542);function P(){return P=Object.assign||function(x){for(var L=1;L<arguments.length;L++){var b=arguments[L];for(var F in b)Object.prototype.hasOwnProperty.call(b,F)&&(x[F]=b[F])}return x},P.apply(this,arguments)}_(P,"_extends");const E={onChange:{action:l.l.ENTER_TEXT}},M={onClick:{action:l.l.CLICK}},S=new Array(95).fill("").map((x,L)=>String.fromCharCode(L+32)),R=_(x=>t.createElement("span",P({className:"c-multi_select_input__space"},x),"\xA0"),"makeSpace"),k=1e3,O={leading:!0,trailing:!1};let U=_(class extends t.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(L){var b;const F=L.selectState,{selectState:B,onTokenSelect:K,onSelectedItemsChange:H,setSelectState:Y,hasKeyboardFocus:Z,isTokenEditable:V}=this.props,{selectedOptions:ne,isExpanded:q,isDisabled:me}=B,ue=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&L.focusOnMount!==this.props.focusOnMount&&this.focus(),((b=B.filterQuery)===null||b===void 0?void 0:b.length)&&B.filterQuery!==F.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(F),this.haveSelectedTokens()&&!(0,v.Ay)(F.selectedTokenIndexes,ue)&&ne&&(ue==null||ue.forEach(ie=>{K&&K(ne[ie])}),q&&Y(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),F.isDisabled&&!me&&this.moveCursorAndScrollToFilterQuery(),!(0,v.Ay)(F.selectedOptions,ne,3)){if(H&&typeof ne<"u"){if(V){var fe;const{isCurrentlyEditingToken:ie}=this.state;if((((fe=F.selectedOptions)===null||fe===void 0?void 0:fe.length)||0)<ne.length){if(ie){const X=ne.pop();X&&ne.splice(this.state.editTokenIndex,0,X),this.setTokenState(!1,0)}}else ie&&ne.length===0&&this.setTokenState(!1,0)}H(ne)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),Z&&!L.hasKeyboardFocus&&(0,n.A)(B.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(L){const{selectState:b,setSelectState:F,hideFilterQueryOnBlur:B,onBlur:K,onOptionsListClosedBlur:H}=this.props,{selectedOptions:Y,filterQuery:Z,isExpanded:V}=b,ne=B&&Z&&!V;this.setState(()=>({focused:!1})),this.deselectAllTokens(),ne&&F(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,K&&K(L,Y),!V&&H&&H()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(L,b){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:L,editTokenIndex:b}))}onFilterQueryChanged(){const{setSelectState:L,selectState:b,onFilterQueryChange:F}=this.props,B=this.filterQueryRef.current,K=B==null?void 0:B.textContent,H=b.filterQuery!==K;if(this.backspaceWasPressed&&!H){this.backspaceWasPressed=!1;return}const Y=K?K.length>0:!1;this.saveCaretPosInFilterQuery(),L(()=>({filterQuery:K,isExpanded:Y})),F&&F(K)}onFocus(L){this.setState(()=>({focused:!0}));const{expandOnFocus:b,onInputFocused:F,setSelectState:B,onFocus:K}=this.props;b&&B(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),F&&F(L),this.mouseDownOnToken=!1,K&&K(L)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){var L;const b=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection(),F=b==null?void 0:b.getRangeAt(0),B=this.getTokensAsArray(),{selectState:K}=this.props,{filterQuery:H}=K,Y=B.reduce((ae,le,fe)=>b!=null&&b.containsNode(le)?[...ae,fe]:ae,[]),Z=Y.length>0;if(!H&&!Z&&!(b!=null&&b.isCollapsed)){this.ignoreSelectionChange=!0,b==null||b.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!Z){var V;this.ignoreSelectionChange=!0,F==null||F.setStartBefore((V=this.filterQueryRef.current)===null||V===void 0?void 0:V.firstChild);return}const ne=Y[0],q=Y[Y.length-1],me=B[ne],ue=B[q];if(!H&&Z){this.ignoreSelectionChange=!0,F==null||F.setStartBefore(me),this.ignoreSelectionChange=!0,F==null||F.setEndAfter(ue),this.setSelectedTokenIndexes(Y);return}this.isEntireFilterQuerySelected()&&Z&&(this.ignoreSelectionChange=!0,F==null||F.setStartBefore(me),this.setSelectedTokenIndexes(Y))}onSelectionChange(){var L;if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const b=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();let F=null;if(b){const{type:B}=b;F=B}F==="Caret"&&this.onCaretSelectionChange(),F==="Range"&&this.onRangeSelectionChange()}onKeyDown(L){if(this.state.composing)return;const{key:b,ctrlKey:F,metaKey:B,altKey:K,shiftKey:H}=L,{selectState:Y,onKeyDown:Z}=this.props,V=(0,h.cX)()?B:F,ne=b==="Delete"&&((0,h.cX)()&&K||(0,h.uF)()&&V);(b==="Backspace"||ne)&&this.onBackspace(L),!ne&&b==="Delete"&&this.onDelete(L),b==="Escape"&&this.onEscape(L),(b==="Home"||B&&!H&&b==="ArrowLeft"||B&&!H&&b==="ArrowUp")&&this.onHome(L),(b==="End"||B&&!H&&b==="ArrowRight"||B&&!H&&b==="ArrowDown")&&this.onEnd(L),!B&&b==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(L)),!B&&b==="ArrowRight"&&this.onRightArrow(L),b==="Tab"&&this.onTab(L),(b==="ArrowUp"||b==="ArrowDown")&&L.preventDefault(),b==="Enter"&&L.preventDefault(),!V&&S.includes(b)&&this.onCharacterKey(),Z&&Z(L,{hasActiveRowIndex:(0,c.A)(Y.activeRowIndex),isExpanded:!!Y.isExpanded})}onHome(L){L.preventDefault();const{selectState:b}=this.props,{selectedOptions:F}=b;F!=null&&F.length?this.setSelectedTokenIndexes([0],{initiator:L.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(L){L.preventDefault();const{selectState:b}=this.props,{selectedTokenIndexes:F}=b;F!=null&&F.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(L){const{selectState:b,onKeyUp:F}=this.props,B=this.getSelectedTokenIndexes(),K=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(B!=null&&B.length)&&(this.selectTextInNode(K[B[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),F&&F(L,{hasActiveRowIndex:(0,c.A)(b.activeRowIndex)})}onInputContainerMouseDown(L){L.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(L){if(!L||!L.clipboardData)return;const{selectState:b}=this.props,{filterQuery:F}=b,{onFilterQueryPaste:B,setSelectState:K}=this.props;L.preventDefault();const H=L.clipboardData.getData("text"),Y=this.caretPosInFilterQuery||0,Z=F||"",V=(F==null?void 0:F.length)||0,ne=Y<=V?Y:V,q=Z.slice(0,ne)+H+Z.slice(ne);K(()=>({filterQuery:q})),B&&B(L)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:L}=this.props,{selectState:b}=this.props,{filterQuery:F,selectedOptions:B}=b,K=this.getSelectedTokenIndexes(),H=B==null?void 0:B.filter((V,ne)=>(K==null?void 0:K.indexOf(ne))===-1),Y=this.getSelectedFilterQueryText(),Z=F==null?void 0:F.replace(Y,"");L(()=>({selectedOptions:H,selectedTokenIndexes:[],filterQuery:Z})),this.moveCursorToFilterQuery()}onBackspace(L){const{setSelectState:b}=this.props,{selectState:F,isTokenEditable:B}=this.props,{filterQuery:K}=F;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!K)){L.preventDefault(),b(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(B&&(K==null?void 0:K.length)===1){L.preventDefault(),b(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){L.preventDefault(),b(()=>({filterQuery:"",isExpanded:!1}));return}const Y=this.getTokensAsArray().length,Z=this.getSelectedTokenIndexes(),V=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,V&&Y===0){L.preventDefault();return}if(!V&&!this.haveSelectedTokens()&&K)return;if(L.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([Y-1],{initiator:L.type});return}Z==null||Z.forEach(ue=>{this.removeToken(ue,"backspaceKey")});const ne=Z&&Z[0],q=ne===0;let me=null;ne&&(me=q?[0]:[ne-1]),me!=null&&me.length&&this.setSelectedTokenIndexes(me,{initiator:L.type})}onDelete(L){const{setSelectState:b}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){L.preventDefault(),b(()=>({filterQuery:"",isExpanded:!1}));return}const B=this.getTokensAsArray().length,K=this.getSelectedTokenIndexes();if(B===0||!this.haveSelectedTokens()||(L.preventDefault(),K==null||K.forEach(V=>{this.removeToken(V,"deleteKey")}),!(K!=null&&K.length)))return;const Y=K[K.length-1]===B-1,Z=(K==null?void 0:K.length)===B;(Y||Z)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(L){const{selectState:b,setSelectState:F,onOptionsListClose:B}=this.props;b.isExpanded&&(L.stopPropagation(),B&&B(),F(()=>({isExpanded:!1})))}onLeftArrow(L){var b;const B=this.getTokensAsArray().length,K=this.getSelectedTokenIndexes(),H=(K==null?void 0:K.length)&&K[0],Y=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();let Z=null,V=null;if(Y){const{type:le,anchorOffset:fe}=Y;Z=le,V=fe}const ne=Z==="Caret",q=Z==="Range";if(L.shiftKey&&q&&this.isRangeSelectionOfFilterQueryComplete(V)){L.preventDefault();return}const me=ne&&this.isCaretAtStartOfFilterQuery();if(B===0&&me){L.preventDefault();return}if(B===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&me){L.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:L.type});return}if(!this.haveSelectedTokens()&&me){this.setSelectedTokenIndexes([B-1],{initiator:L.type});return}if(q&&this.haveSelectedTokens()&&H===0){L.preventDefault();return}this.haveSelectedTokens()&&typeof H=="number"&&this.setSelectedTokenIndexes([H-1],{initiator:L.type})}onRightArrow(L){var b;const F=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),B=(F==null?void 0:F.type)==="Range",H=this.getTokensAsArray().length,Y=this.getSelectedTokenIndexes(),Z=(Y==null?void 0:Y.length)&&Y[0];if(typeof Z!="number")return;if(!(B&&this.haveSelectedTokens()&&Z<H-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){L.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof Z=="number"&&this.setSelectedTokenIndexes([Z+1],{initiator:L.type})}onTab(L){const{shiftKey:b}=L,{expandOnFocus:F,selectState:B,onOptionsListClose:K,setSelectState:H,disableCloseOnTab:Y}=this.props;Y||(K&&K(),(b||F&&(0,n.A)(B.activeRowIndex))&&H(()=>({isExpanded:!1})))}onTokenMouseDown(L,b){const{focused:F,isCurrentlyEditingToken:B}=this.state,{selectState:K,isTokenEditable:H}=this.props;if(K.isDisabled)return;if(L.preventDefault(),this.mouseDownOnToken=!0,L.stopPropagation(),H&&!B){this.onTokenEdit(b);return}F||this.focus();const Y=this.getTokensAsArray();this.selectTextInNode(Y[b]);const Z=this.getSelectedTokenIndexes();b!==(Z==null?void 0:Z[0])&&this.setSelectedTokenIndexes([b])}onTokenEdit(L){const{selectState:b,setSelectState:F,processOptions:B}=this.props,{selectedOptions:K}=b;this.setTokenState(!0,L);let H="";K&&K[L]&&(typeof K[L].label=="string"&&K[L].label!==K[L].value?H=K[L].label:H=K[L].value),this.removeToken(L,"editToken"),this.updateFilterQueryValue(H),B&&B([],H).then(Y=>{F(()=>({isExpanded:!0,options:Y,filterQuery:H}))})}onTokenRemoveMouseDown(L,b){const{focused:F,isCurrentlyEditingToken:B,editTokenIndex:K}=this.state;L.preventDefault(),this.mouseDownOnToken=!0,L.stopPropagation(),F||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&B&&b<K&&this.setTokenState(!0,K-1),this.removeToken(b,"iconClick")}onFilterQueryMouseDown(L){var b;this.state.focused&&(!((b=this.filterQueryRef.current)===null||b===void 0)&&b.textContent)&&L.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(L){const{onFilterQueryChange:b}=this.props;this.updateQueryTimer=setTimeout(()=>{b&&b(L),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(L){var b;const{setSelectState:F}=this.props;L.preventDefault(),F(()=>({selectedTokenIndexes:[],isExpanded:!1}));const B=(b=this.filterQueryRef)===null||b===void 0?void 0:b.current;B!=null&&B.textContent&&this.selectTextInNode(B)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:L}=this.props,{filterQuery:b,selectedOptions:F}=L,B=this.getSelectedTokenIndexes(),K=F==null?void 0:F.filter((Z,V)=>(B==null?void 0:B.indexOf(V))===-1),H=this.getSelectedFilterQueryText(),Y=b==null?void 0:b.replace(H,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:K,filterQuery:Y,isExpanded:!1}}onNodeAdded(L){const{nodeName:b}=L;(b==="B"||b==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(L){const{setSelectState:b}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),b(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}L===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(L){L.forEach(b=>{b.addedNodes.forEach(this.onNodeAdded),b.removedNodes.forEach(this.onNodeRemoved)})}getOptionsListboxHtmlId(){var L;return(0,I.Es)((L=this.props.selectState.selectId)!==null&&L!==void 0?L:"","listbox")}getAriaPlaceholderText(){const{selectState:L,placeholderText:b}=this.props,{filterQuery:F,selectedOptions:B}=L;if(!F&&!(B&&B.length>0))return b}getAriaActiveDescendant(){const{selectState:L}=this.props,{selectId:b,activeRowIndex:F}=L;return(0,c.A)(F)?(0,I.Es)(b,`option_${F}`):void 0}getInputHeight(){const{inputRef:L}=this.props,b=L==null?void 0:L.current;return b?b.offsetHeight:null}getTokensAsArray(){var L,b;const F=(L=this.props.inputRef)===null||L===void 0||(b=L.current)===null||b===void 0?void 0:b.querySelectorAll(".c-token");return Array.prototype.slice.call(F)}getSelectedFilterQueryText(){var L;const{selectState:b}=this.props,{filterQuery:F}=b;if((F==null?void 0:F.length)===0)return"";const B=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection(),K=B==null?void 0:B.toString();if(!(B==null?void 0:B.containsNode(this.filterQueryRef.current,!0)))return"";const Y=K==null?void 0:K.split(`
`);return Y!=null&&Y.length?Y[Y.length-1].trim():""}setSelectedTokenIndexes(L){let{initiator:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:F}=this.props;F(()=>({selectedTokenIndexes:L}))}getSelectedTokenIndexes(){const{selectState:L}=this.props,{selectedTokenIndexes:b}=L;return b||[]}allTokensAreSelected(){const L=this.getSelectedTokenIndexes(),b=this.getTokensAsArray();return L!=null&&L.length?L.length>0&&L.length===b.length:!1}attachMutationObserver(){var L;if(this.mutationObserver=new MutationObserver(this.onMutation),!((L=this.props.inputRef)===null||L===void 0)&&L.current){var b;this.mutationObserver.observe((b=this.props.inputRef)===null||b===void 0?void 0:b.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:L}=this.props,{filterQuery:b}=L;if(this.caretPosInFilterQuery===-1||!b)return 0;const F=b==null?void 0:b.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>F?F:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var L;(L=this.mutationObserver)===null||L===void 0||L.disconnect(),this.mutationObserver=null}focus(){var L;const b=(L=this.props.inputRef)===null||L===void 0?void 0:L.current;b==null||b.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(L){const{isLoading:b,throttleForceRenderSelectContainer:F}=this.props;F?(L&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),b||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var L;return!!(!((L=this.getSelectedTokenIndexes())===null||L===void 0)&&L.length)}isCaretAtStartOfFilterQuery(){var L;if(this.isCaretOutSideFilterQuery())return!1;const{selectState:b}=this.props,{filterQuery:F}=b;if(!F)return!0;const B=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();let K=null;if(B){const{anchorOffset:H}=B;K=H}return K===0}isCaretOutSideFilterQuery(){var L,b;const F=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();let B=null;if(F){const{anchorNode:K}=F;B=K}return!(!((b=this.filterQueryRef.current)===null||b===void 0)&&b.contains(B))}isRangeSelectionOfFilterQueryComplete(L){const b=this.getSelectedFilterQueryText();if(!b)return!1;const{selectState:F}=this.props,B=F.filterQuery;return!B||!L?!1:b.substr(0,L)===(B==null?void 0:B.substr(0,L))}isEntireFilterQuerySelected(){const{selectState:L}=this.props,b=this.getSelectedFilterQueryText();return!!b&&b===L.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:L}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var b,F,B,K;const H=document.createRange(),Y=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();Y==null||Y.removeAllRanges();const Z=(F=this.filterQueryRef)===null||F===void 0?void 0:F.current,V=(Z==null?void 0:Z.firstChild)||Z,ne=L?0:(K=Z==null||(B=Z.textContent)===null||B===void 0?void 0:B.trim())===null||K===void 0?void 0:K.length;V!==null&&typeof ne=="number"&&H.setStart(V,ne),H.collapse(!0),Y==null||Y.addRange(H)}possiblyRepositionOptionsList(L){if(!this.measurePopoverEvent)return;const{selectState:b}=this.props,F=b.isExpanded&&!L.isExpanded,B=this.getInputHeight(),K=this.inputHeight!==B;if(F||K){var H;(H=this.props.windowRef.deref())===null||H===void 0||H.dispatchEvent(this.measurePopoverEvent)}}removeToken(L,b){const{selectState:F,setSelectState:B,isTokenEditable:K}=this.props,{selectedOptions:H,pendingQueries:Y,filterQuery:Z}=F,V=Y?Y.length:0,ne=H&&H[L]&&H[L].queryId,me=ne&&V?Y==null?void 0:Y.filter(ue=>{let{queryId:ae}=ue;return ae!==ne}):Y;B(()=>({selectedOptions:H==null?void 0:H.filter((ue,ae)=>ae!==L),selectedTokenIndexes:[],removalInitiator:b,removedItemIndex:L,pendingQueries:me})),K&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(Z)}saveCaretPosInFilterQuery(){var L;const b=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection();this.caretPosInFilterQuery=b==null?void 0:b.anchorOffset}scrollFilterQueryIntoView(){const L=this.filterQueryRef.current;L&&L!=null&&L.scrollIntoView&&(L==null||L.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const L=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const b=this.getTokensAsArray();if(!(L!=null&&L.length))return;const F=L[L.length-1],B=b[F];B&&B.scrollIntoView&&B.scrollIntoView({block:"nearest"})}selectAllTokens(){var L;if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const b=this.getTokensAsArray();if(b.length===0)return;const F=b[0],B=b[b.length-1],K=(L=this.props.windowRef.deref())===null||L===void 0?void 0:L.getSelection(),H=document.createRange();K==null||K.removeAllRanges(),H.setStartBefore(F),H.setEndAfter(B),K==null||K.addRange(H)}selectTextInNode(L){var b;if(!L)return;const F=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection(),B=document.createRange();this.ignoreSelectionChange=!0,F==null||F.removeAllRanges();const K=(0,h.cX)()?L:L.querySelector(".c-token__content");B.selectNode(K),this.ignoreSelectionChange=!0,F==null||F.addRange(B)}updateCaretPosInFilterQuery(){var L,b;const F=(L=this.filterQueryRef)===null||L===void 0?void 0:L.current;if(!F)return;const B=document.createRange(),K=(b=this.props.windowRef.deref())===null||b===void 0?void 0:b.getSelection();K==null||K.removeAllRanges();const H=this.determineCaretPosInFilterQuery();typeof H=="number"&&B.setStart((F==null?void 0:F.firstChild)||F,H),B.collapse(!0),K==null||K.addRange(B)}renderFilterQuery(){const{selectState:L,isTokenEditable:b,size:F}=this.props,{filterQuery:B,isDisabled:K}=L,{isCurrentlyEditingToken:H,editTokenIndex:Y}=this.state,Z=K?void 0:this.onFilterQueryMouseDown,V=o()({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${F}_filter_query--edit`]:b&&H});return t.createElement("span",{className:V,ref:this.filterQueryRef,onMouseDown:Z,key:Y},B)}renderInput(){const{selectState:L,selectDataQa:b,inputRef:F,ariaLabelledBy:B,ariaLabel:K,autoClogProps:H,iconType:Y,isTokenEditable:Z}=this.props,{selectId:V,isDisabled:ne,isExpanded:q,isInvalid:me}=L,ue=ne?void 0:0,ae=ne?void 0:this.getAriaActiveDescendant(),le=!ne,fe=le,he=ne?void 0:this.onFocus,ie=ne?void 0:this.onBlur,X=ne?void 0:this.onChange,j=ne?void 0:this.onPaste,w=ne?void 0:this.onKeyDown,Q=ne?void 0:this.onKeyUp,G=ne?void 0:this.onSelectionChange,J=ne?void 0:this.onCut,te=ne?void 0:this.onCompositionStart,se=ne?void 0:this.onCompositionEnd,ce=o()({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!Y}),Ee=t.createElement("div",{role:"combobox","aria-disabled":ne,"aria-autocomplete":"list","aria-expanded":q,"aria-controls":this.getOptionsListboxHtmlId(),"aria-activedescendant":ae,"aria-labelledby":B,"aria-label":K,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":me,id:V,className:ce,tabIndex:ue,contentEditable:le,suppressContentEditableWarning:fe,"data-qa":b?`${b}-input`:void 0,ref:F,onFocus:he,onBlur:ie,onInput:X,onCompositionStart:te,onCompositionEnd:se,onPaste:j,onKeyDown:w,onKeyUp:Q,onSelect:G,onCut:J,"aria-multiline":!1},R(),Z&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.createElement(t.Fragment,null,this.renderTokens(),this.renderFilterQuery()),R({contentEditable:!1}));return H?t.createElement(u.A,{autoClogProps:H,actionProps:E,elementType:l.R.INPUT},Ee):Ee}renderLoadingIndicator(){const{isLoading:L,size:b}=this.props;return L?t.createElement(A.A,{className:"c-multi_select_input__spinner",color:"blue",size:b===T.hu.LARGE?T.hu.LARGE:T.hu.MEDIUM}):null}renderPlaceholder(){const{selectState:L,placeholderText:b,iconType:F}=this.props,{filterQuery:B,selectedOptions:K,isDisabled:H}=L;if(this.state.composing||B||K&&K.length>0)return null;const Y=H?void 0:this.onPlaceholderMouseDown,Z=o()({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!F});return t.createElement("div",{"aria-hidden":"true",className:Z,onMouseDown:Y},b)}renderToken(L,b){let{icon:F,svgIcon:B,value:K,label:H,hoverText:Y,isLoading:Z,isError:V,isMemberError:ne,isTeamError:q,isUnknown:me,emailTeam:ue}=L;const{forceRealName:ae,size:le,selectState:fe,customizeTokenProps:he,disableIdParsing:ie,allowFileToken:X}=this.props,j=this.getSelectedTokenIndexes(),w=(j==null?void 0:j.indexOf(b))!==-1,{isDisabled:Q,restrictedSelectedTokenIndexes:G,disabledSelectedTokenIndexes:J,invalidSelectedTokenIndexes:te}=fe,se=!!G&&(G==null?void 0:G.indexOf(b))!==-1,ce=!!J&&(J==null?void 0:J.indexOf(b))!==-1,Ee=!!te&&(te==null?void 0:te.indexOf(b))!==-1,de=Q||ce,re=de?void 0:ge=>this.onTokenMouseDown(ge,b),_e=de?void 0:()=>this.renderTokenRemoveIcon(b),ve=le;return t.createElement(t.Fragment,null,t.createElement(y.A,P({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},re?{onMouseDown:re}:{},{isDisabled:de,entityId:K,label:H,hoverText:Y,isLoading:Z,isError:V,isMemberError:ne,isTeamError:q,isUnknown:me},le?{size:ve}:{},{isSelected:w},_e?{renderIcon:_e}:{},{forceRealName:ae,icon:F,svgIcon:B,tabIndex:-1,contentEditable:!1},he,{disableIdParsing:ie},ue?{emailTeam:ue}:{},{isRestricted:se,isInvalid:Ee,allowFileToken:X})),"\xA0")}renderTokenRemoveIcon(L){return t.createElement(u.A,{actionProps:M,elementType:l.R.BUTTON},t.createElement(D.A,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:(0,i.A)(b=>{this.onTokenRemoveMouseDown(b,L)})}))}renderTokens(){const{selectedOptions:L}=this.props.selectState;return L==null?void 0:L.map((b,F)=>t.createElement(t.Fragment,{key:b.key||b.value},this.renderToken(b,F)))}renderEditableTokens(){const{isCurrentlyEditingToken:L,editTokenIndex:b}=this.state,F=this.renderTokens()||[],B=this.renderFilterQuery();return L?F.splice(b,0,B):F==null||F.push(B),F}renderIcon(){const{iconType:L}=this.props;return L?t.createElement(D.A,{type:L,inline:!0}):null}render(){const{maxHeight:L,width:b,selectState:F,classPrefix:B,size:K}=this.props,{isDisabled:H,isInvalid:Y,selectedOptions:Z}=F,V=Z==null?void 0:Z.length,ne=o()("c-multi_select_input",{"c-multi_select_input--disabled":H,"c-multi_select_input--focused":this.state.focused&&!H,"c-multi_select_input--large":K===T.hu.LARGE,"c-multi_select_input--invalid":Y,"c-multi_select_input--initial":!V,[`${B}__multi_select_input`]:B,[C.E.large]:K===T.hu.LARGE}),q=H?void 0:this.onInputContainerMouseDown;return t.createElement("div",{className:ne,style:{width:b,maxHeight:L},onMouseDown:q,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(L){super(L),(0,m.v)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var b;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(b=L.ignoreSelectAllTokensAfterMount)!==null&&b!==void 0?b:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,L.measurePopoverEventName&&(this.measurePopoverEvent=new Event(L.measurePopoverEventName));var F;this.forceRenderSelectContainerThrottled=(0,r.A)(this.forceRenderSelectContainer,(F=L.forceRenderSelectContainerThrottleRate)!==null&&F!==void 0?F:k,O),this.filterQueryRef=t.createRef()}},"MultiSelectInput");U.defaultProps={inputRef:t.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:a.A,onKeyUp:a.A,size:T.hu.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:a.A,onFilterQueryChange:a.A,onFilterQueryPaste:a.A,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:a.A,onInputFocused:a.A,forceRealName:void 0,onOptionsListClose:a.A,processOptions:x=>f.S.resolve(x),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:a.A,onBlur:a.A,onOptionsListClosedBlur:a.A,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:k},U.displayName="MultiSelectInput";const W=(0,d.A)((0,p.A)(U))},8274994582:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(6471059816),o=e(6308822);const n=new s.Ay("form_inputs"),i=_(r=>{let{count:a,clientTheme:l,spinnerSize:d="large"}=r;return t.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.createElement(o.A,{color:l==="dark"?"white":"blue",size:d,inline:!0})),n.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:a}))},"MultiSelectLoadingText")},320706952:(N,g,e)=>{"use strict";e.d(g,{A:()=>a});var t=e(3134334389),s=e(441565466),o=e(6471059816),n=e(3708320478),c=e(8683010724);const i=new o.Ay("form_inputs"),r=_(l=>{let{count:d}=l;const u=(0,s.A)();return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.createElement(c.A,{name:"emoji-missing-filled",inline:!0})),t.createElement(n.z,{uuid:`${u}-${d}`,deferBy:100},i.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:d})))},"MultiSelectUnknownText");r.displayName="MultiSelectUnknownText";const a=r},581574686:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6696292586),c=e(7715417323),i=e(2843556239),r=e(4426213732),a=e(6471059816),l=e(429204216),d=e(5841673352),u=e(6308822),f=e(3391133100),m=e(2219904496),h=e(5166368300),v=e(8683010724);function p(){return p=Object.assign||function(M){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(M[k]=R[k])}return M},p.apply(this,arguments)}_(p,"_extends");const T=new a.Ay("select"),A=1e4,C={ArrowLeft:!0,ArrowRight:!0},I={ArrowUp:!0,ArrowDown:!0},D={Backspace:!0,Delete:!0};let y=_(class extends t.Component{componentDidMount(){const{inputRef:S,focusOnMount:R,expandOnFocus:k}=this.props,O=S&&S.current;R&&(!this.state.hasFocus&&O&&O.focus(),k&&this.showOptionsList())}componentDidUpdate(S,R){const{inputRef:k,selectState:O,focusOnMount:U}=this.props,{selectedOption:W}=O,{selectState:x}=S,{selectedOption:L}=x,b=k&&k.current,{hasFocus:F,focusedViaMouse:B}=this.state;W&&F&&!B&&(W!==L||!R.hasFocus)&&setTimeout(()=>{b==null||b.select()},50),U&&S.focusOnMount!==U&&(this.state.hasFocus||b==null||b.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(S){const{inputRef:R,selectState:k,onClick:O,expandOnClick:U,searchOnClick:W}=this.props,{isDisabled:x,isExpanded:L,selectedOption:b}=k;if(x)return;const F=R&&R.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),F==null||F.focus()),(U||b)&&!L&&this.showOptionsList({searchOnClick:W}),O&&O(S)}onBlur(S){const{onBlur:R}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{R&&R(S)})}onFocus(S){const{onFocus:R}=this.props;this.setState(()=>({hasFocus:!0}),()=>{R&&R(S)})}onInputChanged(S){const{selectState:R,setSelectState:k,expandOnClick:O,retainPreviousSelectionOnDelete:U}=this.props,{isExpanded:W,selectedOption:x}=R;if(this.backspaceOrDeletePressed&&S.length===0&&x){k(()=>({filterQuery:S,displayQuery:S,...U?{}:{selectedOption:null}}));return}W?!O&&!S&&k(()=>({isExpanded:!1})):this.showOptionsList(),k(()=>({filterQuery:S,displayQuery:S}))}onKeyPressedEnter(S){this.props.selectState.isExpanded?S.preventDefault():(this.showOptionsList(),S.stopPropagation())}onKeyPressedEscape(S){const{selectState:R,setSelectState:k,resultsInPopover:O,onEsc:U,onOptionsListClose:W}=this.props;R.isExpanded&&O&&(S.stopPropagation(),S==null||S.nativeEvent.stopImmediatePropagation(),U&&U(),W&&W(),k(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:S,onOptionsListClose:R,selectState:k}=this.props;R&&R();const{activeRowIndex:O,initialActiveOption:U}=k;typeof O!="number"&&!U&&S(()=>({isExpanded:!1}))}onUpOrDownPressed(S){S.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),S.stopPropagation())}onWrapperKeyDown(S){const{key:R}=S;if(I[R]){this.onUpOrDownPressed(S);return}if(R==="Enter"){this.onKeyPressedEnter(S);return}if(R==="Escape"){this.onKeyPressedEscape(S);return}R==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(S){const{key:R}=S,k=D[R],O=C[R],U=k||O||(0,l.A)(S);this.setState(()=>({cursorVisible:U})),this.backspaceOrDeletePressed=k}maybeRenderIconOrLoading(){const{showDropdownIcon:S,isLoading:R,size:k,expandOnClick:O}=this.props;return R?t.createElement(u.A,{className:"c-select_input__spinner",color:"blue",size:k===d.hu.LARGE?"large":"medium"}):!S||!O?null:t.createElement("span",{className:"c-select_input__icon"},t.createElement(v.A,{name:"caret-down",size:"20"}))}showOptionsList(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:R}=S;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:R}))}updateOptionsListPosition(){const{selectState:S}=this.props,{isExpanded:R}=S;if(!R&&this.measurePopoverEvent){var k;(k=this.context.windowRef.deref())===null||k===void 0||k.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:S,renderSelectedOption:R,classPrefix:k,selectDataQa:O,hideSelectedOptionOnDropdownOpen:U}=this.props,{isExpanded:W,selectedOption:x}=S;if(this.state.cursorVisible||!x||W&&(U||S.filterQuery))return null;const L=o()("c-select_input__content",{[`${k}__select_input_content`]:k});return t.createElement("div",{className:L,"data-qa":O?`${O}-input-content`:null},t.createElement("span",{className:"c-select_input__content_text"},R&&R(x)))}getOptionsListboxHtmlId(){var S;return(0,f.Es)((S=this.props.selectState.selectId)!==null&&S!==void 0?S:"","listbox")}renderTextInput(){const{selectDataQa:S,inputRef:R,classPrefix:k,ariaLabelledBy:O,ariaDescribedBy:U,icon:W,maxCharacterLimit:x,size:L,selectState:b,autoClogProps:F,hideSelectedOptionOnDropdownOpen:B}=this.props,{activeRowIndex:K,filterQuery:H,isDisabled:Y,isExpanded:Z,isInvalid:V,isRequired:ne,selectedOption:q,selectId:me=""}=b;let ue;H||!Z&&q||q&&Z&&!B?ue=null:ue=this.props.placeholderText||T.t("Please select an option");const ae=Z&&(0,n.A)(K)?(0,f.Es)(me,`option_${K}`):null,le=!this.state.cursorVisible&&q&&!Z,fe=o()("c-select_input",{"c-select_input--offscreen":le,"c-select_input--invalid":V,[`${k}__select_input`]:k}),he=(0,f.Yk)([U,(0,f.Es)(me,"initial-focus")]),X=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible&&B?H||q&&q.label:H,j={spellCheck:!1,className:fe,id:me,name:me,"aria-activedescendant":ae,"aria-autocomplete":"list","aria-expanded":Z,"aria-controls":this.getOptionsListboxHtmlId(),"aria-required":ne,"aria-label":this.props["aria-label"],"aria-labelledby":O,"aria-describedby":he,isInvalid:V,autoComplete:"off",isDisabled:Y,onChange:this.onInputChanged,placeholder:ue,value:X||"","data-qa":S?`${S}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:F};return W||x?t.createElement(m.A,p({},j,{icon:W,size:L,maxCharacterLimit:x,showError:!1,type:"text",inputRef:R,isInvalid:V})):t.createElement(h.A,p({},j,{ref:R}))}render(){const{icon:S,size:R,selectDataQa:k,width:O,classPrefix:U,showDropdownIcon:W,selectState:x}=this.props,{isInvalid:L}=x,b=o()("c-select_input__wrapper",{[`c-select_input--${R}`]:R,"c-select_input--with_icon_right":W,"c-select_input--with_icon_left":!!S,"c-select_input--invalid":L,[`${U}__select_input_wrapper`]:U}),F=o()("c-select_input__input_container",{[`${U}__select_input_container`]:U});return t.createElement("div",{role:"presentation",className:b,style:{width:O},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":k?`${k}-wrapper`:null},t.createElement("div",{className:F},this.renderTextInput(),this.renderInputContent()),t.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(S){super(S),(0,r.v)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=t.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},S.measurePopoverEventName&&(this.measurePopoverEvent=new Event(S.measurePopoverEventName))}},"SelectInput");y.defaultProps={autoClogProps:void 0,inputRef:null,onClick:c.A,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,classPrefix:void 0,onFocus:c.A,onBlur:c.A,onEsc:c.A,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:c.A,expandOnClick:!0,searchOnClick:!1,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0},y.contextType=i._0,y.displayName="SelectInput";const P={SelectInput:y},E=y},9359656550:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>Q,oj:()=>j});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(45851552),c=e(6696292586),i=e(2003990933),r=e(5404505308),a=e(7715417323),l=e(3478664464),d=e(166097325),u=e(1699044291),f=e(3398586081),m=e(9268023148),h=e(105789326),v=e(1338932669),p=e(2843556239),T=e(4426213732),A;(function(G){G[G.ELEMENT=1]="ELEMENT",G[G.ATTRIBUTE=2]="ATTRIBUTE",G[G.TEXT=3]="TEXT",G[G.CDATA_SECTION=4]="CDATA_SECTION",G[G.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",G[G.ENTITY=6]="ENTITY",G[G.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",G[G.COMMENT=8]="COMMENT",G[G.DOCUMENT=9]="DOCUMENT",G[G.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",G[G.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",G[G.NOTATION=12]="NOTATION"})(A||(A={}));const C=new Set(["INPUT","TEXTAREA","SELECT"]),I=new Set([...C,"BUTTON"]),D="http://www.w3.org/1999/xhtml",y="http://www.w3.org/2000/svg";function P(G){return(G==null?void 0:G.nodeType)===A.TEXT}_(P,"isTextNode");function E(G){return(G==null?void 0:G.nodeType)===A.ELEMENT}_(E,"isElement");function M(G){return E(G)&&G.namespaceURI===D}_(M,"isHtmlElement");function S(G){return E(G)&&G.namespaceURI===y}_(S,"isSvgElement");function R(G){return M(G)||S(G)}_(R,"isHtmlOrSvgElement");function k(G){return M(G)||S(G)}_(k,"isElementCssInlineStyle");function O(G){return W(G,"a")}_(O,"isAnchorElement");function U(G){return M(G)&&I.has(G.tagName)}_(U,"isInteractiveElement");function W(G,J){return M(G)&&G.localName===J}_(W,"isHtmlElementWithTagName");function x(G){return P(G)?G:null}_(x,"asTextNode");function L(G){return E(G)?G:null}_(L,"asElement");function b(G){return M(G)?G:null}_(b,"asHtmlElement");function F(G,J){const te=G;return te.hasAttribute&&te.hasAttribute(J)}_(F,"hasAttribute");function B(G,J){return F(G,`data-${J}`)}_(B,"hasData");var K=e(6471059816),H=e(8359728598),Y=e(1887307248),Z=e(4757466470),V=e(5841673352),ne=e(1062586118),q=e(6308822),me=e(3391133100),ue=e(1398359918),ae=e(8786006583),le=e(5803478215);function fe(G){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,ue.A)(G,(se,ce)=>{if(se.type==="divider")return{type:"divider"};if(se.options){const{options:Ee,label:de,...re}=se,_e=`${se.label.toLowerCase()}${V.Sx}${(0,le.A)()}`,ve=[{type:"heading",label:se.label,group:_e,optionsCount:se.options&&se.options.length||0,extras:re}].concat(se.options.map((ge,Le)=>{const ke={type:"option",option:ge,optgroup:_e};return Le===0&&(ke.isFirstChild=!0),Le===se.options.length-1&&(ke.isLastChild=!0),ke}));if(J){if(G[ce-1]&&G[ce-1].value&&!G[ce-1].options&&ve.unshift({type:"divider"}),(0,ae.A)(G)===se)return ve;ve.push({type:"divider"})}return ve}return{type:"option",option:se}})}_(fe,"formatOptions");function he(){return he=Object.assign||function(G){for(var J=1;J<arguments.length;J++){var te=arguments[J];for(var se in te)Object.prototype.hasOwnProperty.call(te,se)&&(G[se]=te[se])}return G},he.apply(this,arguments)}_(he,"_extends");const ie=new K.Ay("select"),X=_(G=>{var J;return G.type!=="heading"&&G.type!=="divider"&&!(!(G==null||(J=G.option)===null||J===void 0)&&J.nonInteractive)},"isKeyboardNavigableOption"),j=_(G=>{var J;return!G.isDisabled&&!(!(G==null||(J=G.option)===null||J===void 0)&&J.nonInteractive)},"isSelectableOption");let w=_(class extends Y.B{componentDidMount(){this.initKeyCommands();const{focusOnMount:J=!1,selectState:te,setSelectState:se,shouldIncludeActiveOption:ce=!1}=this.props,{selectType:Ee}=te;Ee===V.US.BASIC&&J&&this.onOpen();const de=this.getInitalActiveRowIndex(),re=this.list.current;se(()=>({activeRowIndex:de,...ce?{activeOption:this.getOptionFromList(de)}:null})),de!==-1&&re&&re.scrollToRow(de),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:J=!1,preventScroll:te=!1}=this.props,{selectType:se}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),J&&se===V.US.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:te})}componentDidUpdate(J){var te;const{selectState:se,setSelectState:ce,shouldIncludeActiveOption:Ee=!1,dynamicHeight:de=!1,optionsShallowEqualComparisonDepth:re=4,shouldRerenderOnOptionChange:_e=!1}=this.props,{filterQuery:ve,options:ge,initialActiveOption:Le}=se,ke=!(0,Z.Ay)(J.selectState.options,ge,re),Ke=ve!==J.selectState.filterQuery;if(ke||Ke){const xe=typeof Le<"u"?this.getActiveRowIndex():this.getFirstSelectableRowIndex();ce(()=>({activeRowIndex:xe,...Ee?{activeOption:this.getOptionFromList(xe)}:null}));const We=xe||xe===0;this.list.current&&We&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(xe))}if(ke&&!Ke&&_e){var Ne;(Ne=this.list.current)===null||Ne===void 0||Ne.recomputeRowHeights()}if(de&&(se==null?void 0:se.options)!==((te=J.selectState)===null||te===void 0?void 0:te.options)){var Re;(Re=this.cellMeasurerCache)===null||Re===void 0||Re.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}getInitalActiveRowIndex(){const{selectState:J,multiSelectMode:te=!1}=this.props,{selectedOption:se,initialActiveOption:ce}=J;return te||!se?this.getFirstSelectableRowIndex():ce?this.getActiveRowIndex():(0,n.A)(this.getOptionsList(),Ee=>{var de;return X(Ee)&&(Ee==null||(de=Ee.option)===null||de===void 0?void 0:de.value)===se.value})}getActiveRowIndex(){const{selectState:J}=this.props,{initialActiveOption:te}=J;if(!te)return;const se=(0,n.A)(this.getOptionsList(),ce=>{var Ee;return X(ce)&&(ce==null||(Ee=ce.option)===null||Ee===void 0?void 0:Ee.value)===te.value});if(se>=0)return se}getCurrentActiveElement(){var J,te;return(te=(J=this.context.windowRef.deref())===null||J===void 0?void 0:J.document.activeElement)!==null&&te!==void 0?te:null}getFirstSelectableRowIndex(){const{selectState:J,multiSelectMode:te=!1,customOptionCompare:se,shouldAlwaysHaveActiveRow:ce=!1}=this.props,{filterQuery:Ee}=J,de=this.getOptionsList();let re;if((Ee||ce)&&de.length){const _e=(0,n.A)(de,ve=>X(ve)&&!this.isOptionSelected(J,ve.option,te,se),0);_e!==-1&&(re=_e)}return re}getRowHeight(J){var te;const{optionsRowHeight:se=V.bJ,headingRowHeight:ce=null,dividerRowHeight:Ee=V.r3}=this.props;return J.option&&(0,c.A)(J.option.height)?Number(J.option.height):J.type&&J.type==="divider"?Ee:J.type==="heading"&&(0,c.A)((te=J.extras)===null||te===void 0?void 0:te.height)?Number(J.extras.height):J.type&&J.type==="heading"&&ce!==null?ce:se}getClassName(J,te){const{unstyled:se=!1}=this.props;return se&&te?o()(te):o()(te,J)}getOptionFromList(J){const te=this.getOptionsList();return(0,i.A)(te,`[${J}].option`,null)}getOptionsList(){const{multiSelectMode:J=!1,selectState:te,includeDividers:se=!0}=this.props,{options:ce,isRequired:Ee,selectedOption:de,filterQuery:re,minQueryLength:_e}=te;let ve=[];return _e&&_e>0&&de&&!re&&(ve=[de]),ce&&(!J&&de&&!Ee?ve=[V.az,...ce]:ve=ce),ve=[...this.formatOptions(ve,se)],ve}getDataQaTag(J,te){const{selectDataQa:se=void 0,selectState:ce}=this.props,{isRequired:Ee}=ce,de=J.value?J.value:J.label;let re="";typeof de=="string"&&(re=de.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const _e=Ee?te:te-1;return J.value?`${se}_option_${_e}`:`${se}_option_header_${re}`}getNextActiveRowIndex(J){const te=this.getOptionsList();if(te&&!te.length)return-1;const se=te.length-1;if(J===se)return-1;const ce=(0,c.A)(J)?J+1:0,Ee=(0,n.A)(te,X,ce);return Ee!==-1&&te[Ee]?Ee:-1}getPreviousActiveRowIndex(J){if(J===0)return-1;const te=this.getOptionsList();if(te&&!te.length)return-1;const se=te.length-1,ce=(0,c.A)(J)?J-1:se,Ee=(0,r.A)(te,X,ce);return Ee!==-1&&te[Ee]?Ee:-1}getArialabelForItem(J){var te,se,ce,Ee;const{isFirstChild:de,isLastChild:re,optgroup:_e}=J;if(!_e)return null;const ve=ie.t("First item in group {group}, {value}",{group:_e&&_e.split(V.Sx).slice(0,-1).join("-"),value:typeof((te=J.option)===null||te===void 0?void 0:te.label)=="string"?(se=J.option)===null||se===void 0?void 0:se.label:""}),ge=ie.t("Last item in group {group}, {value}",{group:_e&&_e.split(V.Sx).slice(0,-1).join("-"),value:typeof((ce=J.option)===null||ce===void 0?void 0:ce.label)=="string"?(Ee=J.option)===null||Ee===void 0?void 0:Ee.label:""});return de?ve:re?ge:null}getEmptyStateMessage(){const{emptyStateMessage:J,selectState:te}=this.props,{filterQuery:se,minQueryLength:ce}=te;if(J)return J(se);if(ce){if(!se)return ie.t("Type to search\u2026");if(se.length<ce)return ie.t("Keep typing\u2026")}return ie.t("No items")}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(J){return{padding:J?V.Hy:void 0,boxSizing:"content-box"}}onArrowDown(J){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(J))return;const{isExpanded:te,activeRowIndex:se}=this.props.selectState;te&&J.preventDefault();const ce=this.getNextActiveRowIndex(se);(0,c.A)(ce)&&ce!==-1&&this.moveNext(ce)}onArrowUp(J){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(J))return;const{isExpanded:te,activeRowIndex:se}=this.props.selectState;te&&J.preventDefault();const ce=this.getPreviousActiveRowIndex(se);(0,c.A)(ce)&&ce!==-1&&this.movePrevious(ce)}onEsc(J){const{shouldIncludeActiveOption:te=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(J))return;J.preventDefault();const{onOptionsListClose:se=a.A}=this.props;se&&se(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:void 0,...te?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onEnter(J){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(J))return;J.preventDefault();const{activeRowIndex:te,initialActiveOption:se}=this.props.selectState,ce=this.getOptionsList();let Ee;typeof te=="number"&&(Ee=ce[te]&&ce[te].option||ce[te]),Ee=Ee||se,!(Ee&&!j(Ee))&&(this.onOptionSelected(Ee),this.onClose(J))}onTab(J){const{selectState:te,disableSelectOnTab:se=!1}=this.props;if(se||!this.shouldInterceptKeyEvent(J)||!te.isExpanded)return;const{onKeyPressedTab:ce=a.A}=this.props;if(ce&&ce!==a.A){ce(event);return}const{activeRowIndex:Ee,initialActiveOption:de}=te,re=this.getOptionsList();let _e;typeof Ee=="number"&&(_e=re[Ee]&&re[Ee].option||re[Ee]),_e=_e||de,_e&&J.preventDefault(),!(_e&&!j(_e))&&this.onOptionSelected(_e)}onShiftTab(J){if(!this.shouldInterceptKeyEvent(J))return;const{onKeyPressedShiftTab:te=a.A}=this.props;te&&te!==a.A&&te(J)}onMouseEnteredOption(J){const{shouldIncludeActiveOption:te=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:J,...te?{activeOption:this.getOptionFromList(J)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:J=!1}=this.props;!this.isMouseMoveEnabled||J||this.clearActive()}onOptionClicked(J){this.onOptionSelected(J,!0)}onScroll(J){const{onScroll:te=a.A}=this.props;te&&te(J)}onOptionSelected(J){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:se=a.A,onOptionUnselected:ce=a.A,selectState:Ee,setSelectState:de,multiSelectMode:re=!1,inputRef:_e,customOptionCompare:ve,shouldIncludeActiveOption:ge=!1,shouldOptionBeSelected:Le,shouldAllowUnselectInMultiSelectMode:ke=!1,shouldAllowUnselectInSingleSelectMode:Ke=!0,stayExpandedAfterSelection:Ne=!1}=this.props;if(Ee.shouldRefocusInputAfterSelection&&_e&&_e.current&&_e.current.focus(),J&&j(J)){if(Le&&Le(J)===!1){de(()=>({activeRowIndex:void 0,filterQuery:"",isExpanded:!1}),()=>{se(J)});return}if(J.value===V.yk)this.onClearSelectedOption();else if(re){const{selectedOptions:Re,shouldRefocusInputAfterSelection:xe}=Ee;if(!this.isOptionSelected(Ee,J,re,ve)&&Re)de(()=>({selectedOptions:[...Re,J],activeRowIndex:void 0,...ge?{activeOption:null}:null,filterQuery:"",isExpanded:Ne}),()=>{se&&se(J)});else if(ke){const $=(0,l.A)(Re,[J],(ee,Ve)=>ee.value===Ve.value);de(()=>({selectedOptions:$,activeRowIndex:void 0,...ge?{activeOption:null}:null,filterQuery:"",isExpanded:Ne}),()=>{ce&&ce(J)})}!xe&&!J.fromUnknown&&_e&&_e.current&&_e.current.focus()}else{const Re={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:Ke?null:Ee.selectedOption};!(0,d.A)(Ee.selectedOption,J)&&(Re.selectedOption=J),de(()=>({...Re}),()=>{se&&se(J,te)}),Ee.shouldRefocusInputAfterSelection&&_e&&_e.current&&_e.current.focus()}}}onOpen(){const{focusOnMount:J=!1,selectState:te}=this.props,{selectType:se}=te;!J&&se!==V.US.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}onClose(J){J.key==="Escape"&&this.onEsc(J);const{focusOnMount:te=!1,preventScroll:se=!1}=this.props,{selectType:ce}=this.props.selectState;!te&&ce!==V.US.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:se})}onClearSelectedOption(){const{selectState:J,setSelectState:te,onOptionSelected:se=a.A,multiSelectMode:ce=!1,onMultiSelectClear:Ee=void 0}=this.props,{selectedOption:de,selectedOptions:re}=J;let _e=!1;de?(te(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{se&&se({value:null})}),_e=!0):ce&&re&&(te(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{Ee&&Ee()}),_e=!0),this.list.current&&_e&&this.list.current.forceUpdateGrid()}clearDynamicRowHeight(J){var te;(te=this.cellMeasurerCache)===null||te===void 0||te.clear(J,0),this.list.current&&this.list.current.recomputeRowHeights(J)}clearActive(){const{shouldIncludeActiveOption:J=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:void 0,...J?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}enableMouseMove(){this.isMouseMoveEnabled=!0}focusNode(J){J&&this.getCurrentActiveElement()!==J&&J.focus()}isFirstItemUnselectable(){const J=this.getOptionsList();return!X(J[0])}initKeyCommands(){var J;if(this.keyCommands)return;const{shouldTokenizeOnComma:te,shouldTokenizeOnSpace:se,keyCommandShortcuts:ce}=this.props,Ee=["enter"];te&&Ee.push("comma"),se&&Ee.push("space");const de=[{keys:["down"],handler:this.onArrowDown},{keys:Ee,handler:this.onEnter,filter:_e=>_e.code.toLowerCase()==="comma"&&_e.key!==","},{keys:["up"],handler:this.onArrowUp},{keys:["tab"],handler:this.onTab},{keys:["shift+tab"],handler:this.onShiftTab}],re=ce?de.concat(ce):de;this.keyCommands=new ne.A((J=this.context.windowRef.deref())===null||J===void 0?void 0:J.document),this.keyCommands.bindAll(re)}isOptionSelected(J,te,se,ce){let{selectedOptions:Ee,selectedOption:de}=J;return se&&(!Ee||Ee&&!Ee.length)||!se&&!de?!1:se?!ce&&te?Ee&&Ee.some(re=>re.value===te.value):Ee&&Ee.some(re=>ce({selectedOption:re,listOption:te})):de&&te&&de.value===te.value}isOptionActive(J,te,se){let{activeRowIndex:ce}=J;if(!ce&&ce!==0)return!1;const de=te[ce];return(de&&de.option?de.option:de)===se}moveNext(J){const{setSelectState:te,shouldIncludeActiveOption:se=!1}=this.props,ce=this.getOptionFromList(J);if(!ce)return;const Ee=this.list.current;if(!Ee)return;te(()=>({activeRowIndex:J,...se?{activeOption:ce}:null,displayQuery:ce==null?void 0:ce.value})),this.debouncedEnableMouseMove(),Ee.forceUpdateGrid();const de=J===1&&this.isFirstItemUnselectable()?0:J;Ee.scrollToRow(de)}movePrevious(J){const{setSelectState:te,shouldIncludeActiveOption:se=!1}=this.props,ce=this.getOptionFromList(J);if(!ce)return;const Ee=this.list.current;if(!Ee)return;const de=this.getOptionsList();if(!de)return;if(te(()=>({activeRowIndex:J,...se?{activeOption:ce}:null,displayQuery:ce==null?void 0:ce.value})),this.debouncedEnableMouseMove(),Ee.forceUpdateGrid(),(ce==null?void 0:ce.height)!==0){Ee.scrollToRow(J);return}const re=(0,u.A)(de.slice(0,J)).findIndex(_e=>{var ve;return(_e==null||(ve=_e.option)===null||ve===void 0?void 0:ve.height)!==0});Ee.scrollToRow(J-re-1)}shouldInterceptKeyEvent(J){return!J.target||!E(J.target)?!1:!!(F(J.target,"aria-autocomplete")||F(J.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(J.target))}removeAriaAttrsFromGridNode(){const J=this.listBody.current,te=J&&J.querySelector(".ReactVirtualized__Grid");te&&(te.removeAttribute("aria-label"),te.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:J=!1,width:te,isLoading:se=!1,selectDataQa:ce=void 0,includeWrapper:Ee=!0}=this.props;if(se)return null;const de=this.getEmptyStateMessage();if(de===null)return null;const re=J||!Ee?+te:+te-V.$_;return t.createElement("div",{"data-qa":ce?`${ce}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:re}},t.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},de))}renderList(){const{maxListHeight:J,width:te,includePadding:se,unstyled:ce=!1,useSlackScrollbar:Ee,dynamicHeight:de=!1,forceMaxHeight:re,includeWrapper:_e=!0,classPrefix:ve=void 0}=this.props,ge=this.getOptionsList(),Le=J||V.CK,ke=ge.map(We=>this.getRowHeight(We)||0).reduce((We,$)=>We+$,0),Ke=re||ke>=Le?Le:ke,Ne=ce||!_e?+te:+te-V.$_,Re=o()("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":Ee,[`${ve}__virtual_list`]:!!ve}),xe=de&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:We=>{let{index:$}=We;return this.getRowHeight(ge[$])};return this.cellMeasurerCache?t.createElement(v.O,{className:Re,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(se),height:Ke,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:ge?ge.length:0,rowHeight:xe,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Ne}):t.createElement(v.O,{className:Re,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(se),height:Ke,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:ge?ge.length:0,rowHeight:xe,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:Ne})}renderListBody(){const{enableLoadingState:J=!0,isLoading:te=!1}=this.props;if(te&&J)return this.renderLoadingState();const se=this.getOptionsList();return!se||se&&!se.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:J}=this.props,te=ie.t("Loading results\u2026");return t.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:J}},t.createElement(q.A,{size:"medium",inline:!0}),t.createElement("div",null,te))}renderRow(J){let{index:te,key:se,style:ce,parent:Ee}=J;var de;const{classPrefix:re=void 0,selectState:_e,multiSelectMode:ve=!1,customOptionCompare:ge,unstyled:Le=!1,dynamicHeight:ke=!1,hideOptionsListCheckbox:Ke=!1}=this.props,{selectId:Ne}=_e,Re=this.getOptionsList();let xe;Re[te].option?xe=Re[te].option:xe=Re[te];const{isPlaceholder:We}=xe,{activeRowIndex:$}=_e,{selectedOption:ee,selectedOptions:Ve}=_e;let ze;typeof $=="number"&&(ze=this.isOptionActive({activeRowIndex:$},Re,xe));const st=this.isOptionSelected({selectedOptions:Ve,selectedOption:ee},xe,ve,ge),Ge=xe.value===V.yk,be=Re[te].type==="heading",Se=!!Re[te].optgroup,we=Re[te].type==="divider",Ce=!!xe.isDisabled,Te=!!xe.nonInteractive,Ye=st&&!be&&!we,De=be||Te||we,Pe=Re.filter(X),ye=(0,n.A)(Pe,vt=>vt.option===xe,0),He=re?`${re}__option`:"",Qe=o()("c-select_options_list__option",He,(0,i.A)(xe,"overrides.className",!1),{"c-select_options_list__option--active":ze&&(0,i.A)(xe,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":We,"c-select_options_list__option--selected":Ye,"c-select_options_list__option--disabled":Ce,"c-select_options_list__group_header":be,"c-select_options_list__group_option":Se,"c-select_options_list__divider":we,"c-select_options_list__clear_option":Ge});let dt=Ge?xe.label:t.createElement("hr",{className:this.getClassName("c-select_options__divider")});!we&&!Ge&&(dt=this.props.renderOption(xe,{index:te,isActive:ze,isGroupHeader:be,isClearOption:Ge,isSelected:st&&!be&&!we,clearDynamicRowHeight:this.clearDynamicRowHeight}));let Ot;if(Le||!((de=xe.overrides)===null||de===void 0)&&de.unstyled)Ot=dt;else{var yt;Ot=t.createElement("span",{"data-qa":xe.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(yt=xe.extras)===null||yt===void 0?void 0:yt.forceHeaderWrap})},dt)}const Dt=Pe.length,Ct=ye===-1?void 0:ye+1,kt=t.createElement("div",he({"aria-hidden":De?"true":null,"aria-selected":st,"aria-label":be?null:this.getArialabelForItem(Re[te]),className:this.getClassName(Qe,He),"data-qa":we?void 0:this.getDataQaTag(xe,te),id:(0,me.Es)(Ne,`option_${te}`),key:se},ce?{style:ce}:{},{onClick:Ce||Te?(0,f.A)(()=>this.onOptionSelected(xe)):(0,f.A)(()=>{this.onOptionClicked(xe)}),onMouseEnter:Ce||Te?a.A:(0,f.A)(()=>{this.onMouseEnteredOption(te)}),onMouseLeave:Ce||Te?a.A:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":ze?"true":void 0,ref:ze?this.currentRow:null,optgroup:Se?Re[te].optgroup:void 0,"aria-disabled":Ce||null,"aria-setsize":Dt,"aria-posinset":Ct}),Ye&&!Ke&&t.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),Ot);return!ke||!this.cellMeasurerCache?kt:t.createElement(h.dl,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:te,key:se,parent:Ee},kt)}render(){const{className:J,ariaLabel:te,classPrefix:se=void 0,multiSelectMode:ce=!1,selectDataQa:Ee=void 0,selectState:de,dropdownContainer:re=void 0,footerBannerContent:_e}=this.props,{isExpanded:ve,activeRowIndex:ge,selectId:Le,selectType:ke}=de,Ke=o()("c-select_options_list",{[`${se}_options_list`]:se}),Ne=ke===V.US.BASIC&&ve&&(0,c.A)(ge)?(0,me.Es)(Le,`option_${ge}`):void 0,Re=t.createElement("div",{className:Ke,ref:this.listBody,"data-qa":Ee?`${Ee}-options-list`:null,id:(0,me.Es)(Le,"listbox"),"aria-activedescendant":Ne,"aria-label":te??ie.t("Options",{fallbackHash:"6bf5da9c080bee3a8142586c412aa39971137eee",fallbackHashNs:"team_profile"}),"aria-multiselectable":!!ce,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:xe=!0}=this.props;if(!xe)return Re;const We=o()("c-select_options_list__wrapper",{[`${J}`]:J,[`${se}_options_list_wrapper`]:se});return t.createElement("div",he({className:this.getClassName(We),"data-qa":Ee?`${Ee}-options-list-wrapper`:"sk-select-options-list-wrapper"},re?{ref:re}:{}),Re,_e&&t.createElement("div",{className:"c-select_options_list__footer_banner"},_e))}constructor(J){super(J),this.isMouseMoveEnabled=!1,(0,T.v)(this,["getOptionsList","getOptionFromList","onClearSelectedOption","onArrowDown","onArrowUp","onEnter","onTab","onShiftTab","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=t.createRef(),this.list=t.createRef(),this.currentRow=t.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=(0,H.A)(fe),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=(0,m.A)(this.enableMouseMove,200),this.debouncedOnScroll=(0,m.A)(this.onScroll.bind(this),200),V.az.label=ie.t("Clear selection");const{optionsRowHeight:te=V.bJ,dynamicHeight:se=!1}=J;se&&(this.cellMeasurerCache=new h.jS({defaultHeight:te,fixedWidth:!0}))}},"SelectOptionsList");w.contextType=p._0,w.displayName="SelectOptionsList";const Q=w},4640201401:(N,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(3134334389),s=e(7715417323),o=e(9268023148),n=e(2843556239),c=e(6966669095),i=e(4943209501),r=e(4426213732),a=e(2790183459),l=e(5841673352),d=e(5249175977),u=e(9359656550);function f(){return f=Object.assign||function(D){for(var y=1;y<arguments.length;y++){var P=arguments[y];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(D[E]=P[E])}return D},f.apply(this,arguments)}_(f,"_extends");const m={onClose:{action:c.l.CLOSE},onOpen:{action:c.l.OPEN}},h=50,v=50,p=12,T=4,A=32;let C=_(class extends t.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(y){return(y==null?void 0:y.type)==="click"}didClickInput(y){const{inputRef:P}=this.props;if(!(P!=null&&P.current)||!this.isMouseEvent(y))return;const E=y.clientX,M=y.clientY,S=P.current.getBoundingClientRect();return E>S.left&&E<S.right&&M>S.top&&M<S.bottom}onClose(y){var P;const{selectState:E,inputRef:M,onOptionsListClose:S,setSelectState:R}=this.props;if(E.isExpanded){if(y instanceof KeyboardEvent){var k;(k=this.optionsListRef.current)===null||k===void 0||k.onClose(y)}M==null||(P=M.current)===null||P===void 0||P.focus(),S==null||S(this.didClickInput(y)),R(()=>({isExpanded:!1,activeRowIndex:void 0,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:y,inputContainerRef:P=null}=this.props,E=P||y;return E&&E.current?E.current.getBoundingClientRect():null}getPopoverPosition(y){let{top:P,bottom:E}=y;var M;const S=P,R=(((M=this.context.windowRef.deref())===null||M===void 0?void 0:M.innerHeight)||0)-E,{selectState:k,maxListHeight:O=l.CK}=this.props,{options:U}=k;let W=0;const x=_(b=>b.map(F=>this.getRowHeight(F)).reduce((F,B)=>F+B,0),"calculateRowHeight");if(U){const b=[];U.forEach(F=>{if(F.options){b.push(F.label),F.options.forEach(B=>b.push(B));return}b.push(F)}),W=x(b)}const L=Math.min(W,O);return R<L&&R<S?"top-left":"bottom-left"}getRowHeight(y){const{optionsRowHeight:P=l.bJ}=this.props;return y.type&&y.type==="divider"?l.r3:P}maybeInstallListener(){var y,P;if(this.listenerInstalled)return;(y=this.context.windowRef.deref())===null||y===void 0||y.addEventListener("resize",this.onResize),(P=this.context.windowRef.deref())===null||P===void 0||P.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:E=null}=this.props;if(E){var M;(M=this.context.windowRef.deref())===null||M===void 0||M.addEventListener(E,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:y=null}=this.props;if(this.listenerInstalled){var P,E;if(this.onResize.cancel(),this.onScroll.cancel(),(P=this.context.windowRef.deref())===null||P===void 0||P.removeEventListener("resize",this.onResize),(E=this.context.windowRef.deref())===null||E===void 0||E.removeEventListener("scroll",this.onScroll),y){var M;(M=this.context.windowRef.deref())===null||M===void 0||M.removeEventListener(y,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var y,P;const{popoverProps:E={},selectState:M,minOptionsListWidth:S=null,onOpen:R=s.A,onScrollablePage:k=!1,autoClogProps:O=void 0,maxListHeight:U=l.CK,shouldAllowUnselectInSingleSelectMode:W,shouldAllowUnselectInMultiSelectMode:x,stayExpandedAfterSelection:L,selectOptionsListRef:b}=this.props,{selectId:F}=M,B=this.state.optionsListBounds||{width:0,bottom:0,left:0},K=this.getPopoverPosition({top:B.top,bottom:B.bottom}),H=K==="top-left",Y=((y=this.context.windowRef.deref())===null||y===void 0?void 0:y.innerWidth)||0;let Z=B.width;S&&B.width<S&&(Z=S);const V=B.left-p+Z;let ne=0;S&&V>Y&&(ne=S-B.width);const me=(H?B.top:(((P=this.context.windowRef.deref())===null||P===void 0?void 0:P.innerHeight)||0)-B.bottom)-A,ue=Math.min(me,U),ae={...this.props,autoClogProps:O,width:Z+p*2,maxListHeight:ue,shouldAllowUnselectInSingleSelectMode:W,shouldAllowUnselectInMultiSelectMode:x,stayExpandedAfterSelection:L},{pageYOffset:le}=this.context.windowRef.deref()||{},fe={top:B.top+le+T,bottom:B.bottom+le-T,left:B.left-(p+ne),width:Z};let he;if(k){var ie;he={height:(ie=this.context.windowRef.deref())===null||ie===void 0?void 0:ie.document.body.scrollHeight}}return t.createElement(i.A,f({elementType:c.R.DROPDOWN,actionProps:m},O?{autoClogProps:O}:{}),t.createElement(d.AM,f({position:K,allowanceX:-p,ref:this.popover},E,{onClose:this.onClose,isOpen:!!M.isExpanded,key:`${F}-popover`,shouldFocusAfterRender:!1,targetBounds:fe,ariaHideApp:!1,onOpen:R},typeof he<"u"?{overlayStyle:he}:{},{shouldPropagateOnClose:!0}),t.createElement(u.Ay,f({},ae,{ref:(0,a.A)(this.optionsListRef,b)}))))}constructor(y){super(y),this.popover=t.createRef(),this.optionsListRef=t.createRef(),this.state={optionsListBounds:null},(0,r.v)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=(0,o.A)(this.measureOptionsListAndSetState,h,{maxWait:h}),this.onScroll=(0,o.A)(this.measureOptionsListAndSetState,v,{maxWait:v}),this.listenerInstalled=null}},"SelectPopoverOptionsList");C.contextType=n._0,C.defaultProps={includePadding:!0,window},C.displayName="SelectPopoverOptionsList";const I=C},5185985254:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(166097325);function o(){return o=Object.assign||function(c){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(c[a]=r[a])}return c},o.apply(this,arguments)}_(o,"_extends");function n(c){let i=_(class extends t.Component{setSelectState(a,l){const d=a();d.selectedOptions&&!(0,s.A)(d.selectedOptions,this.selectedOptions)||d.selectedOption&&!(0,s.A)(d.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({...d,isExpanded:!1})),this.props.showConfirmDialog&&this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(a,l),this.selectedOptions=d.selectedOptions||this.selectedOptions,this.selectedOption=d.selectedOption||this.selectedOption}})):(this.props.setSelectState(a,l),this.selectedOptions=d.selectedOptions||this.selectedOptions,this.selectedOption=d.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:a}=this.props,l=a?this.setSelectState:this.props.setSelectState;return t.createElement(c,o({},this.props,{setSelectState:l}))}constructor(a){super(a),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=a.selectedOptions,this.selectedOption=a.selectedOption}},"ConfirmSelectWrapper");return i.defaultProps={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0},i.displayName="ConfirmSelectWrapper",i}_(n,"withConfirm")},2742076544:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(3134334389),s=e(166097325),o=e(9113979368),n=e(7715417323),c=e(9268023148),i=e(337319621);function r(){return r=Object.assign||function(d){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])}return d},r.apply(this,arguments)}_(r,"_extends");const a=(0,i.Wo)();function l(d){let u=_(class extends t.Component{componentDidMount(){const{searchOnClick:m,disableSearchOnMount:h,expandOnFocus:v,minQueryLength:p}=this.props,{filterQuery:T}=this.state;if(!m&&!h||v){const A=!p||T&&T.length>=p;T!==void 0&&A&&this.search(T)}}componentDidUpdate(m){const{isInvalid:h,selectedOption:v,selectedOptions:p,isDisabled:T,minQueryLength:A}=this.props,C={};m.isInvalid!==h&&(C.isInvalid=h),m.isDisabled!==T&&(C.isDisabled=T),(0,s.A)(m.selectedOption,v)||(C.selectedOption=v),(0,s.A)(m.selectedOptions,p)||(C.selectedOptions=p),(0,s.A)(m.minQueryLength,A)||(C.minQueryLength=A),(0,o.A)(C)||this.setSelectState(()=>C)}componentWillUnmount(){var m;(m=this.searchAbortController)===null||m===void 0||m.abort()}setSelectState(m,h){const v=m();if(v.filterQuery!==void 0&&v.filterQuery!==this.state.filterQuery||v.searchOnClick){var p;(p=this.searchAbortController)===null||p===void 0||p.abort(),!this.state.minQueryLength||v.filterQuery&&v.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(v.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))}this.setState(()=>v,h)}search(m){const{search:h,onSearch:v=n.A,onSearchError:p=n.A,selectId:T,processOptions:A=_(I=>Promise.resolve(I),"processOptions")}=this.props;v(m),this.searchAbortController=new AbortController;const C=this.searchAbortController.signal;h(m,{abortSignal:C}).then(I=>{C.aborted||A(I,m).then(D=>{this.setSelectState(()=>({options:D})),this.setState(()=>({isLoading:!1}))})}).catch(I=>{C.aborted||(this.setState(()=>({isLoading:!1})),a.error(`Error when searching for select id: ${T}, error: ${I}`),p(I))})}render(){const m=this.props.inputRef||this.inputRef;return t.createElement(d,r({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:m,isLoading:this.state.isLoading}))}constructor(m){super(m),this.inputRef=t.createRef(),this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:m.isExpanded,expandOnFocus:m.expandOnFocus,selectId:m.selectId,selectedOptions:m.selectedOptions||[],selectedOption:m.selectedOption||null,isRequired:m.isRequired,isLoading:!1,isDisabled:m.isDisabled,isInvalid:m.isInvalid,searchOnClick:m.searchOnClick,minQueryLength:m.minQueryLength,shouldRefocusInputAfterSelection:m.shouldRefocusInputAfterSelection},this.search=(0,c.A)(this.search,m.debounceWaitPeriod)}},"CustomSearchWrapper");return u.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:n.A,onSearchError:n.A,searchOnClick:!1,disableSearchOnMount:!1,processOptions:f=>Promise.resolve(f),shouldAllowUnselectInMultiSelectMode:!1,disableIdParsing:!1,autoClogProps:void 0},u.displayName="CustomSearchWrapper",u}_(l,"withCustomSearch")},2602118042:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(5846524816);function o(){return o=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(r[d]=l[d])}return r},o.apply(this,arguments)}_(o,"_extends");const n={textSelectLabel:void 0,minOptionsListWidth:null,ariaLabel:""};function c(r){return t.createElement(s.A,o({},r,{textSelect:!0}))}_(c,"TextSelect"),c.displayName="TextSelect",c.defaultProps=n;const i=c},1507416e3:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(7994832222);const s=_(o=>!o||!Array.isArray(o)?!1:o.some(n=>(0,t.hH)(n)),"__WEBPACK_DEFAULT_EXPORT__")},3650946343:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9113979368),s=e(2101927269),o=e(2878685908),n=e(337319621);function c(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if((0,t.A)(i))return!1;const r=(0,s.A)(i,a=>(a&&!a.message&&(0,o.Cu)()&&(0,n.Wo)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${a.id}, message: ${a.message}}`),a&&!!a.message));return!(0,t.A)(r)}_(c,"__WEBPACK_DEFAULT_EXPORT__")},2753496765:(N,g,e)=>{"use strict";e.d(g,{I:()=>r,t:()=>a});var t=e(3044566667);const s=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],o=new RegExp(`[${s}]`),n=new RegExp(`<(${t.gy})>`,"i"),c=new RegExp(`\\((${t.gy})\\)`,"i"),i=/(?=\s+[@\uFF20])/g;function r(l,d){let u=[];return d!=null&&d.entities&&(d!=null&&d.entities.members)&&typeof(d==null?void 0:d.entities.members)!="boolean"&&(d!=null&&d.entities.members.matchEmailField)&&(n.test(l)||c.test(l))?u=l.match(new RegExp(t.tN.CONTAINS_EMAIL,"gi")):o.test(l)?u=l.split(o):d!=null&&d.fromMetadata?u=l.split(/\s+/):d!=null&&d.entities&&d.entities.members&&i.test(l)&&(u=l.split(i)),(!u||!u.length)&&(u=l.split(/\s+/)),u.map(f=>f.trim()).filter(f=>Boolean(f))}_(r,"defaultSplitQuery");function a(l,d){let u=l;if(d!=null&&d.entities&&(d!=null&&d.entities.members)&&typeof(d==null?void 0:d.entities.members)!="boolean"&&(d!=null&&d.entities.members.matchEmailField)&&t.tN.CONTAINS_EMAIL.test(l)){var f;u=(f=l.match(t.tN.CONTAINS_EMAIL))===null||f===void 0?void 0:f[0]}return u}_(a,"parseQueryForSearch")},7994832222:(N,g,e)=>{"use strict";e.d(g,{Cz:()=>s,gW:()=>o,hH:()=>n,iC:()=>t});function t(c){return!!(c!=null&&c.isLoading)}_(t,"isOptionLoading");function s(c){return!!(c!=null&&c.isUnknown)}_(s,"isOptionUnknown");function o(c){return!!(c!=null&&c.isError)}_(o,"isOptionError");function n(c){return t(c)||s(c)||o(c)}_(n,"isOptionUnresolved")},7772530643:(N,g,e)=>{"use strict";e.d(g,{k:()=>s});var t=e(4771630161);const s=_(function(o,n){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.filterQuery===void 0?n:{...n,options:(0,t.A)(o,n.filterQuery,c)}},"defaultFilter")},1959847761:(N,g,e)=>{"use strict";e.d(g,{A:()=>o,e:()=>s.e});var t=e(1211063534),s=e(7001051039);const o=t.A},1211063534:(N,g,e)=>{"use strict";e.d(g,{A:()=>I});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(5950652755),c=e(7715417323),i=e(2843556239),r=e(4426213732),a=e(8652526277),l=e(8245211418),d=e(7001051039);function u(){return u=Object.assign||function(D){for(var y=1;y<arguments.length;y++){var P=arguments[y];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(D[E]=P[E])}return D},u.apply(this,arguments)}_(u,"_extends");const f=1,m=10,h=10,v=2,p=12,T=50;let A=_(class extends t.PureComponent{componentDidMount(){if(this.state.isOpen){var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.addEventListener("mousemove",this.onMouseMove)}}static getDerivedStateFromProps(y,P){return y.isOpen!==P.passedIsOpen?{isOpen:y.isOpen,passedIsOpen:y.isOpen}:null}componentDidUpdate(y){if(y.isOpen!==this.props.isOpen)if(this.state.isOpen){var P;this.forceUpdate(),(P=this.context.windowRef.deref())===null||P===void 0||P.document.addEventListener("mousemove",this.onMouseMove)}else{var E;(E=this.context.windowRef.deref())===null||E===void 0||E.document.removeEventListener("mousemove",this.onMouseMove)}this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){var y;(y=this.context.windowRef.deref())===null||y===void 0||y.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(y){const P={x:y.clientX-y.movementX,y:y.clientY-y.movementY},E={x:y.clientX,y:y.clientY},M=this.mouseProgressingTowardsSubmenu(P,E);if(M!==this.state.mouseProgressingTowardsSubmenu){if(M){var S,R;(R=(S=this.props).preventHighlightChange)===null||R===void 0||R.call(S)}else if(!this.state.highlightChangePrevented){var k,O;(O=(k=this.props).allowHighlightChange)===null||O===void 0||O.call(k)}}this.setState(()=>({mouseProgressingTowardsSubmenu:M}))}onSubmenuItemSelected(y,P){var E,M;(M=(E=this.props).menuCallback)===null||M===void 0||M.call(E,this.props.menuCallbackId||0,P)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const y=this.getContentBounds(),P=this.getTriggerBounds(),E={...this.props.submenuStyle},M=this.context.windowRef.deref();if((y==null?void 0:y.width)===void 0||(P==null?void 0:P.left)===void 0||!M)return E;const S=P.right+y.width>M.innerWidth,R=P.left>y.width,k=this.props.forceLeft||S&&R;S&&!R?E.left=M.innerWidth-y.width-m:k?E.left=P.left-y.width+v:E.left=P.right-v;const U=P.top-p,W=U+y.height>M.innerHeight-h;return E.top=W?M.innerHeight-h-y.height:U,E}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(y){this.submenuContainer=y}setTriggerRef(y){this.trigger=y}allowHighlightChange(){this.setState(y=>({...y,highlightChangePrevented:!1}))}closeSubmenu(){var y,P;(P=(y=this.props).returnKBNav)===null||P===void 0||P.call(y),this.setState(()=>({isOpen:!1}),()=>{var E;(E=this.context.windowRef.deref())===null||E===void 0||E.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(y,P){const E=this.getContentBounds();if(!E)return!1;const{left:M,right:S,top:R,bottom:k}=E;if(P.x>=M&&P.x<=S&&P.y>=R&&P.y<=k)return!0;if(!y)return!1;const U=Math.abs(S-y.x)>Math.abs(M-y.x),W={x:U?M:S,y:R-f},x={x:U?M:S,y:k+f},L={x:U?y.x-f:y.x+f,y:y.y};return(0,a._i)(P,L,W,x)}preventHighlightChange(){this.setState(y=>({...y,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const y=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),P=this.getSubmenuContainerStyle(),E=o()("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return t.createElement("div",{role:"presentation",className:E,ref:this.setSubmenuRef,style:P,"data-qa":"submenu_container"},y)}render(){const{menuCallback:y,menuCallbackId:P,...E}=this.props;return t.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},t.createElement(l.A,u({},E,{withSubmenu:!0})),this.renderSubmenu())}constructor(y){super(y),this.state={isOpen:!1,passedIsOpen:!1,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},(0,r.v)(this,["closeSubmenu","setSubmenuRef","setTriggerRef","onSubmenuItemSelected","preventHighlightChange","allowHighlightChange"]),this.onMouseMove=(0,n.A)(this.onMouseMove.bind(this),T)}},"Submenu");A.defaultProps={isOpen:!1,menuCallback:c.A,menuCallbackId:0,kbNavActive:!1,returnKBNav:c.A,preventHighlightChange:c.A,allowHighlightChange:c.A,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,icon:null},A.contextType=i._0,A.displayName="Submenu";const C={Submenu:A,SUBMENU_OVERLAP:v,MENU_VERTICAL_MARGIN:p,ALLOWANCE_X:m,ALLOWANCE_Y:h},I=(0,d.A)(A)},7001051039:(N,g,e)=>{"use strict";e.d(g,{A:()=>n,e:()=>o});var t=e(1963690015);const s="_isSlackSubmenuItem";function o(c){return!!c&&c[s]===!0}_(o,"isSubmenu");function n(c){return c[s]=!0,c[t.KJ]=!0,c}_(n,"wrapSubmenu")},4525741652:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3134334389),s=e(4844578989),o=e.n(s);function n(){return n=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(r[d]=l[d])}return r},n.apply(this,arguments)}_(n,"_extends");const i=(0,t.forwardRef)((r,a)=>{let{tabContent:l,fullHeight:d,className:u,role:f="tabpanel",...m}=r;const h=o()(u,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":d});return t.createElement("div",n({role:f,className:h,"data-qa":"tabs_content_container",ref:a},m),l)})},6130762911:(N,g,e)=>{"use strict";e.d(g,{T:()=>o});var t=e(3134334389);const s={isSelected:!1,hasMouseHover:!1,hasKeyboardFocus:!1,isUserAttentionOnTab:!1},o=(0,t.createContext)(s)},4986936311:(N,g,e)=>{"use strict";e.d(g,{A:()=>E});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(8628145494),c=e(9268023148),i=e(2830068825),r=e(1979293697);function a(M){return/\.(jpe?g|png|gif|bmp)$/i.test(M)}_(a,"hasImageExtention");const l=a;var d=e(7323656146),u=e(4980558152),f=e(9332393661),m=e(6084388622),h=e(1610251172),v=e(8683010724),p=e(6130762911),T=e(7957736395),A=e(4452574402);function C(){return C=Object.assign||function(M){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var k in R)Object.prototype.hasOwnProperty.call(R,k)&&(M[k]=R[k])}return M},C.apply(this,arguments)}_(C,"_extends");const I=_(M=>{let{icon:S,svgIcon:R,customIcon:k,className:O}=M;return t.createElement("div",{className:O,"data-qa":"tabs_item_render_icon"},!k&&S&&!R&&t.createElement(h.A,{type:S,size:"inherit",inline:!0}),!k&&R&&!S&&t.createElement(v.A,C({},R)),k&&k)},"TabsItemIcon");I.displayName="TabsItemIcon";const D=_(M=>M>=1e4?(0,T.$k)(M,{precision:4,decimal_places:0,lowercase:!0}):(0,A.Ay)(M),"formatNumber"),y=_(M=>{let{shouldFormatCount:S,titleCount:R,maxTitleCount:k}=M;if(!R)return R;const O=k&&R>k;let U=O?k:R;return S&&(U=D(U)),O?`${U}+`:U},"formatCount"),P=(0,t.forwardRef)((M,S)=>{let{label:R,onClick:k,title:O,isSelected:U,isFocused:W,focusOnMount:x,fullWidth:L,titleCount:b,maxTitleCount:F,icon:B,svgIcon:K,customIcon:H,formatCount:Y,isLoading:Z,isHidden:V,isCountLoading:ne,isDisabled:q,iconPosition:me="right",className:ue="",contextMenuAriaLabel:ae,contextMenuTemplate:le,ariaRole:fe="tab",ariaHaspopup:he=!1,iconSpacing:ie=!0,...X}=M;const j=(0,i.A)(S),[w,Q]=(0,t.useState)(!1),G=(0,t.useContext)(d.A),J=o()(ue,"c-tabs__tab","js-tab",{"c-tabs__tab--active":U,"c-tabs__tab--full_width":L}),te=R||O,se=typeof te=="string"&&l(te)?t.createElement(f.A,{classes:"c-tabs__tab_image",image:te,ariaHidden:!0}):te,ce=X.id,Ee=(0,t.useCallback)($=>{k&&k(ce,$)},[ce,k]),de=y({shouldFormatCount:Y,titleCount:b,maxTitleCount:F}),re=(0,n.A)(W)?U:W,_e=(0,r.A)(re);(0,t.useEffect)(()=>{if(!re)return;const $=(0,n.A)(_e);if(($||!V)&&x||!$&&!_e){var ee;(ee=j.current)===null||ee===void 0||ee.focus()}},[re,_e,x,j,V]);const ve=(0,t.useCallback)(()=>le,[le]),ge=(0,c.A)(()=>Q(!0),25),Le=(0,c.A)(()=>Q(!1),25),ke=(0,t.useCallback)(()=>{Le.cancel(),ge()},[ge,Le]),Ke=(0,t.useCallback)(()=>{ge.cancel(),Le()},[ge,Le]),Ne=G&&(W??!1),Re=(0,t.useMemo)(()=>({isSelected:U??!1,hasMouseHover:w,hasKeyboardFocus:Ne,isUserAttentionOnTab:U||w||Ne}),[Ne,w,U]),xe=ie?"c-tabs__tab_icon--right":"";let We=t.createElement(m.Nm,C({},X,{onClick:Ee,onMouseOver:ke,onMouseOut:Ke,role:fe,className:J,"aria-haspopup":he,tabIndex:re?0:-1,disabled:q,ref:j},fe!=="button"?{"aria-selected":U}:{}),Z?t.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.createElement(t.Fragment,null,(!!B||!!K||!!H)&&me==="left"&&t.createElement(I,{icon:B,svgIcon:K,customIcon:H,className:"c-tabs__tab_icon--left"}),t.createElement("span",{className:"c-tabs__tab_content"},se),Number.isFinite(b)&&t.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},de),ne&&t.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!B||!!K||!!H)&&me==="right"&&t.createElement(I,{icon:B,svgIcon:K,customIcon:H,className:xe})));return le&&(We=t.createElement(u.A,{getTemplate:ve,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",menuAriaLabel:ae},We)),t.createElement(p.T.Provider,{value:Re},We)});P.displayName="TabsItem";const E=P},2293211408:(N,g,e)=>{"use strict";e.d(g,{A:()=>me});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(9432515904),i=e(6966669095),r=e(3078252698);const l=_(ue=>(0,r.A)(ue),"isReactNodeAString");var d=e(4426213732),u=e(2790183459),f=e(2878685908),m=e(3527550343),h=e(4118237431),v=e(6471059816),p=e(5803478215),T=e(3514831633),A=e(8773153312),C=e(8683010724),I=e(4986936311),D=e(2312625946);const y={name:"ellipsis-horizontal-filled"},P={name:"caret-down"},E=new v.Ay("channel_sidebar"),S=(0,t.forwardRef)((ue,ae)=>{let{renderMenu:le,position:fe,id:he,isSelected:ie,isFocused:X,tooltipLabel:j,useDescriptiveOverflowTabLabel:w}=ue;const Q=E.t("More"),G=w?P:y;return t.createElement(T.cQ,{renderMenu:le,position:fe||"bottom-left"},w?t.createElement(I.A,{label:Q,id:he,"aria-label":j,isSelected:ie,isFocused:X,className:"c-tabs__tab_overflow",svgIcon:G,ref:ae,iconSpacing:!1}):t.createElement(D.Ay,{tip:j,position:"top",offsetY:6},t.createElement(I.A,{id:he,"aria-label":j,isSelected:ie,isFocused:X,className:"c-tabs__tab_overflow",svgIcon:G,ref:ae})))});var R=e(5238395322);const k=53,O=27;function U(ue){const ae=ue.ownerDocument.defaultView;if(!ae)return ue.offsetWidth;const le=ae.getComputedStyle(ue),fe=parseFloat(le.getPropertyValue("margin-left"))+parseFloat(le.getPropertyValue("margin-right"));return ue.offsetWidth+fe}_(U,"getWidth");function W(ue){const ae=ue.ownerDocument.defaultView;if(!ae)return ue.offsetHeight;const le=ae.getComputedStyle(ue),fe=parseFloat(le.getPropertyValue("margin-top"))+parseFloat(le.getPropertyValue("margin-bottom"));return ue.offsetHeight+fe}_(W,"getHeight");const x=_((ue,ae)=>{let{outerElement:le,innerElement:fe,threshold:he,totalTabsLength:ie,childElements:X,containerSize:j,isHorizontal:w}=ue;if(!le||!fe||!X||ie===0)return;const Q=j-he,G=w?U:W,J=Array.from(X).map(de=>G(de));if((0,R.A)(J)<Q&&J.length===ie){ae(ie);return}let se=w?k:O,ce=Q,Ee=0;J.forEach(de=>{se<Q&&de<=ce&&(Ee+=1),se+=de,ce-=de}),ae(Ee)},"recalculateVisibleTabs");var L=e(4525741652),b=e(337319621);function F(){return F=Object.assign||function(ue){for(var ae=1;ae<arguments.length;ae++){var le=arguments[ae];for(var fe in le)Object.prototype.hasOwnProperty.call(le,fe)&&(ue[fe]=le[fe])}return ue},F.apply(this,arguments)}_(F,"_extends");const B=new v.Ay("slack-kit"),K=85,H=52,Y=["ArrowLeft"],Z=["ArrowRight"],V=Y.concat("ArrowUp"),ne=Z.concat("ArrowDown");let q=_(class extends t.PureComponent{setVisibleTabs(ae){this.setState(()=>({numOfVisibleTabsShown:ae}))}onResize(){var ae,le,fe,he,ie,X,j,w,Q,G;const J=this.props.orientation===c.t4.Horizontal,te=J?(ae=this.tabsContainerRef)===null||ae===void 0||(le=ae.current)===null||le===void 0?void 0:le.clientWidth:(fe=this.tabsContainerRef)===null||fe===void 0||(he=fe.current)===null||he===void 0?void 0:he.clientHeight;if(!te)return;const se=J?K:H,ce={outerElement:(ie=this.tabsContainerRef)===null||ie===void 0||(X=ie.current)===null||X===void 0?void 0:X.getBoundingClientRect(),innerElement:(j=this.lastVisibleTabRef)===null||j===void 0||(w=j.current)===null||w===void 0?void 0:w.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(Q=this.tabsContainerRef)===null||Q===void 0||(G=Q.current)===null||G===void 0?void 0:G.children};x({...ce,threshold:se,containerSize:te,isHorizontal:J},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}),()=>{var Ee,de;return(de=(Ee=this.props).onTabsResized)===null||de===void 0?void 0:de.call(Ee)})}componentDidMount(){this._isMounted=!0;const{maxSize:ae}=this.props;if(ae&&!this.resizeListener){var le;this.resizeListener=(0,h.A)(this.onResize),this.resizeListener.observe((le=this.tabsContainerRef)===null||le===void 0?void 0:le.current)}}componentDidUpdate(ae,le){var fe;const{defaultTabId:he,tabs:ie,currentTabId:X,manualTabActivation:j}=this.props,{numOfVisibleTabsShown:w,selectedTabId:Q}=this.state;var G;((G=(fe=ae.tabs)===null||fe===void 0?void 0:fe.length)!==null&&G!==void 0?G:0)!==ie.length&&this.updateSelectedTab(),ae.currentTabId!==X&&this.updateSelectedTab(),he!==ae.defaultTabId&&he&&this.selectTab(he,void 0);const J=le.numOfVisibleTabsShown!==w,te=le.selectedTabId!==Q&&!j;(J||te)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var ae;(ae=this.resizeListener)===null||ae===void 0||ae.disconnect(),this.resizeListener=null}}onFocus(ae){const{focusedTabIndex:le}=this.state,fe=this.getTabIndexById(ae.target.id);if(fe===-1)return;fe!==le&&this.focusTab(fe);const{onFocus:he}=this.props;he==null||he(ae)}onBlur(ae){const{onBlur:le}=this.props;le==null||le(ae)}onKeyDown(ae){const le=ae.key;if(ae.shiftKey||ae.metaKey||ae.ctrlKey||ae.altKey)return;const he=this.props.orientation==="vertical",ie=he?ne:Z,X=he?V:Y;if(!["Home","End"].concat(ie,X).includes(le))return;const w=ie.includes(le),Q=X.includes(le);ae.preventDefault(),w&&this.onNextArrow(ae),Q&&this.onPreviousArrow(ae),le==="Home"&&this.onHome(ae),le==="End"&&this.onEnd(ae)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:ae}=this.props,{numOfVisibleTabsShown:le}=this.state;return ae.slice(le,ae.length)}getVisibleTabs(){var ae,le;const{tabs:fe,maxSize:he}=this.props;if(!!!he)return fe;const X=((ae=this)===null||ae===void 0||(le=ae.state)===null||le===void 0?void 0:le.numOfVisibleTabsShown)||fe.length;return fe.length===X?fe:fe.slice(0,X).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(ae=>{let{id:le}=ae;return le})}getTabById(ae){var le;return(le=this.props.tabs)===null||le===void 0?void 0:le.find(fe=>fe.id===ae)}getTabIndexById(ae){return this.getVisibleTabIds().indexOf(ae)}onHome(ae){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:le,manualTabActivation:fe,onTabChange:he}=this.props,ie=this.getVisibleTabIds(),X=0;if(this.focusTab(X),fe)return;const j=ie[X];j!==this.overflowTabId&&(le==null?void 0:le(j))!==!1&&this.setState(()=>({selectedTabId:j}),()=>{he==null||he(j,ae)})}onEnd(ae){const le=this.getVisibleTabIds(),fe=le.length-1;if(this.state.focusedTabIndex===fe)return;const{onTabWillChange:he,manualTabActivation:ie,onTabChange:X}=this.props;if(this.focusTab(fe),ie)return;const j=le[fe];j!==this.overflowTabId&&(he==null?void 0:he(j))!==!1&&this.setState(()=>({selectedTabId:j}),()=>X==null?void 0:X(j,ae))}onNextArrow(ae){const{onTabWillChange:le,manualTabActivation:fe,onTabChange:he}=this.props,ie=this.getVisibleTabIds(),X=this.getTabIndexById(ae.target.id),j=X>=ie.length-1?0:X+1;if(this.focusTab(j),fe)return;const w=ie[j];w!==this.overflowTabId&&(le==null?void 0:le(w))!==!1&&this.setState(()=>({selectedTabId:w}),()=>he==null?void 0:he(w,ae))}onPreviousArrow(ae){const{onTabWillChange:le,manualTabActivation:fe,onTabChange:he}=this.props,ie=this.getVisibleTabIds(),X=this.getTabIndexById(ae.target.id),j=X===0?ie.length-1:X-1;if(this.focusTab(j),fe)return;const w=ie[j];w!==this.overflowTabId&&(le==null?void 0:le(w))!==!1&&this.setState(()=>({selectedTabId:w}),()=>he==null?void 0:he(w,ae))}getNextTabId(){const{defaultTabId:ae,tabs:le,currentTabId:fe}=this.props,he=ae?this.getTabIndexById(ae):void 0,ie=fe?this.getTabIndexById(fe):void 0;return fe&&ie?fe:ae&&he?ae:le[0].id}activePanelTabId(){return this.props.currentTabId||this.state.selectedTabId}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const ae=this.getNextTabId();ae!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:ae}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:ae}=this.selectedTabRef;if(ae)return ae.focus(),!0;const le=this.activePanelTabId(),fe=this.getTabIndexById(le);return this.focusTab(fe!==-1?fe:0),!0}focusTab(ae){this.setState(()=>({focusedTabIndex:ae}))}selectTab(ae,le){const{onTabWillChange:fe,onTabChange:he}=this.props,ie=this.getTabById(ae);if(!ie)return null;if((fe==null?void 0:fe(ae))!==!1){if(ie.isExternalLink){var X;return(X=ie.onClick)===null||X===void 0?void 0:X.call(ie,ae,le)}return this.setState(()=>({selectedTabId:ae}),()=>{if(he==null||he(ae,le),this.props.focusOnFirstFocusableChildOnChange){const j=this.panelRef&&this.panelRef.current,w=(0,m.Fp)(j);w==null||w.focus()}}),null}}updateFocusedTabIndex(){const ae=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(ae)}))}onTabClick(ae,le){var fe;const he=this.getTabById(ae);he&&(he.isExternalLink||this.selectTab(he.id,le),he==null||(fe=he.onClick)===null||fe===void 0||fe.call(he,he.id,le))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabTooltipLabel(ae){const le=B.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return le;const fe=this.getTabById(ae);if(!fe)return le;const he=fe["aria-label"]||fe.label||fe.title;return!he||!l(he)?le:B.t("More: {selectedTabLabel}",{selectedTabLabel:he,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(ae,le){const{tabs:fe,fullWidthMenu:he,orientation:ie,iconPosition:X,focusOnMount:j,useDescriptiveOverflowTabLabel:w}=this.props,{focusedTabIndex:Q,selectedTabId:G}=this.state,J=Q===le,te=this.getTabIndexById(G)===le?this.selectedTabRef:void 0,se=ae.autoClogProps?{...this.autoClogProps,...ae.autoClogProps,elementType:i.R.TAB}:this.autoClogProps,ce=le===fe.length-1?this.lastVisibleTabRef:void 0,Ee=ce?(0,u.A)(te,ce):te,re=this.activePanelTabId()===ae.id;return ae.id===this.overflowTabId?t.createElement(S,{renderMenu:this.renderOverflowMenu,position:"bottom-left",useDescriptiveOverflowTabLabel:w,tooltipLabel:this.renderOverflowTabTooltipLabel(G),isSelected:!this.isSelectedTabVisible(),isFocused:J,ref:Ee,id:ae.id,key:ae.id}):t.createElement(I.A,{key:ae.id,id:ae.id,icon:ae.icon,svgIcon:ae.svgIcon,customIcon:ae.customIcon,label:ae.label||ae.title,onClick:this.onTabClick,autoClogProps:se,isSelected:re,isFocused:J,focusOnMount:j,isDisabled:ae.isDisabled,fullWidth:he||ie==="vertical",titleCount:ae.titleCount,maxTitleCount:ae.maxTitleCount,"aria-label":ae["aria-label"],"aria-describedby":ae["aria-describedby"],"data-qa":ae["data-qa"]||"tabs_item","aria-haspopup":ae["aria-haspopup"],ref:Ee,formatCount:this.props.formatCount,isLoading:ae.isLoading,isHidden:this.isHidden,isCountLoading:ae.isCountLoading,iconPosition:X,className:ae.className,contextMenuAriaLabel:ae.contextMenuAriaLabel,contextMenuTemplate:ae.contextMenuTemplate})}renderTabsItems(){return this.getVisibleTabs().map((le,fe)=>{typeof le.label!="string"&&!t.isValidElement(le.label)&&typeof le.title!="string"&&!t.isValidElement(le.title)&&!le["aria-label"]&&((0,f.Cu)()||(0,f.b3)())&&(0,b.Wo)().error("Tabs requires either a label of type string, or an aria-label.");const he=this.renderTabsItem(le,fe);return le.renderWrapper?t.createElement(t.Fragment,{key:le.id},le.renderWrapper(he)):he})}renderOverflowMenu(ae){var le;const{selectedTabId:fe}=this.state,he=(le=this.getHiddenTabs())===null||le===void 0?void 0:le.map(ie=>({label:ie.label||ie.title,id:ie.id,click:X=>this.onTabClick(ie.id,X),key:ie.id,type:A.A.radio,checked:ie.id===fe,icon:ie.svgIcon?t.createElement(C.A,F({size:"18"},ie.svgIcon)):null,className:"c-tabs__tab_overflow_menu_item"}));return t.createElement(T.a,F({width:"200px"},ae,{template:he}))}activeTabPanelLabel(){const ae=this.getTabById(this.activePanelTabId());if(!ae)return;const le=ae["aria-label"]||ae.label||ae.title;if(l(le))return le}activeTabPanelAriaLabelledBy(){const ae=this.getTabById(this.activePanelTabId());return ae==null?void 0:ae["aria-labelledby"]}render(){var ae;const{fullHeight:le,fullWidthMenu:fe,className:he,orientation:ie,tabMenuClassnames:X,tabPanelClassnames:j,ariaLabel:w,maxSize:Q}=this.props,G=this.activePanelTabId();var J;const te=(J=(ae=this.getTabById(G))===null||ae===void 0?void 0:ae.content)!==null&&J!==void 0?J:"",se=o()(he,{"c-tabs__tab_container--full_height":le,"c-tabs__tab_container--vertical":ie==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!Q}),ce=o()(X,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":fe,"c-tabs__tab_menu--vertical":ie==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),Ee=o()(j,{"c-tabs__tab_panel--vertical":ie==="vertical"});return t.createElement("div",{className:se,"data-qa":"tabs_full_height_class"},t.createElement("div",{role:"tablist",className:ce,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,"aria-orientation":ie,"aria-label":w,ref:this.tabsContainerRef},this.renderTabsItems()),te&&t.createElement(L.A,{tabContent:te,fullHeight:le,ref:this.panelRef,className:Ee,"aria-labelledby":this.activeTabPanelAriaLabelledBy(),"aria-label":this.activeTabPanelLabel()}))}constructor(ae){var le;super(ae),(0,d.v)(this,["onKeyDown","onFocus","onBlur","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.selectedTabRef=t.createRef(),this.panelRef=t.createRef(),this.tabsContainerRef=t.createRef(),this.lastVisibleTabRef=t.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,ae.autoClogProps&&(this.autoClogProps={...ae.autoClogProps,elementType:i.R.TAB});const fe=ae.currentTabId||ae.defaultTabId||((le=ae.tabs[0])===null||le===void 0?void 0:le.id),he=this.getTabIndexById(fe);this.state={selectedTabId:fe,focusedTabIndex:he!==-1?he:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${(0,p.A)()}`}},"Tabs");q.defaultProps={onTabChange:n.A,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0},q.displayName="Tabs";const me=q},2755566931:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>n,N9:()=>o.A,Qg:()=>s.A});var t=e(4275787242),s=e(2123783665),o=e(9837834156);const n=t.A},2123783665:(N,g,e)=>{"use strict";e.d(g,{A:()=>l,u:()=>a});var t=e(3134334389),s=e(6471059816),o=e(7323656146),n=e(6084388622),c=e(7004400363),i=e(5733135148);const r=new s.Ay("toast");var a;(function(d){d.Error="Error",d.Information="Information",d.Warning="Warning"})(a||(a={}));const l=(0,t.forwardRef)((d,u)=>{let{children:f,duration:m=6e3,buttonText:h,buttonType:v=c.Q.outline,buttonIcon:p,onButtonClick:T,type:A,svgIconProps:C,toastClasses:I,offsetY:D,onCloseComplete:y,shouldSkipToastDismissal:P,svgIconClassName:E,closeButtonClasses:M,customButton:S,forceFocusAfterRender:R=!1}=d;const k=(0,t.useContext)(o.A),O={[a.Error]:r.t("Error"),[a.Information]:r.t("Information"),[a.Warning]:r.t("Warning")},U=A&&O[A];return t.createElement(i.Ay,{forceFocusAfterRender:k||R,fadeDelay:m,role:"dialog","aria-label":U,shouldSkipToastDismissal:P,svgIconClassName:E,svgIconProps:C,toastClasses:I,offsetY:D,onCloseComplete:y,closeButtonClasses:M,ref:u},t.createElement("div",null,f),S||t.createElement(n.Ay,{type:v,icon:p,onClick:T,size:"small"},h))})},9837834156:(N,g,e)=>{"use strict";e.d(g,{A:()=>f});var t=e(3134334389),s=e(2843556239),o=e(4348392507),n=e(7937864072),c=e(8847766420),i=e(9506008067),r=e(1690110981),a=e(1026029255),l=e(3193155968);const d="TOAST",u=t.memo(m=>{const h=(0,i.d4)(c.JY),v=(0,n.A)(),{windowId:p=l.N2}=(0,t.useContext)(s._0);var T;const A=(T=m.windowId)!==null&&T!==void 0?T:p,C=(0,i.d4)(y=>(0,a.HL)(y,A)),I=(0,i.d4)((0,t.useCallback)(y=>(0,a.Ly)(y,A),[A])),D=(0,t.useMemo)(()=>(0,a.c8)(h,A),[h,A]);return(0,t.useEffect)(()=>(r.lv[D]&&v.error(d,"ToastContainer already mounted -- should only be one instance at a time"),r.lv[D]=!0,()=>{delete r.lv[D]}),[D,v]),I?t.cloneElement(I,{key:C}):null});u.displayName="ToastContainer";const f=(0,o.A)(u)},4275787242:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3134334389),s=e(3708320478),o=e(5733135148);const n=_(c=>{let{children:i,duration:r,svgIconProps:a,toastClasses:l,position:d,offsetX:u,offsetY:f,showCloseButton:m,onCloseComplete:h,shouldAutoFade:v,shouldSkipToastDismissal:p,closeButtonClasses:T,svgIconClassName:A,announceContentAsAssertive:C}=c;return t.createElement(o.Ay,{fadeDelay:r,svgIconClassName:A,svgIconProps:a,toastClasses:l,offsetX:u,offsetY:f,position:d,showCloseButton:m,onCloseComplete:h,shouldAutoFade:v,shouldSkipToastDismissal:p,closeButtonClasses:T},t.createElement(s.z,{assertive:C},i))},"Toast");n.displayName="Toast",n.defaultProps={duration:6e3}},561151542:(N,g,e)=>{"use strict";e.d(g,{A:()=>H});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(7679173189),i=e(5841673352),r=e(2768501508),a=e(7563272258),l=e(6228854066),d=e(7905172576),u=e(276274568),f=e(5537045526),m=e(126225536),h=e(1030162945),v=e(7969928607),p=e(1407713935),T=e(4559887502),A=e(8798294025),C=e(6839188756),I=e(6308822),D=e(1610251172),y=e(8683010724),P=e(2312625946),E=e(2809903252),M=e(82287009),S=e(8040098042),R=e(6112179660),k=e(497761763),O=e(4327331459),U=e(4862221402),W=e(9391594207),x=e(2235302340),L=e(9101533895),b=e(1670069836);function F(){return F=Object.assign||function(Y){for(var Z=1;Z<arguments.length;Z++){var V=arguments[Z];for(var ne in V)Object.prototype.hasOwnProperty.call(V,ne)&&(Y[ne]=V[ne])}return Y},F.apply(this,arguments)}_(F,"_extends");let B=_(class extends t.Component{renderChannelToken(Z){const{channel:V,showMemberCounts:ne,isSelected:q,channelHasNonUniqueName:me}=this.props;let ue;return(0,p.LI)(V)?ue=t.createElement(l.Ay,{id:(0,A.e)(V),className:"c-token_channel"}):(0,p.yz)(V)?ue=t.createElement(d.A,{mpim:V,className:"c-token_channel",isActive:q}):ue=t.createElement(r.A,{channel:V,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:ne,showTeamForLocalChannel:me}),t.createElement("span",{className:Z,"data-qa":"token_channel"},ue)}renderContent(){const{isLoading:Z,isUnknown:V,isError:ne,isMemberError:q,isTeamError:me,isInvalid:ue,channel:ae,memberId:le,teamName:fe,userGroupId:he,channelSection:ie,contentInnerClassName:X,emailTeam:j,fileId:w}=this.props;let Q=o()("c-token_content__inner",X);return Z&&!ue?(Q+=" c-token_content__inner--loading",this.renderLoadingToken(Q)):V?(Q+=" c-token_content__inner--unknown",this.renderUnknownToken(Q)):ne?(Q+=" c-token_content__inner--error",this.renderErrorToken(Q)):j?(Q+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(Q)):le&&q?(Q+=" c-token_content__inner--error",this.renderMemberErrorToken(Q)):le?(Q+=" c-token_content__inner--member",this.renderMemberToken()):ae?this.renderChannelToken(Q):fe&&me?(Q+=" c-token_content__inner--error",this.renderTeamErrorToken(Q)):fe?(Q+=" c-token_content__inner--team",this.renderTeamToken(Q)):ie?(Q+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(Q)):he?(Q+=" c-token_content__inner--usergroup",this.renderUserGroupToken(Q)):w?this.renderFileToken():this.renderPlainToken(Q)}renderErrorToken(Z){const{label:V,size:ne}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__error_icon_container"},t.createElement(y.A,{size:"18",name:"warning","data-qa":"token_error_icon"})),t.createElement("span",{className:o()(Z,"c-token_content__label"),"data-qa":"token_error"},t.createElement(v.A,{text:V,inputIsEscaped:!0,emojiSize:ne==="small"?h.lw.SMALL:h.lw.MEDIUM})))}renderLoadingToken(Z){const{size:V,label:ne}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__loading_icon_container"},t.createElement(I.A,F({},V?{size:V}:{},{"data-qa":"token_loading_icon"}))),t.createElement("span",{className:o()(Z,"c-token_content__label"),"data-qa":"token_loading"},ne))}renderMemberToken(){const{forceRealName:Z,isDisabled:V,memberId:ne,size:q,hasNoAccess:me,forceAvatarPresenceIndicator:ue}=this.props;return t.createElement(l.Ay,{id:ne,isDeactivated:V,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:Z,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:q,hasNoAccess:me,forceAvatarPresenceIndicator:ue})}renderMemberErrorToken(Z){const{forceRealName:V,isDisabled:ne,memberId:q,size:me}=this.props;return t.createElement(l.Ay,{id:q,isDeactivated:ne,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:V,showStatus:!1,className:o()(Z,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:me})}renderFileToken(){const{fileId:Z}=this.props;return Z?t.createElement(a.A,{id:Z,className:"padding_left_25 padding_right_25"}):null}renderIcon(){const{icon:Z,svgIcon:V}=this.props;return V?t.createElement("span",{className:"c-token_content__icon"},t.createElement(y.A,F({"data-qa":"token_plain_icon",inline:!0,size:"inherit"},V))):Z?t.createElement(D.A,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:Z,inline:!0}):null}renderPlainToken(Z){const{label:V,size:ne}=this.props;return t.createElement("span",{className:Z},this.renderIcon(),t.createElement(E.A,{lines:1,withTooltip:!0},t.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.createElement(v.A,{text:V,inputIsEscaped:!0,emojiSize:ne==="small"?h.lw.SMALL:h.lw.MEDIUM}))))}renderEmailTokenWithTeamIcon(Z){const{icon:V,label:ne,emailTeam:q}=this.props;return t.createElement("span",{className:Z},V&&t.createElement(D.A,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:V,inline:!0}),t.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.createElement(v.A,{text:ne,inputIsEscaped:!0,emojiSize:h.lw.MEDIUM})),q&&t.createElement("span",{className:"c-member__secondary_content"},t.createElement(f.A,{team:q,"data-qa":"token_email_with_team_icon",size:l.Cg,className:"c-member__team_icon"})))}renderTeamToken(Z){const{teamId:V,teamName:ne}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(f.A,{id:V,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.createElement("span",{className:o()(Z,"c-token_content__label"),"data-qa":"token_team_name"},ne))}renderTeamErrorToken(Z){const{teamId:V,teamName:ne}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(f.A,{id:V,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.createElement("span",{className:o()(Z,"c-token_content__label"),"data-qa":"token_team_name_error"},ne))}renderChannelSectionToken(Z){const{channelSection:V}=this.props;return V?t.createElement("span",{className:o()(Z,"c-token_content__label")},t.createElement(m.A,{channelSection:V})):null}renderUnknownToken(Z){const{label:V}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__unknown_icon_container"},t.createElement(y.A,{size:"18",name:"emoji-missing-filled","data-qa":"token_unknown_icon"})),t.createElement("span",{className:o()(Z,"c-token_content__label"),"data-qa":"token_unknown"},V))}renderUserGroupToken(Z){const{userGroupId:V}=this.props;return t.createElement(u.A,{id:V,showDescription:!1,className:o()(Z,"c-token_content__label")})}render(){const{isDisabled:Z,isInvalid:V,isError:ne,memberId:q,isMemberError:me,isTeamError:ue,isUnknown:ae,isLoading:le,isSelected:fe,size:he,hoverText:ie,tabIndex:X,contentEditable:j,className:w,onMouseDown:Q,enableProfileHoverCard:G,customizeProfileHoverCardProps:J,isRestricted:te}=this.props,se=o()("c-token",w,`c-token--${he}`,{"c-token--selected":fe,"c-token--disabled":Z,"c-token--invalid":V,"c-token--restricted":te,"c-token--error":ne||me||ue,"c-token--unknown":ae,"c-token--loading":le}),ce=this.renderContent();let Ee=ce;ie&&ce?Ee=t.createElement(P.Ay,{tip:ie},ce):q&&G&&(Ee=(0,M.yN)({...J||{},memberId:q,children:ce}));const de=this.props.renderIcon(this.props);return t.createElement("span",{className:se,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:X,contentEditable:j,onMouseDown:Q},t.createElement("span",{className:"c-token__content","data-qa":"token_content"},Ee),de)}},"Token");B.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:i.hu.MEDIUM,renderIcon:n.A,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1},B.displayName="Token";const K=_((Y,Z)=>{const{entityId:V,disableIdParsing:ne,allowFileToken:q}=Z;let me;(0,O.A)(V)&&!ne&&(me=V);let ue,ae;if(((0,c.Ay)(V)||(0,c.JV)(V))&&!ne){const j=(0,b._J)(Y,V);j&&(ue=V,ae=(0,C.F1)(j))}let le;(0,R.A)(V)&&!ne&&(le=(0,x.xe)(Y,V));let fe;(0,U.A)(V)&&!ne&&(fe=V);const he=ne?void 0:(0,L.OL)(Y,V);let ie;if((0,S.A)(V)&&he){const j=(0,L.MS)(Y);ie=(0,T.i)(j,he)}const X=q&&(0,k.A)(V)?V:void 0;return{channel:he,memberId:me,teamName:ae,teamId:ue,userGroupId:fe,channelSection:le,channelHasNonUniqueName:ie,fileId:X}},"mapStateToProps"),H=(0,W.N)(K,null)(B)},7889060196:(N,g,e)=>{"use strict";e.d(g,{A:()=>y,Q:()=>D});var t=e(3134334389),s=e(3078252698),o=e(8786006583),n=e(862210999),c=e(7715417323),i=e(4348392507),r=e(4426213732),a=e(4094753332),l=e(168261570),d=e(8646591923),u=e(6281592144),f=e(2800152059),m=e(1062586118),h=e(6052171436),v=e(9839643733),p=e(6396024562),T=e(6225228372),A=e(5716050560);function C(){return C=Object.assign||function(P){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(P[S]=M[S])}return P},C.apply(this,arguments)}_(C,"_extends");const I=21;class D extends T.s{componentDidMount(){super.componentDidMount(),this.determineInitialActiveItem(),this.props.disableKeyboardShortcuts||this.bindKeyboardShortcuts(),this.props.focusOnMount&&this.focus()}componentWillUnmount(){super.componentWillUnmount(),this.unbindKeyboardShortcuts()}componentDidUpdate(E,M){super.componentDidUpdate(E,M);const{activeItem:S,onActiveItemChange:R,disableKeyboardShortcuts:k}=this.props,{activeItem:O,hasKeyboardFocus:U,itemWithVisibleContextMenu:W}=this.state;k&&!E.disableKeyboardShortcuts&&this.unbindKeyboardShortcuts(),!k&&E.disableKeyboardShortcuts&&this.bindKeyboardShortcuts();const x=M.activeItem&&O&&O!==M.activeItem;!this.isScrolling()&&!U&&this.determineInitialActiveItem(),S&&S!==E.activeItem&&(this.setActiveItem(S,!0),this.isItemInView(S)||this.scrollToKey(S)),x&&R(O),this.isScrolling()||this.updateFocusIfPreviouslyFocusedItemWasRemoved(E),!W&&M.itemWithVisibleContextMenu&&this.restoreFocusWhenContextMenuCloses&&(this.restoreFocusWhenContextMenuCloses=!1,this.focus()),this.focusOnNextUpdate&&(this.focusOnNextUpdate=!1,this.focus()),this.focusAfterScrollEnd&&!this.isScrolling()&&(this.focusAfterScrollEnd=!1,this.focus())}bindKeyboardShortcuts(){var E;if(this.keyCommands)return;const M=[{keys:["pageup"],handler:this.onKeyDownPageUp},{keys:["pagedown"],handler:this.onKeyDownPageDown},{keys:["home"],handler:this.onKeyDownHome,action:"keydown"},{keys:["end"],handler:this.onKeyDownEnd,action:"keydown"},{keys:["home"],handler:this.onKeyUpHome,action:"keyup"},{keys:["end"],handler:this.onKeyUpEnd,action:"keyup"},{keys:["up","down"],handler:this.onArrowKeyDown}],S=this.props.keyCommands?M.concat(this.props.keyCommands):M;var R;const k=(R=S==null?void 0:S.map(O=>{const U=O.filter;return{...O,filter:this.shouldIgnoreKeyboardShortcut.bind(this,U)}}))!==null&&R!==void 0?R:[];this.keyCommands=new m.A((E=this.props.windowRef.deref())===null||E===void 0?void 0:E.document),this.keyCommands.bindAll(k)}unbindKeyboardShortcuts(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}determineInitialActiveItem(){const{initialActiveItem:E,keysToExcludeFromRovingTabIndex:M}=this.props,{initialActiveItem:S}=this.state,R=this.getFocusableItemsInView().filter(U=>!M.includes(U));if(R.length===0)return;const k=(0,s.A)(S)&&R.includes(S),O=(0,s.A)(E)&&R.includes(E);if(!O&&!k){this.setInitialActiveItemToFirstItemInView();return}O&&!k&&this.setState(U=>U.initialActiveItem===E?null:{initialActiveItem:E})}updateFocusIfPreviouslyFocusedItemWasRemoved(E){let{keys:M}=E;const{initialActiveItem:S,hasKeyboardFocus:R}=this.state,{keys:k,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:O}=this.props;if(this.props.activeItem||!R||!S)return;const U=M.indexOf(S);if(!(U!==-1&&!k.includes(S))||O&&!O())return;const x=k[U]||(0,o.A)(k);x&&this.focusOnKey(x)}getPageHeight(){const{pageHeight:E,height:M}=this.props;return E||M-I}getKeysForFocusableItems(){const{keys:E,isFocusableItem:M}=this.props;return E.filter((S,R)=>M({index:R,key:S}))}getListItemTabIndex(E){const{hasKeyboardFocus:M,initialActiveItem:S}=this.state,{keysToExcludeFromRovingTabIndex:R,preventTabKeyNavigationIntoList:k}=this.props;return R!=null&&R.includes(E)||!M&&k?-1:S===E?0:-1}onKeyDownPageUp(E){if(E.preventDefault(),this.props.onPageUp(E)===!1)return;const M=this.getScrollTop()-this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(M);return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}this.scrollToAndFocusFirstItemInView(M)}onKeyDownPageDown(E){if(E.preventDefault(),this.props.onPageDown(E)===!1)return;const M=this.getScrollTop()+this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(M);return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const S=this.getNextLastFocusableItemInView(M);this.setActiveItem(S??null,!0),this.scrollToOffset(M)}onKeyDownHome(E){if(this.isHomeKeyPressed||(this.isHomeKeyPressed=!0,E.preventDefault(),this.props.onHome(E)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(0,{absolute:!0});return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}const S=this.getKeysForFocusableItems()[0];this.setActiveItem(S,!0),this.scrollToKey(S)}onKeyDownEnd(E){if(this.isEndKeyPressed||(this.isEndKeyPressed=!0,E.preventDefault(),this.props.onEnd(E)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(1/0,{absolute:!0});return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const M=this.getKeysForFocusableItems(),S=M[M.length-1];this.setActiveItem(S,!0),this.scrollToKey(S)}onArrowKeyDown(E){if(E.defaultPrevented)return;if(this.state.hasKeyboardFocus){E.preventDefault(),this.focusNextItem(E.keyCode);return}const M=this.getScrollTop(),S=40;if(E.key==="ArrowUp"){this.scrollToOffset(M-S);return}this.scrollToOffset(M+S)}onKeyUpHome(){this.isHomeKeyPressed=!1}onKeyUpEnd(){this.isEndKeyPressed=!1}onItemFocusEnter(E){const{id:M,relatedEvent:S,currentTarget:R,target:k,hasKeyboardFocus:O}=E,{onItemFocusEnter:U}=this.props,W=O;if(!this.haveActiveItem()&&k===R){this.setActiveItem(M),U(E);return}const L=!this.haveActiveItem()&&!S&&R.contains(k),b=this.isValidInitialActiveItem(M)?M:this.state.initialActiveItem;L&&this.setState(()=>({hasKeyboardFocus:W,activeItem:null,initialActiveItem:b})),U(E)}onItemFocusWithin(E){const{id:M,currentTarget:S,target:R}=E,{onItemFocusWithin:k}=this.props;if(R===S){this.setActiveItem(M),k(E);return}const O=this.isValidInitialActiveItem(M)?M:this.state.initialActiveItem;this.setState(()=>({activeItem:null,initialActiveItem:O})),k(E)}onItemTabWithin(E){this.props.onItemTabWithin(E)}onFocusEnter(E){const{relatedEvent:M,target:S}=E;if(M&&M.type==="mousedown"||S&&(S instanceof HTMLMediaElement||S.dataset.mediaFocusContainer))return;const R=!M,O=M&&M.type==="keydown"||R;if(!O){this.props.onFocusEnter(E);return}this.props.onFocusEnter({isKeyboardFocus:O,...E})}onFocusLeave(E){const{onFocusLeave:M}=this.props,S=this.state.activeItem,k={activeItem:null,hasKeyboardFocus:!1,initialActiveItem:this.isValidInitialActiveItem(S)?S:this.state.initialActiveItem,isInitialFocusInRange:!1},O={activeItem:S,...E};this.setState(()=>k,()=>{M(O)})}onFocusedElementRemoved(){this.state.hasKeyboardFocus&&this.focus()}onItemContextMenu(E,M,S){let{hasKeyboardFocus:R}=S;const{onItemContextMenu:k}=this.props;if(k&&k(E,M,{hasKeyboardFocus:R}),!E.defaultPrevented)return;const O=this.getTargetBoundsForContextMenu(E);this.restoreFocusWhenContextMenuCloses=this.state.hasKeyboardFocus,this.setState(()=>({itemWithVisibleContextMenu:M,contextMenuTargetBounds:O}))}onItemMouseDown(E,M){const{onItemMouseDown:S}=this.props;S&&S(E,M??"");const R=this.isValidInitialActiveItem(M)?M:this.state.initialActiveItem;this.setState(()=>({hasKeyboardFocus:!1,activeItem:null,initialActiveItem:R}))}focus(){if(this.isScrolling()){this.focusAfterScrollEnd=!0;return}const E=this.state.initialActiveItem;if(E&&this.isItemInView(E)){this.setActiveItem(E,!0);return}this.scrollToAndFocusFirstItemInView()||(this.focusOnNextUpdate=!0)}focusOnKey(E){let{offset:M=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{keys:S}=this.props;return E&&S.indexOf(E)!==-1?(this.setActiveItem(E,!0),this.isItemInView(E)||this.scrollToKey(E,{offset:M}),!0):!1}scrollToAndFocusFirstItemInView(E){const M=this.getNextFirstFocusableItemInView(E);return M?(this.setActiveItem(M,!0),this.scrollToKey(M),!0):!1}blur(){var E,M;const S=(E=this.props.windowRef.deref())===null||E===void 0?void 0:E.document.activeElement;!((M=this.getScrollerRef())===null||M===void 0)&&M.contains(S)&&S.blur()}getActiveItem(){return this.state.activeItem}getTargetBoundsForContextMenu(E){if(!this.state.hasKeyboardFocus)return(0,p.h)({left:E.pageX,top:E.pageY});const{left:M,top:S,width:R,height:k}=E.currentTarget.getBoundingClientRect();return(0,p.h)({left:M+R/2,top:S+k/2})}closeContextMenu(){this.setState(()=>({itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}))}isValidInitialActiveItem(E){const{isFocusableItem:M,keys:S,keysToExcludeFromRovingTabIndex:R}=this.props;return E===null?!1:M({index:S.indexOf(E),key:E})&&!R.includes(E)}shouldIgnoreKeyboardShortcut(E,M){var S,R;const{ignoreKeyCommandsOnInputs:k,useGlobalKeyboardShortcuts:O}=this.props,U=M.target,W=(S=this.getScrollerRef())===null||S===void 0?void 0:S.contains(U),x=(0,n.A)(k)?k():k;return O&&!W&&U!==((R=this.props.windowRef.deref())===null||R===void 0?void 0:R.document.body)||!O&&!W?!0:U.matches(".c-virtual_list__item")?!1:!!(x&&((0,l.A)(U)||(0,f.Ay)(U))||E&&E(M))}setActiveItem(E){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const S=this.isValidInitialActiveItem(E)?E:this.state.initialActiveItem;this.setState(()=>({hasKeyboardFocus:!0,activeItem:E,initialActiveItem:S,isInitialFocusInRange:M}))}setInitialActiveItem(E){this.isValidInitialActiveItem(E)&&this.setState(()=>({initialActiveItem:E}))}haveActiveItem(){return this.state.activeItem!==null}getUniqueItemId(E){const{id:M}=this.props;return M?`${M}_${E}`:E}focusFirstItemInView(){const E=this.getFocusableItemsInView()[0];this.state.activeItem!==E&&this.setActiveItem(E,!0)}focusLastItemInView(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const M=this.getFocusableItemsInView(void 0,E),S=M[M.length-1];this.state.activeItem!==S&&this.setActiveItem(S,!0)}focusNextItem(E){const M=this.getNextActiveItem(E,this.state.activeItem);M&&(this.setActiveItem(M,!1),this.isItemInView(M,this.layout.anchorOffset)||this.scrollToKey(M,{offset:this.props.arrowNavigationOffset}))}getFocusableItemsInView(E,M){const{keys:S,isFocusableItem:R}=this.props,{start:k,end:O}=this.getVisibleRange(E,M);return(k===O?S.slice(k,k+1):S.slice(k,O)).filter(W=>R({index:S.indexOf(W),key:W}))}getNextFirstFocusableItemInView(E){const M=this.state.activeItem,S=this.getFocusableItemsInView(E)[0];return S&&S===M||!S&&M?this.getNextActiveItem(d.i7,M):S}getNextLastFocusableItemInView(E){const M=this.state.activeItem,S=this.getFocusableItemsInView(E),R=S[S.length-1];return R&&R===M||!R&&M?this.getNextActiveItem(d.n6,M):R}getInitialActiveItem(){return this.state.initialActiveItem}getNextActiveItem(E,M){const S=this.state.initialActiveItem;if(!this.haveActiveItem())return S&&!this.isItemInView(S)?this.getNextFirstFocusableItemInView():S||this.getNextFirstFocusableItemInView();const R=M,k=this.props.keys.indexOf(R),O=E===d.i7?k-1:k+1,U=this.props.keys[O];return U&&!this.props.isFocusableItem({index:O,key:U})?this.getNextActiveItem(E,U):U}getTabIndex(){return!this.shouldUseARIAApplicationRole()&&(0,a.uF)()?-1:void 0}setInitialActiveItemToFirstItemInView(){const{keysToExcludeFromRovingTabIndex:E}=this.props,M=this.getFocusableItemsInView().find(S=>!E.includes(S));M&&this.setState(S=>S.initialActiveItem===M?null:{initialActiveItem:M})}shouldUseARIAApplicationRole(){const{useARIAApplicationForListViews:E}=this.context;return!(0,a.uF)()||!this.props.useApplicationRole?!1:!!E}renderContextMenu(){const{itemWithVisibleContextMenu:E,contextMenuTargetBounds:M}=this.state;if(!E||!M)return null;const S={targetBounds:M,onCloseRequested:this.closeContextMenu};return this.props.renderContextMenuForItem(E,S)}renderItem(E,M){const{activeItem:S,initialActiveItem:R,hasKeyboardFocus:k}=this.state,O=this.getTop(E),U=this.layout.getHeight(E),W=S===E,x=S===null&&k&&R===E,L=this.isItemInView(E),b=this.layout.getHeightValidity(E),F=k&&!this.isScrolling()?this.getNextFirstFocusableItemInView():void 0,{rowRenderer:B,getPropsForItem:K,onItemClick:H,onItemKeyDown:Y,onItemFocusLeave:Z,shouldHorizontallyScroll:V,useStaticHeightForListItems:ne,width:q,keysToExcludeFromRovingTabIndex:me}=this.props,ue=this.getUniqueItemId(E),ae=W&&this.state.isInitialFocusInRange,le=this.state.itemWithVisibleContextMenu===E,fe=!me.includes(E),he=R===E,ie=K({key:E,index:M,isInitialFocusInRange:ae,hasFocus:W,activeItem:S,initialActiveItem:R,firstItemInView:F})||{};return t.createElement(A.Ay,C({tabIndex:this.getListItemTabIndex(E),"aria-setsize":"-1"},ie,{supportRovingTabIndex:fe,id:ue,itemKey:E,key:E,height:U,isCachedHeightValid:b,top:O,hasFocus:W,hasFocusWithin:x,contextMenuVisible:le,onFocusEnter:this.onItemFocusEnter,onFocusWithin:this.onItemFocusWithin,onFocusLeave:Z,onTabWithin:this.onItemTabWithin,onHeightChange:this.setHeight,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:H,onKeyDown:Y,shouldHorizontallyScroll:V,useStaticHeight:ne,isInitialActiveItem:he,resizeObserver:this.resizeObserver}),B(M,{key:E,hasFocus:W,hasFocusWithin:x,itemId:ue,listWidth:q,isInView:L,isExpanded:ie["aria-expanded"],hasContextMenu:le}))}render(){const E=this.shouldUseARIAApplicationRole()?"application":"presentation";return t.createElement(t.Fragment,null,t.createElement(h.A,{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},t.createElement(u.A,{onFocus:c.A,onBlur:c.A,onFocusedElementRemoved:this.onFocusedElementRemoved},t.createElement("div",{role:E,id:this.props.id},super.render()))),this.renderContextMenu())}constructor(E){super(E),(0,r.v)(this,["onFocusEnter","onFocusLeave","onFocusedElementRemoved","onItemMouseDown","onItemFocusEnter","onItemFocusWithin","onItemTabWithin","onItemContextMenu","closeContextMenu","focus","onKeyDownPageUp","onKeyDownPageDown","onKeyDownHome","onKeyDownEnd","onKeyUpHome","onKeyUpEnd","onArrowKeyDown"]),this.state={...this.state,initialActiveItem:null,activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1,itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}}}_(D,"BaseKeyboardNavigableList"),D.contextType=v.I,D.defaultProps={...T.s.defaultProps,activeItem:void 0,initialActiveItem:void 0,isFocusableItem:()=>!0,onFocusEnter:c.A,onFocusLeave:c.A,onPageUp:c.A,onPageDown:c.A,onHome:c.A,onEnd:c.A,onItemClick:c.A,onItemMouseDown:c.A,onItemKeyDown:c.A,onItemTabWithin:c.A,onItemFocusEnter:c.A,onItemFocusWithin:c.A,onItemFocusLeave:c.A,onItemContextMenu:c.A,onActiveItemChange:c.A,keyCommands:void 0,pageHeight:void 0,ignoreKeyCommandsOnInputs:!0,getPropsForItem:c.A,preventTabKeyNavigationIntoList:!1,renderContextMenuForItem:c.A,disableKeyboardShortcuts:!1,useGlobalKeyboardShortcuts:!1,keysToExcludeFromRovingTabIndex:[],useApplicationRole:!0,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:()=>!0},D.displayName="BaseKeyboardNavigableList";const y=(0,i.A)(D)},5716050560:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>y,Gn:()=>C});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(2053254856),c=e.n(n),i=e(3078252698),r=e(7715417323),a=e(4348392507),l=e(4426213732),d=e(3527550343),u=e(6163403996),f=e(6695894399),m=e(4757466470),h=e(7323656146),v=e(6052171436);function p(){return p=Object.assign||function(P){for(var E=1;E<arguments.length;E++){var M=arguments[E];for(var S in M)Object.prototype.hasOwnProperty.call(M,S)&&(P[S]=M[S])}return P},p.apply(this,arguments)}_(p,"_extends");const T=c()("enter"),A=c()("tab"),C="c-virtual_list__item";let I=_(class extends t.Component{componentDidMount(){const{useStaticHeight:E,supportRovingTabIndex:M,isInitialActiveItem:S,hasKeyboardFocus:R,resizeObserver:k,isCachedHeightValid:O}=this.props;if(this.node){if(!k&&!E){var U;(U=this.mutationObserver)===null||U===void 0||U.observe(this.node,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.node.addEventListener("load",this.updateHeight,!0)}k&&k.observe(this.node,{box:"border-box"})}O||this.updateHeight(),this.maybeFocusNode(),R&&M&&!S&&this.removeChildrenFromTabFlow()}shouldComponentUpdate(E){const{children:M,isCachedHeightValid:S,height:R,top:k,zIndex:O,resizeObserver:U,...W}=this.props,{children:x,isCachedHeightValid:L,height:b,top:F,zIndex:B,...K}=E;return k!==F||O!==B||R!==b||!L||!U&&M&&x&&(!(0,m.Ay)(x.props,M.props)||x.key!==M.key)?!0:!(0,m.Ay)(W,K)}componentDidUpdate(){const{useStaticHeight:E,isInitialActiveItem:M,supportRovingTabIndex:S,hasKeyboardFocus:R,resizeObserver:k}=this.props;!k&&!E&&this.updateHeight(),this.maybeFocusNode(),R&&S&&(M||this.removeChildrenFromTabFlow(),M&&this.restoreChildrenIntoTabFlow())}componentWillUnmount(){const{resizeObserver:E}=this.props;this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null,this.node&&this.node.removeEventListener("load",this.updateHeight,!0)),this.node&&E&&E.unobserve(this.node)}onClick(E){E.id=this.props.itemKey,this.props.onClick(E)}onFocusEnter(E){const{relatedEvent:M,target:S,currentTarget:R}=E,{itemKey:k,onTabWithin:O,onFocusEnter:U,hasKeyboardFocus:W}=this.props;if(M&&M.type==="mousedown"||S&&(S instanceof HTMLMediaElement||S.dataset.mediaFocusContainer))return;(M&&M.keyCode)===A&&R!==S&&O({id:k,hasKeyboardFocus:W,...E}),U({id:k,hasKeyboardFocus:W,...E})}onFocusLeave(E){const{itemKey:M,onFocusLeave:S,hasKeyboardFocus:R}=this.props;S({id:M,hasKeyboardFocus:R,...E})}onFocusWithin(E){const{relatedEvent:M}=E,{itemKey:S,onTabWithin:R,onFocusWithin:k,hasKeyboardFocus:O}=this.props;if(M&&M.type==="mousedown")return;(M&&M.keyCode)===A&&R({id:S,hasKeyboardFocus:O,...E}),k({id:S,hasKeyboardFocus:O,...E})}onKeyDown(E){const{target:M,currentTarget:S,keyCode:R}=E,{itemKey:k,onKeyDown:O,onClick:U}=this.props;M===S&&(O({id:k,...E,preventDefault:E.preventDefault,stopPropagation:E.stopPropagation}),R===T&&U({id:k,...E,preventDefault:E.preventDefault,stopPropagation:E.stopPropagation}))}onContextMenu(E){const{itemKey:M,onContextMenu:S,hasKeyboardFocus:R}=this.props;E!=null&&E.altKey||S(E,M,{hasKeyboardFocus:R})}onMouseDown(E){const{itemKey:M,onMouseDown:S}=this.props;S(E,M)}setRef(E){this.node=E}maybeFocusNode(){this.props.hasFocus&&this.node&&this.node.focus()}updateHeight(){const{height:E,isCachedHeightValid:M,itemKey:S,onHeightChange:R}=this.props;if(!this.node)return;const{height:k}=this.node.getBoundingClientRect();(Math.abs(k-E)>.5||!M)&&R(S,k)}removeChildrenFromTabFlow(){const E=this.node;if(!E)return;(0,d.rO)(E).forEach(S=>{const R=S.getAttribute("tabindex");S.setAttribute("tabindex","-1"),S.dataset.removeTabIndex="true",(0,i.A)(R)&&(S.dataset.tabIndexToRestore=R)})}restoreChildrenIntoTabFlow(){const E=this.node;E&&E.querySelectorAll("[data-remove-tab-index]").forEach(M=>{if(!(0,u.A)(M,this.props.windowRef.deref()))return;const S=M.dataset.tabIndexToRestore;(0,i.A)(S)?M.setAttribute("tabindex",S):M.removeAttribute("tabindex"),delete M.dataset.removeTabIndex,delete M.dataset.tabIndexToRestore})}render(){if(!this.props.children)return null;const{id:E,children:M,onFocusEnter:S,onFocusWithin:R,onFocusLeave:k,onHeightChange:O,onMouseDown:U,onClick:W,onKeyDown:x,onContextMenu:L,onTabWithin:b,className:F,top:B,zIndex:K,role:H,height:Y,isCachedHeightValid:Z,hasFocus:V,hasFocusWithin:ne,hideFocusRing:q,shouldHorizontallyScroll:me,tabIndex:ue,itemKey:ae,useStaticHeight:le,hasKeyboardFocus:fe,dataQA:he,contextMenuVisible:ie,isInitialActiveItem:X,supportRovingTabIndex:j,forceTop:w,resizeObserver:Q,windowId:G,windowToken:J,windowRef:te,...se}=this.props,ce=o()(F,C,{[`${C}--focus`]:V&&fe&&!q,[`${C}--focus-within`]:ne,[`${C}--auto_width`]:me,[`${C}--contextmenu-visible`]:ie});return t.createElement(v.A,{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},t.createElement("div",p({},(0,f.A)(se),{onMouseDown:this.onMouseDown,onClick:this.onClick,onKeyDown:this.onKeyDown,onContextMenu:this.onContextMenu,className:ce,tabIndex:ue,role:H,style:le?{top:w??B,height:Y,zIndex:K}:{top:w??B,zIndex:K},ref:this.setRef,id:E,"data-qa":he||"virtual-list-item","data-item-key":ae}),M))}constructor(E){super(E),this.setRef=this.setRef.bind(this),(0,l.v)(this,["onFocusEnter","onFocusWithin","onFocusLeave","onMouseDown","onClick","onKeyDown","onContextMenu","updateHeight"]),E.useStaticHeight||(this.mutationObserver=new MutationObserver(this.updateHeight)),this.node=null}},"ListItem");I.defaultProps={children:null,onFocusEnter:r.A,onFocusWithin:r.A,onFocusLeave:r.A,onHeightChange:r.A,onMouseDown:r.A,onClick:r.A,onKeyDown:r.A,onContextMenu:r.A,onTabWithin:r.A,className:"",top:void 0,zIndex:void 0,role:"listitem",height:0,isCachedHeightValid:!0,hasFocus:!1,hasFocusWithin:!1,shouldHorizontallyScroll:!1,tabIndex:-1,useStaticHeight:!1,dataQA:null,contextMenuVisible:!1,isInitialActiveItem:!1,hideFocusRing:!1,supportRovingTabIndex:!0,forceTop:void 0,resizeObserver:void 0},I.displayName="ListItem";const D=_(function(E){const M=(0,t.useContext)(h.A);return t.createElement(I,p({},E,{hasKeyboardFocus:M}))},"WithKeyboardFocusListItem");D.displayName="WithKeyboardFocusListItem";const y=t.memo((0,a.A)(D))},6225228372:(N,g,e)=>{"use strict";e.d(g,{A:()=>P,s:()=>y});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(7715417323),c=e(4348392507),i=e(8851980998),r=e(7639461119),a=e(1767602757),l=e(4426213732),d=e(124320166),u=e(9714187984),f=e(4757466470),m=e(7282270866),h=e(3419042542),v=e(7744706116),p=e(6943667706),T=e(5716050560),A=e(2250002584);function C(){return C=Object.assign||function(E){for(var M=1;M<arguments.length;M++){var S=arguments[M];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(E[R]=S[R])}return E},C.apply(this,arguments)}_(C,"_extends");const I=50,D=_(E=>{const{borderBoxSize:M,target:S}=E,R=M==null?void 0:M[0],k=R==null?void 0:R.blockSize;return k??S.getBoundingClientRect().height},"getItemHeight");class y extends t.Component{componentDidMount(){var M;(M=this.props.windowRef.deref())===null||M===void 0||M.document.addEventListener("selectionchange",this.onSelectionChange)}componentDidUpdate(M,S){this.scrollOnUpdateCallback&&(this.scrollOnUpdateCallback(),this.scrollOnUpdateCallback=null)}shouldComponentUpdate(M,S){return!(0,f.Ay)(M,this.props)||!(0,f.Ay)(S,this.state)}UNSAFE_componentWillReceiveProps(M){const{useStaticHeightForListItems:S,width:R}=this.props;!S&&!this.useResizeObserver&&M.width!==R&&this.layout.heightCache.invalidate(),this.layout.setKeys(M.keys),this.relayout()}componentWillUnmount(){this.scrollStartTimeout&&clearTimeout(this.scrollStartTimeout);const M=this.props.windowRef.deref();M&&M.document.removeEventListener("selectionchange",this.onSelectionChange),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}onContentScroll(M){this.props.onContentScroll(M)}onScroll(M){this.onScrollEnd();const{start:S,end:R}=this.state,{keys:k}=this.props;if(!(S===0&&R===k.length)){const U=this.getScrollTop();if(this.props.metricsTag){const[W,x]=this.prevBounds;let L;U<W?L=Math.abs(W-U):U>x&&(L=Math.abs(U-x)),L&&this.janks.push(L)}this.relayout()}!this.scrollStartTimeout&&!this.isScrolling()&&M.target===this.getScrollerRef()&&(this.scrollStartTimeout=setTimeout(this.onScrollStart,I*2)),this.props.onScroll(M,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}onScrollEnd(){if(this.scrollStartTimeout&&(clearTimeout(this.scrollStartTimeout),this.scrollStartTimeout=null),this.props.metricsTag){const M=this.props.tracer||(0,A.F)(),S=M.createMetricsTrace({label:"virtual-list",samplingOptions:{sampleRate:.01,sampleType:i.tS.CALL},tags:{list_type:this.props.metricsTag,overscan_ratio:this.props.overscanRatio}});let R=0,k=0;for(const U of this.janks)R+=U,U>k&&(k=U);const O=this.janks.length;S.count({name:"jank",value:O}),S.store({name:"jank-px:avg",value:O?Math.round(R/O):0}),S.store({name:"jank-px:max",value:k}),M.reportTrace(S),this.janks=[]}this.setState(M=>M.scrolling?{scrolling:!1}:null)}onScrollStart(){this.setState(()=>({scrolling:!0}),this.onScrollEnd),this.scrollStartTimeout=null}onSelectionChange(){if(!this.scrollbar)return;const M=this.props.windowRef.deref(),S=(M==null?void 0:M.getSelection)&&(M==null?void 0:M.getSelection());S&&S.type==="Range"&&this.contentNode&&this.contentNode.contains(S.anchorNode)?(this.isSelecting=!0,this.selectionStart=this.props.keys[this.state.start],this.selectionEnd=this.props.keys[this.state.end-1]):(this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null),this.props.onSelectionChange(this.isSelecting)}onItemContextMenu(M,S,R){let{hasKeyboardFocus:k}=R;this.props.onItemContextMenu(M,S,{hasKeyboardFocus:k})}onItemResize(M){M.reduce((k,O)=>{const U=O.target.getAttribute("data-item-key"),W=D(O);return this.setHeight(U,W,!0)?!0:k},!1)&&this.relayout()}getBottom(M){return this.layout.getBottom(M)}getBounds(M,S){this.onSelectionChange();let R=M,k=S;return this.selectionStart&&(R=Math.min(R,this.layout.getTop(this.selectionStart))),this.selectionEnd&&(k=Math.max(k,this.layout.getTop(this.selectionEnd))),this.layout.getBounds(R,k)}getBoundingClientRect(){return this.getScrollerRef().getBoundingClientRect()}getClassName(){return o()("c-virtual_list","c-virtual_list--scrollbar",this.props.className)}getContainerHeight(){return this.props.height}getContentHeight(){return this.layout.getTotalHeight()+this.getSiblingNodeHeight()}getSiblingNodeHeight(){if(!this.siblingNode)return 0;const{height:M}=this.siblingNode.getBoundingClientRect();return M}getContentsClassName(){return o()("c-virtual_list__scroll_container",this.props.containerClassName,{"c-virtual_list__scroll_container--scrolling":this.isScrolling()&&!this.isSelecting})}getScrollTop(){return this.scrollbar&&this.scrollbar.scrollTop()||0}getScrollerRef(){var M;return(M=this.scrollbar)===null||M===void 0?void 0:M.scroller}getTop(M){return this.layout.getTop(M)}getVisibleRange(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getScrollTop(),S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{keys:R,height:k}=this.props,{start:O,end:U}=this.layout.getBounds(M,M+k);if(S)return{start:O,end:U};const W=this.layout.getTop(R[O])<M-1?O+1:O,x=this.layout.getBottom(R[U-1])>M+k+1?U-1:U,L=Math.min(W,R.length-1),b=Math.max(x,L);return{start:L,end:b}}setContentRef(M){this.contentNode=M}setSiblingNodeRef(M){this.siblingNode=M}setHeight(M,S){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!M)return!1;const k=this.layout.getHeight(M);return this.useResizeObserver&&(0,a.W)(S,k,1)||!this.useResizeObserver&&Math.abs(S-k)<.5?!1:(this.layout.setHeight(M,S),R||this.relayout(),!0)}setScrollbarRef(M){this.scrollbar=M}setScrollTop(M){this.scrollbar&&this.scrollbar.scrollTop(Math.ceil(M))}getItemsToRender(){const{keys:M,persistentKeys:S,usePersistentOrder:R}=this.props,{start:k,end:O}=this.state,U=[];if(R){const L={};for(let b=0;b<S.length;b++)L[S[b]]=!0;this.layout instanceof m.A&&this.layout.anchor&&!L[this.layout.anchor]&&(L[this.layout.anchor]=!0);for(let b=0;b<M.length;b++){const F=M[b];F&&(L[F]||b>=k&&b<=O)&&U.push({key:F,index:b})}}else{for(let L=k;L<O;L++){const b=M[L];b&&U.push({key:b,index:L})}S.forEach(L=>{const b=M.indexOf(L);b<0||b>=k&&b<O||U.push({key:L,index:b})}),this.layout instanceof m.A&&this.layout.anchor&&!S.includes(this.layout.anchor)&&U.push({key:this.layout.anchor,index:M.indexOf(this.layout.anchor)})}const W=M[k],x=M[O];return W&&x&&(this.prevBounds=[this.layout.getTop(W),this.layout.getBottom(x)]),U}getTabIndex(){}bracketScrollTop(M){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,M))}isItemAboveView(M){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const R=this.getScrollTop()+S;return this.layout.getBottom(M)<R}isItemBelowView(M){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const R=this.getScrollTop();return this.layout.getTop(M)>R+(this.props.height-S)}isItemInView(M){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const R=this.getScrollTop(),k=this.layout.getTop(M),O=R+S,U=R+(this.props.height-S);return k>=O&&k<=U}isScrolledToBottom(){return this.getScrollTop()+this.getContainerHeight()>=this.layout.getTotalHeight()-1}isScrolledToTop(){return Math.floor(this.getScrollTop())<=1}isScrolling(){return this.state.scrolling}relayout(){this.setState((M,S)=>{const R=this.getScrollTop(),k=S.height*S.overscanRatio,O=R-k,U=R+S.height+k,{start:W,end:x}=this.getBounds(O,U),L=this.layout.getTops(),b=this.layout.getTotalHeight();return W===M.start&&x===M.end&&L===M.tops&&b===M.totalHeight?null:{start:W,end:x,tops:L,totalHeight:b}},()=>{const M=this.state.totalHeight&&this.state.totalHeight>this.props.height||!1;this.props.onOverflow&&this.props.onOverflow(M)})}scrollToKey(M){let{lazy:S,animate:R,offset:k=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S&&this.isItemInView(M))return;if(!this.scrollbar){this.scrollOnUpdateCallback=()=>{this.scrollToKey(M,{lazy:S,animate:R,offset:k})};return}const O=this.layout.getOffsetForKey(M);this.scrollToOffset(O+k,{animate:R})}scrollToOffset(M){let{animate:S,lazy:R}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.scrollbar&&!R)return;const k=this.scrollbar&&S,O=_(()=>{const U=this.bracketScrollTop(M);if(k){var W;(W=this.scrollbar)===null||W===void 0||W.scrollWithAnimation(U);return}this.scrollTop=U,this.setScrollTop(U)},"scrollToOffsetInternal");this.scrollbar?O():this.scrollOnUpdateCallback=O}renderContents(){const M=this.getContentsClassName(),S=this.getContentHeight()-this.getSiblingNodeHeight(),R=this.renderItems(),{role:k,"aria-label":O,"aria-labelledby":U,"aria-describedby":W}=this.props;return t.createElement("div",{"data-qa":"slack_kit_list",ref:this.setContentRef,className:M,role:k,tabIndex:this.getTabIndex(),"aria-label":O,"aria-labelledby":U,"aria-describedby":W,style:{position:"relative",height:S}},R)}renderItem(M,S){const R=this.getTop(M),k=this.layout.getHeight(M),O=this.layout.getHeightValidity(M),{rowRenderer:U,getPropsForItem:W,shouldHorizontallyScroll:x}=this.props,L=W({key:M,index:S})||{};return t.createElement(T.Ay,C({},L,{id:M,itemKey:M,key:M,height:k,top:R,onHeightChange:this.setHeight,onContextMenu:this.onItemContextMenu,isCachedHeightValid:O,shouldHorizontallyScroll:x,useStaticHeight:this.props.useStaticHeightForListItems,"aria-setsize":"-1",resizeObserver:this.resizeObserver}),U(S,{key:M,isExpanded:L["aria-expanded"]}))}renderItems(){return this.getItemsToRender().map(S=>{let{key:R,index:k}=S;return this.renderItem(R,k)})}render(){const{width:M,height:S}=this.props;if(!M||!S)return null;const R=this.getClassName(),k=this.renderContents(),O=this.props.isSiblingNodeFirst,U=t.createElement("div",{className:"c-virtual_list__sibling_container",ref:this.setSiblingNodeRef},this.props.siblingNode);return t.createElement(v.A,{className:R,width:M,height:this.getContainerHeight(),contentHeight:this.getContentHeight(),trackTop:12,onTrackClick:p.d.track.page,onScroll:this.onScroll,onContentScroll:this.onContentScroll,anchor:"bottom",role:"presentation",id:this.props.id,ref:this.setScrollbarRef,fade:this.props.fadeScrollbar,useFixedTrackHeight:this.props.useFixedTrackHeightForScrollbar,alwaysVisible:this.props.scrollbarAlwaysVisible||this.state.hasKeyboardFocus,initialScrollTop:this.props.initialScrollTop},O&&U,k,!O&&U)}constructor(M){super(M),this.prevBounds=[-1/0,1/0],this.janks=[],(0,l.v)(this,["onScroll","onContentScroll","onSelectionChange","setScrollbarRef","setContentRef","setSiblingNodeRef","setHeight","getScrollTop","getVisibleRange","isItemInView","onScrollStart","onItemContextMenu","onItemResize"]),this.onScrollEnd=(0,d.A)(this.onScrollEnd.bind(this),I,M.windowRef),this.layout=M.layout||new h.A({}),this.useResizeObserver=!!M.useResizeObserver&&!M.useStaticHeightForListItems&&(0,r.fW)(u.V8);const S=M.windowRef.deref();this.resizeObserver=this.useResizeObserver&&S?new S.ResizeObserver(this.onItemResize):void 0,this.scrollbar=null,this.contentNode=null,this.siblingNode=null,this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null,this.scrollStartTimeout=null,this.scrollOnUpdateCallback=null,this.layout.setKeys(M.keys);const{start:R,end:k}=this.getBounds(0,M.height);this.state={start:R,end:k,scrolling:!1}}}_(y,"BaseList"),y.defaultProps={className:"",containerClassName:"",layout:void 0,role:"list","aria-label":void 0,"aria-labelledby":void 0,"aria-describedby":void 0,persistentKeys:[],usePersistentOrder:!0,fadeScrollbar:!1,onScroll:n.A,onContentScroll:n.A,onSelectionChange:n.A,onItemContextMenu:n.A,getPropsForItem:n.A,shouldHorizontallyScroll:!1,scrollbarAlwaysVisible:!1,id:void 0,useStaticHeightForListItems:!1,useFixedTrackHeightForScrollbar:!1,initialScrollTop:0,overscanRatio:.5,siblingNode:null,isSiblingNodeFirst:!1,metricsTag:null,tracer:null,useResizeObserver:!0},y.displayName="BaseList";const P=(0,c.A)(y)},5279892721:(N,g,e)=>{"use strict";e.d(g,{CH:()=>o,Rw:()=>i,gQ:()=>n,jU:()=>t,kP:()=>c});const t={OpenAddPeopleModal:"add_to_channel_open_add_people_modal",OpenInternalMemberSpeedbump:"add_to_channel_open_internal_member_speedbump",ClickBackButton:"add_to_channel_click_back_button"},s={BackButton:"back_button",SubmitButton:"submit_button",LearnMore:"learn_more",CloseModal:"close_modal",ConfirmExternalRadio:"confirm_external",ConfirmInternalRadio:"confirm_internal",SlackConnectRadio:"slack_connect",GuestRadio:"guest"},o={BackButton:"back_button",ShowSpeedBumpButton:"show_speed_bump_button",CancelSpeedBumpButton:"cancel_speed_bump_button",NextButton:"next_button",SubmitButton:"submit_button",PendingInvitesLink:"pending_invites_link",EmailPreviewButton:"email_preview_button",UpgradeButton:"see_upgrade_options_button"},n={Initial:1,InviteTypeExternal:3,SharedChannelNoteExternal:4,InviteTypeInternal:5,SharedChannelNoteInternal:6,Confirmation:7,SharedChannelExternalLimitedExternal:8,SharedChannelExternalLimitedInternal:9,InviteTypeInternalOrgMember:10,SelectWorkspace:11};var c;(function(r){r.CanvasTemplate="canvas_template",r.ChannelCreateModal="channel_create_modal",r.ChannelDetails="channel_details",r.ChannelInviteSuggestionsFileShareSlackbotMessage="channel_invite_suggestions_file_share_slackbot_message",r.ConnectedSection="connected_section",r.CreatorGuidedSetupInvitationCoachmark="creator_guided_setup_invitation_coachmark",r.EmailLinkMenu="email_link_menu",r.IADetailsPopover="popover_details",r.InviteToConversationShortcut="invite_to_conversation_shortcut",r.InviteToChannelReduxAction="invite_to_channel_redux_action",r.MembersInviteByEmail="members_invite_by_email",r.MessagePane="message_pane",r.NotConnectedSection="not_connected_section",r.SlackbotPrivateChannelSpeedbump="slackbot_private_channel_speedbump",r.SlackConnectAddToChannelModal="slack_connect_add_to_channel_modal",r.SlackConnectChannelModal="slack_connect_channel_modal",r.Unknown="unknown",r.ExternalLinkViaChannelCreateModal="external_link_via_channel_create_modal",r.AppMenuViaChannelCreateModal="app_menu_via_channel_create_modal",r.ChannelSidebarViaChannelCreateModal="channel_sidebar_via_channel_create_modal",r.ChannelSidebarStandardSectionViaChannelCreateModal="channel_sidebar_standard_section_via_channel_create_modal",r.ChannelBrowserViaChannelCreateModal="channel_browser_via_channel_create_modal",r.CalendarChannelCreateViaChannelCreateModal="calendar-channel-create_via_channel_create_modal",r.ShareChannelByEmailModalViaChannelCreateModal="share_channel_by_email_modal_via_channel_create_modal",r.ChannelSidebarAddMoreViaChannelCreateModal="channel_sidebar_add_more_via_channel_create_modal",r.ComposerDestinationMpdmAlertViaChannelCreateModal="composer_destination_mpdm_alert_via_channel_create_modal",r.ComposerEscapeHatchViaChannelCreateModal="composer_escape_hatch_via_channel_create_modal",r.DMBrowserViaChannelCreateModal="dm_browser_via_channel_create_modal",r.HomeHeaderViaChannelCreateModal="home_header_via_channel_create_modal",r.InviteToWorkspaceModalViaChannelCreateModal="invite_to_workspace_modal_via_channel_create_modal",r.TeamMenuViaChannelCreateModal="team_menu_via_channel_create_modal",r.ChannelSearchEduViaChannelCreateModal="channel_search_edu_via_channel_create_modal",r.ServiceChannelPickerViaChannelCreateModal="service_channel_picker_via_channel_create_modal",r.CreateChannelShortcutViaChannelCreateModal="create_channel_shortcut_via_channel_create_modal",r.SlackConnectDmTrialBannerViaChannelCreateModal="slack_connect_dm_trial_banner_via_channel_create_modal",r.TrialTrySlackConnectForChannelsModalViaChannelCreateModal="trial_try_slack_connect_for_channels_modal_via_channel_create_modal",r.GlobalActionsViaChannelCreateModal="global_actions_via_channel_create_modal",r.EmailObjectViaChannelCreateModal="email_object_via_channel_create_modal",r.DeepLinkViaChannelCreateModal="deep_link_via_channel_create_modal",r.ExternalConnectDeepLinkViaChannelCreateModal="external_connect_deeplink_via_channel_create_modal",r.SlashCommandViaChannelCreateModal="slash_command_via_channel_create_modal",r.OmniSwitcherViaChannelCreateModal="omniswitcher_via_channel_create_modal",r.InstantSlackChannelForeword="instant_slack_channel_foreword",r.SlackConnectChannelSidebarViaChannelCreateModal="slack_connect_channel_sidebar_via_channel_create_modal",r.SlackConnectHubHeaderViaChannelCreateModal="slack_connect_hub_header_via_channel_create_modal",r.OrganizationsEmptyStateViaChannelCreateModal="manage_shared_channels_org_empty_state_via_channel_create_modal",r.ChannelSidebarSlackConnectPlusViaChannelCreateModal="channel_sidebar_slack_connect_plus_via_channel_create_modal",r.MpdmDetailsViaChannelCreateModal="mpdm_details_via_channel_create_modal",r.ListChannelColumnViaChannelCreateModal="list_channel_column_via_channel_create_modal",r.ResurrectedUserWelcomeViaChannelCreateModal="resurrected_user_welcome_via_channel_create_modal",r.SolutionGuideViaChannelCreateModeal="solution_guide_via_channel_create_modal"})(c||(c={}));var i;(function(r){r.TrialEligible="trial_eligible",r.TrialIneligible="trial_ineligible",r.TrialActive="trial_active"})(i||(i={}))},5184226701:(N,g,e)=>{"use strict";e.d(g,{BD:()=>t,Cz:()=>n,LH:()=>c,LX:()=>i,T0:()=>s,UC:()=>o});const t={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},s={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},o={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},n={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class c{constructor(a){this.ok=a.ok,this.invitee=a.email,this.inviteeType=s.Email,this.accessType=a.inviteType||t.Member,this.error=a.error,this.expirationTs=a.expiration_ts}}_(c,"InviteResult");function i(r){return r===t.Member||r===t.MultiChannelGuest||r===t.SingleChannelGuest}_(i,"isBaseInviteType")},9536443280:(N,g,e)=>{"use strict";e.d(g,{D:()=>t});var t;(function(s){s[s.available=0]="available",s[s.processing=1]="processing",s[s.none=2]="none"})(t||(t={}))},1009419259:(N,g,e)=>{"use strict";e.d(g,{r:()=>t});var t;(function(s){s.Internal="internal",s.External="external",s.Invalid="invalid"})(t||(t={}))},9225229866:(N,g,e)=>{"use strict";e.d(g,{BD:()=>d,Be:()=>u,Bv:()=>t,K3:()=>c,KC:()=>i,MC:()=>a,S5:()=>o,V2:()=>l,tw:()=>f,xk:()=>r});var t;(function(m){m.ExternalDirectory="EXTERNAL_DIRECTORY",m.GoogleContacts="GOOGLE_CONTACTS",m.InviteForm="INVITE_FORM",m.SharedInviteLinkForm="SHARED_INVITE_LINK_FORM",m.Summary="SUMMARY",m.WorkspaceSelect="WORKSPACE_SELECT",m.EmailPreview="EMAIL_PREVIEW",m.PersonalizeInvite="PERSONALIZE_INVITE"})(t||(t={}));var s;(function(m){m.Manual="manual"})(s||(s={}));var o;(function(m){m.InvalidEmail="invalid_email",m.ExistingMember="existing_member"})(o||(o={}));var n;(function(m){m.GoogleDirectory="google_directory",m.OfficeDirectory="office_directory",m.GoogleContacts="google_contacts"})(n||(n={}));var c;(function(m){m.AdminEmail="admin_email",m.AiWorkspaceChannelForeword="ai_workspace_channel_foreword",m.AllCompanyNameTemplatesChannelForeword="all_company_name_templates_channel_foreword",m.CalendarDmCreateInternalInviteModal="calendar_dm_create-internal-invite-modal",m.ChannelInviteModal="channel_invite_modal",m.ChannelSidebar="channel_sidebar",m.Composer="composer",m.CreatorGuidedSetupChannelForeword="creator_guided_setup_channel_foreword",m.DirectoryOAuthMissingScopesDeepLink="directory_oauth_missing_scopes",m.DirectoryPostOAuthDeepLink="directory_oauth_complete",m.DmUserInviteSection="dm_user_invite_section",m.EmailInboxThread="email_inbox_thread",m.EvergreenBootstrapPostOAuthDeepLink="evergreen_bootstrap_oauth_complete",m.ExternalWorkspaceInvite="external_workspace_invite",m.GoogleOauth="google_oauth",m.HuddlesPage="huddles_page",m.InvitePeopleSlashCommand="invite_people_slash_command",m.LegacyInvitesRedirectToConfirmationScreen="legacy_invites_redirect_to_confirmation_screen",m.LinkifyEmails="linkify_emails",m.MessageAttachment="message_attachment",m.OmniSwitcher="omni_switcher",m.OrgDashboardWorkspaceDetails="org_dashboard_workspace_details",m.OrgDashboardWorkspaceMembersTab="org_dashboard_workspace_members_tab",m.PeopleBrowser="people_browser",m.PeopleBrowserHero="people_browser_hero",m.QueryStringParameter="query_string_open_invite_members",m.ScdmInviteModalSpeedbump="scdm-invite-modal-speedbump",m.SetupComposerTip="setup_composer_tip",m.ShortcutsMenu="shortcuts_menu",m.SidebarCreateNewInvitePeople="sidebar_create_new_invite_people",m.SlackConnectHubSearch="slack_connect_hub_search",m.SocialTemplatesChannelForeword="social_templates_channel_foreword",m.SolutionsOnboardingChannelForeword="solutions_onboarding_channel_foreword",m.TeamMenu="team_menu",m.TeamSiteAdmin="team_site_admin",m.TeamSiteInvites="team_site_invites",m.UniversalClickHandler="universal_click_handler",m.DeeplinkCreatorOnboardingChannelForeword="deeplink_creator_onboarding_channel_foreword"})(c||(c={}));var i;(function(m){m.EditInviteLinkSettings="edit_invite_link_settings",m.CopyInviteLink="copy_invite_link",m.CopyAndCreateInviteLink="copy_and_create_invite_link",m.InviteLinkExpiration="invite_link_expirtation",m.SlackbotMessage="slackbot_message",m.DeactivateLink="deactivate_link",m.SaveLinkSettings="save_link_settings",m.ConfirmDeactivateLink="confirm_deactivate_link",m.CancelDeactivate="cancel",m.Back="back",m.InviteFormError="invite_form_error",m.DirectoryCoachmark="directory_coachmark",m.DirectoryCoachmarkCloseButton="directory_coachmark_close_button",m.InviteLinkFormCancel="cancel",m.ForceMcgCheckbox="force_mcg_checkbox",m.ChannelSelect="channel_select",m.GuestExpirationSelect="guest_expiration_select",m.AddFromContactsButton="add_from_contacts_button",m.AddFromContactsCoachmark="add_from_contacts_coachmark",m.AddFromContactsCoachmarkCloseButton="add_from_contacts_coachmark_close_button"})(i||(i={}));var r;(function(m){m.OpenModal="invite_to_workspace_open_modal",m.ClickShowGoogleContactsSearchScreen="invite_to_workspace_click_show_google_contacts_search_screen",m.ClickShowGoogleSearchScreen="invite_to_workspace_click_show_google_search_screen",m.ClickRedirectToGoogle="invite_to_workspace_click_redirect_to_google",m.ClickRedirectToGoogleContacts="invite_to_workspace_click_redirect_to_google_contacts",m.ClickCopyInviteLink="invite_to_workspace_click_copy_invite_link",m.ClickEditLinkSettings="invite_to_workspace_click_edit_link_settings",m.ClickSaveInviteLink="invite_to_workspace_click_save_invite_link",m.ClickBackFromEditLinkSettings="invite_to_workspace_click_back_from_edit_link_settings",m.ClickCancelEditLinkSettings="invite_to_workspace_click_cancel_edit_link_settings",m.ClickDisableLink="invite_to_workspace_click_disable_link",m.ClickConfirmDisableLink="invite_to_workspace_click_confirm_disable_link",m.ClickSendInvites="invite_to_workspace_click_send_invites",m.ClickSharedChannelEscapeHatch="invite_to_workspace_click_shared_channel_escape_hatch",m.ClickInviteExternalWorkspaceMembers="invite_to_workspace_click_external_workspace_members",m.ClickCoachmarkClose="invite_to_workspace_click_coachmark_close",m.ClickForceMcgOption="invite_to_workspace_click_force_mcg_option",m.ClickNext="invite_to_workspace_click_next",m.HasReachedScgLimit="invite_to_workspace_has_reached_scg_limit",m.InviteHasChannels="invite_to_workspace_invite_has_channels",m.InviteHasCustomMessage="invite_to_workspace_invite_has_custom_message",m.NumInvitesAttempted="invite_to_workspace_num_invites_attempted",m.NumSuccessfulInvites="invite_to_workspace_num_successful_invites",m.NumFailedInvites="invite_to_workspace_num_failed_invites",m.NumRequestsAttempted="invite_to_workspace_num_requests_attempted",m.NumSuccessfulRequests="invite_to_workspace_num_successful_requests",m.NumFailedRequests="invite_to_workspace_num_failed_requets",m.NumMcgAttempted="invite_to_workspace_num_mcg_attempted",m.NumSuccessfulMcg="invite_to_workspace_num_successful_mcg",m.NumFailedMcg="invite_to_workspace_num_failed_mcg",m.NumScgAttempted="invite_to_workspace_num_scg_attempted",m.NumSuccessfulScg="invite_to_workspace_num_successful_scg",m.NumFailedScg="invite_to_workspace_num_failed_scg",m.NumMemberAttempted="invite_to_workspace_num_member_attempted",m.NumSuccessfulMember="invite_to_workspace_num_successful_member",m.NumFailedMember="invite_to_workspace_num_failed_member",m.RequestHasReason="invite_to_workspace_request_has_reason"})(r||(r={}));var a;(function(m){m[m.Never=0]="Never",m[m.SevenDays=7]="SevenDays",m[m.ThirtyDays=30]="ThirtyDays",m[m.SixtyDays=60]="SixtyDays",m[m.Custom=-1]="Custom"})(a||(a={}));var l;(function(m){m.LastActiveForUser="last_active_for_user",m.LastActive="last_active",m.AllActive="all_active",m.AllActiveAndRenewable="all_active_and_renewable_for_team"})(l||(l={}));var d;(function(m){m.InviteLink="invite_link",m.EmailInput="email_input"})(d||(d={}));class u{constructor(h){this.code=h.code,this.dateExpire=h.date_expire,this.maxSignups=h.max_signups,this.notificationsEnabled=h.notifications_enabled,this.url=h.url,"date_create"in h&&(this.dateCreate=h.date_create),"date_delete"in h&&(this.dateDelete=h.date_delete),"inviter_id"in h&&(this.inviterId=h.inviter_id),"invite_id"in h&&(this.inviteId=h.invite_id)}}_(u,"SharedInviteLink");class f{constructor({email:h,name:v,inviteType:p,inviteSource:T}){this.email=h,this.real_name=v,this.type=p,this.invite_source=T,this.mode=s.Manual}}_(f,"InviteBulkApiInvite")},8178126019:(N,g,e)=>{"use strict";e.d(g,{Ao:()=>i.k,FQ:()=>c.q,IU:()=>a,Jg:()=>o.G,RW:()=>s.jB,YB:()=>d,fe:()=>t.T,iV:()=>l,mF:()=>n.I,on:()=>r,qU:()=>s.Sv});var t=e(1614054140),s=e(4349526263),o=e(5216556985),n=e(8485081141),c=e(6515569951),i=e(2164700852);const r={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function a(u){return!!u&&!!u.channel}_(a,"isSharedChannelInvite");function l(u){return!!u&&!a(u)&&!d(u)}_(l,"isDirectMessageInvite");function d(u){return!!u&&!!u.shared_workspace}_(d,"isSharedWorkspaceInvite")},266169032:(N,g,e)=>{"use strict";e.d(g,{M:()=>t});const t={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal"}},6917756165:(N,g,e)=>{"use strict";e.d(g,{E:()=>t,Z:()=>s});const t=_(o=>!!(o!=null&&o.length),"isNonEmptyArray"),s=_(o=>t(o)?o.every(n=>typeof n=="string"):!1,"isNonEmptyArrayOfStrings")},9802930866:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(7715417323),s=e(8389327410);function o(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return n?n.reduce((r,a)=>{if(a.type===s.Lv.LIST){const d=(a.elements||[]).map(u=>u.elements.reduce((f,m)=>i(f,m),c));return r.concat(d)}const l=(a.elements||[]).reduce((d,u)=>i(d,u),c);return r.concat([l])},[]):[]}_(o,"richTextChunkReduce")},411655882:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(362134992),s=e(9671714094),o=e(8933111773);function n(){return(0,t.A)(Object.entries(s.N).filter(c=>{let[i,r]=c;return r.is_enabled_by_default}).map(c=>{let[i,r]=c;return(0,o.A)(i)}))}_(n,"getAllBroadcastKeywords")},2229186:(N,g,e)=>{"use strict";e.d(g,{A:()=>h});var t=e(362134992),s=e(9548888903),o=e(2233365467),n=e(9280052135),c=e(1407713935),i=e(8920264989),r=e(6113051341),a=e(2350349607),l=e(324756633),d=e(641827819),u=e(8933111773),f=e(7582939986),m=e(9101533895);function h(v,p){const T=(0,m.OL)(v,p),A=(0,n.l)(v);if(!T)return[];const C=[];if((0,d.W)(v,p)&&C.push((0,u.A)("BKeveryone")),((0,a.V)(T)||(0,c.yz)(T))&&(!(0,r.N)(T)||(0,d.W)(v,p))&&(0,l.S)(v,p)&&(C.push((0,u.A)("BKchannel")),C.push((0,u.A)("BKhere"))),(0,c.U_)(T))switch((0,o.dM)(T)){case s.hM.Account:C.push((0,u.A)("BKsf:accountteam",(0,i.SB)(v,T),!0));break;case s.hM.Opportunity:C.push((0,u.A)("BKsf:dealteam",(0,i.SB)(v,T),!0));break;default:break}if(A){const I=(0,m.Pu)(v,f.Q$);(T==null?void 0:T.id)===(I==null?void 0:I.id)&&C.push((0,u.A)("BKassistant:einstein",null,!1,!0))}return(0,t.A)(C)}_(h,"getBroadcastKeywordsForUser")},7908601590:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(9113979368),s=e(8243083011),o=e(8163773562);function n(c,i){var r;if(!(0,s.q)(c,i))return!0;const a=(0,o.d)(c,i,"enable_at_channel");return(0,t.A)(a)||((r=a)===null||r===void 0?void 0:r.enabled)}_(n,"isBroadcastKeywordsEnabled")},755982243:(N,g,e)=>{"use strict";e.d(g,{w:()=>o});var t=e(3193155968);function s(n){var c;return(c=n.ownerDocument)===null||c===void 0?void 0:c.defaultView}_(s,"getWindowForElement");function o(n){return!t.TQ.includes(n)}_(o,"shouldViewNavigateInContext")},1236965385:(N,g,e)=>{"use strict";e.d(g,{$A:()=>i,ce:()=>c,hO:()=>o});var t=e(3134334389),s=e(8668318456);const o=_(r=>({action:s.UiAction.IMPRESSION,uiPage:window.location.href,...r}),"getAuthImpressionTrackParams"),n=_(r=>({action:s.UiAction.CLICK,uiPage:window.location.href,...r}),"getAuthClickTrackParams"),c=_(r=>({uiPage:window.location.href,...r}),"getAuthTrackParams");function i(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const a=(0,t.useRef)(null),l=(0,t.useCallback)(f=>m=>{if(a.current={track:m},r){var h;a==null||(h=a.current)===null||h===void 0||h.track(o(f))}},[a,r]),d=(0,t.useCallback)(f=>()=>{var m;a==null||(m=a.current)===null||m===void 0||m.track(n(f))},[a]),u=(0,t.useCallback)(f=>()=>{var m;a==null||(m=a.current)===null||m===void 0||m.track(c(f))},[a]);return{trackClog:a,trackClogAuthRef:l,clogAuthLoginClick:d,clogAuthLoginAction:u}}_(i,"useAuthClogger")},3170230049:(N,g,e)=>{"use strict";e.d(g,{e:()=>s});var t=e(56548687);function s(o){return(0,t.e)({state:o})}_(s,"getClogger")},6089229811:(N,g,e)=>{"use strict";e.d(g,{LC:()=>s,av:()=>o,ev:()=>t});const t={NONE:"none",OPTIONAL_ID_ONLY:"optional_id_only",EXTENSIVE:"extensive",OPTIONAL_AND_REGIONAL_IDS:"optional_and_regional_ids"},s={AE_TRN:"ae_trn",AU_ABN:"au_abn",CA_BN:"ca_bn",CA_GST_HST:"ca_gst_hst",CA_QST:"ca_qst",CH_VAT:"ch_vat",CL_TIN:"cl_tin",ES_CIF:"es_cif",EU_VAT:"eu_vat",GE_VAT:"ge_vat",HK_BR:"hk_br",ID_NPWP:"id_npwp",IN_GST:"in_gst",JP_CN:"jp_cn",KR_BRN:"kr_brn",MX_RFC:"mx_rfc",MY_ITN:"my_itn",MY_SST:"my_sst",NO_VAT:"no_vat",NZ_GST:"nz_gst",RU_INN:"ru_inn",SA_VAT:"sa_vat",SG_GST:"sg_gst",SG_UEN:"sg_uen",TH_VAT:"th_vat",TR_TIN:"tr_tin",TW_VAT:"tw_vat",UNKNOWN:"unknown",ZA_VAT:"za_vat",UA_VAT:"ua_vat",KE_PIN:"ke_pin",EG_TIN:"eg_tin"},o=20},3246555800:(N,g,e)=>{"use strict";e.d(g,{FL:()=>r,HC:()=>h,Je:()=>f,KV:()=>v,L$:()=>l,P7:()=>u,RL:()=>d,Y3:()=>c,b6:()=>a,jM:()=>p,zb:()=>i});var t=e(8086952004),s=e(6089229811);function o(T,A,C,I){if(C&&I){var D,y;return T==null||(D=T[A])===null||D===void 0||(y=D.regional_overrides)===null||y===void 0?void 0:y[C]}return T==null?void 0:T[A]}_(o,"getTaxConfig");function n(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=o(T,A,C,I);var y;return(y=D==null?void 0:D.tax_id_form_variant)!==null&&y!==void 0?y:s.ev.NONE}_(n,"getTaxUiFormType");function c(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return n(T,A,C,I)===s.ev.EXTENSIVE}_(c,"shouldShowMultipartTaxUI");function i(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=n(T,A,C,I);return D===s.ev.EXTENSIVE||D===s.ev.OPTIONAL_ID_ONLY||D===s.ev.OPTIONAL_AND_REGIONAL_IDS}_(i,"shouldShowTaxIdInputField");function r(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return n(T,A,C,I)===s.ev.OPTIONAL_AND_REGIONAL_IDS}_(r,"shouldCollectRegionalTaxId");function a(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=n(T,A,C,I);return D===s.ev.OPTIONAL_ID_ONLY||D===s.ev.OPTIONAL_AND_REGIONAL_IDS}_(a,"isTaxIdOptional");function l(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=o(T,A,C,I);var y;return(y=D==null?void 0:D.stripe_tax_id_type)!==null&&y!==void 0?y:null}_(l,"getTaxIdType");function d(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=o(T,A,C,I);return D==null?void 0:D.tax_name}_(d,"getTaxName");function u(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=o(T,A,C,I);var y;const P=(y=D==null?void 0:D.tax_id_max_length)!==null&&y!==void 0?y:0;return Number.isInteger(P)&&P>0?P:s.av}_(u,"getTaxIdMaxLength");function f(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=o(T,A,C,I);var y;const P=(y=D==null?void 0:D.tax_id_examples)!==null&&y!==void 0?y:[];var E;return(E=P[0])!==null&&E!==void 0?E:""}_(f,"getTaxIdExample");function m(T,A,C,I){var D;const y=o(T,A,C,I),P=y==null||(D=y.tax_id_validation_regex)===null||D===void 0?void 0:D.replace(/\//g,"");return P?new RegExp(P,"i"):null}_(m,"getTaxIdValidator");function h(T,A,C,I){let D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const y=m(T,A,C,D);return!y||!I&&a(T,A,C,D)?!0:I&&y?y.test(I):!1}_(h,"isTaxIdValid");function v(T,A,C){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const D=o(T,A,C,I);return!!(D!=null&&D.should_ask_is_vat_registered)}_(v,"shouldAskIsVatRegistered");function p(T,A){return(0,t.A)(T,C=>C.iso_code===A)}_(p,"getCountryByCode")},9702400417:(N,g,e)=>{"use strict";e.d(g,{A:()=>i,Q:()=>c});var t=e(9907843289),s=e(4452574402);const o={USD:{"fr-FR":{string:"dollar des \xC9tats-Unis",correction:"dollar am\xE9ricain"},"pt-BR":{string:"D\xF3lar",correction:"d\xF3lar"},"zh-CN":{string:"\u7F8E\u5143",correction:"USD \u7F8E\u5143"}},JPY:{"pt-BR":{string:"Iene",correction:"iene"},"zh-CN":{string:"\u65E5\u5143",correction:"JPY \u65E5\u5143"}},EUR:{"pt-BR":{string:"Euro",correction:"euro"},"zh-CN":{string:"\u6B27\u5143",correction:"EUR \u6B27\u5143"}},GBP:{"zh-CN":{string:"\u82F1\u9551",correction:"GBP \u82F1\u9551"},"ko-KR":{string:"\uC601\uAD6D \uD30C\uC6B4\uB4DC",correction:"\uC601\uAD6D\uB839 \uD30C\uC6B4\uB4DC \uC2A4\uD138\uB9C1"}}};function n(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,{displayTrailingZeroes:l=!1,currencyDisplay:d="symbol",renderCurrencyText:u=!1,minimumFractionDigits:f=0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!a)return;const m=(0,t.Yp)(),h={coerce:!0,style:"currency",currency:a,currencyDisplay:d};if(r%100===0&&!l?h.minimumFractionDigits=0:f&&(h.minimumFractionDigits=f),u){h.minimumFractionDigits=0,h.currencyDisplay="name";const p=/\d+(\s)|\d/g,T=(0,s.ZV)(0,m,h).replace(p,""),A=o[a];if(A&&A[m]){const{string:C,correction:I}=A[m];return T.replace(C,I)}return T}let v=(0,s.ZV)(r,m,h);if(a==="USD")switch(m){case"en-US":v+=" USD";break;case"en-GB":v=v.replace("US$","$US");break;case"fr-FR":v=v.replace("$US","$\xA0US");break;case"ja-JP":v=v.replace("$","US$");break;case"de-DE":v=v.replace("$","USD");break;case"es-ES":v=v.replace("US$","USD");break;case"es-LA":break;case"it-IT":v=v.replace("USD","$");break;case"zh-CN":v=v.replace("US$","$");break;default:break}else a==="GBP"&&m==="ko-KR"?v=`${v.replace("\xA3","")}\uD30C\uC6B4\uB4DC`:(a==="JPY"&&m==="it-IT"||m==="fr-FR")&&(v=v.replace("JPY","\xA5"));if(m==="zh-TW")switch(a){case"USD":v=v.substring(3),v+=" \u7F8E\u5143";break;case"EUR":v=v.substring(1),v+=" \u6B50\u5143";break;case"GBP":v=v.substring(1),v+=" \u82F1\u938A";break;case"JPY":v=v.substring(1),v+=" \u65E5\u5713";break;default:break}return v}_(n,"formatCurrency");const c=_(r=>{var a;const l=(0,t.Yp)(),d=(0,s.Zi)(l,{style:"currency",currency:r}).formatToParts(0);var u;return(u=(a=d==null?void 0:d.find(f=>(f==null?void 0:f.type)==="currency"))===null||a===void 0?void 0:a.value)!==null&&u!==void 0?u:null},"getCurrencySymbol"),i=n},3044566667:(N,g,e)=>{"use strict";e.d(g,{gy:()=>s,tN:()=>o,zQ:()=>t});const t={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},s="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",o={EMAIL:new RegExp(`^${s}$`,"i"),CONTAINS_EMAIL:new RegExp(`${s}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},3982736577:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(3078252698),s=e(3740968700),o=e(362134992);const c=_(i=>{if(!(0,t.A)(i))return null;const r=[...i].map(a=>{const l=a.codePointAt(0);if(!l)return null;const d=l.toString("16");return(0,s.A)(d,4,"0")});return(0,o.A)(r).join("-")},"convertNativeEmojiToUnicodeSequence")},6818330210:(N,g,e)=>{"use strict";e.d(g,{H:()=>o});var t=e(9113979368),s=e(9936232041);function o(n,c){if(!c||(0,t.A)(c))return{name:n};const i=(0,s.A)(n);if(!i)return{name:n};const{name:r,skinTone:a}=i,l=c[r];if(!l||(0,t.A)(l))return{name:n};const d=l.display_alias,u=d??r,f=a?`:${u}::skin-tone-${a}:`:`:${u}:`,m=l.display_url;return{name:f,url:m}}_(o,"getEmojiDisplayInfoFromMap")},2354051480:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(7582939986);let s;const o=_(()=>{if(s)return s;const n=Object.keys(t.dq).map(c=>c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return s=new RegExp(`(^|\\s)(${n.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),s},"__WEBPACK_DEFAULT_EXPORT__")},1301184890:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(6533394955),s=e(3829348308);function o(n,c){const i=c&&(0,t.$D)(c);return i&&(0,s.ux)(i,{text:n,teamId:c})?i&&(0,s.pA)(i,{text:n,teamId:c}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${n}`)}_(o,"isEmojiMultiSkinToneCapable")},3259512346:(N,g,e)=>{"use strict";e.d(g,{s:()=>o});var t=e(4094753332),s=e(6089972488);function o(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.process&&window.process.versions&&window.process.versions.electron,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window.navigator.userAgent;if(!(0,t.y3)(i)||!c)return!1;const r=(0,s.P)(n),a=(0,s.P)(c);return(0,s.Z)(a,r)>=0}_(o,"isElectronAndAtLeastVersion")},1360656152:(N,g,e)=>{"use strict";e.d(g,{A:()=>m});var t=e(9087248458),s=e(8289365785),o=e(9323322135),n=e(3929724715),c=e(1407713935),i=e(2298581483),r=e(9392104102),a=e(4096483543),l=e(4496040127),d=e(7384121809),u=e(9012396182);function f(){if((0,a.A)()){const h=(0,d.Ry)(),v=(0,u.getAllWorkspaces)(h),p=(0,u.getBootedWorkspaces)(h);return(0,t.A)(v,p)}return(0,o.g9M)()?(0,o.WrY)():r.Ml}_(f,"getOrderedTeamIds");function m(h){let{state:v,channel:p,currentTeamId:T,preferredTeamId:A}=h;if(!p||(0,c.QR)(p)||!v)return null;if(!(0,n.lo)(p))return T;if(!(0,a.A)()&&!(0,o.g9M)())return null;const C=(0,i.R)(v,p);if(!C||!C.length)return null;const I=f();if(!I||!I.length||(0,a.A)()&&!(0,l.VA)())return null;if(A&&C.includes(A)&&I.includes(A))return A;var D;return(D=(0,s.A)((0,t.A)(I,C)))!==null&&D!==void 0?D:null}_(m,"findDesktopTeamIdForChannel")},1033764764:(N,g,e)=>{"use strict";e.d(g,{UK:()=>a,Z$:()=>n,hZ:()=>i});const t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],o=_(function(d,u,f){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(d===0)return 0;if(u===f)return parseFloat(d.toFixed(m));const v=h?1024:1e3,p=h?t:s,T=p.findIndex(C=>C.toLowerCase()===u.toLowerCase()),A=p.findIndex(C=>C.toLowerCase()===f.toLowerCase());if(T===-1)throw new Error(`Unknown currentType '${u}' passed to convertToSize`);if(A===-1)throw new Error(`Unknown desiredType '${f}' passed to convertToSize`);return T<A?parseFloat((d/v**(A-T)).toFixed(m)):parseFloat((d*v**(T-A)).toFixed(m))},"convertToSize"),n=_(function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(d===0)return{size:0,type:"B"};const h=m?1024:1e3,v=m?t:s;let p=Math.log(d)/Math.log(h);p<1&&(p=-Math.floor(Math.log(Math.abs(p))/Math.log(10)+1));const T=v.findIndex(C=>C.toLowerCase()===u.toLowerCase()),A=Math.max(Math.min(T+Math.floor(p),v.length-1),0);if(T===-1)throw new Error(`Unknown currentType '${u}' passed to convertToSize`);return{size:o(d,u,v[A],f,m),type:v[A]}},"convertToOptimumSize"),c=_(function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"B","KB",u,!1)},"convertBytesToKilobytes"),i=_(function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"B","MB",u,!1)},"convertBytesToMegabytes"),r=_(function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"B","GB",u,!1)},"convertBytesToGigabytes"),a=_(function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"KB","MB",u,!1)},"convertKilobytesToMegabytes"),l=_(function(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o(d,"KB","GB",u,!1)},"convertKilobytesToGigabytes")},887579008:(N,g,e)=>{"use strict";e.d(g,{A:()=>k});var t=e(6249041335),s=e(9599231336),o=e(7582939986),n=e(2354051480);const c=/[-[\]{}()*+?.,\\^$|#\s]/g,i=/\n?(6\)|7\))/,r=_(O=>{let U=0;const W=[];let x=O.replace((0,n.A)(),(L,b,F,B)=>{const K=U;U=B+L.length;const H=F.indexOf("(")!==-1,Y=F.indexOf(")")!==-1;if((H||Y)&&W.indexOf(F)===-1&&W.push(F),Y&&!H){const Z=O.substring(K,B);if(Z.indexOf("(")!==-1&&Z.indexOf(")")===-1)return L}if(L===`
8)`){const Z=O.substring(0,B);if(i.test(Z))return L}return o.dq[F]?`${b}:${o.dq[F]}:`:L});if(W.length){const L=W.map(F=>F.replace(c,"\\$&")),b=new RegExp(`(\\(.+)(${L.join("|")})(.+\\))`,"g");x=x.replace(b,(F,B,K,H)=>o.dq[K]?`${B}:${o.dq[K]}:${H}`:F)}return x},"replace_emoticons_with_colons"),a=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function l(O){const U=[];let W=0;return{text:O.replace(a,L=>{W+=1;const b=`quoted-text-placeholder-${Date.now()}-${W}`;return U.push({match:L,placeholder:b}),b}),quotedSections:U}}_(l,"replaceQuotedText");var d=e(5342516244),u=e(1842363787),f=e(9907843289),m=e(9846149684),h=e(9974473728),v=e(8207536819),p=e(8040098042),T=e(4862221402),A=e(2414816894);function C(O){return(0,A.A)(O)?O.replace(/^BK/,""):""}_(C,"getBroadcastKeyword");var I=e(5003409852);function D(O,U,W){const x=[];return{text:O.replace(m.Y,(b,F,B)=>{let K;if((0,A.A)(F)?K=`<!${C(F)}>`:(0,I.A)(F)?K=U?(0,v.A)(B):B:(0,T.A)(F)?K=`<!subteam^${F}|${B}>`:(0,p.A)(F)?K=W?`<#${F}|${B.substr(1)}>`:void 0:K=`<@${F}>`,!K)return b;const Y=`mention-${x.length+1}-${Date.now()}`;return x.push({mention:K,placeholder:Y}),Y}),mentions:x}}_(D,"replaceFormatMentions");var y=e(3829348308),P=e(6866036454),E=e(1317368584),M=e(2047021170);const S=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,R=/(^|\S)( +)(\n|$)/gm;function k(O,U){let{isInternalMessage:W}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!O||!U)return"";const x=!W,L=(0,E.A)(O),b=(0,M.ty)(O,"convert_emoticons"),F=(0,P.A)(O),B=(0,s.P)(O),K=!0;let H=U,Y=[];H=(0,d.A)(H),H=(0,u.kW)(Y,H,{replace_pre:!0,replace_code:!0});const Z=D(H,x,K);if(H=Z.text,H=H.replace(R,"$1$3"),b&&!B){const ne=l(H);H=ne.text,H=r(H),ne.quotedSections.forEach(q=>{H=H.replace(q.placeholder,()=>q.match)})}x&&(H=(0,u.wx)(H,"CLEAN",{jumbomoji:L,allow_intra_word_formatting:!0})),Z.mentions.forEach(ne=>{H=H.replace(ne.placeholder,()=>ne.mention)});const V=(0,y.CK)(O);return Y=Y.map(ne=>{const q={...ne},me=(0,m.A)(q.str,{highlightWords:F,shouldRenderEmojiAsText:B,emojiNames:V,locale:(0,f.Yp)(),useChannelTagging:K});return q.str=(0,h.A)(me),x&&(q.str=(0,u.wx)(q.str,"CLEAN",{jumbomoji:L,allow_intra_word_formatting:!0})),q}),H=(0,u.Ki)(Y,H),(0,t.A)(H)}_(k,"clean_message_text_with_state")},4173622771:(N,g,e)=>{"use strict";e.d(g,{Y:()=>o});var t=e(8933111773),s=e(770649013);function o(n){let{type:c,tsfMode:i="NORMAL"}=n;if(!c)return null;let r;return c==="group"?r="group":r=(0,s.A)((0,t.A)(`BK${c}`)),i==="EDIT"?`<@BK${c}|@${r}>`:`@${r}`}_(o,"formatBroadcastCommand")},5342516244:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});const t=_(s=>s?s.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):"","__WEBPACK_DEFAULT_EXPORT__")},8556787853:(N,g,e)=>{"use strict";e.d(g,{Ac:()=>u,Ay:()=>l,lF:()=>d});var t=e(7174777686),s=e(7582939986),o=e(6409159738),n=e(9114759771),c=e(6839188756),i=e(2047021170),r=e(1670069836);const a=_((f,m,h)=>{const v=h?f*2:f,p=h?m*2:m,A=v>s.QI||p>s.Jo?Math.min(s.QI/v,s.Jo/p):1,C=Math.floor(v*A),I=Math.floor(p*A);return{width:C,height:I}},"getConstrainedMediaDimensions");function l(f){let{url:m,width:h,height:v,rotate:p,renderSvg:T,stopAnimations:A,sizeForRetina:C,convertIco:I,isEmoji:D}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!m)return null;const y=(0,c.Uz)((0,r.H7)(f));if(!y||m.indexOf(y)===0||m.indexOf("/img/")===0)return m;if(m.indexOf("https://")===0&&!D){const k=(0,n.yz)(m,!0),O=(0,o.QL)();if((0,t.A)(O,k)){if(A&&k==="slack-imgs.com"){const U=new URL(m),W=U.searchParams.has("o1")?`${U.searchParams.get("o1")}.gu`:"gu";return U.searchParams.set("o1",W),U.href}return m}}const P=new URL(y);P.searchParams.set("c",s.lW);const{width:E,height:M}=h&&v?a(h,v,C):{},S=[];return E&&M&&(S.push(`wi${E}`),S.push(`he${M}`),S.push("si")),p&&S.push("ro"),T&&S.push("sv2"),(A||!(0,i.ty)(f,"a11y_animations"))&&S.push("gu"),I&&S.push("ip"),S.length&&P.searchParams.set("o1",S.join(".")),P.searchParams.set("url",m),P.href}_(l,"getImgProxyUrl");const d=_(async f=>{try{const m=new URL(f);return!!(await fetch(`https://${m.hostname}/?url=${m.searchParams.get("url")}`,{method:"HEAD",mode:"cors"})).headers.get("x-slack-animated")}catch(m){if(m)return!1}return!1},"isImageAnimated"),u=_(f=>f.replace(".gu",""),"getAnimatedImgUrl")},8257102208:(N,g,e)=>{"use strict";e.d(g,{$q:()=>r,W4:()=>d});var t=e(3262078016),s=e(2647703359),o=e(497761763),n=e(7732872146),c=e(7102510068),i=e(937317117);function r(u,f){if(!f)return null;const m=(0,n.Ay)(f);return l(u,m)}_(r,"getListIdFromUrl");function a(u){for(const f of c.h)if(f.urlType===t.CollabUrlType.SLACK_LIST){const m=f.regExp,h=u.match(m);if(!h||h.length<1)continue;return h}return null}_(a,"matchListCollabUrlRegex");function l(u,f){const m=f.href,h=a(m);if(!h)return null;const v=h[6];if(!v||!(0,o.A)(v))return null;const p=(0,i.Lp)(u,v);return(0,s.l7)(p)?v:null}_(l,"getListIdFromParsedUrl");function d(u,f){const m=l(u,f);if(!m)return null;const h=(0,i.Lp)(u,m);return h&&((0,s.sR)(h)||(0,s.Bp)(h))?m:null}_(d,"getListFileIdWithoutAccessFromParsedUrl")},6415587347:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>Lt});var t=e(3783723764),s=e(8840779375),o=e(2604971659),n=e(4103274853),c=e(2208015175),i=e(7582939986),r=e(397660785),a=e(6363331542),l=e(2256285620),d=e.n(l),u=e(6906793909),f=e.n(u),m=e(1060768686),h=e.n(m),v=e(2979422297),p=e.n(v),T=e(983107878),A=e.n(T),C=e(2316786074),I=e.n(C),D=e(3708998647),y=e.n(D),P=e(5098468056),E=e.n(P),M=e(4923972147),S=e.n(M),R=e(3224273568),k=e.n(R),O=e(8390767423),U=e.n(O),W=e(1957386787),x=e.n(W),L=e(4245237474),b=e.n(L),F=e(7523979550),B=e.n(F),K=e(77360885),H=e.n(K),Y=e(451984622),Z=e.n(Y),V=e(2200759559),ne=e.n(V),q=e(7272988726),me=e.n(q),ue=e(2261459203),ae=e.n(ue),le=e(3431559584),fe=e.n(le),he=e(4165874747),ie=e.n(he),X=e(1023719767),j=e.n(X),w=e(3710970638),Q=e.n(w),G=e(4814900690),J=e.n(G),te=e(7183565897),se=e.n(te),ce=e(1889110914),Ee=e.n(ce),de=e(669259003),re=e.n(de),_e=e(7331486018),ve=e.n(_e),ge=e(1001408479),Le=e.n(ge),ke=e(7428983508),Ke=e.n(ke),Ne=e(350135845),Re=e.n(Ne),xe=e(474239361),We=e.n(xe),$=e(1302153452),ee=e.n($),Ve=e(9825918216),ze=e.n(Ve),st=e(3333214639),Ge=e.n(st),be=e(5156772208),Se=e.n(be),we=e(4948097913),Ce=e.n(we),Te=e(5908867676),Ye=e.n(Te),De=e(2295488157),Pe=e.n(De),ye=e(9948433110),He=e.n(ye),Qe=e(3963460214),dt=e.n(Qe),Ot=e(9267813754),yt=e.n(Ot),Dt=e(2981982679),Ct=e.n(Dt),kt=e(9833689275),vt=e.n(kt),Nt=e(9777215928),It=e.n(Nt),At=e(9602720019),Zt=e.n(At),jt=e(9241168512),Ht=e.n(jt),Pt=e(4840951141),Ft=e.n(Pt),En=e(7129884748),Rt=e.n(En),rn=e(4063699741),nn=e.n(rn);function at(Bt){return(0,t.A)((0,s.A)((0,o.A)(Bt),Yt=>parseInt(Yt,10)),null,"desc")}_(at,"makeOrderedIconSizes");function tt(Bt){return(0,n.A)(Bt,Yt=>at(Yt))}_(tt,"makeOrderedNamedIconSizes");const ft={24:I(),32:y(),36:E(),72:S(),192:k()},wt={24:d(),32:f(),36:h(),72:p(),192:A()},Jt={fancy:{20:U(),24:x(),32:b(),36:B(),48:H(),72:Z(),192:ne(),360:me(),512:ae(),1024:fe()},frowny:{20:ie(),24:j(),32:Q(),36:J(),48:se(),72:Ee(),192:re(),360:ve(),512:Le(),1024:Ke()},neutral:{20:Re(),24:We(),32:ee(),36:ze(),48:Ge(),72:Se(),192:Ce(),360:Ye(),512:Pe(),1024:He()},sad_surprise:{20:dt(),24:yt(),32:Ct(),36:vt(),48:It(),72:Zt(),192:Ht(),360:Ft(),512:Rt(),1024:nn()}},sn=24,z=at(wt),Me=tt(Jt),Be="image_";function nt(Bt){const Yt=[];return(0,c.A)(Bt,(on,An)=>{if(An.indexOf(Be)!==0)return;const Sn=An.slice(Be.length);Yt.unshift(parseInt(Sn,10))}),Yt}_(nt,"getSizeOptionsFromProfile");function Lt(Bt){let{size:Yt,teamOrEnterpriseId:on,memberId:An,avatarHash:Sn,emoji:In,isBot:Pn=!1,botImages:bn=!1,slackbotFeels:wn=null,isUserHidden:qn=!1}=Bt,kn,Dn,Un=!1;if(!Yt||!Pn&&!qn&&(!on||!An||!Sn)&&!In)return{};if(In)return{emoji:In,isDefault:!1};if(qn){const Hn=(0,a.A)(Yt,z),jn=(0,a.A)(Yt*2,z);kn=ft[Hn||sn],Dn=ft[jn||sn],Un=!0}else if(An===i.Q$&&wn&&Jt[wn]){const Hn=(0,a.A)(Yt,Me[wn]),jn=(0,a.A)(Yt*2,Me[wn]);kn=Jt[wn][Hn||sn],Dn=Jt[wn][jn||sn]}else if(!Pn||on&&An&&Sn){const Hn=(0,a.A)(Yt),jn=(0,a.A)(Yt*2),Jn=(0,r.Z)(on);kn=`${Jn}${on}-${An}-${Sn}-${Hn}`,Dn=`${Jn}${on}-${An}-${Sn}-${jn}`}else if(bn){const Hn=nt(bn),jn=(0,a.A)(Yt,Hn),Jn=(0,a.A)(Yt*2,Hn);kn=bn[Be+jn],Dn=bn[Be+Jn]}if(Pn&&!kn&&!Dn&&!In){const Hn=(0,a.A)(Yt,z),jn=(0,a.A)(Yt*2,z);kn=wt[Hn||sn],Dn=wt[jn||sn],Un=!0}return{imageUrl:kn,imageUrl2x:Dn,emoji:In,isDefault:Un}}_(Lt,"getMemberProfileImage")},92812954:(N,g,e)=>{"use strict";e.d(g,{d:()=>n});var t=e(5096647761),s=e(3792998666),o=e(8276911661);function n(c,i){if(!i)return"member";const r=(0,o.nv)(c,i);let a="member";return(0,t.g)(r)?a="external":(0,s.Ez)(r)&&!(0,s.Yd)(r)?a="ra":(0,s.Yd)(r)&&(a="ura"),a}_(n,"getMemberType")},9899967630:(N,g,e)=>{"use strict";e.d(g,{cR:()=>r,dR:()=>m});var t=e(3262078016),s=e(7732872146),o=e(2647703359),n=e(497761763),c=e(7102510068),i=e(937317117);function r(h,v){if(!v)return null;const p=(0,s.Ay)(v);return u(h,p)}_(r,"getQuipFileIdFromUrl");function a(h,v){if(!v)return null;const p=parseUrl(v);return f(h,p)}_(a,"getQuipFileIdWithAccessFromUrl");function l(h,v){if(!v)return null;const p=parseUrl(v);return m(h,p)}_(l,"getQuipFileIdWithoutAccessFromUrl");function d(h){for(const v of c.h)if(v.urlType===t.CollabUrlType.SLACK_DOCUMENT||v.urlType===t.CollabUrlType.SLACK_DOCUMENT_SECTION){const p=v.regExp,T=h.match(p);if(!T||T.length<1)continue;return T}return null}_(d,"matchCanvasCollabUrlRegex");function u(h,v){const p=v.href,T=d(p);if(!T)return null;const A=T[6];if(!A||!(0,n.A)(A))return null;const C=(0,i.Lp)(h,A);return(0,o.DQ)(C)?A:null}_(u,"getQuipFileIdFromParsedUrl");function f(h,v){const p=u(h,v);if(!p)return null;const T=getFileById(h,p);return!T||isNotVisible(T)?null:p}_(f,"getQuipFileIdWithAccessFromParsedUrl");function m(h,v){const p=u(h,v);if(!p)return null;const T=(0,i.Lp)(h,p);return T&&(0,o.sR)(T)?p:null}_(m,"getQuipFileIdWithoutAccessFromParsedUrl")},8520727613:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(3009309149),s=e(6533394955),o=e(4761125736),n=e(9012396182);const c=(0,t.Ay)((r,a,l)=>((0,n.getAllWorkspaces)(r)||[]).some(u=>{var f;const m=(f=(0,s.oK)(u))===null||f===void 0?void 0:f.getState();return m?(0,o._Z)(m,a)===l:!1}));c.meta={name:"createSelector",key:"createSelectorhasGroupForAnyTeam",description:(r,a,l)=>((0,n.getAllWorkspaces)(r)||[]).some(u=>{var f;const m=(f=(0,s.oK)(u))===null||f===void 0?void 0:f.getState();return m?(0,o._Z)(m,a)===l:!1})};const i=c},5770715593:(N,g,e)=>{"use strict";e.d(g,{C9:()=>r,Gl:()=>c,VQ:()=>i,XU:()=>s,dL:()=>o,rU:()=>n,x_:()=>a});var t=e(4761125736);const s=_(l=>(0,t._Z)(l,"help_shareables_tm")==="on","isHelpShareablesTmExperimentOn"),o=_(l=>(0,t._Z)(l,"help_articles_in_search")==="treatment","isHelpArticlesInSearchExperimentTreatment"),n=_(l=>(0,t._Z)(l,"help_smarticles")==="on","isHelpSmarticlesExperimentOn"),c=_(l=>(0,t._Z)(l,"help_navigation")==="on","isHelpNavigationExperimentOn"),i=_(l=>(0,t._Z)(l,"help_tour")==="treatment","isHelpTourExperimentTreatment"),r=_(l=>(0,t._Z)(l,"help_tips")==="on","isHelpTipsExperimentOn"),a=_(l=>(0,t._Z)(l,"help_slider_a11y_translations")==="on","isHelpSliderA11yTranslationsExperimentOn")},4240442510:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(8876859727),s=e(7105906370),o=e(6471059816),n=e(2384831516),c=e(4761125736),i=e(6324904206),r=e(3193155968);const a=new o.Ay("view"),l=(0,n.Mz)((u,f)=>{let{tab:m}=f;const h=(0,s.We)(u),v=(0,c._Z)(u,"activity_inbox")==="on",p=(0,t.Lq)(u),T=v?r.k6.ActivityInbox:r.k6.Activity,A=(0,i.iT)(u);let C;switch(m){case r.k6.Home:C=a.t("Home");break;case r.k6.DMs:C=a.t("DMs");break;case T:C=a.t("Activity");break;case r.k6.Later:C=a.t("Later");break;case r.k6.SalesHome:C=a.t("Sales");break;case r.k6.Search:C=a.t("Search");break;case r.k6.ConversationalSearch:C=p?a.t("Explore"):"";break;case r.k6.Canvases:C=a.t("Canvases");break;case r.k6.Files:C=a.t("Files",{ns:"search"});break;case r.k6.UnifiedFiles:C=a.t("Files");break;case r.k6.Channels:C=a.t("Channels",{ns:"search"});break;case r.k6.People:C=a.t("People",{ns:"search"});break;case r.k6.Platform:C=a.t("Automations");break;case r.k6.ExternalConnections:C=a.t("External");break;case r.k6.Huddles:C=A?a.t("Calendar"):a.t("Huddles");break;case r.k6.Assistant:C=h?a.t("Ask Slack"):"Ask Slack";break;case r.k6.Browse:C=a.t("More");break;case r.k6.Lists:C=a.t("Lists");break;case r.k6.Todos:C=a.t("To-dos");break;case r.k6.Solutions:C=a.t("Templates");break;case r.k6.Agents:C="Agentforce";break;case r.k6.Sidekicks:C="Sidekicks";break;case r.k6.SlackKitPlayground:C="Slack Kit Playground";break;case r.k6.BBM:C="";break;case r.k6.Admin:C=a.t("Admin");break;case r.k6.Today:C=a.t("Today");break;default:C="";break}return C});l.meta={name:"createSelector",key:"createSelectorgetTabLabel",description:(u,f)=>{let{tab:m}=f;const h=(0,s.We)(u),v=(0,c._Z)(u,"activity_inbox")==="on",p=(0,t.Lq)(u),T=v?r.k6.ActivityInbox:r.k6.Activity,A=(0,i.iT)(u);let C;switch(m){case r.k6.Home:C=a.t("Home");break;case r.k6.DMs:C=a.t("DMs");break;case T:C=a.t("Activity");break;case r.k6.Later:C=a.t("Later");break;case r.k6.SalesHome:C=a.t("Sales");break;case r.k6.Search:C=a.t("Search");break;case r.k6.ConversationalSearch:C=p?a.t("Explore"):"";break;case r.k6.Canvases:C=a.t("Canvases");break;case r.k6.Files:C=a.t("Files",{ns:"search"});break;case r.k6.UnifiedFiles:C=a.t("Files");break;case r.k6.Channels:C=a.t("Channels",{ns:"search"});break;case r.k6.People:C=a.t("People",{ns:"search"});break;case r.k6.Platform:C=a.t("Automations");break;case r.k6.ExternalConnections:C=a.t("External");break;case r.k6.Huddles:C=A?a.t("Calendar"):a.t("Huddles");break;case r.k6.Assistant:C=h?a.t("Ask Slack"):"Ask Slack";break;case r.k6.Browse:C=a.t("More");break;case r.k6.Lists:C=a.t("Lists");break;case r.k6.Todos:C=a.t("To-dos");break;case r.k6.Solutions:C=a.t("Templates");break;case r.k6.Agents:C="Agentforce";break;case r.k6.Sidekicks:C="Sidekicks";break;case r.k6.SlackKitPlayground:C="Slack Kit Playground";break;case r.k6.BBM:C="";break;case r.k6.Admin:C=a.t("Admin");break;case r.k6.Today:C=a.t("Today");break;default:C="";break}return C}};const d=l},6910192640:(N,g,e)=>{"use strict";e.d(g,{A:()=>k,o:()=>S});var t=e(537208959),s=e(4626613428),o=e(8876859727),n=e(7105906370),c=e(8180302442),i=e(5624319675),r=e(8956161330),a=e(6878532881),l=e(7244076749),d=e(1340402138),u=e(4249467243),f=e(6470070112),m=e(6642124196),h=e(1552255081),v=e(920478515),p=e(6839188756),T=e(3402139184),A=e(1591473708),C=e(2584999337),I=e(2384831516),D=e(2284446909),y=e(5332875232),P=e(1670069836),E=e(3193155968);const M={[E.k6.Home]:O=>!(0,d.R)(O),[E.k6.Search]:()=>!1,[E.k6.ConversationalSearch]:O=>(0,o.Lq)(O),[E.k6.Activity]:O=>!(0,t.Lh)(O)&&(0,s.Ty)(O),[E.k6.ActivityInbox]:O=>(0,t.Lh)(O)&&(0,s.Ty)(O),[E.k6.DMs]:O=>(0,s.Ty)(O),[E.k6.UnifiedFiles]:O=>(0,C.ac)(O)&&(0,s.Ty)(O),[E.k6.SlackKitPlayground]:O=>(0,l.b)()&&(0,s.Ty)(O),[E.k6.Solutions]:O=>(0,c.g)(O),[E.k6.Agents]:O=>(0,i.mr)(O)&&(0,s.Ty)(O)&&((0,i.nc)(O)?(0,D.Iy)(O):(0,D.sL)(O).length>=1),[E.k6.Sidekicks]:O=>(0,a.Q)(O)&&(0,s.Ty)(O),[E.k6.Later]:O=>(0,v.Bp)(O),[E.k6.Assistant]:O=>(0,n.We)(O)&&(0,s.Ty)(O),[E.k6.Canvases]:O=>(0,h.F)(O)&&!(0,d.R)(O)&&!(0,C.ac)(O),[E.k6.Files]:O=>!(0,d.R)(O)&&(0,s.Ty)(O)&&!(0,C.ac)(O),[E.k6.Channels]:O=>!(0,d.R)(O)&&(0,s.Ty)(O)&&!(0,u.c)(O),[E.k6.Platform]:()=>!0,[E.k6.People]:O=>!(0,d.R)(O)&&(0,s.Ty)(O)&&!(0,u.c)(O),[E.k6.Huddles]:O=>(0,f.Wd)(O)&&!(0,y.LS)(O)&&!(0,d.R)(O),[E.k6.SalesHome]:O=>(0,r.hx)(O),[E.k6.Lists]:O=>((0,p.tc)((0,P.H7)(O))&&(0,m.isListsEnableFreemiumAccessEnabled)(O)||(0,m.teamHasFullListsAccess)(O))&&!(0,d.R)(O)&&!(0,C.ac)(O),[E.k6.Todos]:O=>(0,m.isTodosEnabled)(O)&&!(0,A.vI)(O),[E.k6.ExternalConnections]:O=>!(0,u.c)(O),[E.k6.Today]:O=>(0,T.d)(O)},S=_(O=>(0,I.Mz)(U=>M[O](U)),"makeSelectVisibleTab"),k=_((O,U)=>S(U)(O),"getTabVisibility")},505908973:(N,g,e)=>{"use strict";e.d(g,{A:()=>Z});var t=e(537208959),s=e(352142497),o=e(5858219536),n=e(2052624953),c=e(8876859727),i=e(6174202672),r=e(6644049054),a=e(7105906370),l=e(5144644376),d=e(8180302442),u=e(5624319675),f=e(6226774595),m=e(8956161330),h=e(5996639710),v=e(6878532881),p=e(7244076749),T=e(9132066222),A=e(4249467243),C=e(3937186022),I=e(6642124196),D=e(9889493721),y=e(1552255081),P=e(6839188756),E=e(3402139184),M=e(5779706188),S=e(3559837422),R=e(7069714209),k=e(6695353875),O=e(7097705154),U=e(2584999337),W=e(7274827479),x=e(3875705815),L=e(5332875232),b=e(6324904206),F=e(4947015865),B=e(1670069836),K=e(418103123);const H={[s.D.KeyboardShortcuts]:()=>!0,[s.D.WhatsNew]:()=>!0,[s.D.RecentCanvases]:()=>!1,[s.D.CanvasesSharedWithYou]:V=>(0,y.F)(V),[s.D.CanvasesCreatedByYou]:V=>(0,y.F)(V),[s.D.BrowseCanvases]:V=>(0,y.F)(V),[s.D.RecentFiles]:()=>!0,[s.D.FilesCreatedByYou]:()=>!0,[s.D.FilesSharedWithYou]:()=>!0,[s.D.BrowseExternalWorkspace]:R.U,[s.D.BrowseChannels]:()=>!0,[s.D.BrowsePeople]:()=>!0,[s.D.ExternalOrganizations]:()=>!0,[s.D.ExternalOrganization]:()=>!0,[s.D.ExternalPeople]:()=>!1,[s.D.SlackConnectChannels]:()=>!1,[s.D.SlackConnectInvitations]:()=>!0,[s.D.BrowseUserGroups]:V=>!(0,S.sV)(V)&&(0,P.qR)((0,B.H7)(V)),[s.D.SlackConnect]:V=>(0,r.A)(V),[s.D.Channel]:()=>!0,[s.D.AppSpace]:()=>!0,[s.D.RecentPlatform]:V=>(0,D.MA)(V),[s.D.BrowseWorkflowsManagedByYou]:V=>(0,D.EH)(V),[s.D.BrowseYourWorkflowTemplates]:V=>(0,D.M7)(V),[s.D.BrowseShortcuts]:V=>(0,D.S0)(V),[s.D.BrowseWorkflowTemplates]:V=>(0,D.fh)(V),[s.D.BrowseApps]:V=>(0,D.pr)(V),[s.D.OrgDirectory]:()=>!0,[s.D.Page]:()=>!0,[s.D.Threads]:()=>!0,[s.D.Thread]:()=>!0,[s.D.Profile]:()=>!0,[s.D.FileDetails]:()=>!0,[s.D.Help]:()=>!0,[s.D.UserGroup]:()=>!0,[s.D.Feedback]:()=>!0,[s.D.List]:V=>(0,I.isListsEnabled)(V),[s.D.ListRecord]:V=>(0,I.isListsEnabled)(V),[s.D.ListRecordDetails]:V=>(0,I.isListsEnabled)(V),[s.D.ListRecordThread]:V=>(0,I.isListsEnabled)(V),[s.D.ListRecordHistory]:V=>(0,I.isListsEnabled)(V),[s.D.ListHistory]:V=>(0,I.isListsHistoryEnabled)(V),[s.D.DeletedLists]:V=>(0,I.isListsEnabled)(V),[s.D.Tasks]:V=>(0,I.isTodosEnabled)(V),[s.D.AssignedTasks]:V=>(0,I.isTodosEnabled)(V),[s.D.Reminders]:V=>(0,I.isTodosEnabled)(V),[s.D.Saved]:V=>(0,I.isTodosEnabled)(V),[s.D.ComposeList]:()=>!0,[s.D.Compose]:()=>!0,[s.D.QuipCommentThread]:()=>!0,[s.D.QuipCommentStream]:()=>!0,[s.D.QuipActivityHistory]:()=>!0,[s.D.QuipAutomationsOverview]:()=>!0,[s.D.Quip]:()=>!0,[s.D.Canvas]:()=>!0,[s.D.ChannelCanvas]:()=>!0,[s.D.CanvasBrowser]:V=>(0,y.F)(V),[s.D.DeletedCanvases]:V=>(0,y.F)(V),[s.D.PaidBenefits]:()=>!0,[s.D.Setup]:()=>!0,[s.D.SearchEmpty]:()=>!0,[s.D.AboutWorkspace]:()=>!1,[s.D.Unknown]:()=>!0,[s.D.MorePeopleSidebar]:()=>!0,[s.D.MoreCanvasesSidebar]:()=>!0,[s.D.MoreSolutionsSidebar]:V=>(0,d.g)(V),[s.D.AppPopout]:()=>!0,[s.D.ChannelList]:()=>!0,[s.D.BrowseFiles]:()=>!0,[s.D.BrowseUnifiedFiles]:V=>(0,U.ac)(V),[s.D.BrowseUnifiedFilesCanvases]:V=>(0,U.ac)(V),[s.D.BrowseUnifiedFilesLists]:V=>(0,U.ac)(V),[s.D.BrowseUnifiedFilesFolders]:V=>(0,U.ac)(V),[s.D.DeletedUnifiedFiles]:V=>(0,U.ac)(V),[s.D.SlackKitPlayground]:()=>(0,p.b)(),[s.D.Solutions]:V=>(0,d.g)(V),[s.D.Admin]:()=>!1,[s.D.ActivityChannelUnreadsList]:V=>(0,t.Lh)(V),[s.D.Agents]:V=>(0,u.mr)(V),[s.D.YourAgents]:V=>(0,u.mr)(V)&&(0,u.Y1)(V),[s.D.AgentConversation]:V=>(0,u.mr)(V),[s.D.AgentHomeConversation]:V=>(0,u.mr)(V),[s.D.MoreAgentsSidebar]:V=>(0,u.mr)(V),[s.D.Sidekicks]:V=>(0,v.Q)(V),[s.D.SidekickConversation]:V=>(0,v.Q)(V),[s.D.MoreSidekicksSidebar]:V=>(0,v.Q)(V),[s.D.SolutionsFiltered]:V=>(0,d.g)(V),[s.D.BrowseYourSolutions]:V=>(0,l.n)(V),[s.D.BrowseYourCompanySolutions]:V=>(0,l.n)(V),[s.D.BrowseLists]:V=>(0,I.teamHasFullListsAccess)(V),[s.D.DmsList]:()=>!0,[s.D.BrowseList]:()=>!0,[s.D.ActivityList]:()=>!0,[s.D.LaterList]:()=>!0,[s.D.Search]:()=>!0,[s.D.MoreFilesSidebar]:()=>!0,[s.D.MoreListsSidebar]:()=>!0,[s.D.UnifiedFilesSidebar]:V=>(0,U.ac)(V),[s.D.MoreChannelsSidebar]:()=>!1,[s.D.Inbox]:()=>!1,[s.D.ActivityInbox]:V=>(0,t.Lh)(V),[s.D.ActivityEmpty]:V=>(0,t.Lh)(V),[s.D.MorePlatformSidebar]:()=>!0,[s.D.MoreHuddlesSidebar]:()=>!0,[s.D.MoreExternalConnectionsSidebar]:()=>!0,[s.D.HelpBrowser]:()=>!0,[s.D.Huddle]:()=>!0,[s.D.BrowseHuddles]:V=>(0,L.LS)(V),[s.D.KeyboardShortcutsBrowser]:()=>!0,[s.D.WhatsNewBrowser]:()=>!0,[s.D.FeedbackBrowser]:()=>!0,[s.D.ExternalWorkspaceAllowedOrgPane]:()=>!1,[s.D.ExternalWorkspaceSidebar]:()=>!1,[s.D.ExternalWorkspacePeopleBrowser]:()=>!1,[s.D.ExternalWorkspaceChannelBrowser]:()=>!1,[s.D.PostEvent]:()=>!1,[s.D.AiSummaryDetails]:V=>(0,W.Jd)(V),[s.D.DailyDigest]:V=>(0,W.hS)(V),[s.D.SearchSummary]:V=>(0,W.Sl)(V),[s.D.Today]:V=>(0,K._)(V),[s.D.WorkObject]:V=>(0,C.HZ)(V),[s.D.TableauDetails]:V=>(0,f.Z0)(V),[s.D.Record]:()=>!0,[s.D.MyTaskApproval]:V=>(0,I.isApprovalsInTodosEnabled)(V),[s.D.RecordChannelCreate]:()=>!0,[s.D.RecordChannelRelatedList]:()=>!0,[s.D.RecordRelatedConversationsChannelsList]:V=>(0,h.L7)(V),[s.D.RecordRelatedConversationsThreadsList]:V=>(0,h.L7)(V),[s.D.SalesAdministration]:()=>!0,[s.D.SalesBulkGrid]:()=>!0,[s.D.SalesHome]:V=>(0,m.hx)(V),[s.D.SalesLogActivity]:()=>!0,[s.D.SalesCreateRecord]:()=>!0,[s.D.SalesListViewBrowser]:()=>!0,[s.D.SalesSidebar]:()=>!0,[s.D.SalesNotifications]:()=>!0,[s.D.SalesAutoSlackLaunchpad]:V=>(0,F.LI)(V),[s.D.AssistantThread]:()=>!0,[s.D.AiApp]:V=>(0,n.wP)(V),[s.D.AboutAiApp]:V=>(0,n.wP)(V),[s.D.MultiTurnSearch]:V=>(0,n.wP)(V)&&(0,c.UF)(V),[s.D.WorkflowDetails]:()=>!0,[s.D.WorkflowTemplateEditor]:V=>(0,M.S)(V),[s.D.AppDetails]:()=>!0,[s.D.WorkflowEditor]:V=>(0,D.ji)(V),[s.D.WorkflowBeingCreated]:V=>(0,D.ji)(V),[s.D.BookmarksFolder]:V=>(0,T.U6)(V),[s.D.ActionItems]:V=>(0,W.FV)(V),[s.D.BBMMain]:V=>(0,x.V)(V),[s.D.BBMWorkspaceSwitcher]:V=>(0,x.V)(V),[s.D.SearchInChannel]:V=>(0,k.k8)(V),[s.D.HuddleTranscriptDetails]:V=>(0,W.Vf)(V),[s.D.HuddlePageCanvas]:()=>!0,[s.D.BBMMore]:V=>(0,x.V)(V),[s.D.AssistantHome]:V=>(0,a.We)(V),[s.D.TodayV2]:V=>(0,E.d)(V),[s.D.MultiTurnSearchSidebar]:V=>(0,n.wP)(V)&&(0,c.UF)(V),[s.D.AboutUserGroup]:()=>!1,[s.D.MeetingDetails]:V=>(0,b.iT)(V),[s.D.AiMessageAnalysis]:V=>(0,i.x)(V),[s.D.BrowseUnifiedFilesGoogleDrive]:V=>(0,o.c)(V),[s.D.BrowseUnifiedFilesOnedrive]:V=>(0,o.c)(V),[s.D.BrowseUnifiedFilesExternalResults]:V=>(0,c.vE)(V),[s.D.ConversationCreate]:V=>(0,O.H)(V),[s.D.SlackbotAi]:V=>(0,a.gT)(V),[s.D.UnifiedDirectory]:V=>(0,A.c)(V)},Z=_((V,ne)=>H[ne](V),"getViewTypeVisibility")},5731054235:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(9636997165);let s=null;function o(){if(s===null){var n,c;s=(document==null||(n=document.documentElement)===null||n===void 0||(c=n.dataset)===null||c===void 0?void 0:c.app)===t.u.APP_POPOUTS}return s}_(o,"isAppPopouts")},9038222488:(N,g,e)=>{"use strict";e.d(g,{V:()=>s});var t=e(4761125736);function s(o){return(0,t._Z)(o,"channel_hover_card")==="on"}_(s,"isChannelHoverCardEnabled")},8800777280:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s,o){return!s||!o?!1:o(s)?!0:s.parentElement?t(s.parentElement,o):!1}_(t,"isContainedBy")},6551836451:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){return!!(s&&(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth))}_(t,"isElementScrollable")},7930183031:(N,g,e)=>{"use strict";e.d(g,{R:()=>o});var t=e(2384831516),s=e(4761125736);const o=(0,t.Mz)(n=>(0,s._Z)(n,"mpim_omniswitcher_add_timestamp")==="on");o.meta={name:"createSelector",key:"createSelectorisMpdmOmniswitcherAddTimestampEnabled",description:n=>(0,s._Z)(n,"mpim_omniswitcher_add_timestamp")==="on"}},4058658129:(N,g,e)=>{"use strict";e.d(g,{z:()=>o});var t=e(2384831516),s=e(4761125736);const o=(0,t.Mz)(n=>(0,s._Z)(n,"mpim_omniswitcher_display_topic")==="on");o.meta={name:"createSelector",key:"createSelectorisMpdmOmniswitcherDisplayTopicEnabled",description:n=>(0,s._Z)(n,"mpim_omniswitcher_display_topic")==="on"}},717227853:(N,g,e)=>{"use strict";e.d(g,{a:()=>t});const t=_(s=>{var o;if(!(s!=null&&s.is_app_unfurl))return!1;var n;return(n=s==null||(o=s.blocks)===null||o===void 0?void 0:o.some(c=>c.type==="file"&&c.source==="remote"))!==null&&n!==void 0?n:!1},"isRemoteFileAppUnfurl")},8707546752:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(2774532222),s=e(7582939986);function o(n){return(0,t.A)(n,s.Rw)}_(o,"isSlackAction")},7097705154:(N,g,e)=>{"use strict";e.d(g,{H:()=>n});var t=e(2384831516),s=e(4761125736);const o=(0,t.Mz)(c=>(0,s._Z)(c,"streamlined_conversation_flow")==="explicit_channel");o.meta={name:"createSelector",key:"createSelectorisStreamlinedConversationFlowExplicitChannelEnabled",description:c=>(0,s._Z)(c,"streamlined_conversation_flow")==="explicit_channel"};const n=(0,t.Mz)(c=>(0,s._Z)(c,"streamlined_conversation_flow")==="treatment"||o(c));n.meta={name:"createSelector",key:"createSelectorisStreamlinedConversationFlowEnabled",description:c=>(0,s._Z)(c,"streamlined_conversation_flow")==="treatment"||o(c)}},6605261507:(N,g,e)=>{"use strict";e.d(g,{Dl:()=>n,Mk:()=>s,qF:()=>o});var t=e(1269024372);const s=["about","canvas"],o=["app","about","settings","chat"];function n(c){return s.indexOf(c)!==-1||o.indexOf(c)!==-1||Object.keys(t.e).indexOf(c)!==-1}_(n,"isValidTabRoute")},2249017398:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(9636997165);let s=null;function o(){if(s===null){var n,c;s=(document==null||(n=document.documentElement)===null||n===void 0||(c=n.dataset)===null||c===void 0?void 0:c.app)===t.u.WORKFLOW_BUILDER}return s}_(o,"isWorkflowBuilder")},9497970206:(N,g,e)=>{"use strict";e.d(g,{D:()=>t});var t;(function(s){s.UP="ArrowUp",s.DOWN="ArrowDown",s.TAB="Tab",s.ENTER="Enter",s.RIGHT="ArrowRight",s.LEFT="ArrowLeft",s.HOME="Home",s.END="End",s.BACKSPACE="Backspace",s.DASH="-",s.UNDERSCORE="_",s.ESCAPE="Escape",s.SPACE=" ",s.A="a"})(t||(t={}))},5219786273:(N,g,e)=>{"use strict";e.d(g,{W:()=>s});var t=e(352142497);const s=_(o=>!!(o!=null&&o.includes(t.D.ConversationCreate)),"looksLikeConversationCreateId")},1466694191:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});const t=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function s(o){return o?t.test(o):!1}_(s,"looksLikeQuipHistoryId")},6904279885:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(9746734072),s=e(6471059816);const o=new s.Ay("a11y"),n={CURRENT:1,UNREADS:2,NOTIFICATIONS:4,PRIVATE:8,NOT_MEMBER:16,MUTED:32,STARRED:64,DRAFT:128};function c(){let{channelName:i,previousChannelName:r,workspaceName:a,orgName:l,isOrgGlobalSharedPublicOrPrivateChannel:d,isOrgSharedPublicOrPrivateChannel:u,isExternallySharedChannel:f,isArchived:m,isCurrent:h,hasUnreads:v,hasNotifications:p,isPrivate:T,isNotMember:A,isMuted:C,isStarred:I,hasDraft:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const y=(()=>{if(f&&a&&a.length>0){const E=(0,t.A)(a)?a:[a];return o.t("shared with {workspaceName}",{workspaceName:E[0]})}return d&&l?o.t("shared across all {orgName} workspaces",{orgName:l}):u?o.t("shared channel"):""})(),P=(()=>{if(m)return o.t("archived channel");const E=(h?n.CURRENT:0)|(v?n.UNREADS:0)|(p?n.NOTIFICATIONS:0)|(T?n.PRIVATE:0)|(A?n.NOT_MEMBER:0)|(C?n.MUTED:0)|(I?n.STARRED:0)|(D?n.DRAFT:0);return E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, not a member, muted, starred, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, private, not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, private, not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, private, not a member, muted, starred, has a draft message"):E===(n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("private, not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, not a member, muted, starred, has a draft message"):E===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, not a member, muted, starred, has a draft message"):E===(n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, not a member, muted, starred, has a draft message"):E===(n.NOT_MEMBER|n.MUTED|n.STARRED|n.DRAFT)?o.t("not a member, muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, muted, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, muted, starred, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, private, muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, muted, starred, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, private, muted, starred, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, private, muted, starred, has a draft message"):E===(n.PRIVATE|n.MUTED|n.STARRED|n.DRAFT)?o.t("private, muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, muted, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, muted, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, muted, starred, has a draft message"):E===(n.NOTIFICATIONS|n.MUTED|n.STARRED|n.DRAFT)?o.t("has notifications, muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, muted, starred, has a draft message"):E===(n.UNREADS|n.MUTED|n.STARRED|n.DRAFT)?o.t("has unread messages, muted, starred, has a draft message"):E===(n.CURRENT|n.MUTED|n.STARRED|n.DRAFT)?o.t("current channel, muted, starred, has a draft message"):E===(n.MUTED|n.STARRED|n.DRAFT)?o.t("muted, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, not a member, starred, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has notifications, private, not a member, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, starred, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages, private, not a member, starred, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, private, not a member, starred, has a draft message"):E===(n.PRIVATE|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("private, not a member, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, not a member, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, not a member, starred, has a draft message"):E===(n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has notifications, not a member, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, not a member, starred, has a draft message"):E===(n.UNREADS|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("has unread messages, not a member, starred, has a draft message"):E===(n.CURRENT|n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("current channel, not a member, starred, has a draft message"):E===(n.NOT_MEMBER|n.STARRED|n.DRAFT)?o.t("not a member, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, private, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, private, starred, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("has notifications, private, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, private, starred, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("has unread messages, private, starred, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.STARRED|n.DRAFT)?o.t("current channel, private, starred, has a draft message"):E===(n.PRIVATE|n.STARRED|n.DRAFT)?o.t("private, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages and notifications, starred, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("has unread messages and notifications, starred, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("current channel, has notifications, starred, has a draft message"):E===(n.NOTIFICATIONS|n.STARRED|n.DRAFT)?o.t("has notifications, starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.STARRED|n.DRAFT)?o.t("current channel, has unread messages, starred, has a draft message"):E===(n.UNREADS|n.STARRED|n.DRAFT)?o.t("has unread messages, starred, has a draft message"):E===(n.CURRENT|n.STARRED|n.DRAFT)?o.t("current channel, starred, has a draft message"):E===(n.STARRED|n.DRAFT)?o.t("starred, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, muted, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, private, not a member, muted, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has notifications, private, not a member, muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, muted, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages, private, not a member, muted, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, private, not a member, muted, has a draft message"):E===(n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("private, not a member, muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, muted, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, not a member, muted, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, not a member, muted, has a draft message"):E===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has notifications, not a member, muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, not a member, muted, has a draft message"):E===(n.UNREADS|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("has unread messages, not a member, muted, has a draft message"):E===(n.CURRENT|n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("current channel, not a member, muted, has a draft message"):E===(n.NOT_MEMBER|n.MUTED|n.DRAFT)?o.t("not a member, muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, muted, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, private, muted, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, private, muted, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("has notifications, private, muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, private, muted, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("has unread messages, private, muted, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.MUTED|n.DRAFT)?o.t("current channel, private, muted, has a draft message"):E===(n.PRIVATE|n.MUTED|n.DRAFT)?o.t("private, muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages and notifications, muted, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("has unread messages and notifications, muted, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("current channel, has notifications, muted, has a draft message"):E===(n.NOTIFICATIONS|n.MUTED|n.DRAFT)?o.t("has notifications, muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.MUTED|n.DRAFT)?o.t("current channel, has unread messages, muted, has a draft message"):E===(n.UNREADS|n.MUTED|n.DRAFT)?o.t("has unread messages, muted, has a draft message"):E===(n.CURRENT|n.MUTED|n.DRAFT)?o.t("current channel, muted, has a draft message"):E===(n.MUTED|n.DRAFT)?o.t("muted, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, not a member, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages and notifications, private, not a member, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has notifications, private, not a member, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("has notifications, private, not a member, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages, private, not a member, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages, private, not a member, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, private, not a member, has a draft message"):E===(n.PRIVATE|n.NOT_MEMBER|n.DRAFT)?o.t("private, not a member, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages and notifications, not a member, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages and notifications, not a member, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has notifications, not a member, has a draft message"):E===(n.NOTIFICATIONS|n.NOT_MEMBER|n.DRAFT)?o.t("has notifications, not a member, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, has unread messages, not a member, has a draft message"):E===(n.UNREADS|n.NOT_MEMBER|n.DRAFT)?o.t("has unread messages, not a member, has a draft message"):E===(n.CURRENT|n.NOT_MEMBER|n.DRAFT)?o.t("current channel, not a member, has a draft message"):E===(n.NOT_MEMBER|n.DRAFT)?o.t("not a member, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("current channel, has unread messages and notifications, private, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("has unread messages and notifications, private, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("current channel, has notifications, private, has a draft message"):E===(n.NOTIFICATIONS|n.PRIVATE|n.DRAFT)?o.t("has notifications, private, has a draft message"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.DRAFT)?o.t("current channel, has unread messages, private, has a draft message"):E===(n.UNREADS|n.PRIVATE|n.DRAFT)?o.t("has unread messages, private, has a draft message"):E===(n.CURRENT|n.PRIVATE|n.DRAFT)?o.t("current channel, private, has a draft message"):E===(n.PRIVATE|n.DRAFT)?o.t("private, has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.DRAFT)?o.t("current channel, has unread messages and notifications, has a draft message"):E===(n.UNREADS|n.NOTIFICATIONS|n.DRAFT)?o.t("has unread messages and notifications, has a draft message"):E===(n.CURRENT|n.NOTIFICATIONS|n.DRAFT)?o.t("current channel, has notifications, has a draft message"):E===(n.NOTIFICATIONS|n.DRAFT)?o.t("has notifications, has a draft message"):E===(n.CURRENT|n.UNREADS|n.DRAFT)?o.t("current channel, has unread messages, has a draft message"):E===(n.UNREADS|n.DRAFT)?o.t("has unread messages, has a draft message"):E===(n.CURRENT|n.DRAFT)?o.t("current channel, has a draft message"):E===n.DRAFT?o.t("has a draft message"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, private, not a member, muted, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, private, not a member, muted, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has notifications, private, not a member, muted, starred"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has notifications, private, not a member, muted, starred"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, private, not a member, muted, starred"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages, private, not a member, muted, starred"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, private, not a member, muted, starred"):E===(n.PRIVATE|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("private, not a member, muted, starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, not a member, muted, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, not a member, muted, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has notifications, not a member, muted, starred"):E===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has notifications, not a member, muted, starred"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, not a member, muted, starred"):E===(n.UNREADS|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("has unread messages, not a member, muted, starred"):E===(n.CURRENT|n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("current channel, not a member, muted, starred"):E===(n.NOT_MEMBER|n.MUTED|n.STARRED)?o.t("not a member, muted, starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, private, muted, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, private, muted, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, has notifications, private, muted, starred"):E===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("has notifications, private, muted, starred"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, private, muted, starred"):E===(n.UNREADS|n.PRIVATE|n.MUTED|n.STARRED)?o.t("has unread messages, private, muted, starred"):E===(n.CURRENT|n.PRIVATE|n.MUTED|n.STARRED)?o.t("current channel, private, muted, starred"):E===(n.PRIVATE|n.MUTED|n.STARRED)?o.t("private, muted, starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("current channel, has unread messages and notifications, muted, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("has unread messages and notifications, muted, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("current channel, has notifications, muted, starred"):E===(n.NOTIFICATIONS|n.MUTED|n.STARRED)?o.t("has notifications, muted, starred"):E===(n.CURRENT|n.UNREADS|n.MUTED|n.STARRED)?o.t("current channel, has unread messages, muted, starred"):E===(n.UNREADS|n.MUTED|n.STARRED)?o.t("has unread messages, muted, starred"):E===(n.CURRENT|n.MUTED|n.STARRED)?o.t("current channel, muted, starred"):E===(n.MUTED|n.STARRED)?o.t("muted, starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages and notifications, private, not a member, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages and notifications, private, not a member, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has notifications, private, not a member, starred"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("has notifications, private, not a member, starred"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages, private, not a member, starred"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages, private, not a member, starred"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("current channel, private, not a member, starred"):E===(n.PRIVATE|n.NOT_MEMBER|n.STARRED)?o.t("private, not a member, starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages and notifications, not a member, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages and notifications, not a member, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has notifications, not a member, starred"):E===(n.NOTIFICATIONS|n.NOT_MEMBER|n.STARRED)?o.t("has notifications, not a member, starred"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.STARRED)?o.t("current channel, has unread messages, not a member, starred"):E===(n.UNREADS|n.NOT_MEMBER|n.STARRED)?o.t("has unread messages, not a member, starred"):E===(n.CURRENT|n.NOT_MEMBER|n.STARRED)?o.t("current channel, not a member, starred"):E===(n.NOT_MEMBER|n.STARRED)?o.t("not a member, starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("current channel, has unread messages and notifications, private, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("has unread messages and notifications, private, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("current channel, has notifications, private, starred"):E===(n.NOTIFICATIONS|n.PRIVATE|n.STARRED)?o.t("has notifications, private, starred"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.STARRED)?o.t("current channel, has unread messages, private, starred"):E===(n.UNREADS|n.PRIVATE|n.STARRED)?o.t("has unread messages, private, starred"):E===(n.CURRENT|n.PRIVATE|n.STARRED)?o.t("current channel, private, starred"):E===(n.PRIVATE|n.STARRED)?o.t("private, starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.STARRED)?o.t("current channel, has unread messages and notifications, starred"):E===(n.UNREADS|n.NOTIFICATIONS|n.STARRED)?o.t("has unread messages and notifications, starred"):E===(n.CURRENT|n.NOTIFICATIONS|n.STARRED)?o.t("current channel, has notifications, starred"):E===(n.NOTIFICATIONS|n.STARRED)?o.t("has notifications, starred"):E===(n.CURRENT|n.UNREADS|n.STARRED)?o.t("current channel, has unread messages, starred"):E===(n.UNREADS|n.STARRED)?o.t("has unread messages, starred"):E===(n.CURRENT|n.STARRED)?o.t("current channel, starred"):E===n.STARRED?o.t("starred"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages and notifications, private, not a member, muted"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages and notifications, private, not a member, muted"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has notifications, private, not a member, muted"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("has notifications, private, not a member, muted"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages, private, not a member, muted"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages, private, not a member, muted"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("current channel, private, not a member, muted"):E===(n.PRIVATE|n.NOT_MEMBER|n.MUTED)?o.t("private, not a member, muted"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages and notifications, not a member, muted"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages and notifications, not a member, muted"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has notifications, not a member, muted"):E===(n.NOTIFICATIONS|n.NOT_MEMBER|n.MUTED)?o.t("has notifications, not a member, muted"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER|n.MUTED)?o.t("current channel, has unread messages, not a member, muted"):E===(n.UNREADS|n.NOT_MEMBER|n.MUTED)?o.t("has unread messages, not a member, muted"):E===(n.CURRENT|n.NOT_MEMBER|n.MUTED)?o.t("current channel, not a member, muted"):E===(n.NOT_MEMBER|n.MUTED)?o.t("not a member, muted"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("current channel, has unread messages and notifications, private, muted"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("has unread messages and notifications, private, muted"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("current channel, has notifications, private, muted"):E===(n.NOTIFICATIONS|n.PRIVATE|n.MUTED)?o.t("has notifications, private, muted"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.MUTED)?o.t("current channel, has unread messages, private, muted"):E===(n.UNREADS|n.PRIVATE|n.MUTED)?o.t("has unread messages, private, muted"):E===(n.CURRENT|n.PRIVATE|n.MUTED)?o.t("current channel, private, muted"):E===(n.PRIVATE|n.MUTED)?o.t("private, muted"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.MUTED)?o.t("current channel, has unread messages and notifications, muted"):E===(n.UNREADS|n.NOTIFICATIONS|n.MUTED)?o.t("has unread messages and notifications, muted"):E===(n.CURRENT|n.NOTIFICATIONS|n.MUTED)?o.t("current channel, has notifications, muted"):E===(n.NOTIFICATIONS|n.MUTED)?o.t("has notifications, muted"):E===(n.CURRENT|n.UNREADS|n.MUTED)?o.t("current channel, has unread messages, muted"):E===(n.UNREADS|n.MUTED)?o.t("has unread messages, muted"):E===(n.CURRENT|n.MUTED)?o.t("current channel, muted"):E===n.MUTED?o.t("muted"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, has unread messages and notifications, private, not a member"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("has unread messages and notifications, private, not a member"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, has notifications, private, not a member"):E===(n.NOTIFICATIONS|n.PRIVATE|n.NOT_MEMBER)?o.t("has notifications, private, not a member"):E===(n.CURRENT|n.UNREADS|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, has unread messages, private, not a member"):E===(n.UNREADS|n.PRIVATE|n.NOT_MEMBER)?o.t("has unread messages, private, not a member"):E===(n.CURRENT|n.PRIVATE|n.NOT_MEMBER)?o.t("current channel, private, not a member"):E===(n.PRIVATE|n.NOT_MEMBER)?o.t("private, not a member"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("current channel, has unread messages and notifications, not a member"):E===(n.UNREADS|n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("has unread messages and notifications, not a member"):E===(n.CURRENT|n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("current channel, has notifications, not a member"):E===(n.NOTIFICATIONS|n.NOT_MEMBER)?o.t("has notifications, not a member"):E===(n.CURRENT|n.UNREADS|n.NOT_MEMBER)?o.t("current channel, has unread messages, not a member"):E===(n.UNREADS|n.NOT_MEMBER)?o.t("has unread messages, not a member"):E===(n.CURRENT|n.NOT_MEMBER)?o.t("current channel, not a member"):E===n.NOT_MEMBER?o.t("not a member"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS|n.PRIVATE)?o.t("current channel, has unread messages and notifications, private"):E===(n.UNREADS|n.NOTIFICATIONS|n.PRIVATE)?o.t("has unread messages and notifications, private"):E===(n.CURRENT|n.NOTIFICATIONS|n.PRIVATE)?o.t("current channel, has notifications, private"):E===(n.NOTIFICATIONS|n.PRIVATE)?o.t("has notifications, private"):E===(n.CURRENT|n.UNREADS|n.PRIVATE)?o.t("current channel, has unread messages, private"):E===(n.UNREADS|n.PRIVATE)?o.t("has unread messages, private"):E===(n.CURRENT|n.PRIVATE)?o.t("current channel, private"):E===n.PRIVATE?o.t("private"):E===(n.CURRENT|n.UNREADS|n.NOTIFICATIONS)?o.t("current channel, has unread messages and notifications"):E===(n.UNREADS|n.NOTIFICATIONS)?o.t("has unread messages and notifications"):E===(n.CURRENT|n.NOTIFICATIONS)?o.t("current channel, has notifications"):E===n.NOTIFICATIONS?o.t("has notifications"):E===(n.CURRENT|n.UNREADS)?o.t("current channel, has unread messages"):E===n.UNREADS?o.t("has unread messages"):E===n.CURRENT?o.t("current channel"):""})();return r&&!y&&!P?o.t("{channelName}, previously {previousChannelName}",{channelName:i,previousChannelName:r}):!r&&!y&&P?o.t("{channelName} ({context})",{channelName:i,context:P}):r&&!y&&P?o.t("{channelName}, previously {previousChannelName} ({context})",{channelName:i,previousChannelName:r,context:P}):!r&&y&&!P?o.t("{channelName}, {workspaceDescription}",{channelName:i,workspaceDescription:y}):r&&y&&!P?o.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:i,workspaceDescription:y,previousChannelName:r}):!r&&y&&P?o.t("{channelName}, {workspaceDescription} ({context})",{channelName:i,workspaceDescription:y,context:P}):r&&y&&P?o.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:i,workspaceDescription:y,previousChannelName:r,context:P}):i||""}_(c,"makeAriaLabelForChannel")},1269024372:(N,g,e)=>{"use strict";e.d(g,{e:()=>s,k:()=>o});var t=e(352142497);const s={recent:t.D.RecentPlatform,"workflows-managed-by-you":t.D.BrowseWorkflowsManagedByYou,workflows:t.D.BrowseShortcuts,"all-workflows":t.D.BrowseShortcuts,templates:t.D.BrowseWorkflowTemplates,apps:t.D.BrowseApps};function o(n){return s[n]}_(o,"maybeGetAutomationsTab")},4963023022:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(6839188756);const s=new Set(["/apps","/services","/account","/admin","/customize","/pricing","/stats","/help","/plans","/checkout","/benefits","/interop","/file-window"]);function o(n,c,i,r){if(!n)return!1;let a=n;const l=(0,t.Zl)(c);n.startsWith(l)&&(a=a.slice(l.length-1));let d=a;d.startsWith("/")||(d=`/${d}`);const u=d.indexOf("/",1);u>-1&&(d=d.slice(0,u));const f=d.indexOf("?");return f>-1&&(d=d.slice(0,f)),s.has(d)?(i&&i.preventDefault&&i.preventDefault(),i&&i.stopPropagation&&i.stopPropagation(),(0,t.gC)(c,a,r),!0):!1}_(o,"maybeOpenAuthenticatedUrlInBrowser")},264208541:(N,g,e)=>{"use strict";e.d(g,{Ey:()=>i,Hn:()=>r,gs:()=>a,mw:()=>d,nS:()=>l});var t=e(8665296019),s=e(1033764764),o;let n=!!(!(window==null||(o=window.performance)===null||o===void 0)&&o.memory);function c(){return n?window.performance.memory.jsHeapSizeLimit:null}_(c,"getMemoryLimit");function i(){return n?window.performance.memory.totalJSHeapSize:null}_(i,"getMemoryTotal");function r(){return n?window.performance.memory.usedJSHeapSize:null}_(r,"getMemoryUsed");function a(){return n}_(a,"supportsMemoryMeasurement");function l(f){const m=f/1e3/1e3;return`${m<100?m.toPrecision(3):Math.round(m)} MB`}_(l,"humanizeBytes");function d(f,m){const h=(0,t.A)(f,v=>{let{memory:p}=v;return p[m]||0});return Math.ceil((0,s.UK)(h))}_(d,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>n,set:f=>{n=f}}})},7598536680:(N,g,e)=>{"use strict";e.d(g,{Pw:()=>d,bC:()=>r,wn:()=>l,zC:()=>a});var t=e(1703559452),s=e(1022424641),o=e(168261570),n=e(337319621),c=e(8800777280);const i={};function r(u){let{channelId:f,functions:m,getInputInstance:h,threadTs:v,viewContext:p}=u;if(!h)throw new Error('Missing required "getInputInstance" param');const T=`${p}-${f}-${v}`;i[T]&&(0,n.Wo)().warn(`Registering duplicate input (key: "${T}")`);const A={clear:()=>{var C,I;return(C=h())===null||C===void 0||(I=C.clear)===null||I===void 0?void 0:I.call(C)},clearHistory:()=>{var C,I;return(C=h())===null||C===void 0||(I=C.clearHistory)===null||I===void 0?void 0:I.call(C)},focus:()=>{var C,I;return(C=h())===null||C===void 0||(I=C.focus)===null||I===void 0?void 0:I.call(C)},getLength:()=>{var C,I;return(C=h())===null||C===void 0||(I=C.getLength)===null||I===void 0?void 0:I.call(C)},getSelection:()=>{var C,I;return(C=h())===null||C===void 0||(I=C.getSelection)===null||I===void 0?void 0:I.call(C)},getText:()=>{var C,I;return(C=h())===null||C===void 0||(I=C.getText)===null||I===void 0?void 0:I.call(C)},hasFocus:()=>{var C,I;return!!(!((C=h())===null||C===void 0||(I=C.hasFocus)===null||I===void 0)&&I.call(C))},insertContentsAtCursor:function(){for(var C=arguments.length,I=new Array(C),D=0;D<C;D++)I[D]=arguments[D];var y,P;return(y=h())===null||y===void 0||(P=y.insertContentsAtCursor)===null||P===void 0?void 0:P.call(y,...I)},isEmpty:()=>{var C,I;return!!(!((C=h())===null||C===void 0||(I=C.isEmpty)===null||I===void 0)&&I.call(C))},isEnabled:()=>{var C,I;return!!(!((C=h())===null||C===void 0||(I=C.isEnabled)===null||I===void 0)&&I.call(C))},prependContents:C=>{var I,D;return(I=h())===null||I===void 0||(D=I.prependContents)===null||D===void 0?void 0:D.call(I,C)},setContents:function(){for(var C=arguments.length,I=new Array(C),D=0;D<C;D++)I[D]=arguments[D];var y,P;return(y=h())===null||y===void 0||(P=y.setContents)===null||P===void 0?void 0:P.call(y,...I)},setPlaceholder:C=>{var I,D;return(I=h())===null||I===void 0||(D=I.setPlaceholder)===null||D===void 0?void 0:D.call(I,C)},setText:C=>{var I,D;return(I=h())===null||I===void 0||(D=I.value)===null||D===void 0?void 0:D.call(I,C)}};return i[T]={...A,...m},()=>{delete i[T]}}_(r,"registerInputAuto");function a(u){let{viewContext:f,channelId:m,threadTs:h}=u;return i[`${f}-${m}-${h||void 0}`]}_(a,"getInputProxy");function l(u){if(!(0,o.A)(u))return;let f,m,h;if((0,c.A)(u,p=>{if(p!=null&&p.getAttribute("data-message-input")){var T;f=(T=p.getAttribute("data-channel-id"))!==null&&T!==void 0?T:void 0;var A;m=(A=p.getAttribute("data-thread-ts"))!==null&&A!==void 0?A:void 0;const C=p.getAttribute("data-view-context");return C&&(h=C),!0}return!1}))return a({viewContext:h,channelId:f,threadTs:m})}_(l,"getProxyForElement");function d(){let{channelId:u,threadTs:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const m=`${u}-${f}`,h=Object.keys(i);return(0,t.A)(h,v=>(0,s.A)(v,m))}_(d,"isInputRegistered")},3600241593:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(9113979368),s=e(7582939986);function o(n){return!n||(0,t.A)(n)?[]:n.map(i=>({hide_color:!0,blocks:[{type:s.WP.contact_card,contact_user_id:i.contact_user_id}]}))}_(o,"getFormattedContactCardAttachments")},1963643401:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3078252698),s=e(9219415264);function o(n){return(0,t.A)(n)?(0,s.A)((n||"").trim().toLowerCase()):""}_(o,"normalize")},662226046:(N,g,e)=>{"use strict";e.d(g,{R2:()=>v,bP:()=>p,ec:()=>D,fU:()=>I,p6:()=>E,qe:()=>y,x2:()=>S,yj:()=>M});var t=e(6858020025),s=e(3783303734),o=e(4094753332),n=e(337319621),c=e(3855029223),i=e(2872463257),r=e(8847766420),a=e(5795074931);const l="notification:sent",d="notification:received",u="notification:opened",f="notification:quick_reply",m="notification:read_in_app",h=100;function v(R){try{return JSON.stringify(R)}catch(k){return(0,n.Wo)().warn("encodeNotificationTracePassthrough json stringify error",k),""}}_(v,"encodeNotificationTracePassthrough");function p(R){try{const{traceId:k,parentSpanId:O}=JSON.parse(R);return{traceId:k,parentSpanId:O}}catch(k){return(0,n.Wo)().warn("decodeNotificationTracePassthrough json parse error",k),{traceId:"",parentSpanId:""}}}_(p,"decodeNotificationTracePassthrough");function T(R){let{tracer:k,name:O,parentSpanId:U,traceId:W}=R;return k.createSpan({name:O,samplingOptions:{sampleType:i.nl.ALWAYS},options:{parentSpanId:U,traceId:W}})}_(T,"createSpan");function A(R){let{tracer:k,name:O,parentSpanId:U,traceId:W}=R;const x=T({tracer:k,name:O,parentSpanId:U,traceId:W});return x.close(),x}_(A,"createAndCloseSpan");function C(R,k){let{tracer:O,message:U}=k;const W=A({tracer:O,name:l}),x=(0,o.y3)()?"desktop":"browser",L=(0,a.WR)(R),b=(0,r.ZT)(R),F=(0,t.A)(U==null?void 0:U.ts,".",""),B=U==null?void 0:U.channel,K=`${L}-${B}-${F}`;return W.addTags({platform:x,encoded_user_id:L,encoded_team_id:b,encoded_channel_id:B,message_ts:F,notification_id:K}),W}_(C,"createAndCloseNotificationSentSpan");function I(R,k){let{message:O}=k;if(!O||!(O!=null&&O.ts)||!(O!=null&&O.channel))return;const U=(0,c.E)({state:R});let W,x;const L=[];if((O==null?void 0:O.type)==="desktop_notification"&&(O!=null&&O.trace_ctx))W=O.trace_ctx["x-b3-traceid"],x=O.trace_ctx["x-b3-spanid"];else{const F=C(R,{tracer:U,message:O});L.push(F),x=F.getId(),W=F.getTraceId()}const b=A({name:d,tracer:U,traceId:W,parentSpanId:x});return L.push(b),U.reportSpans(L),{traceId:W,parentSpanId:x}}_(I,"traceNotificationSentAndReceived");function D(R,k){let{notificationTracePassthroughData:O}=k;if(!O)return;const{traceId:U,parentSpanId:W}=O,x=(0,c.E)({state:R}),L=A({tracer:x,traceId:U,parentSpanId:W,name:u});x.reportSpans([L])}_(D,"traceNotificationOpened");function y(R,k){let{notificationTracePassthroughData:O,clientMsgId:U}=k;if(!O||!U)return;const{traceId:W,parentSpanId:x}=O,L=(0,c.E)({state:R}),b=A({tracer:L,traceId:W,parentSpanId:x,name:f});b.addTags({reply_message_client_message_id:U}),L.reportSpans([b])}_(y,"traceNotificationQuickReply");let P={};function E(R){return!!P[R]}_(E,"messageHasPendingNotificationTrace");function M(R,k){let{timestamp:O,notificationTracePassthroughData:U}=k;if(!U)return;(0,s.A)(P)>h&&((0,n.Ay)({state:R}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),P={});const{traceId:W,parentSpanId:x}=U,L=(0,c.E)({state:R}),b=T({tracer:L,traceId:W,parentSpanId:x,name:m});P[O]=b}_(M,"openNotificationReadSpan");function S(R,k){let{timestamp:O}=k;if(!O)return;const U=P[O];if(!U)return;const W=(0,c.E)({state:R});U.close(),W.reportSpans([U]),delete P[O]}_(S,"closeAndReportNotificationReadSpan")},5123689463:(N,g,e)=>{"use strict";e.d(g,{Kk:()=>d,N_:()=>m,Oh:()=>f,iu:()=>h,px:()=>a,rk:()=>l});var t=e(8786006583),s=e(9022734571),o=e(7732872146),n=e(7101754232),c=e(3929724715),i=e(2523456537);function r(p){const{hostname:T,pathname:A,search:C}=p;if(!T||!A)return;const I=T.split("."),D=A.split("/").slice(1);if(!(0,i.A)(T)||D.length<2)return;const y=D[0];switch(y){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const P=I[0],E=(0,t.A)(C.split("?")),M=E&&(0,s.nT)(E);let S;return M&&M.thread_ts&&(S=M.thread_ts),{team:P,type:y,path:D,threadTs:S}}_(r,"parsePermalinkFromUrlObject");function a(p){return l((0,o.Ay)(p))}_(a,"getPermalinkIdentifier");function l(p){const T=r(p);if(!T)return;const{path:A}=T;return A?A&&A[1]:!1}_(l,"getPermalinkIdentifierFromUrlObject");function d(p){let{team:T,channelId:A,ts:C,threadTs:I}=p,D=A&&(0,c.Bn)({team:T,channelId:A,archive:!0});return A&&C&&(D+=`/p${C.replace(".","")}`),A&&C&&I&&I!==C&&(D+=`?thread_ts=${I}&cid=${A}`),D}_(d,"getXWSPermalink");function u(p){let{encodedSearchString:T}=p;return`/search/${T}`}_(u,"getSearchPermalink");function f(p,T){return`/archives/${p}/tabs/${T}`}_(f,"getChannelTabPermalink");function m(p){return`/create/channel/${(0,n.R)(p)?p:p.toLowerCase().replace("_solution","_template")}`}_(m,"getChannelTemplatePermalink");function h(p){let{channelId:T,ts:A,threadTs:C}=p,I="/archives";return T&&(I+=`/${T}`),T&&A&&(I+=`/p${A.replace(".","")}`),T&&A&&C&&C!==A&&(I+=`?thread_ts=${C}&cid=${T}`),I}_(h,"getPermalink");var v=null},1369898444:(N,g,e)=>{"use strict";e.d(g,{M:()=>c,W:()=>n});var t=e(8749908259),s=e(2878685908),o=e(7002741921);function n(i,r){const a={resources:[],frames:[],stacks:[],samples:[]},l=new Map,d=new Map,u=new Map;function f(T){if(u.has(T))return u.get(T);const A=a.resources.length;return a.resources.push(i.resources[T]),u.set(T,A),A}_(f,"mapResource");function m(T){if(d.has(T))return d.get(T);const A=i.frames[T],C=a.frames.length;return A.resourceId!=null?a.frames.push({...A,resourceId:f(A.resourceId)}):a.frames.push(A),d.set(T,C),C}_(m,"mapFrame");function h(T){if(l.has(T))return l.get(T);const A=i.stacks[T],C=A.parentId?h(A.parentId):void 0,I=m(A.frameId),D=a.stacks.length;return a.stacks.push(C!=null?{parentId:C,frameId:I}:{frameId:I}),l.set(T,D),D}_(h,"mapStack");function v(T){T.stackId==null?a.samples.push(T):a.samples.push({timestamp:T.timestamp,stackId:h(T.stackId)})}_(v,"addSample");let p=0;for(const{start:T,end:A}of r){for(;p<i.samples.length&&i.samples[p].timestamp<T;)p+=1;for(;p<i.samples.length&&i.samples[p].timestamp<=A;)v(i.samples[p]),p+=1}return a}_(n,"filterTrace");function c(){return!(0,s.b3)()&&(0,o._)("self_profiling","enabled")&&!(0,t.b)()}_(c,"isProfilingEnabled")},5332109660:(N,g,e)=>{"use strict";e.d(g,{D:()=>t});const t=_(s=>{const o=s.split(":");return{salesforceOrgId:o[1]||"",rawRecordId:o[2]||"",relatedListId:o[3]||""}},"parseSalesforceCompositeId")},7948868735:(N,g,e)=>{"use strict";e.d(g,{F:()=>o});var t=e(1545824888),s=e(4615579178);class o extends s.l{fetchData(){return t.S.resolve()}onCacheData(c){super.onCacheData(c);const i=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*i)}getStaleWhileRevalidate(c){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?c:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}_(o,"AutocompleteCache")},9186097751:(N,g,e)=>{"use strict";e.d(g,{S1:()=>h});var t=e(1545824888),s=e(7679173189),o=e(1520110262),n=e(7948868735),c=e(6533394955);const i=.014,r=.094,a=.148,l=.132,d=.179;class u extends n.F{fetchData(){return(0,s.Am)(this.teamId)?(0,c.Qw)(this.teamId,(0,o.yp)()).catch(p=>({exception:p})).then(p=>new f({topEmojis:p.top_emojis,topMpims:p.top_mpims,topChannels:p.top_channels,topUsers:p.top_users,emojiFeatures:p.emoji_features,mpimFeatures:p.mpim_features,channelFeatures:p.channel_features,userFeatures:p.user_features,mpimCtr:p.mpim_ctr,channelCtr:p.channel_ctr,userCtr:p.user_ctr,emojiCtr:p.emoji_ctr,otherCtr:p.other_ctr,defaultFeatureNames:p.default_features,topAppActions:p.top_app_actions,topGlobalActions:p.top_global_actions,topSlashCommands:p.top_slash_commands,topWorkflowTriggers:p.top_workflow_triggers,topChannelActions:p.top_channel_actions,appActionCtr:p.app_action_ctr,globalActionCtr:p.global_action_ctr,slashCommandCtr:p.slash_command_ctr,workflowTriggerCtr:p.workflow_trigger_ctr,channelActionCtr:p.channel_action_ctr,usersHasDmed:p.users_has_dmed,usersHasMpdmed:p.users_has_mpdmed,channelPriority28D:p.channel_priority_28d,channelPriority90D:p.channel_priority_90d,userAffinity:p.user_affinity})):t.S.resolve(new f)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new f)}constructor(p){super(),this.teamId=p}}_(u,"AutocompleteFeaturesCache");class f{getFeatures(p,T){const A=this.topEntities[T],C=this.featureNames[T]||this.featureNames.default,I=this.defaultEntityFeatures[T],D=A&&A[p];if(D&&C){const y={};for(let E=0;E<C.length;E++)y[C[E]]=D[E];const P={team_ctr_90dd:I.team_ctr_90dd,user_ctr_30dd:I.user_ctr_30dd};for(const E of Object.keys(I))P[E]=y[E]||I[E];return P}return I}getEntityCtr(p){return this.entityCtr[p]||this.otherEntityCtr}getUserDmChannelMetadata(p){return this.usersHasDmed?this.usersHasDmed[p]:null}getUserMpdmChannelMetadata(p){return this.usersHasMpdmed?this.usersHasMpdmed[p]:null}getProcessedPriorityFeatures(){if(!this.priorityFeatures)return null;const{channelPriority28D:p,channelPriority90D:T,userAffinity:A,usersHasDmed:C}=this.priorityFeatures,I={topChannels28D:[],topChannels90D:[],topUsers:[],topUsersHasDmed:[]},D=_(y=>Object.entries(y).sort((P,E)=>{const M=P[1],S=E[1],R=typeof M=="number"?M:M.last_read_abs;return(typeof S=="number"?S:S.last_read_abs)-R}).slice(0,50).map(P=>P[0]),"processPriorityFeature");if(p){const y=D(p);I.topChannels28D=y}if(T){const y=D(T);I.topChannels90D=y}if(A){const y=D(A);I.topUsers=y}if(C){const y=D(C);I.topUsersHasDmed=y}return I}constructor({topEmojis:p,topMpims:T,topChannels:A,topUsers:C,emojiFeatures:I,mpimFeatures:D,channelFeatures:y,userFeatures:P,mpimCtr:E,channelCtr:M,userCtr:S,emojiCtr:R,otherCtr:k,defaultFeatureNames:O,topAppActions:U,topGlobalActions:W,topSlashCommands:x,topWorkflowTriggers:L,topChannelActions:b,appActionCtr:F,globalActionCtr:B,slashCommandCtr:K,workflowTriggerCtr:H,channelActionCtr:Y,usersHasDmed:Z,usersHasMpdmed:V,channelPriority28D:ne,channelPriority90D:q,userAffinity:me}={}){this.topEntities={emoji:p,mpim:T,channel:A,member:C,appAction:U,globalAction:W,slashCommand:x,workflowTrigger:L,channelAction:b},this.featureNames={emoji:I,mpim:D,channel:y,member:P,default:O},this.otherEntityCtr=k??d,this.entityCtr={mpim:E??i,channel:M??a,member:S??l,emoji:R??r,appAction:F??this.otherEntityCtr,globalAction:B??this.otherEntityCtr,slashCommand:K??this.otherEntityCtr,workflowTrigger:H??this.otherEntityCtr,channelAction:Y??this.otherEntityCtr},this.defaultEntityFeatures={};for(const ue of Object.keys(this.entityCtr))this.defaultEntityFeatures[ue]={team_ctr_90dd:this.getEntityCtr(ue),user_ctr_30dd:this.getEntityCtr(ue)};this.usersHasDmed=Z,this.usersHasMpdmed=V,this.priorityFeatures={channelPriority28D:ne,channelPriority90D:q,userAffinity:me,usersHasDmed:Z}}}_(f,"AutocompleteFeatures");const m={};function h(v){let{teamId:p,enterpriseId:T}=v;const A=T||p||"_default";return m[A]||(m[A]=new u(p)),m[A]}_(h,"getAutocompleteFeaturesCache")},4256321479:(N,g,e)=>{"use strict";e.d(g,{E:()=>r});var t=e(5276466411),s=e(7948868735),o=e(6533394955),n=e(474652310);class c extends s.F{handleFileDeletion(l){if(this.cachedData&&this.cachedData.length>0){const d=this.cachedData.filter(u=>!(l!=null&&l.includes(u.id)));this.cachedData=d}}fetchData(){return(0,o.Qw)(this.teamId,(0,t.z)({reason:"fetch-search-autocomplete-top-engaged-files"})).then(l=>((0,o.Qw)(this.teamId,(0,n.b)({files:l.files})),l.files))}constructor(l,d){super(),this.teamId=l,this.timeoutMs=d}}_(c,"AutocompleteTopEngagedFilesCache");const i={};function r(a){let{teamId:l}=a;const d=l||"_default",u=36e5;return i[d]||(i[d]=new c(l,u)),i[d]}_(r,"getAutocompleteTopEngagedFilesCache")},1948374838:(N,g,e)=>{"use strict";e.d(g,{X:()=>c});var t=e(2223860501),s=e(8847766420);let o=_(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(r){const a=this.queryCache.has(r);return this.clearIfStale(),a}containsPrefixOf(r){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(r)}add(r){return this.clearIfStale(),this.queryCache.add(r)}addAsPrefix(r){return this.clearPrefixIfStale(),this.prefixQueryCache.add(r)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.A,this.prefixQueryCache=new t.A,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const n={};function c(i){const r=(0,s.ZT)(i),l=(0,s.jV)(i)||r||"";return n[l]||(n[l]=new o),n[l]}_(c,"getWorkflowTriggersAutocompleteQueryCache")},8584282426:(N,g,e)=>{"use strict";e.d(g,{M:()=>c});var t=e(3502457281),s=e(3929724715),o=e(8921478798),n=e(5795074931);function c(i){let{state:r,mpim:a,matchData:l,equalizeMembersListToMatchData:d=!1}=i;const u=(0,n.WR)(r);let f=[];if((0,s.Ug)(a)){var m;f=((m=(0,s.Ug)(a))===null||m===void 0?void 0:m.filter(P=>u!==P))||[]}if(!l)return f;const h=!1,v=!1,p=[];l.forEach(P=>{P.map(M=>({name:(0,o.I)(r,M.id,h,v),...M})).sort((M,S)=>M.score<S.score?1:M.score>S.score?-1:(0,t.Ay)(M.name,S.name)).filter(M=>isFinite(M.score)).forEach(M=>{f.includes(M.id)&&(p.push(M.id),f.splice(f.indexOf(M.id),1))})});const T=f.map(P=>({id:P,name:(0,o.I)(r,P,h,v)})).sort((P,E)=>(0,t.Ay)(P.name,E.name)).map(P=>P.id),A=[...p,...T],C=l.length,I=A.length>C,D=d&&I,y=A.slice(0,A.length-(A.length-C));return D?y:A}_(c,"getMemberDisplayOrderForSearcherMPIM")},220244708:(N,g,e)=>{"use strict";e.d(g,{B:()=>n});var t=e(6495946979),s=e(8170643398),o=e(3730613858);function n(c,i,r){if((0,s.fy)(i))return(0,t.bl)(r);const a=(0,o.Ql)(c,r.id,i.id);return!!(a.isKnown&&a.isMember)}_(n,"isUserKnownToBeMemberOfChannel")},9703079150:(N,g,e)=>{"use strict";e.d(g,{t:()=>s});var t=e(5853759500);class s{score(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0;const r=n.featureList.length;for(let a=0;a<r;a++)i+=this._weightForFeature(n.featureList[a],c.source||null)*((0,t.W0)(n.featureList[a])||0);return i}explain(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=c.source||null,r=n.featureList.map(d=>({id:d.id,name:d.name,value:d.valueOrNull,weight:this._weightForFeature(d,i),globalWeight:this._globalWeightForFeature(d),score:this._weightForFeature(d,i)*(0,t.W0)(d)})),a=r.filter(d=>d.score).sort((d,u)=>u.score-d.score),l=r.filter(d=>d.value&&!d.score&&d.name!=="ID");return{score:this.score(n,c),features:[...a,...l],remoteModel:this.isRemote}}_globalWeightForFeature(n){return this.weights[n.name]||0}_weightForFeature(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=0;n.name==="USER_IS_EXTERNAL"&&(i=-1);const r=this.weights[n.name]||0,l=c&&(c==="composer_page__destination"||c.startsWith("share"))?"WRITE":"READ",d=this.weights[`${l}_${n.name}`]||0;return r+d+i}constructor(n,c=!1){this.isRemote=c,this.weights=n}}_(s,"LinearModel")},1072784641:(N,g,e)=>{"use strict";e.d(g,{A:()=>w});var t=e(7715417323),s=e(5729325965),o=e(1703559452),n=e(4249070636),c=e(5238395322),i=e(8086952004),r=e(2003990933),a=e(8935440161),l=e(6312133237),d=e(4874502712),u=e(274973508),f=e(3037015781),m=e(8496310524),h=e(7111365413),v=e(3929724715),p=e(1407713935),T=e(8920264989),A=e(8798294025),C=e(395285811),I=e(3890290905);const D=_(Q=>Q&&(Q.displayName||Q.display_name||(0,I.Y)(Q)),"getEmojiDisplayName"),y=_(Q=>Q?(Q.aliases?[Q,...Q.aliases]:[Q]).map(J=>({name:(0,I.Y)(J),displayName:D(J)})):null,"getAllEmojiNameObjects");var P=e(2647703359),E=e(102566929),M=e(5455782105),S=e(8170643398),R=e(9262712126),k=e(6120301420),O=e(3212336858),U=e(6839188756),W=e(2546018671),x=e(1033870301),L=e(337319621),b=e(4058658129),F=e(6163112184),B=e(8088280230);const K={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"],rage:["transgender"]};var H=e(1917953477),Y=e(8518663094),Z=e(2332798892);const V=_(Q=>(Q||"").split(/\s+/)[0],"getFirstWord"),ne=_(Q=>["/","\uFF0F"].includes((Q||"").charAt(0))?Q:`/${Q}`,"prependSlashToStr"),q=_(Q=>((Q||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace");var me=e(8847766420),ue=e(2762206868),ae=e(9101533895),le=e(4761125736),fe=e(8276911661),he=e(1670069836);const ie=/\s+/g,X=/[-]+/g,j=new u.O(2e3);let w=_(class{filterMembers(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if((0,S.Zx)(ce)||this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery){const ve={item:ce,score:0,id:ce.id};return this.selfFirst&&(0,S.fy)(ce)&&(ve.isSelf=!0),se.push(ve),se}let Ee,de;this.options.matchBeyondWordBoundaries?{score:Ee,scoreDetails:de}=this.scoreMember(ce,this.beyondWordBoundaryMatcher):{score:Ee,scoreDetails:de}=this.scoreMember(ce);const re={item:ce,score:Ee,scoreDetails:de,id:ce.id};!this.avoidExactMatchForMembers&&this.preferExactMatch&&(re.isExactMatch=this.isMemberExactMatch(ce),re.exactMatchDetails=this.getMemberExactMatchDetails(ce)),this.selfFirst&&(0,S.fy)(ce)&&(re.isSelf=!0);const _e=this.options.matchBeyondWordBoundaries?this.beyondWordBoundaryFuzzyLimit:this.fuzzyLimit;return Ee<=_e&&se.push(re),se},[])}scoreMember(G){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const te=1/0,se={};if(this.queryIsMaybeSelf&&(0,S.fy)(G))se.self_score=0;else{const re=(0,R.j_)(G),_e=(0,R.sJ)(G);se.real_name=re?J.score(re):te,se.display_name=_e?J.score(_e):te}if(this.shouldMatchEmail){const re=(0,R.ZL)(G);se.email=re?this.forwardOnlyMatcher.score(re):1/0}var ce;const Ee=(ce=(0,s.A)(Object.values(se)))!==null&&ce!==void 0?ce:te,de=Object.entries(se).reduce((re,_e)=>{let[ve,ge]=_e;return isFinite(ge)&&(re[ve]=ge),re},{});return{score:Ee,scoreDetails:de}}filterChannels(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if((0,p.cb)(ce)||(0,p.Zx)(ce)||(0,C.jT)(ce)||this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=(0,l.B)((0,T.SB)(G,ce,{publicChannelIncludeHashSign:!1}));let de;this.options.matchBeyondWordBoundaries?de=this.beyondWordBoundaryMatcher.score(Ee):de=this.matcher.score(Ee);const re={item:ce,score:de,id:ce.id};this.preferExactMatch&&(re.isExactMatch=this.isChannelExactMatchPreNormalized(Ee));const _e=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,ve=ce.previous_names&&ce.previous_names.length;let ge=!1;if(_e&&ve){var Le;const Ke=ce==null||(Le=ce.previous_names)===null||Le===void 0?void 0:Le.map(xe=>({score:this.matcher.normalizeAndScore(xe),name:xe}));re.previousNameScores=Ke,ge=(0,o.A)(Ke,xe=>xe.score<=this.fuzzyLimit);const Ne=ge&&de>this.fuzzyLimit;let Re;if(Ne){const xe=(0,n.A)(Ke,"score");Re=xe&&xe.name}re.bestPreviousNameMatch=Re}const ke=this.options.matchBeyondWordBoundaries?this.beyondWordBoundaryFuzzyLimit:this.fuzzyLimit;return de<=ke||ge?se.push(re):this.rawQuery===ce.id&&se.push({item:ce,score:0,id:ce.id}),se},[])}filterTeams(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if((0,U.Zx)(ce)||this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.matcher.normalizeAndScore((0,U.F1)(ce)),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isTeamExactMatch(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}filterUserGroups(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if((0,W.Zx)(ce)||this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.scoreUserGroupName(ce),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isUsergroupExactMatch(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}scoreUserGroupName(G){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,te=1/0,se=1/0;const ce=(0,W.TZ)(G)||(0,W.ue)(G).toLocaleLowerCase(),Ee=(0,W.x_)(G,{includeAtSign:!1});return te=J.normalizeAndScore(ce),Ee&&(se=J.normalizeAndScore(Ee)),Math.min(te,se)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(J=>!!J).map(J=>{const te=J.charAt(0)==="@"?J.substring(1):J;return new a.A(te,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const se=(0,F.h)(G),ce=(0,b.z)(G);return J.reduce((Ee,de)=>{if(this.shouldFilterItem(de,te))return Ee;if(!this.query&&this.allowEmptyQuery)return Ee.push({item:de,score:0,id:de.id}),Ee;const re=(0,v.cU)(de);if((se||ce)&&re){const We=(0,l.B)(re),$=this.matcher.score(We),ee={item:de,score:$,id:de.id};if(this.preferExactMatch&&(ee.isExactMatch=this.isChannelExactMatchPreNormalized(We)),$<=this.fuzzyLimit)return Ee.push(ee),Ee}const _e=(0,v.Ug)(de);if(!_e)return Ee;const ve=_e.map(We=>(0,fe.nv)(G,We)).filter(We=>!(0,S.fy)(We)&&!(0,S.Zx)(We)),ge={},Le={},ke=[];let Ke=0;const Ne=this.getSubQueryMatchers();for(const We of Ne){const $=[];let ee=1/0;for(const Ve of ve){const{score:ze,scoreDetails:st}=this.scoreMember(Ve,We),Ge=ge==null?void 0:ge[Ve.id];ze<(Ge!==void 0?Ge:1/0)&&(ge[Ve.id]=ze,Le[Ve.id]={score_details:st}),$.push({id:Ve.id,score:ze}),ze<ee&&(ee=ze)}ke.push($),Ke+=ee}let Re;isFinite(Ke)?Re=(0,c.A)(Object.values(ge).filter(isFinite)):Re=Ke;const xe={id:de.id,item:de,score:Re,scoreDetailsByMember:Le,subqueryScoresByMember:ke};return Re<=this.fuzzyLimit?Ee.push(xe):this.rawQuery===de.id&&Ee.push({item:de,score:0,id:de.id}),Ee},[])}filterIms(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if(this.shouldFilterItem(ce,te))return se;const Ee=(0,A.e)(ce);if(!Ee)return se;const de=(0,fe.nv)(G,Ee);if((0,S.Zx)(de))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const{score:re,scoreDetails:_e}=this.scoreMember(de),ve={item:ce,score:re,scoreDetails:_e,id:ce.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(ve.isExactMatch=this.isMemberExactMatch(de),ve.exactMatchDetails=this.getMemberExactMatchDetails(de)),re<=this.fuzzyLimit?se.push(ve):this.rawQuery===ce.id&&se.push({item:ce,score:0,id:ce.id}),se},[])}filterViews(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if(this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.matcher.normalizeAndScore(ce.name),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isViewOrModalExact(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}filterModals(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if(this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.matcher.normalizeAndScore(ce.name),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isViewOrModalExact(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}filterAppActions(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if((0,f.GU)(ce)||this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=(0,m.u)(ce),de=(0,ue.sO)(G,ce.app_id),re=!(0,f.GU)(de)&&(0,h.fj)(de),_e=re?[`${Ee} ${re}`,`${re} ${Ee}`]:[Ee],ve=_e.map(ke=>this.matcher.normalizeAndScore(ke)),ge=Math.min(...ve),Le={item:ce,score:ge,id:ce.id};return this.preferExactMatch&&(Le.isExactMatch=!!(this.query&&_e.map(l.B).includes(this.query))),ge<=this.fuzzyLimit&&se.push(Le),se},[])}filterApps(G,J,te,se){let ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.A;const Ee={};return J!=null&&J.length&&J.forEach(de=>{const re=de.app_id;re&&!Ee[re]&&(Ee[re]={id:re,name:de.appName})}),te!=null&&te.length&&te.forEach(de=>{const re=de==null?void 0:de.appId;re&&!Ee[re]&&(Ee[re]={id:re,name:de==null?void 0:de.appName})}),se!=null&&se.length&&se.forEach(de=>{const re=de.appId;re&&!Ee[re]&&(Ee[re]={id:re,name:de.appName})}),this.filterShortcuts(G,Object.values(Ee),!1,ce)}filterShortcuts(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.A;return J.reduce((ce,Ee)=>{if((0,f.GU)(Ee)||this.shouldFilterItem(Ee,se))return ce;if(!this.query&&this.allowEmptyQuery)return ce.push({item:Ee,score:0,id:Ee.id}),ce;const{score:de,scoreDetails:re,bestNameMatch:_e,bestNameIsExactMatch:ve}=this.scoreShortcut(Ee,te),ge={item:Ee,id:Ee.id,score:de};if(te){ge.firstWordOfRawQuery=V(this.query);const Le=(0,Z.A)(Ee,ne(ge.firstWordOfRawQuery),{allowPartialMatches:!1});ge.commandMatch=Le&&this.isOpenedWithSlash,ge.isExactMatch=ge.commandMatch}return ge.scoreDetails=re,ge.bestNameMatch=_e,ge.bestNameIsExactMatch=ve,ge.isExactMatch=ge.isExactMatch||ve,(de<=this.fuzzyLimit||ge.commandMatch)&&ce.push(ge),ce},[])}scoreShortcut(G){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const se=this.isQueryExactlySlash?[]:G.aliases||[];let ce=(0,l.B)((0,O.fK)(G));const Ee={name:te.score(ce),label:te.normalizeAndScore(G.label),desc:te.normalizeAndScore((0,O.Hv)(G)),app_name:te.normalizeAndScore((0,O.qA)(G))};J&&Ee.name!==void 0&&Ee.name>0&&(Ee.name-=1);let de,re,_e;se.forEach(ke=>{let Ke=(0,l.B)(ke);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(Ke=(0,H.O)(Ke));const Ne=te.score(Ke);Ke=(0,H.O)(Ke),!_e&&(de===void 0||Ne<de)&&(de=Ne,re=Ke),this.normalizedQuery===Ke&&(_e=!0,re=Ke)}),de!==void 0&&isFinite(de)&&(Ee.aliases=de);var ve;const ge=(ve=(0,s.A)(Object.values(Ee)))!==null&&ve!==void 0?ve:1/0;ce=(0,H.O)(ce),!_e&&isFinite(Ee.name)&&(de===void 0||Ee.name<de)&&(re=ce),this.normalizedQuery===ce&&(_e=!0,re=ce);const Le=Object.entries(Ee).reduce((ke,Ke)=>{let[Ne,Re]=Ke;return isFinite(Re)&&(ke[Ne]=Re),ke},{});return{score:ge,scoreDetails:Le,bestNameMatch:re,bestNameIsExactMatch:_e}}filterWorkflowTriggers(G,J){const te=(0,d.y)(G);return J.reduce((se,ce)=>{if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.scoreWorkflowTrigger(ce,this.matcher,te),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isTriggerExactMatch(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}scoreWorkflowTrigger(G){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var se;const ce={name:J.normalizeAndScore(G.name),description:J.normalizeAndScore(G.description),appName:J.normalizeAndScore((se=G.workflow.app)===null||se===void 0?void 0:se.name),...te?{shareUrl:J.normalizeAndScore(G.share_url)}:{}};var Ee;return(Ee=(0,s.A)(Object.values(ce)))!==null&&Ee!==void 0?Ee:1/0}filterBroadcastKeywords(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if(this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.scoreBroadcastKeyword(ce),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isBroadcastKeywordExactMatch(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}scoreBroadcastKeyword(G){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,te=1/0,se=1/0;const ce=J.normalizeAndScore(G.name);return G.id==="BKchannel"&&(te=J.normalizeAndScore("group")),G.ms_name!==G.name&&(se=J.normalizeAndScore(G.ms_name)),Math.min(ce,se,te)}filterEmoji(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const se=(0,le._Z)(G,"fe_search_emoji_allow_list")==="treatment",ce=[];return J.forEach(Ee=>{if(this.shouldFilterItem(Ee,te))return;if(!this.query&&this.allowEmptyQuery){var de;ce.push({item:Ee,emojiScore:0,emojiMatchIndices:[],score:0,id:(de=Ee.id)!==null&&de!==void 0?de:Ee.name});return}var re;const _e=(re=y(Ee))!==null&&re!==void 0?re:[];let ve=1/0,ge,Le,ke,Ke,Ne,Re;_e.forEach(ze=>{let{name:st,displayName:Ge}=ze;if(st){const be=(0,l.B)(st),Se=this.scoreEmojiName(be,se);(Se.score<ve||ve===1/0)&&(ve=Se.score,ge=Se.matchIndices,Le=st,ke=st,Ne=Se.queryLengthRatio,Re=Se.totalComboBreaks,Ke=this.query===be||st==="ok_hand"&&this.query==="ok")}if(Ge&&Ge!==st){const be=(0,l.B)(Ge),Se=this.scoreEmojiName(be,se);(Se.score<ve||ve===1/0)&&(ve=Se.score,ge=Se.matchIndices,Le=Ge,ke=st,Ne=Se.queryLengthRatio,Re=Se.totalComboBreaks,Ke=this.query===be)}});const xe=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,We=Ee.keywords,$=!!(We&&We.length&&Array.isArray(We));We&&We.length&&!Array.isArray(We)&&(0,L.Ay)({state:G}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${Ee.name} is not an array - ${Ee.keywords}`);let ee=!1;if(ve===1/0&&xe&&$&&(ee=Ee.keywords.some(ze=>this.matcher.normalizeAndScore(ze)<1/0),ee&&(Le=Ee&&(Ee.displayName||Ee.name))),ve!==1/0||ee){const ze=(0,i.A)(_e,be=>{let{name:Se}=be;return Se===ke}),st=ze&&ze.displayName;var Ve;const Ge={item:Ee,score:ve,emojiScore:ve,emojiBestNameMatch:Le,emojiBestNameMatchCanonical:ke,emojiBestNameMatchLocalized:st,emojiMatchIndices:ge,emojiQueryLengthRatio:Ne,emojiTotalComboBreaks:Re,id:(Ve=Ee.id)!==null&&Ve!==void 0?Ve:Ee.name};this.preferExactMatch&&(Ge.isExactMatch=Ke,Ge.isEmojiExactMatch=Ke),ce.push(Ge)}}),ce}scoreEmojiName(G){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const te={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!G)return te;if(G==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};const se=K[this.query];if(se&&(J?se.some(Ne=>G===Ne||G.includes(Ne)):se.includes(G)))return te;const ce=this.query.length,Ee=[];let de=2,re=5;ce<3?(de=0,re=0):ce===3?(de=1,re=1):ce===4&&(de=1);let _e=1/0,ve=0,ge=null,Le=G.indexOf(this.query);if(Le===-1&&(Le=G.indexOf(this.query[0])),Le!==-1){let Ke=G,Ne=this.query;if(this.options.optimizeEmojiRegexWork)if(Ne=this.modifiedQueryForEmojiMatching,j.has(G)){var ke;Ke=(ke=j.get(G))!==null&&ke!==void 0?ke:G}else Ke=G.replace(X,"_"),j.set(G,Ke);else Ne=this.query.replace(ie,"").replace(X,"_"),Ke=G.replace(X,"_");const Re=Ne.split("");ge=0;let xe=0,We=0,$=!0;for(let ee=Le;ee<Ke.length;ee++){if(Ke[ee]===Re[0]){if($=!0,Ee.push(ee),Re.shift(),We>xe&&(xe=We),We=0,Re.length===0)break}else $&&(ge+=1),$=!1,We+=1;if(ge>de)return{score:_e,matchIndices:Ee,queryLengthRatio:ve,totalComboBreaks:ge};if(We>re)return{score:_e,matchIndices:Ee,queryLengthRatio:ve,totalComboBreaks:ge}}if(Re.length>0)return te;ve=Ne.length/Ke.length,_e=1-ve,ge>0&&(_e+=ge)}return{score:_e,matchIndices:Ee,queryLengthRatio:ve,totalComboBreaks:ge}}filterFiles(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const se=(0,k.hq)(G),ce=(0,me.Kc)(G),Ee=(0,he._J)(G,ce),de=(0,M.k)(G),re=Ee&&(0,U.qR)(Ee),_e=!de&&!re,ve=(0,le._Z)(G,"native_dlp_canvas")==="on";return J.reduce((ge,Le)=>{var ke,Ke;if((0,f.GU)(Le)||(0,P.sR)(Le))return ge;const Ne=(ke=this.options)===null||ke===void 0||(Ke=ke.entities)===null||Ke===void 0?void 0:Ke.files,Re=!!(Ne!=null&&Ne.includeChannelCanvases)||!!(Ne!=null&&Ne.onlyChannelCanvases);if(Le&&(0,P.aD)(Le)&&!Re)return ge;const xe=Le&&(0,P.CA)(Le),We=Le==null?void 0:Le.user_team,$=We?(0,he._J)(G,We):null;var ee;const ze=((ee=(0,U.Ss)($??void 0))!==null&&ee!==void 0?ee:We)!==ce;if(xe&&(ze||_e)||ve&&(0,P.Sp)(Le)||Le&&se&&(Ne!=null&&Ne.onlyChannelCanvases||_e)&&(0,P.wL)(Le)||this.shouldFilterItem(Le,te))return ge;if(!this.query&&this.allowEmptyQuery)return ge.push({item:Le,score:0,id:Le.id}),ge;const st=this.scoreFile(G,Le),Ge={item:Le,score:st,id:Le.id};return this.preferExactMatch&&(Ge.isExactMatch=this.isFileExactMatch(Le)),st<=this.fuzzyLimit&&ge.push(Ge),ge},[])}scoreFile(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const se=J.name?te.normalizeAndScore(J.name):1/0,ce=J.title&&J.name!==J.title?te.normalizeAndScore(J.title):1/0,Ee=J.external_url&&this.queryHasLink?te.normalizeAndScore(J.external_url):1/0,de=J.permalink&&this.queryHasLink?te.normalizeAndScore(J.permalink):1/0;let re=1/0;if((0,P.aD)(J)){const _e=(0,E.Iz)(J),ve=(0,ae.OL)(G,_e);if(ve){const ge=(0,l.B)((0,T.SB)(G,ve,{publicChannelIncludeHashSign:!1}));re=this.matcher.score(ge)}}return Math.min(se,ce,Ee,de,re)}filterLists(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if(this.shouldFilterItem(ce,te))return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.scoreList(ce),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isListExactMatch(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}scoreList(G){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(G.title)}filterListRecords(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if(this.shouldFilterItem(ce,te)||!ce.name||!ce.listTitle)return se;if(!this.query&&this.allowEmptyQuery)return se.push({item:ce,score:0,id:ce.id}),se;const Ee=this.scoreListRecord(ce),de={item:ce,score:Ee,id:ce.id};return this.preferExactMatch&&(de.isExactMatch=this.isListRecordExactMatch(ce)),Ee<=this.fuzzyLimit&&se.push(de),se},[])}scoreListRecord(G){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(G.name)}filterChannelSections(G,J){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return J.reduce((se,ce)=>{if(this.shouldFilterItem(ce,te))return se;const Ee=(0,x.v2)(G,ce),de=this.matcher.normalizeAndScore(Ee),re={item:ce,score:de,id:ce.id};return!this.query&&this.allowEmptyQuery?(se.push(re),se):(de<=this.fuzzyLimit&&se.push(re),se)},[])}shouldFilterItem(G,J){return J(G)===!1||this.filter(G)===!1}getMemberExactMatchDetails(G){const J={},te=(0,R.j_)(G),se=(0,R.sJ)(G);return J.real_name=te===this.query,J.display_name=se===this.query,this.shouldMatchEmail&&(J.email=(0,R.ZL)(G)===this.query),J}isMemberExactMatch(G){return!this.query||!this.query.length?!1:(0,o.A)(this.getMemberExactMatchDetails(G),Boolean)}isChannelExactMatchPreNormalized(G){return!this.query||!this.query.length?!1:G===this.query}isFileExactMatch(G){if(!this.query||!this.query.length)return!1;var J,te;return(0,l.B)(G.name)===this.query||(0,l.B)(G.title)===this.query||(0,l.B)((J=G.external_url)!==null&&J!==void 0?J:void 0)===this.query||(0,l.B)((te=G.permalink)!==null&&te!==void 0?te:void 0)===this.query}isListExactMatch(G){return!this.query||!this.query.length?!1:(0,l.B)(G.title)===this.query}isListRecordExactMatch(G){return!this.query||!this.query.length?!1:(0,l.B)(G.name)===this.query}isTeamExactMatch(G){return!this.query||!this.query.length?!1:(0,l.B)((0,U.F1)(G))===this.query}isUsergroupExactMatch(G){return!this.query||!this.query.length?!1:(0,l.B)((0,W.x_)(G))===this.query||(0,l.B)((0,W.ue)(G))===this.query}isTriggerExactMatch(G){return!this.query||!this.query.length?!1:(0,l.B)(G.name)===this.query}isBroadcastKeywordExactMatch(G){return!this.query||!this.query.length?!1:(0,l.B)(G.name)===this.query||(0,l.B)(G.ms_name)===this.query}isViewOrModalExact(G){return!this.query||!this.query.length?!1:(0,l.B)(G.name)===this.query}filterHelpArticles(G,J){const se=J.reduce((ce,Ee)=>{const de=(0,l.B)(Ee.title),re=this.substringMatcher.normalizeAndScore(Ee.title);return re>this.fuzzyLimit?ce:ce.concat({item:{...Ee,id:String(Ee.id)},score:re,isExactMatch:de===this.query,id:String(Ee.id)})},[]).sort((ce,Ee)=>ce.score-Ee.score);return se.slice(0,Math.min(5,se.length))}filterSalesListViews(G,J){return J.reduce((se,ce)=>{const Ee=ce.label;if(!Ee)return se;const de=(0,l.B)(Ee),re=this.substringMatcher.normalizeAndScore(de);if(re>this.fuzzyLimit)return se;const _e=ce.id;return se.concat({item:{...ce,id:_e,name:Ee},score:re,isExactMatch:de===this.query,id:_e})},[])}constructor({query:G="",options:J={entities:{}}}){var te,se,ce,Ee,de,re,_e,ve,ge,Le,ke,Ke,Ne,Re;this.options=J,this.rawQuery=G,this.query=(0,l.B)(G);var xe;this.fuzzyLimit=(xe=this.options.fuzzyLimit)!==null&&xe!==void 0?xe:3;var We;this.beyondWordBoundaryFuzzyLimit=(We=this.options.beyondWordBoundaryFuzzyLimit)!==null&&We!==void 0?We:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((te=this.options)===null||te===void 0||(se=te.sort)===null||se===void 0)&&se.avoidExactMatchForMembers),this.selfFirst=!!(!((ce=this.options)===null||ce===void 0||(Ee=ce.sort)===null||Ee===void 0)&&Ee.selfFirst),this.filter=this.options.filter||t.A,this.modifiedQueryForEmojiMatching=J!=null&&J.optimizeEmojiRegexWork&&(!(J==null||(de=J.entities)===null||de===void 0)&&de.emoji)?this.query.replace(ie,"").replace(X,"_"):this.query,this.shouldMatchEmail=(0,r.A)(this.options,"entities.members.matchEmailField")||(0,r.A)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=(0,Y.t)(G),this.queryHasLink=(0,B.A)({input:this.query}).length>0,this.normalizedQuery=this.query,!((re=this.options)===null||re===void 0||(_e=re.entities)===null||_e===void 0||(ve=_e.shortcuts)===null||ve===void 0)&&ve.queryStartsWithSlash&&(this.query=ne(this.query)),this.matcher=new a.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.beyondWordBoundaryMatcher=new a.A(this.query,{fuzzyLimit:this.beyondWordBoundaryFuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,matchBeyondWordBoundaries:this.options.matchBeyondWordBoundaries}),this.forwardOnlyMatcher=new a.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new a.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((ge=this.options)===null||ge===void 0||(Le=ge.entities)===null||Le===void 0||(ke=Le.shortcuts)===null||ke===void 0)&&ke.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((Ke=this.options)===null||Ke===void 0||(Ne=Ke.entities)===null||Ne===void 0||(Re=Ne.shortcuts)===null||Re===void 0)&&Re.isQueryExactlySlash)}},"SearcherMatcher")},6897117289:(N,g,e)=>{"use strict";e.d(g,{A:()=>M});var t=e(3367239067),s=e(1703559452),o=e(7264301376),n=e(129753175),c=e(3502457281),i=e(3929724715),r=e(1407713935),a=e(8920264989),l=e(6007206761),d=e(6495946979),u=e(8170643398),f=e(9262712126),m=e(3534324375),h=e(6839188756),v=e(7578434623),p=e(181849556),T=e(220244708),A=e(274973508);const C=new A.O(1e3);class I{preprocessText(R,k){if(typeof R!="string")throw new TypeError("Input text must be a string.");let O=R.replace(/\s+?/g,"").toLowerCase();return k&&(O=O.replace(/[-_]/g,"")),Array.from(O)}extractNGrams(R){if(!Array.isArray(R)||R.some(x=>typeof x!="string"))throw new TypeError("textChars must be an array of strings.");const k=new Map,O=R.length,[U,W]=this.ngramRange;for(let x=U;x<=W;x++)for(let L=0;L<=O-x;L++){const b=R.slice(L,L+x).join(""),F=L+1,B=k.get(b)||[];B.push(F),k.set(b,B)}return k}computeTermFrequencies(R){const k=new Map;return R.forEach((O,U)=>{const W=O.reduce((x,L)=>x+1/L,0);k.set(U,W)}),k}cosineSimilarity(R,k){if(!(R instanceof Map)||!(k instanceof Map))throw new TypeError("tfQuery and tfCandidate must be Map instances.");const O=new Set([...R.keys(),...k.keys()]);let U=0,W=0,x=0;return O.forEach(b=>{const F=R.get(b)||0,B=k.get(b)||0;U+=F*B,W+=F*F,x+=B*B}),W===0||x===0?0:U/(Math.sqrt(W)*Math.sqrt(x))}computeSimilarity(R,k){if(typeof R!="string"||typeof k!="string")return 0;const U=/[-_]/.test(R);let W,x;if(this.optimizeNGramWork){if(C.has(R))W=C.get(R);else{const L=this.preprocessText(R,!1),b=this.extractNGrams(L);W=this.computeTermFrequencies(b),C.set(R,W)}if(C.has(k))x=C.get(k);else{const L=this.preprocessText(k,!U),b=this.extractNGrams(L);x=this.computeTermFrequencies(b),C.set(k,x)}}else{const L=this.preprocessText(R,!1),b=this.preprocessText(k,!U),F=this.extractNGrams(L),B=this.extractNGrams(b);W=this.computeTermFrequencies(F),x=this.computeTermFrequencies(B)}return!W||!x?0:this.cosineSimilarity(W,x)}constructor(R=[2,3],k=!1){if(!Array.isArray(R)||R.length!==2||typeof R[0]!="number"||typeof R[1]!="number"||R[0]>R[1]||R[0]<1)throw new Error("ngramRange must be an array of two numbers where minN >= 1 and minN <= maxN.");this.ngramRange=R,this.optimizeNGramWork=k}}_(I,"PositionAwareFuzzyMatcher");var D=e(5795074931),y=e(9101533895),P=e(8276911661);const E={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let M=_(class{sort(R,k){var O;const U=(0,v.Cy)({state:R});U.mark("modern-searcher-sorting-mark");const{members:W,channels:x,mpims:L,ims:b,teams:F,userGroups:B,emoji:K,broadcastKeywords:H,views:Y,modals:Z,appActions:V,channelSections:ne,emails:q,files:me,lists:ue,listRecords:ae,slashCommands:le,slackGlobalActions:fe,quipShortcutCommands:he,canvasAiSuggestions:ie,channelActions:X,fakeGlobalActions:j,callActions:w,apps:Q,helpArticles:G,workflowTriggers:J,salesListViews:te}=k,se={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};x&&x.reduce((ve,ge)=>(0,l.F)(ge.item)?(ve.archivedChannels.push(ge),ve):((0,d.bl)(ge.item)?ve.memberChannels.push(ge):ve.nonmemberChannels.push(ge),ve),se);let ce=[...W||[],...se.memberChannels,...L||[],...b||[],...K||[],...B||[],...H||[],...Y||[],...Z||[],...V||[],...ne||[],...q||[],...me||[],...ue||[],...ae||[],...w||[],...X||[],...j||[],...Q||[],...G||[],...J||[],...te||[]],Ee=[...se.nonmemberChannels,...F||[],...le||[],...fe||[],...he||[],...ie||[]],de=se.archivedChannels;const re=this.getSortFuzzyFunction(R,{localeAware:!0});this.options.flat||(ce=this.precomputeMatchNames(R,ce).sort(re),Ee=this.precomputeMatchNames(R,Ee).sort(re),de=this.precomputeMatchNames(R,de).sort(re));let _e=[...ce,...Ee,...de];return this.options.flat&&_e.sort(re),this.options.preferExactMatch&&(_e=[...(0,t.A)(_e,ge=>ge.isExactMatch),..._e]),this.options.frecency&&(this.options.normalize=!0,U.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?_e=(0,p.jW)(R,{query:this.query,list:_e,bonusPoints:this.getFrecencyBonusPointsFunction(R)}):_e=(0,p.Zh)(R,{query:this.query,list:_e,bonusPoints:this.getFrecencyBonusPointsFunction(R)}),U.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((O=_e[0])===null||O===void 0)&&O.isSelf)&&(_e=[...(0,t.A)(_e,ge=>ge.isSelf),..._e]),U.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),_e}precomputeMatchNames(R,k){return k.map(O=>({...O,name:this.getNameForComparison(R,O)}))}getSortFuzzyFunction(R,k){let{localeAware:O}=k;return(U,W)=>{if((0,r.yz)(U.item)&&!(0,r.yz)(W.item))return 1;if((0,r.yz)(W.item)&&!(0,r.yz)(U.item)||(0,r.LI)(U.item)&&!(0,r.LI)(W.item))return-1;if((0,r.LI)(W.item)&&!(0,r.LI)(U.item))return 1;if(!(0,r.yz)(U.item)&&!(0,r.yz)(W.item)){const H=U.score-W.score;if(H!==0)return H}if((0,r.yz)(U.item)&&(0,r.yz)(W.item)){const H=U.score-W.score;if(H!==0)return H;var x,L;const Y=((x=(0,i.N4)(U.item))!==null&&x!==void 0?x:0)-((L=(0,i.N4)(W.item))!==null&&L!==void 0?L:0);if(Y!==0)return Y}var b;const F=(b=U.name)!==null&&b!==void 0?b:"";var B;const K=(B=W.name)!==null&&B!==void 0?B:"";return O?(0,c.Ay)(F,K):F>K?1:K>F?-1:0}}getFrecencyBonusPointsFunction(R){return k=>{var O,U;const{item:W}=k,x={};if((0,r.yz)(W)){if(x.isMpim=0,this.options.preferMpimsWithActiveMembers){const L=(0,i.Ug)(W);if(!L)return x;const b=L.map(F=>(0,P.nv)(R,F));(0,s.A)(b,F=>(0,u.oy)(F)||(0,u.eJ)(F))&&(x.isMpimWithDeactivatedMember=E.mpimWithDeactivatedMember)}return x}if(k.isExactMatch?(x.isExactMatch=E.exactMatch,k.isEmojiExactMatch&&(x.isEmojiExactMatch=E.exactMatch)):k.emojiScore?x.emojiScoreBonus=this.calculateContinuousFuzzyBonusPoints(k,E.emojiMatch):(0,l.F)(W)||(0,u.oy)(W)||(0,u.eJ)(W)||(x.fuzzyScoreBonus=this.calculateContinuousFuzzyBonusPoints(k,E.fuzzyMatch)),k.bestPreviousNameMatch&&(x.onlyMatchesPreviousName=E.matchesPreviousName),this.options.preferChannelMembers&&W.presence&&this.options.currentChannel&&(0,T.B)(R,W,this.options.currentChannel)&&(x.isMemberOfThisChannel=E.memberOfThisChannel),(0,r.jq)(W)&&(0,i.m2)(R,W)&&(x.isStarred=E.starredChannel),(0,u.NB)(W)){const L=(0,y.Pu)(R,W.id);L&&(0,i.m2)(R,L)&&(x.isStarred=E.starredChannel)}return W.is_emoji&&(W.name==="thumbsup"||W.name==="point_up")&&(x.isPopularEmojiVariant=E.popularEmoji),this.options.selfFirst&&(0,u.fy)(W)&&(x.isSelf=E.isSelf),this.options.preferChannelWorkflows&&W.type==="channel_action"&&W.channelId===((O=this.options)===null||O===void 0||(U=O.currentChannel)===null||U===void 0?void 0:U.id)&&(x.isWorkflowAssociatedWithChannel=E.workflowAssociatedWithChannel),((0,r.rW)(W)||(0,r.Zp)(W))&&((0,l.F)(W)&&(x.isArchived=E.archivedChannel),(0,r.rW)(W)&&this.options.preferChannelsUserBelongsTo&&!(0,l.F)(W)&&!(0,d.bl)(W)&&(x.isNotChannelMember=E.notInChannel),(0,D.u8)(R)&&(0,i.lo)(W)&&(x.isChannelFromAnotherTeam=E.channelFromAnotherTeam)),(0,u.NB)(W)&&((0,u.oy)(W)||(0,u.eJ)(W))&&(x.isDeactivatedMember=E.deactivatedMember),(W.is_usergroup||W.is_broadcast_keyword)&&(x.isUserGroupOrKeyword=E.userGroupOrKeyword),x}}calculateNormalizedFuzzyBonusPoints(R,k,O){const U=R[k];if(!(0,o.A)(U))return 0;const W=.5**U;return Math.round(O*W)}calculateContinuousFuzzyBonusPoints(R,k){const O=_((x,L)=>x&&x.trim()?x:L,"getSafeString");return _(()=>{const x=R.item,L=R.item.name;if((0,u.NB)(x)){const b=O((0,f.j_)(x),L),F=O((0,f.sJ)(x),L);if(b===F)return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,b);const B=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,b),K=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,F);return Math.max(B,K)}return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,L)},"computeFuzzyScore")()*k}getNameForComparison(R,k){let O;const U=k.item;return(0,r.yz)(U)?O=U.name_normalized:(0,r.mz)(U)?O=(0,n.A)((0,a.SB)(R,U,{publicChannelIncludeHashSign:!1})):(0,u.NB)(U)?O=(0,m.sE)(R,U):U.is_usergroup?O=U.handle||U.name:U.team_name?O=(0,n.A)((0,h.F1)(U)):U.isEmail?O=(0,n.A)(U.value):U.title?O=U.title:O=U.name,O}constructor({query:R,options:k={}}){this.options=k,this.query=R,this.positionAwareFuzzyMatcher=new I([2,3],k.optimizeFuzzyMatchingNGramsWork)}},"SearcherSorter")},9868740303:(N,g,e)=>{"use strict";e.d(g,{A:()=>ce});var t=e(8571983633),s=e(9746734072),o=e(9113979368),n=e(897091071),c=e(7715417323),i=e(1703559452),r=e(2141441167),a=e(5503876160),l=e(2028988448),d=e(1545824888),u=e(9392104102),f=e(2156087151),m=e(2664504268),h=e(7599421656),v=e(3924280006),p=e(9552526132),T=e(5613323535),A=e(1197508738),C=e(5455782105),I=e(3212336858),D=e(9931116838),y=e(411655882),P=e(2229186),E=e(8668318456),M=e(82287009),S=e(7578434623),R=e(5770715593),k=e(4096483543),O=e(6471801899),U=e(1917953477),W=e(1072784641),x=e(6897117289),L=e(7646553093),b=e(8847766420),F=e(7260478587),B=e(4119164726),K=e(6533394955),H=e(6451390137),Y=e(2854654447),Z=e(9107158149),V=e(7688940281),ne=e(2235302340),q=e(9101533895),me=e(6728717861),ue=e(7600673124),ae=e(3829348308),le=e(4761125736),fe=e(937317117),he=e(761034736),ie=e(970158643),X=e(6304789565),j=e(9174292896);const w=(0,X.Ay)("Fetch list records for lists mentions",async(Ee,de,re)=>{let{query:_e}=re;const ve=(0,O.V3)(_e);if(!ve)return;const{listTitle:ge}=ve,Le=(0,ie.Mr)(de()),ke=(0,O.xL)(Le,ge);if(!ke)return;const Ke=ke.id;await Ee((0,j.D)({listId:Ke}))});w.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var Q=e(4525672255),G=e(8276911661),J=e(1835177371);class te{search(de){let{query:re,options:_e}=de;var ve;if(this.maybeStartSession(re),((0,t.A)(re)||!re.length)&&!_e.allowEmptyQuery)return d.S.resolve(u.Ml);if((0,s.A)(re))return this.bulkSearch({queryRecords:re,options:_e});const ge=(0,K.$D)(this.teamId),Le=(0,S.Cy)({state:ge}),ke=(0,m.A)();Le.mark(`modern-searcher-search-mark-${ke}`);const Ke=(0,U.O)(re??"");T.LI.start({label:T.gC.Searcher,id:ke,options:{teamId:(0,b.ZT)(ge),tags:this.getTraceTags({query:Ke,options:_e})}});const Ne=(ve=T.LI.get({label:T.gC.Searcher,id:ke}))===null||ve===void 0?void 0:ve.createChildSpan({name:"searcher:search"}),Re=(0,v.aw)(_e,v.lp,re);if((0,le._Z)(ge,"ml_fuzzy_match_beyond_word_boundaries")==="treatment"&&(Re.matchBeyondWordBoundaries=!0,Re.beyondWordBoundaryFuzzyLimit=6),(0,o.A)(Re))return d.S.resolve(u.Ml);if((0,A.x)(ge)!==me.M9.ONLINE||!(_e!=null&&_e.allowEmptyQueryRemoteSearch)&&!Ke.length&&(0,k.A)()&&(0,le._Z)(ge,"searcher_local_empty_string")==="treatment"&&!_e.entities.lists)return d.S.resolve(this.searchLocal({query:Ke,options:Re,autoTraceId:ke,parentSpanId:Ne==null?void 0:Ne.getId()}));const We=this.fetchRemote({query:Ke,options:Re,autoTraceId:ke,parentSpanId:Ne==null?void 0:Ne.getId()}).then($=>this.processFetchedEntities({query:Ke,data:$,options:Re,autoTraceId:ke,parentSpanId:Ne==null?void 0:Ne.getId()}));if(Re.tiered){const $=this.searchLocal({query:Ke,options:Re,autoTraceId:ke,parentSpanId:Ne==null?void 0:Ne.getId()});return $.promise=We.finally(()=>{Ne==null||Ne.close(),T.LI.stop({label:T.gC.Searcher,id:ke})}),d.S.resolve($).finally(()=>{Le.measureAndClear(`modern-searcher-search-mark-${ke}`,"modern-searcher-search-tiered")})}return We.finally(()=>{Le.measureAndClear(`modern-searcher-search-mark-${ke}`,"modern-searcher-search"),Ne==null||Ne.close(),T.LI.stop({label:T.gC.Searcher,id:ke})})}flattenResultsWithQueryId(de){let{returnedResults:re,queryIds:_e}=de;const ve=re;for(let ge=0;ge<re.length;ge++)for(let Le=0;Le<re[ge].length;Le++)ve[ge][Le].queryId=_e[ge];return(0,n.A)(ve)}bulkSearch(de){let{queryRecords:re,options:_e}=de;const ve=(0,K.$D)(this.teamId),ge=(0,S.Cy)({state:ve}),Le=(0,m.A)();ge.mark(`modern-searcher-search-mark-${Le}`);const ke=(0,v.aw)(_e,v.lp,"");if((0,o.A)(ke))return d.S.resolve(u.Ml);const Ke=re.map(ee=>ee.query),Ne=re.map(ee=>ee.queryId),Re=Ke.map(ee=>(0,U.O)(ee));let xe,We;if((0,A.x)(ve)!==me.M9.ONLINE)return We=Re.map(ee=>this.searchLocal({query:ee,options:ke})),xe=this.flattenResultsWithQueryId({returnedResults:We,queryIds:Ne}),d.S.resolve(xe);const $=this.fetchRemote({query:Re,options:ke}).then(ee=>(We=ee.map((Ve,ze)=>this.processFetchedEntities({query:Re[ze],data:Ve,options:ke})),this.flattenResultsWithQueryId({returnedResults:We,queryIds:Ne})));return ke.tiered?(We=Re.map(ee=>this.searchLocal({query:ee,options:ke})),xe=this.flattenResultsWithQueryId({returnedResults:We,queryIds:Ne}),xe.promise=$,d.S.resolve(xe).finally(()=>{ge.measureAndClear(`modern-searcher-search-mark-${Le}`,"modern-searcher-search-tiered")})):$.finally(()=>{ge.measureAndClear(`modern-searcher-search-mark-${Le}`,"modern-searcher-search")})}searchLocal(de){let{query:re,options:_e,autoTraceId:ve,parentSpanId:ge}=de;var Le;const ke=(0,K.$D)(this.teamId);let Ke=ve;Ke||(Ke=(0,m.A)(),T.LI.start({label:T.gC.Searcher,id:Ke,options:{teamId:(0,b.ZT)(ke),tags:this.getTraceTags({query:re,options:_e})}}));const Ne=(Le=T.LI.get({label:T.gC.Searcher,id:Ke}))===null||Le===void 0?void 0:Le.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:ge}});if(!re.length&&!_e.allowEmptyQuery)return[];const Re=(0,v.aw)(_e,v.lp,re);if((0,o.A)(Re))return[];const xe=(0,U.O)(re),We=this.fetchLocal({query:re,options:Re}),$=this.processFetchedEntities({query:xe,data:We,options:Re,autoTraceId:Ke,parentSpanId:Ne==null?void 0:Ne.getId()});return Ne==null||Ne.close(),$}fetchRemote(de){let{query:re,options:_e,autoTraceId:ve,parentSpanId:ge}=de;var Le;const ke=(0,K.$D)(this.teamId),Ke=(Le=T.LI.get({label:T.gC.Searcher,id:ve}))===null||Le===void 0?void 0:Le.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:ge}});this.pendingRequests.forEach(Se=>Se.cancel()),this.pendingRequests=[];const Ne=[],Re=[],{channels:xe,emoji:We,files:$,lists:ee,members:Ve,teams:ze,userGroups:st,appActions:Ge,workflowTriggers:be}=_e.entities;if(Ve){let Se;(0,s.A)(re)?Se=(0,K.Qw)(this.teamId,(0,v.U7)({queries:re,options:_e})):Se=(0,K.Qw)(this.teamId,(0,v.QH)({query:re,options:_e})),this.pendingRequests.push(Se),Ve.runaway?Re.push(Se):Ne.push(Se)}if(xe&&!(0,s.A)(re)){const Se=(0,K.Qw)(this.teamId,(0,v.J6)({query:re,options:_e}));this.pendingRequests.push(Se),xe.runaway?Re.push(Se):Ne.push(Se)}if(We&&!(0,s.A)(re)){const Se=(0,K.Qw)(this.teamId,(0,v.LR)({query:re,options:_e}));this.pendingRequests.push(Se),We.runaway?Re.push(Se):Ne.push(Se)}if($&&!(0,s.A)(re)&&((0,f.A)(re)||re.length>3)){const Se=(0,K.Qw)(this.teamId,(0,v.cD)({query:re,options:_e}));this.pendingRequests.push(Se),$.runaway?Re.push(Se):Ne.push(Se)}if(ee&&!(0,s.A)(re)){const Se=d.S.resolve((0,K.Qw)(this.teamId,re.indexOf(">")<0?(0,Q.E)({query:re}):w({query:re})));this.pendingRequests.push(Se),ee.runaway?Re.push(Se):Ne.push(Se)}if(st){let Se;(0,s.A)(re)?Se=(0,K.Qw)(this.teamId,(0,v.eR)({queries:re,options:_e})):Se=(0,K.Qw)(this.teamId,(0,v.UC)({query:re,options:_e})),this.pendingRequests.push(Se),st.runaway?Re.push(Se):Ne.push(Se)}if(ze&&((0,C.k)(ke)||ze.onlyExternal||ze.includeExternal)&&!(0,s.A)(re)){const Se=(0,K.Qw)(this.teamId,(0,v.DF)({query:re,options:_e}));this.pendingRequests.push(Se),ze.runaway?Re.push(Se):Ne.push(Se)}if((0,D.e)(ke)&&Ge){const Se=d.S.resolve((0,K.Qw)(this.teamId,(0,Y.G)())).timeout(2e3).catch(c.A);this.pendingRequests.push(Se),Ge.runaway?Re.push(Se):Ne.push(Se)}if(be&&!(0,s.A)(re)){const Se=(0,K.Qw)(this.teamId,(0,v.fx)({query:re}));be.runaway?Re.push(Se):Ne.push(Se)}return d.S.all(Ne).then(Se=>{let we;if((0,s.A)(re))we=re.map(De=>this.fetchLocal({query:De,options:_e})).map(De=>{const Pe={...De};return Pe.remoteIds=(0,v.jl)(Se),Pe});else{if(we=this.fetchLocal({query:re,options:_e}),we.remoteIds=(0,v.jl)(Se),Ve&&Ve.onlyFromExternalWorkspaceId){var Ce,Te;we.members=(Te=(Ce=Se.find(De=>!!De.members))===null||Ce===void 0?void 0:Ce.members)!==null&&Te!==void 0?Te:u.Ml}const Ye=(0,i.A)((0,r.A)(we),"length");if(Re.length&&!Ye)return d.S.all(Re).then(()=>this.fetchLocal({query:re,options:_e}))}return Ke==null||Ke.close(),we}).finally(()=>{this.pendingRequests=[]})}fetchLocal(de){let{query:re,options:_e}=de;const ve=(0,K.$D)(this.teamId);(0,v.ZD)(_e);const ge={},{appActions:Le,broadcastKeywords:ke,canvasAiSuggestions:Ke,channels:Ne,channelSections:Re,emails:xe,emoji:We,files:$,helpArticles:ee,lists:Ve,members:ze,modals:st,mpims:Ge,shortcuts:be,teams:Se,userGroups:we,views:Ce,workflowTriggers:Te}=_e.entities;if(Ne&&(Ne.includePublic||Ne.includePrivate)&&(ge.channels=(0,v.AC)(ve,_e)),(Ge||Ne!=null&&Ne.includeMpims)&&(ge.mpims=(0,q.FS)(ve)),Ne!=null&&Ne.includeIms&&(ge.ims=(0,q._B)(ve)),ze&&(ge.members=ze.onlyFromExternalWorkspaceId?u.Ml:(0,G.I_)(ve).filter(Pe=>(0,Z.zP)(ve,Pe.id)&&!(0,ue.y)(ve,Pe.id))),Se&&(ge.teams=(0,v.mi)(ve,_e)),we&&(ge.userGroups=(0,J.jJ)(ve)),Le&&(ge.appActions=(0,h.B)(ve)?(0,H.PL)(ve):(0,v.g2)(ve,Le.channel)),$&&(ge.files=(0,fe.Gn)(ve)),Ve&&(re.indexOf(">")<0?ge.lists=(0,ie.C0)(ve):ge.listRecords=(0,ie.vD)(ve,re)),Ce&&(ge.views=(0,v.mK)(ve)),st&&(ge.modals=(0,v.A$)(ve)),ke){var Ye;const Pe=ke.currentChannel?ke.currentChannel.id:null;ge.broadcastKeywords=!((Ye=_e.entities.broadcastKeywords)===null||Ye===void 0)&&Ye.includeAll||!Pe?(0,y.A)():(0,P.A)(ve,Pe)}if(We&&(ge.emoji=(0,ae.Gt)(ve)),Re&&(ge.channelSections=(0,r.A)((0,ne.jV)(ve))),(be!=null&&be.slashCommands||be!=null&&be.fakeGlobalActions)&&!(be!=null&&be.isAnnounceOnly)&&(ge.slashCommands=(0,h.B)(ve)?(0,M.A_)(ve,be.channel,!!be.threadTs,!0).map(Pe=>({...Pe,id:(0,I.Bs)(Pe),isSlashCommand:!0})):(0,v.lS)(ve,be.channel,be.threadTs)),be!=null&&be.slackGlobalActions&&(ge.slackGlobalActions=(0,M.Yk)(ve,be.channel,be.threadTs)),be!=null&&be.quipShortcutCommands&&(ge.quipShortcutCommands=(0,B.Aw)(ve,!!re)),be!=null&&be.channelActions&&(ge.channelActions=(0,V.fo)(ve,be.channel)),be!=null&&be.fakeGlobalActions&&(ge.fakeGlobalActions=(0,M.JL)(ve,be.channel,be.threadTs)),be!=null&&be.callActions&&(ge.callActions=(0,M.Uw)(ve,be.channel,be.threadTs,be.isAnnounceOnly)),Te){const Pe=(0,M.NJ)(ve);Te.includeAutomated?ge.workflowTriggers=Pe:ge.workflowTriggers=Pe.filter(ye=>ye.type===p.M.Shortcut)}xe&&(ge.emails=(0,v.FF)(re));const De=(0,R.dL)(ve);return ee&&De&&(ge.helpArticles=(0,he.Fb)(ve,"searcher/fetch_all_articles")),Ke&&(ge.canvasAiSuggestions=(0,F.rW)(ve,_e)),(0,v.S)(),ge}processFetchedEntities(de){let{query:re,data:_e,options:ve,autoTraceId:ge,parentSpanId:Le}=de;var ke,Ke,Ne;const Re=(0,K.$D)(this.teamId),xe=(0,le._Z)(Re,"searcher_cache_fuzzy_match_n_grams")==="treatment",We=(ke=T.LI.get({label:T.gC.Searcher,id:ge}))===null||ke===void 0?void 0:ke.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Le}});(0,v.ZD)(ve);const $={},ee=new W.A({query:re,options:ve}),Ve=(0,S.Cy)({state:Re});Ve.mark("modern-searcher-matching-mark");const ze=(Ke=T.LI.get({label:T.gC.Searcher,id:ge}))===null||Ke===void 0?void 0:Ke.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:We==null?void 0:We.getId()}});if(_e.channels&&($.channels=ee.filterChannels(Re,_e.channels,(0,v.sr)(Re,ve.entities.channels))),_e.members&&($.members=ee.filterMembers(Re,_e.members,(0,v.bE)(Re,ve.entities.members))),_e.emails&&_e.members&&!(!($==null||(Ne=$.members)===null||Ne===void 0)&&Ne.length)&&($.emails=_e.emails),_e.mpims){var st;$.mpims=ee.filterMpims(Re,_e.mpims,(0,v.AQ)(Re,(st=ve.entities.mpims)!==null&&st!==void 0?st:ve.entities.channels))}if(_e.ims&&($.ims=ee.filterIms(Re,_e.ims,(0,v.EM)(Re,ve.entities.channels))),_e.userGroups&&($.userGroups=ee.filterUserGroups(Re,_e.userGroups,(0,v.H9)(Re,ve.entities.userGroups))),_e.teams&&($.teams=ee.filterTeams(Re,_e.teams,(0,v.A1)(Re,ve.entities.teams))),_e.views&&($.views=ee.filterViews(Re,_e.views)),_e.modals&&($.modals=ee.filterModals(Re,_e.modals)),_e.appActions&&($.appActions=ee.filterAppActions(Re,_e.appActions)),_e.slashCommands&&($.slashCommands=ee.filterShortcuts(Re,_e.slashCommands,!0)),_e.slackGlobalActions&&($.slackGlobalActions=ee.filterShortcuts(Re,_e.slackGlobalActions)),_e.quipShortcutCommands&&($.quipShortcutCommands=ee.filterShortcuts(Re,_e.quipShortcutCommands)),_e.canvasAiSuggestions&&($.canvasAiSuggestions=ee.filterShortcuts(Re,_e.canvasAiSuggestions)),_e.channelActions&&($.channelActions=ee.filterShortcuts(Re,_e.channelActions)),_e.fakeGlobalActions&&($.fakeGlobalActions=ee.filterShortcuts(Re,_e.fakeGlobalActions)),_e.callActions&&($.callActions=ee.filterShortcuts(Re,_e.callActions)),_e.workflowTriggers&&($.workflowTriggers=ee.filterWorkflowTriggers(Re,_e.workflowTriggers)),_e.broadcastKeywords&&($.broadcastKeywords=ee.filterBroadcastKeywords(Re,_e.broadcastKeywords)),_e.emoji&&($.emoji=ee.filterEmoji(Re,_e.emoji)),_e.channelSections&&($.channelSections=ee.filterChannelSections(Re,_e.channelSections,ye=>{var He,Qe;return!!(!((He=ve.entities.channelSections)===null||He===void 0||(Qe=He.includeTypes)===null||Qe===void 0)&&Qe[ye.type])})),_e.files&&($.files=ee.filterFiles(Re,_e.files,(0,v.Do)(Re,ve.entities.files))),_e.lists&&($.lists=ee.filterLists(Re,_e.lists)),_e.listRecords){var Ge;const{recordQuery:ye}=(Ge=(0,O.V3)(re))!==null&&Ge!==void 0?Ge:{},He=new W.A({query:ye,options:ve});$.listRecords=He.filterListRecords(Re,_e.listRecords)}_e.helpArticles&&($.helpArticles=ee.filterHelpArticles(Re,_e.helpArticles)),Ve.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),ze==null||ze.close();const be=(0,v.SI)($,_e.remoteIds||{});let Se=(0,n.A)(Object.values(be));const we=500,Ce=3;var Te;const Ye=Math.min(((Te=ve==null?void 0:ve.limit)!==null&&Te!==void 0?Te:1)*Ce,we);if(ve.sort&&!ve.sort.bypassSorting){var De;let ye=!1;Se.length<Ye&&(ye=!0);const He=new x.A({query:re,options:{modelOnly:ye,...ve.sort,optimizeFuzzyMatchingNGramsWork:xe}}),Qe=(De=T.LI.get({label:T.gC.Searcher,id:ge}))===null||De===void 0?void 0:De.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:We==null?void 0:We.getId()}});Se=He.sort(Re,be),Qe==null||Qe.close()}if(ve.sort&&ve.sort.frecency&&!ve.sort.bypassSorting){var Pe;const ye=(Pe=T.LI.get({label:T.gC.Searcher,id:ge}))===null||Pe===void 0?void 0:Pe.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:We==null?void 0:We.getId()}});Se=new L.A({query:re,options:ve.sort,teamId:(0,b.ZT)(Re),enterpriseId:(0,C.k)(Re)&&(0,b.jV)(Re)?(0,b.jV)(Re):void 0}).sort(Re,Se.slice(0,Ye)),ye==null||ye.close()}return ve.limit&&(Se=(0,a.A)(Se,ve.limit)),ve.returnMetadata||(Se=Se.map(ye=>ye.item)),(0,v.S)(),Se||[]}clogSearcherAccept(de){let{clogger:re,data:_e}=de;const{source:ve,query:ge,results:Le,selectedItemId:ke,displayedItemIds:Ke}=_e,Ne=15;if(!ke)return;const Re=Ke?Ke.length:Le.length,xe=Ke?Ke.indexOf(ke):Le.findIndex(Ce=>Ce.item.id===ke);if(xe<0)return;const We=Le.find(Ce=>Ce.item.id===ke);if(!We)return;const $=We.type||"other",ee=(0,s.A)(ge)?ge.map(Ce=>(0,U.O)(Ce)):(0,U.O)(ge),Ve=We.source||"local";let ze;We.type==="mpim"?ze=We.scoreDetailsByMember:We.type==="member"?ze={[ke]:{is_exact_match:We.isExactMatch,exact_match_details:We.exactMatchDetails,score_details:We.scoreDetails}}:We.type==="emoji"?ze={[ke]:{is_exact_match:We.isExactMatch}}:We.type==="canvasAiSuggestions"&&(ze=We.item.category);let st=[];Le.some(Ce=>Ce.featureVectorRaw)&&(Ke?st=Ke.map(Ce=>{const Te=Le.find(Ye=>Ye.item.id===Ce);return Te&&Te.featureVectorRaw.serialize()||""}):st=Le.map(Ce=>{var Te,Ye;return Ce==null||(Te=Ce.featureVectorRaw)===null||Te===void 0||(Ye=Te.serialize)===null||Ye===void 0?void 0:Ye.call(Te)}));let be;(0,s.A)(ee)?be=ee.reduce((Ce,Te)=>Ce+(0,v.Cs)((0,U.O)(Te)),0):be=(0,v.Cs)(ee);var Se;const we={source:ve,query_length:ee.length?ee.length:0,query_terms_length:be,results_length:Re,selected_position:xe,selected_type:$,selected_item_id:ke,selected_source:Ve,selected_match_details:ze,feature_vector_list:st.slice(0,Ne),session_length:Date.now()-((Se=this.sessionTs)!==null&&Se!==void 0?Se:0)};re.track(E.EventId.SEARCHER_ACCEPT,we),this.endSession()}clogSearcherReject(de){let{clogger:re,data:_e}=de;const{source:ve,query:ge,results:Le,displayedItemIds:ke}=_e,Ke=ke!==void 0?ke.length:Le.length,Ne=(0,s.A)(ge)?ge.map($=>(0,U.O)($)):(0,U.O)(ge);let Re;(0,s.A)(Ne)?Re=Ne.reduce(($,ee)=>$+(0,v.Cs)((0,U.O)(ee)),0):Re=(0,v.Cs)(Ne);var xe;const We={source:ve,query_length:Ne.length?Ne.length:0,query_terms_length:Re,results_length:Ke,session_length:Date.now()-((xe=this.sessionTs)!==null&&xe!==void 0?xe:0)};re.track(E.EventId.SEARCHER_REJECT,We),this.endSession()}maybeStartSession(de){!this.sessionId&&de!==void 0&&de.length&&(this.sessionTs=Date.now(),this.sessionId=(0,m.A)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(de){let{query:re,options:_e}=de;var ve;const ge=_e.entities;return{source:(_e==null?void 0:_e.searchViewContext)||((ve=_e.sort)===null||ve===void 0?void 0:ve.source),tiered:_e.tiered,is_searcher_sessions:!0,entities:Object.keys(ge).filter(Le=>!!ge[Le]).sort().toString(),query_length:re.length}}constructor(de){this.teamId=de,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}_(te,"Searcher");const se={};function ce(Ee){let{teamId:de,key:re}=Ee;if(!de)throw new Error("Searcher must be instantiated with a team id");return se[de]&&!se[de][re]&&(se[de][re]=new te(de)),se[de]||(se[de]={},se[de][re]=new te(de)),se[de][re]}_(ce,"getSearcher"),(0,l.ul)("searcherObj",{search:(Ee,de)=>new te(Ee).search(de),searchLocal:(Ee,de)=>{new te(Ee).searchLocal(de)}})},4342685672:(N,g,e)=>{"use strict";e.d(g,{In:()=>o,KV:()=>s,nK:()=>n});var t=e(4761125736);const s="autocompleteFallback";function o(){return s}_(o,"getModelForSorter");function n(c){return(0,t._Z)(c,"searcher_sessions_phase_1")==="treatment"}_(n,"shouldUseSearcherSessions")},5853759500:(N,g,e)=>{"use strict";e.d(g,{Tv:()=>S,W0:()=>be});var t=e(1703559452),s=e(5238395322),o=e(8571983633),n=e(2774532222),c=e(7110454183),i=e(1022424641),r=e(6312133237),a=e(8274921051),l=e(3929724715),d=e(1407713935),u=e(6007206761),f=e(4630136761),m=e(6495946979),h=e(8170643398),v=e(4562579337),p=e(5096647761),T=e(337319621),A=e(3051657319),C=e(7715417323);class I{writeNumericalFeature(Me,Be){!Me||!isFinite(Me)||(this.writeIdAndType(Be,a.c.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,Me),this.offset+=4)}writeBinaryFeature(Me,Be){Me&&this.writeIdAndType(Be,a.c.BINARY)}writeTextFeature(Me,Be){if(!Me)return;this.writeIdAndType(Be,a.c.TEXT);const nt=unescape(encodeURIComponent(Me));this.ensureCapacity(2+nt.length),this.view.setUint16(this.offset,nt.length),this.offset+=2,(0,A.A)(nt.length).forEach(Lt=>{this.view.setUint8(this.offset,nt.charCodeAt(Lt)),this.offset+=1})}writeNullFeature(){(0,C.A)()}writeIdAndType(Me,Be){this.ensureCapacity(2),this.view.setUint16(this.offset,Me<<3|Be),this.offset+=2}ensureCapacity(Me){this.offset+Me>this.buffer.byteLength&&this.resize(this.offset+Me)}resize(Me){if(this.buffer.byteLength>=Me)return;const Be=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(Be).set(new Uint8Array(this.buffer)),this.buffer=Be,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}_(I,"BinaryFeatureVectorSerializer");var D=e(3395271606);const y=(0,D.A)(a.Q);function P(z){return y[z]}_(P,"getFeatureNameFromId");var E=e(9150404500);const M={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_IS_DEACTIVATED","USER_IS_IN_CURRENT_THREAD","MEMBER_FILTER_USER_IN_CHANNEL","FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT","USER_HAS_MPDMED","USER_MPIM_LOG1P_MEMBERSHIP_COUNT","USER_MPIM_GTE5_MEMBERSHIP_COUNT","USER_MPIM_GTE25_MEMBERSHIP_COUNT","USER_MPIM_READ_AGE_DECAY_7D_V2","USER_MPIM_READ_AGE_DECAY_2H_V2","MEMBER_OF_SEARCHER_DEFAULT_TEAM","HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER","NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL","MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS","MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};function S(z,Me){return ze.fromSuggestion(z,Me)}_(S,"featureVectorForSuggestion");function R(){return(0,T.Wo)({label:"SORTER-RANKING"})}_(R,"getLogger");function k(z){return Number.isInteger(z)}_(k,"isIntegerWithType");const O=60*60,U=24*O;var W,x,L,b,F,B,K,H,Y,Z,V,ne,q,me,ue,ae,le,fe,he,ie,X,j,w,Q,G,J,te,se,ce,Ee,de,re,_e,ve,ge,Le,ke,Ke,Ne,Re,xe,We,$,ee;const Ve={FRECENCY:z=>Ce({id:a.Q.FRECENCY,value:Ye(z)}),TYPE_NAVIGATION_CHANNEL:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.TYPE_NAVIGATION_CHANNEL,value:Be})},TYPE_NAVIGATION_FILE:z=>Ce({id:a.Q.TYPE_NAVIGATION_FILE,value:z.suggestionType===E.fd.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:z=>Ce({id:a.Q.TYPE_NAVIGATION_LINK,value:z.suggestionType===E.fd.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:z=>Ce({id:a.Q.TYPE_NAVIGATION_MODAL,value:z.suggestionType===E.fd.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:z=>Ce({id:a.Q.TYPE_NAVIGATION_MPIM,value:!!(0,d.yz)(z.item)}),TYPE_NAVIGATION_USER:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.TYPE_NAVIGATION_USER,value:Be})},TYPE_QUERY:z=>Ce({id:a.Q.TYPE_QUERY,value:z.suggestionType===E.fd.QUERY}),TYPE_QUERY_HISTORY:z=>Ce({id:a.Q.TYPE_QUERY_HISTORY,value:z.suggestionType===E.fd.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_IN,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_FROM,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_TO,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_BEFORE,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_DURING,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_ON,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_AFTER,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_HAS,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_IS,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:z=>Ce({id:a.Q.ACTIVE_TOKEN_FILTER_WITH,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:z=>Ce({id:a.Q.ACTIVE_TOKEN_MEMBER,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.MEMBER}),ACTIVE_TOKEN_STRING:z=>Ce({id:a.Q.ACTIVE_TOKEN_STRING,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.STRING}),ACTIVE_TOKEN_PHRASE:z=>Ce({id:a.Q.ACTIVE_TOKEN_PHRASE,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.PHRASE}),STRING_EXACT_MATCH:z=>Te({id:a.Q.STRING_EXACT_MATCH,suggestion:z,extractionFunction:Zt}),STRING_EXACT_PREFIX_MATCH:z=>Te({id:a.Q.STRING_EXACT_PREFIX_MATCH,suggestion:z,extractionFunction:jt}),STRING_NORMAL_MATCH:z=>Te({id:a.Q.STRING_NORMAL_MATCH,suggestion:z,extractionFunction:Ht}),STRING_NORMAL_PREFIX_MATCH:z=>Te({id:a.Q.STRING_NORMAL_PREFIX_MATCH,suggestion:z,extractionFunction:Pt}),STRING_SAME_NUMBER_WORDS:z=>Te({id:a.Q.STRING_SAME_NUMBER_WORDS,suggestion:z,extractionFunction:Ft}),EXCESS_STRING_LENGTH:z=>Te({id:a.Q.EXCESS_STRING_LENGTH,suggestion:z,extractionFunction:En}),ID:z=>Ce({id:a.Q.ID,value:z.logId||z.id}),FILE_SUGGESTION_SCORE:z=>Ce({id:a.Q.FILE_SUGGESTION_SCORE,value:Pe(z)}),ACTIVE_TOKEN_QUERY_SUGGESTION:z=>Ce({id:a.Q.ACTIVE_TOKEN_QUERY_SUGGESTION,value:z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.API}),QUERY_SUGGESTION_SCORE_V2:z=>Ce({id:a.Q.QUERY_SUGGESTION_SCORE_V2,value:De(z)}),TYPE_NAVIGATION_TEAM:z=>Ce({id:a.Q.TYPE_NAVIGATION_TEAM,value:z&&z.suggestionType===E.fd.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:z=>Ce({id:a.Q.TYPE_NAVIGATION_VIEW,value:z&&z.suggestionType===E.fd.VIEW_NAVIGATION}),TYPE_USER_QUERY:z=>Ce({id:a.Q.TYPE_USER_QUERY,value:z&&z.suggestionType===E.fd.QUERY_USER}),NAV_EXACT_MATCH:z=>Te({id:a.Q.NAV_EXACT_MATCH,suggestion:z,extractionFunction:Zt,text:Qe(z)}),NAV_EXACT_PREFIX_MATCH:z=>Te({id:a.Q.NAV_EXACT_PREFIX_MATCH,suggestion:z,extractionFunction:jt,text:Qe(z)}),NAV_NORMAL_MATCH:z=>Te({id:a.Q.NAV_NORMAL_MATCH,suggestion:z,extractionFunction:Ht,text:Qe(z)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(z,Me)=>{let{itemIsChannel:Be}=Me;var nt,Lt;return Te({id:a.Q.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:z,extractionFunction:Bt=>{let{text:Yt,query:on}=Bt;return Yt?(0,t.A)(Yt.split(",").map(An=>Zt({text:An,query:on}))):!1},text:Be?(nt=z.item)===null||nt===void 0||(Lt=nt.previous_names)===null||Lt===void 0?void 0:Lt.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(z,Me)=>{let{itemIsChannel:Be}=Me;var nt,Lt;return Te({id:a.Q.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:z,extractionFunction:Bt=>{let{text:Yt,query:on}=Bt;return Yt?(0,t.A)(Yt.split(",").map(An=>jt({text:An,query:on}))):!1},text:Be?z==null||(nt=z.item)===null||nt===void 0||(Lt=nt.previous_names)===null||Lt===void 0?void 0:Lt.join(","):null})},CHANNEL_IS_ARCHIVED:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.CHANNEL_IS_ARCHIVED,value:Be&&(0,u.F)(z.item)})},CHANNEL_IS_MEMBER:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.CHANNEL_IS_MEMBER,value:Be&&(0,m.bl)(z.item)})},CHANNEL_IS_STARRED:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.CHANNEL_IS_STARRED,value:Be&&z.isStarred})},MPIM_IS_STARRED:z=>Ce({id:a.Q.MPIM_IS_STARRED,value:(0,d.yz)(z.item)&&z.isStarred}),CHANNEL_IS_UNREAD:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.CHANNEL_IS_UNREAD,value:Be&&(0,l.KJ)(z.item)})},MPIM_IS_UNREAD:z=>Ce({id:a.Q.MPIM_IS_UNREAD,value:(0,d.yz)(z.item)&&(0,l.KJ)(z.item)}),MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS:z=>Ce({id:a.Q.MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS,value:(0,d.yz)(z.item)&&z.mpimNumOtherMembersEqualsNumQueryWords}),MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH:z=>Ce({id:a.Q.MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH,value:(0,d.yz)(z.item)&&z.allOtherMemberNamesHavePrefixMatch}),CHANNEL_IS_OTHER_TEAM:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.CHANNEL_IS_OTHER_TEAM,value:Be&&(0,l.lo)(z.item)})},USER_IS_ACTIVE:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_IS_ACTIVE,value:Be&&(0,h.ls)(z.item)})},USER_IS_DEACTIVATED:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_IS_DEACTIVATED,value:Be&&!(0,h.ls)(z.item)})},USER_IS_IN_CURRENT_THREAD:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_IS_IN_CURRENT_THREAD,value:Be&&z.isMemberOfCurrentThread})},MEMBER_FILTER_USER_IN_CHANNEL:z=>Ce({id:a.Q.MEMBER_FILTER_USER_IN_CHANNEL,value:z.lastSuggestionToken&&(z.lastSuggestionToken.type===E.S6.FILTER_FROM||z.lastSuggestionToken.type===E.S6.FILTER_WITH)&&z.isMemberOfCurrentChannel}),FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL:z=>Ce({id:a.Q.FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL,value:z.isMemberFilterAndHasPreviousChannelFilter&&z.isMemberOfCurrentChannel}),USER_IS_EXTERNAL:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_IS_EXTERNAL,value:Be&&(0,p.g)(z.item)})},USER_IS_BOT:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_IS_BOT,value:Be&&(0,v.A)(z.item)})},USER_SAME_TEAM:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_SAME_TEAM,value:Be&&!!z.sameTeam})},USER_IS_CURRENT_USER:(z,Me)=>{let{isCurrentUser:Be}=Me;return Ce({id:a.Q.USER_IS_CURRENT_USER,value:Be})},USER_DM_IS_STARRED:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_IS_STARRED,value:Be&&z.im&&z.imIsStarred})},USER_DM_IS_UNREAD:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_IS_UNREAD,value:Be&&z.im&&(0,l.KJ)(z.im)})},CHANNEL_PRIORITY:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.CHANNEL_PRIORITY,value:Be&&(z==null?void 0:z.priority)})},CHANNEL_READ_AGE_DECAY_7D:(z,Me)=>{let{itemIsChannel:Be,now:nt}=Me;return Ce({id:a.Q.CHANNEL_READ_AGE_DECAY_7D,value:Be&&tt(nt,parseFloat((W=z.lastReadTs)!==null&&W!==void 0?W:""),7*U)||0})},CHANNEL_READ_AGE_DECAY_2H:(z,Me)=>{let{itemIsChannel:Be,now:nt}=Me;return Ce({id:a.Q.CHANNEL_READ_AGE_DECAY_2H,value:Be&&tt(nt,parseFloat((x=z.lastReadTs)!==null&&x!==void 0?x:""),2*O)||0})},MPIM_READ_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_READ_AGE_DECAY_2H,value:(0,d.yz)(z.item)&&tt(Be,parseFloat((L=z.lastReadTs)!==null&&L!==void 0?L:""),2*O)||0})},MPIM_READ_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_READ_AGE_DECAY_7D,value:(0,d.yz)(z.item)&&tt(Be,parseFloat((b=z.lastReadTs)!==null&&b!==void 0?b:""),7*U)||0})},USER_DM_READ_AGE_DECAY_7D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_AGE_DECAY_7D,value:Be&&z.im&&tt(nt,parseFloat((F=z.lastReadTs)!==null&&F!==void 0?F:""),7*U)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_AGE_DECAY_7D_V2,value:Be&&z.im&&tt(nt,parseFloat((B=z.lastReadImTs)!==null&&B!==void 0?B:""),7*U)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_AGE_DECAY_7D_V3,value:Be&&tt(nt,parseFloat((K=Nt(z))!==null&&K!==void 0?K:""),7*U)||0})},USER_DM_READ_AGE_DECAY_2H:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_AGE_DECAY_2H,value:Be&&z.im&&tt(nt,parseFloat((H=z.lastReadTs)!==null&&H!==void 0?H:""),2*O)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_AGE_DECAY_2H_V2,value:Be&&z.im&&tt(nt,parseFloat((Y=z.lastReadImTs)!==null&&Y!==void 0?Y:""),2*O)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_AGE_DECAY_2H_V3,value:Be&&tt(nt,parseFloat((Z=Nt(z))!==null&&Z!==void 0?Z:""),2*O)||0})},USER_DM_NULL:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_NULL,value:Be&&!z.im})},USER_DM_EMPTY:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_EMPTY,value:Be&&z.im&&!parseFloat((V=z.latestTs)!==null&&V!==void 0?V:"")})},USER_DM_EMPTY_V2:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_EMPTY_V2,value:Be&&z.im&&!parseFloat((ne=z.latestImTs)!==null&&ne!==void 0?ne:"")})},USER_HAS_DMED:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_HAS_DMED,value:Be&&!!parseFloat((q=Nt(z))!==null&&q!==void 0?q:"")})},USER_HAS_MPDMED:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_HAS_MPDMED,value:Be&&!!parseFloat((me=It(z))!==null&&me!==void 0?me:"")})},USER_DM_NOT_OPEN:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_NOT_OPEN,value:Be&&z.im&&!(0,l.nT)(z.im)})},USER_DM_OPEN:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_OPEN,value:Be&&z.im&&(0,l.nT)(z.im)})},USER_DM_LATEST_OLDER_30D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_OLDER_30D,value:Be&&wt(nt,parseFloat((ue=z.latestTs)!==null&&ue!==void 0?ue:""),30*U)})},USER_DM_LATEST_OLDER_30D_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_OLDER_30D_V2,value:Be&&wt(nt,parseFloat((ae=z.latestImTs)!==null&&ae!==void 0?ae:""),30*U)})},USER_DM_LATEST_OLDER_90D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_OLDER_90D,value:Be&&wt(nt,parseFloat((le=z.latestTs)!==null&&le!==void 0?le:""),90*U)})},USER_DM_LATEST_OLDER_90D_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_OLDER_90D_V2,value:Be&&wt(nt,parseFloat((fe=z.latestImTs)!==null&&fe!==void 0?fe:""),90*U)})},USER_DM_READ_OLDER_7D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_OLDER_7D,value:Be&&wt(nt,parseFloat((he=Nt(z))!==null&&he!==void 0?he:""),7*U)})},USER_DM_READ_OLDER_30D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_OLDER_30D,value:Be&&wt(nt,parseFloat((ie=Nt(z))!==null&&ie!==void 0?ie:""),30*U)})},USER_DM_READ_OLDER_90D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_READ_OLDER_90D,value:Be&&wt(nt,parseFloat((X=Nt(z))!==null&&X!==void 0?X:""),90*U)})},USER_MPIM_LOG1P_MEMBERSHIP_COUNT:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_MPIM_LOG1P_MEMBERSHIP_COUNT,value:Be&&Jt((j=At(z))!==null&&j!==void 0?j:0)||0})},USER_MPIM_GTE5_MEMBERSHIP_COUNT:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_MPIM_GTE5_MEMBERSHIP_COUNT,value:Be&&((w=At(z))!==null&&w!==void 0?w:0)>=5})},USER_MPIM_GTE25_MEMBERSHIP_COUNT:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_MPIM_GTE25_MEMBERSHIP_COUNT,value:Be&&((Q=At(z))!==null&&Q!==void 0?Q:0)>=25})},USER_MPIM_READ_AGE_DECAY_7D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_MPIM_READ_AGE_DECAY_7D,value:Be&&z.mpimFeatures&&tt(nt,z.mpimFeatures.lastReadTs,7*U)||0})},USER_MPIM_READ_AGE_DECAY_2H:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_MPIM_READ_AGE_DECAY_2H,value:Be&&z.mpimFeatures&&tt(nt,z.mpimFeatures.lastReadTs,2*O)||0})},USER_MPIM_READ_AGE_DECAY_7D_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_MPIM_READ_AGE_DECAY_7D_V2,value:Be&&z.mpimFeatures&&tt(nt,parseFloat((G=It(z))!==null&&G!==void 0?G:""),7*U)||0})},USER_MPIM_READ_AGE_DECAY_2H_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_MPIM_READ_AGE_DECAY_2H_V2,value:Be&&z.mpimFeatures&&tt(nt,parseFloat((J=It(z))!==null&&J!==void 0?J:""),2*O)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:Be&&z.mpimFeatures&&tt(nt,z.mpimFeatures.latestMsgTs,7*U)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:Be&&z.mpimFeatures&&tt(nt,z.mpimFeatures.latestMsgTs,2*O)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(z,Me)=>{let{itemIsMember:Be}=Me;var nt;return Ce({id:a.Q.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:Be&&((nt=z.mpimFeatures)===null||nt===void 0?void 0:nt.itemCount)&&Math.log1p(z.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(z,Me)=>{let{itemIsMember:Be}=Me;var nt;return Ce({id:a.Q.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:Be&&((nt=z.mpimFeatures)===null||nt===void 0?void 0:nt.hitCount)&&Math.log1p(z.mpimFeatures.hitCount)||0})},QUERY_LENGTH:z=>Te({id:a.Q.QUERY_LENGTH,suggestion:z,extractionFunction:nn}),NAV_QUERY_LENGTH:z=>Te({id:a.Q.NAV_QUERY_LENGTH,suggestion:z,extractionFunction:nn,text:Qe(z)}),SUGGESTION_TEXT_LENGTH:z=>Te({id:a.Q.SUGGESTION_TEXT_LENGTH,suggestion:z,extractionFunction:at}),NAV_TEXT_LENGTH:z=>Te({id:a.Q.NAV_TEXT_LENGTH,suggestion:z,extractionFunction:at,text:Qe(z)}),RAW_FRECENCY:z=>Ce({id:a.Q.RAW_FRECENCY,value:z.rawFrecencyScore}),MPIM_PRIORITY:z=>Ce({id:a.Q.MPIM_PRIORITY,value:(0,d.yz)(z.item)&&(z==null?void 0:z.priority)}),QUERY_RATIO_LENGTH_STRING:z=>Te({id:a.Q.QUERY_RATIO_LENGTH_STRING,suggestion:z,extractionFunction:Rt}),NAV_QUERY_RATIO_LENGTH_STRING:z=>Te({id:a.Q.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:z,extractionFunction:Rt,text:Qe(z)}),USER_QUERY_RATIO_LENGTH_STRING:z=>Te({id:a.Q.USER_QUERY_RATIO_LENGTH_STRING,suggestion:z,extractionFunction:Rt,text:dt(z,E.fd.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:z=>Te({id:a.Q.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:z,extractionFunction:Rt,text:dt(z,E.fd.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:z=>Te({id:a.Q.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:z,extractionFunction:Rt,text:dt(z,E.fd.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:z=>Ce({id:a.Q.MPIM_WITH_DEACTIVATED_USER,value:(0,d.yz)(z.item)&&z.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:z=>Te({id:a.Q.NAV_NORMAL_PREFIX_MATCH,suggestion:z,extractionFunction:Pt,text:Qe(z)}),FRECENCY_BONUS:z=>Ce({id:a.Q.FRECENCY_BONUS,value:(0,s.A)(Object.values(z.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_FIRST_NAME_EXACT_MATCH,suggestion:z,extractionFunction:Zt,text:Be&&(0,h.XS)(z.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:z,extractionFunction:jt,text:Be&&(0,h.XS)(z.item)})},USER_FIRST_NAME_NORMAL_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_FIRST_NAME_NORMAL_MATCH,suggestion:z,extractionFunction:Ht,text:Be&&(0,h.XS)(z.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:z,extractionFunction:Pt,text:Be&&(0,h.XS)(z.item)})},USER_LAST_NAME_EXACT_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_LAST_NAME_EXACT_MATCH,suggestion:z,extractionFunction:Zt,text:Be&&(0,h.lQ)(z.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:z,extractionFunction:jt,text:Be&&(0,h.lQ)(z.item)})},USER_LAST_NAME_NORMAL_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_LAST_NAME_NORMAL_MATCH,suggestion:z,extractionFunction:Ht,text:Be&&(0,h.lQ)(z.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(z,Me)=>{let{itemIsMember:Be}=Me;return Te({id:a.Q.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:z,extractionFunction:Pt,text:Be&&(0,h.lQ)(z.item)})},USER_EMAIL_MATCH:z=>{var Me,Be;return Ce({id:a.Q.USER_EMAIL_MATCH,value:((Me=z.scoreDetails)===null||Me===void 0?void 0:Me.email)!==void 0?((Be=z.scoreDetails)===null||Be===void 0?void 0:Be.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:z=>{var Me,Be;return Ce({id:a.Q.USER_EMAIL_ONLY_MATCH,value:((Me=z.scoreDetails)===null||Me===void 0?void 0:Me.email)!==void 0&&((Be=z.scoreDetails)===null||Be===void 0?void 0:Be.email)>=0&&Object.keys((te=z.scoreDetails)!==null&&te!==void 0?te:{}).length===1})},USER_PRIORITY:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_PRIORITY,value:Be&&z.im&&(z==null?void 0:z.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:z=>Ce({id:a.Q.ONLY_MATCHES_PREVIOUS_NAME,value:z.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:z=>Ce({id:a.Q.FRECENCY_WEIGHT_HIT_VISITS,value:z.weightHitVisits}),FRECENCY_HIT_VISITS_4H:z=>Ce({id:a.Q.FRECENCY_HIT_VISITS_4H,value:z.hitVisits4h}),FRECENCY_HIT_VISITS_1D:z=>Ce({id:a.Q.FRECENCY_HIT_VISITS_1D,value:z.hitVisits1d}),FRECENCY_HIT_VISITS_3D:z=>Ce({id:a.Q.FRECENCY_HIT_VISITS_3D,value:z.hitVisits3d}),FRECENCY_HIT_VISITS_1W:z=>Ce({id:a.Q.FRECENCY_HIT_VISITS_1W,value:z.hitVisits1w}),FRECENCY_HIT_VISITS_1M:z=>Ce({id:a.Q.FRECENCY_HIT_VISITS_1M,value:z.hitVisits1m}),FRECENCY_HIT_VISITS_90D:z=>Ce({id:a.Q.FRECENCY_HIT_VISITS_90D,value:z.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:z=>Ce({id:a.Q.FRECENCY_ITEM_VISITS_4H,value:z.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:z=>Ce({id:a.Q.FRECENCY_ITEM_VISITS_1D,value:z.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:z=>Ce({id:a.Q.FRECENCY_ITEM_VISITS_3D,value:z.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:z=>Ce({id:a.Q.FRECENCY_ITEM_VISITS_1W,value:z.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:z=>Ce({id:a.Q.FRECENCY_ITEM_VISITS_1M,value:z.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:z=>Ce({id:a.Q.FRECENCY_ITEM_VISITS_90D,value:z.itemVisits90d}),FRECENCY_HIT_COUNT:z=>Ce({id:a.Q.FRECENCY_HIT_COUNT,value:z.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:z=>Ce({id:a.Q.FRECENCY_WEIGHT_ITEM_VISITS,value:z.weightItemVisits}),FRECENCY_ITEM_COUNT:z=>Ce({id:a.Q.FRECENCY_ITEM_COUNT,value:z.itemCount}),NAV_NORMAL_MATCH_USER:z=>Te({id:a.Q.NAV_NORMAL_MATCH_USER,suggestion:z,extractionFunction:Me=>{let{text:Be,normalizedQuery:nt}=Me;return Ht({text:Be,normalizedQuery:nt})&&!Pt({text:(0,h.XS)(z.item),normalizedQuery:nt})},text:dt(z,E.fd.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:z=>Te({id:a.Q.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:z,extractionFunction:Me=>{let{text:Be,normalizedQuery:nt}=Me;return Pt({text:Be,normalizedQuery:nt})&&!Pt({text:(0,h.XS)(z.item),normalizedQuery:nt})},text:dt(z,E.fd.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:z=>Te({id:a.Q.NAV_NORMAL_MATCH_NO_USER,suggestion:z,extractionFunction:Ht,text:Ot(z)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:z=>Te({id:a.Q.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:z,extractionFunction:Pt,text:Ot(z)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(z,Me)=>{let{itemIsChannel:Be,now:nt}=Me;return Ce({id:a.Q.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:Be&&tt(nt,parseFloat((se=z.latestTs)!==null&&se!==void 0?se:""),7*U)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(z,Me)=>{let{itemIsChannel:Be,now:nt}=Me;return Ce({id:a.Q.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:Be&&tt(nt,parseFloat((ce=z.latestTs)!==null&&ce!==void 0?ce:""),2*O)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(z.item)&&tt(Be,parseFloat((Ee=z.latestTs)!==null&&Ee!==void 0?Ee:""),2*O)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(z.item)&&tt(Be,z.maxLatestMsgTsOfAllMembers,2*O)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(z.item)&&tt(Be,z.maxLatestMsgTsOfAllMembers,7*U)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:(0,d.yz)(z.item)&&tt(Be,z.avgLatestMsgTsOfAllMembers,2*O)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(z.item)&&tt(Be,z.avgLatestMsgTsOfAllMembers,7*U)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:(0,d.yz)(z.item)&&tt(Be,z.maxLastReadTsOfAllMembers,2*O)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:(0,d.yz)(z.item)&&tt(Be,z.maxLastReadTsOfAllMembers,7*U)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:(0,d.yz)(z.item)&&tt(Be,z.avgLastReadTsOfAllMembers,2*O)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:(0,d.yz)(z.item)&&tt(Be,z.avgLastReadTsOfAllMembers,7*U)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:z=>Ce({id:a.Q.MPIM_USERS_PCT_NON_EMPTY_DMS,value:(0,d.yz)(z.item)&&z.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:z=>Ce({id:a.Q.MPIM_USERS_PCT_NON_NULL_DMS,value:(0,d.yz)(z.item)&&z.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:z=>Ce({id:a.Q.MPIM_USERS_ALL_INTERNAL,value:(0,d.yz)(z.item)&&z.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.MPIM_LATEST_MSG_AGE_DECAY_7D,value:(0,d.yz)(z.item)&&tt(Be,parseFloat((de=z.latestTs)!==null&&de!==void 0?de:""),7*U)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:Be&&z.im&&tt(nt,parseFloat((re=z.latestTs)!==null&&re!==void 0?re:""),7*U)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:Be&&z.im&&tt(nt,parseFloat((_e=z.latestImTs)!==null&&_e!==void 0?_e:""),7*U)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:Be&&z.im&&tt(nt,parseFloat((ve=z.latestTs)!==null&&ve!==void 0?ve:""),2*O)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(z,Me)=>{let{itemIsMember:Be,now:nt}=Me;return Ce({id:a.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:Be&&z.im&&tt(nt,parseFloat((ge=z.latestImTs)!==null&&ge!==void 0?ge:""),2*O)||0})},FRECENCY_LOG_HIT_COUNT:z=>Ce({id:a.Q.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((Le=z.hitCount)!==null&&Le!==void 0?Le:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:z=>Ce({id:a.Q.FRECENCY_LOG_HIT_COUNT_SCALED,value:z.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:z=>Ce({id:a.Q.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((ke=z.itemCount)!==null&&ke!==void 0?ke:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:z=>Ce({id:a.Q.FRECENCY_LOG_ITEM_COUNT_SCALED,value:z.logItemCountScaled}),QUERY_FRECENCY_RAW:z=>Ce({id:a.Q.QUERY_FRECENCY_RAW,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&z.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:z=>Ce({id:a.Q.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&z.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:z=>Ce({id:a.Q.QUERY_FRECENCY_HIT_COUNT,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&z.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:z=>Ce({id:a.Q.QUERY_LOG_HIT_COUNT,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&Jt(z.scoringContext.frecencyHitCount)||z.suggestionType===E.fd.QUERY_HISTORY&&Jt((Ke=z.count)!==null&&Ke!==void 0?Ke:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:z=>Ce({id:a.Q.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&z.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:z=>Ce({id:a.Q.QUERY_FRECENCY_ITEM_COUNT,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&z.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:z=>Ce({id:a.Q.QUERY_FUZZY_SCORE,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&z.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:z=>{var Me;return Ce({id:a.Q.QUERY_FRECENCY_BONUS,value:(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER)&&(0,s.A)(Object.values(((Me=z.scoringContext)===null||Me===void 0?void 0:Me.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:z=>Ce({id:a.Q.QUERY_HISTORY_LOG_INDEX,value:z.suggestionType===E.fd.QUERY_HISTORY&&Jt(z.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.QUERY_HISTORY_AGE_DECAY_30D,value:z.suggestionType===E.fd.QUERY_HISTORY&&tt(Be,z.lastUpdateTs,30*U)||0})},FUZZY_SCORE:z=>Ce({id:a.Q.FUZZY_SCORE,value:z.score}),FUZZY_SCORE_SCALED_EXP:z=>Ce({id:a.Q.FUZZY_SCORE_SCALED_EXP,value:k(z.score)&&.5**Math.min(z.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:z=>Ce({id:a.Q.FUZZY_SCORE_SCALED_FLIPPED,value:k(z.score)&&10-Math.min(z.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:z=>Ce({id:a.Q.FUZZY_SCORE_SCALED_SUBTRACT,value:k(z.score)&&Math.min(z.score,10)-1}),FUZZY_SCORE_50:z=>Ce({id:a.Q.FUZZY_SCORE_50,value:z.bonusPointMap&&z.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:z=>Ce({id:a.Q.FUZZY_SCORE_25,value:z.bonusPointMap&&z.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:z=>Ce({id:a.Q.FUZZY_SCORE_ALL,value:z.bonusPointMap&&z.bonusPointMap.fuzzyScoreBonus&&z.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:z=>Ce({id:a.Q.FILTER_USER_IS_ACTIVE,value:z.lastSuggestionToken&&z.lastTokenMemberOrNull&&(0,h.ls)(z.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:z=>Ce({id:a.Q.FILTER_USER_IS_CURRENT_USER,value:z.lastSuggestionToken&&z.lastTokenMemberOrNull&&(0,h.fy)(z.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:z=>Ce({id:a.Q.FILTER_USER_DM_IS_STARRED,value:z.lastTokenIm&&z.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:z=>Ce({id:a.Q.FILTER_USER_DM_IS_UNREAD,value:z.lastTokenIm&&(0,l.KJ)(z.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILTER_USER_DM_READ_AGE_DECAY_7D,value:z.lastTokenIm&&tt(Be,z.lastTokenImLastRead,7*U)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILTER_USER_DM_READ_AGE_DECAY_2H,value:z.lastTokenIm&&tt(Be,z.lastTokenImLastRead,2*O)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:z.lastTokenIm&&tt(Be,parseFloat((Ne=z.lastTokenImLatest)!==null&&Ne!==void 0?Ne:""),7*U)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:z.lastTokenIm&&tt(Be,parseFloat((Re=z.lastTokenImLatest)!==null&&Re!==void 0?Re:""),2*O)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:z=>Te({id:a.Q.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:z,extractionFunction:Ht,text:Ct(z)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:z=>Te({id:a.Q.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:z,extractionFunction:Pt,text:Ct(z)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:z=>Te({id:a.Q.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:z,extractionFunction:Ht,text:kt(z)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:z=>Te({id:a.Q.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:z,extractionFunction:Pt,text:kt(z)}),FILTER_USER_PRIORITY:z=>Ce({id:a.Q.FILTER_USER_PRIORITY,value:z.lastTokenIm&&(z==null?void 0:z.priority)}),HERE_KEYWORD:z=>Ce({id:a.Q.HERE_KEYWORD,value:z.name==="here"}),HERE_KEYWORD_EXACT_MATCH:z=>Ce({id:a.Q.HERE_KEYWORD_EXACT_MATCH,value:z.name==="here"&&z.query==="here"}),IS_BROADCAST_KEYWORD:z=>Ce({id:a.Q.IS_BROADCAST_KEYWORD,value:!!(z.type&&z.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:z=>Ce({id:a.Q.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(z.type&&z.type==="broadcastKeyword"&&Ht({text:(xe=z.name)!==null&&xe!==void 0?xe:"",normalizedQuery:z.normalizedQuery}))}),EMOJI_EXACT_MATCH:z=>Ce({id:a.Q.EMOJI_EXACT_MATCH,value:z.bonusPointMap&&z.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:z=>Te({id:a.Q.QUERY_TOKEN_NORMAL_MATCH,suggestion:z,extractionFunction:Ht,text:vt(z)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:z=>Te({id:a.Q.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:z,extractionFunction:Pt,text:vt(z)}),FILTER_CHANNEL_IS_ARCHIVED:z=>Ce({id:a.Q.FILTER_CHANNEL_IS_ARCHIVED,value:(0,u.F)(z.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:z=>Ce({id:a.Q.FILTER_CHANNEL_IS_MEMBER,value:(0,m.bl)(z.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:z=>Ce({id:a.Q.FILTER_CHANNEL_IS_STARRED,value:z.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:z=>Ce({id:a.Q.FILTER_CHANNEL_IS_UNREAD,value:(0,l.KJ)(z.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:tt(Be,z.lastTokenChannelLastRead,7*U)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:tt(Be,z.lastTokenChannelLastRead,2*O)})},FILTER_CHANNEL_PRIORITY:z=>Ce({id:a.Q.FILTER_CHANNEL_PRIORITY,value:z==null?void 0:z.priority}),CHANNEL_IS_FROZEN:(z,Me)=>{let{itemIsChannel:Be}=Me;return Ce({id:a.Q.CHANNEL_IS_FROZEN,value:Be&&(0,f.Zz)(z.item)})},USER_DM_IS_FROZEN:(z,Me)=>{let{itemIsMember:Be}=Me;return Ce({id:a.Q.USER_DM_IS_FROZEN,value:Be&&z.im&&(0,f.Zz)(z.im)})},CHANNEL_HAS_DRAFT:z=>Ce({id:a.Q.CHANNEL_HAS_DRAFT,value:z.hasDraft}),USER_DM_HAS_DRAFT:z=>Ce({id:a.Q.USER_DM_HAS_DRAFT,value:z.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:z=>Ce({id:a.Q.EMOJI_QUERY_LENGTH_RATIO,value:z.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:z=>Ce({id:a.Q.EMOJI_TOTAL_COMBO_BREAKS,value:z.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:z=>Ce({id:a.Q.EMOJI_COMBO_BREAK_0,value:z.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:z=>Ce({id:a.Q.EMOJI_COMBO_BREAK_1,value:z.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:z=>Ce({id:a.Q.EMOJI_COMBO_BREAK_2,value:z.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:z=>Ce({id:a.Q.EMOJI_COMBO_BREAK_3,value:z.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:z=>Ce({id:a.Q.TYPE_APP_ACTION,value:z.suggestionType===E.fd.APP_ACTION}),OS_APP_ACTION:(z,Me)=>{let{source:Be}=Me;return Ce({id:a.Q.OS_APP_ACTION,value:(Be==null?void 0:Be.startsWith("omniswitcher"))&&z.suggestionType===E.fd.APP_ACTION})},TYPE_APP:z=>Ce({id:a.Q.TYPE_APP,value:z.suggestionType===E.fd.APP}),TYPE_SLASH_COMMAND:z=>Ce({id:a.Q.TYPE_SLASH_COMMAND,value:z.suggestionType===E.fd.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:z=>Ce({id:a.Q.TYPE_GLOBAL_ACTION,value:z.suggestionType===E.fd.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:z=>Ce({id:a.Q.IS_INVITE_WORKSPACE,value:z.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:z=>Ce({id:a.Q.TYPE_CHANNEL_ACTION,value:z.suggestionType===E.fd.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:z=>Ce({id:a.Q.TYPE_WORKFLOW_TRIGGER,value:z.suggestionType===E.fd.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:z=>Ce({id:a.Q.TYPE_NAVIGATION_MESSAGE,value:z.suggestionType===E.fd.MESSAGE_NAVIGATION}),TYPE_EMOJI:z=>Ce({id:a.Q.TYPE_EMOJI,value:z.suggestionType===E.fd.EMOJI}),HAS_CHANNEL_ASSOCIATION:z=>Ce({id:a.Q.HAS_CHANNEL_ASSOCIATION,value:z.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:z=>Ce({id:a.Q.MEMBER_OF_CURRENT_CHANNEL,value:z.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:z=>Te({id:a.Q.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:z,extractionFunction:rn,text:dt(z,E.fd.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FRECENCY_HIT_VISIT_DECAY_2H,value:tt(Be,z.latestHitVisit,2*O)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FRECENCY_HIT_VISIT_DECAY_7D,value:tt(Be,z.latestHitVisit,7*U)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FRECENCY_ITEM_VISIT_DECAY_2H,value:tt(Be,z.latestItemVisit,2*O)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FRECENCY_ITEM_VISIT_DECAY_7D,value:tt(Be,z.latestItemVisit,7*U)||0})},MPIM_MEMBERS:z=>Ce({id:a.Q.MPIM_MEMBERS,value:z.item.members.length}),MPIM_MEMBER_NAME_MATCHES:z=>Ce({id:a.Q.MPIM_MEMBER_NAME_MATCHES,value:z.scoreDetailsByMember&&Object.values(z.scoreDetailsByMember).filter(Me=>((We=Me.score_details.real_name)!==null&&We!==void 0?We:-1/0)>=0||(($=Me.score_details.display_name)!==null&&$!==void 0?$:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:z=>Ce({id:a.Q.MPIM_MEMBER_ALL_MATCHES,value:z.scoreDetailsByMember&&Object.keys(z.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:z=>Ce({id:a.Q.MPIM_MATCHER_SCORE,value:z.score}),MPIM_MATCHER_SCORE_0:z=>Ce({id:a.Q.MPIM_MATCHER_SCORE_0,value:z.score===0}),MPIM_MATCHER_SCORE_1:z=>Ce({id:a.Q.MPIM_MATCHER_SCORE_1,value:z.score===1}),MPIM_MATCHER_SCORE_2:z=>Ce({id:a.Q.MPIM_MATCHER_SCORE_2,value:z.score===2}),MPIM_MATCHER_SCORE_3:z=>Ce({id:a.Q.MPIM_MATCHER_SCORE_3,value:z.score===3}),EMOJI_TEAM_CTR_90DD:z=>{var Me;return Ce({id:a.Q.EMOJI_TEAM_CTR_90DD,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},EMOJI_USER_CTR_30DD:z=>{var Me;return Ce({id:a.Q.EMOJI_USER_CTR_30DD,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:z=>{var Me;return Ce({id:a.Q.MPIM_TEAM_CTR_90DD,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},MPIM_USER_CTR_30DD:z=>{var Me;return Ce({id:a.Q.MPIM_USER_CTR_30DD,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:z=>{var Me;return Ce({id:a.Q.CHANNEL_TEAM_CTR_90DD,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:z=>{var Me;return Ce({id:a.Q.CHANNEL_USER_CTR_30DD,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:z=>Ce({id:a.Q.USER_ENTITY_TYPE_CTR_30DD,value:z.entityTypeCtr}),NUM_RESULTS:z=>Ce({id:a.Q.NUM_RESULTS,value:z.numResults}),QUERY_IS_SELF:z=>{var Me;return Ce({id:a.Q.QUERY_IS_SELF,value:((Me=z.scoreDetails)===null||Me===void 0?void 0:Me.self_score)===0})},CURRENT_USER_TEXTY:(z,Me)=>{let{isCurrentUser:Be,source:nt}=Me;return Ce({id:a.Q.CURRENT_USER_TEXTY,value:nt==="texty-autocomplete"&&Be})},FILE_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_AGE_DECAY_7D,value:z.item&&tt(Be,z.item.created,7*U)})},FILE_AGE_DECAY_28D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_AGE_DECAY_28D,value:z.item&&tt(Be,z.item.created,28*U)})},FILE_AGE_DECAY_90D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_AGE_DECAY_90D,value:z.item&&tt(Be,z.item.created,90*U)})},FILE_FROM_CURRENT_USER:z=>Ce({id:a.Q.FILE_FROM_CURRENT_USER,value:z.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:z=>Te({id:a.Q.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:z,extractionFunction:Ht,text:dt(z,E.fd.CHANNEL_NAVIGATION),multiplier:Jt(z.numResults)}),FILE_LOG_PUBLIC_SHARES:z=>{var Me,Be;return Ce({id:a.Q.FILE_LOG_PUBLIC_SHARES,value:((Me=z.item)===null||Me===void 0||(Be=Me.shares)===null||Be===void 0?void 0:Be.public)&&Jt(Object.keys(z.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:z=>{var Me,Be;return Ce({id:a.Q.FILE_LOG_PRIVATE_SHARES,value:((Me=z.item)===null||Me===void 0||(Be=Me.shares)===null||Be===void 0?void 0:Be.private)&&Jt(Object.keys(z.item.shares.private).length)})},FILE_LOG_ACTIONS:z=>{var Me;return Ce({id:a.Q.FILE_LOG_ACTIONS,value:((Me=z.item)===null||Me===void 0?void 0:Me.actions)&&Jt(z.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_2H,value:tt(Be,z.latestActionTs,2*O)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_7D,value:tt(Be,z.latestActionTs,7*U)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_LATEST_ACTION_AGE_DECAY_90D,value:tt(Be,z.latestActionTs,90*U)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_2H,value:tt(Be,z.latestShareTs,2*O)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_7D,value:tt(Be,z.latestShareTs,7*U)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_LATEST_SHARE_AGE_DECAY_90D,value:tt(Be,z.latestShareTs,90*U)})},FILE_CHANNEL_CTR:z=>Ce({id:a.Q.FILE_CHANNEL_CTR,value:z.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:z=>Ce({id:a.Q.FILE_SUGGESTIONS_SEARCHER,value:z.fileSuggestionsFromSearcher}),FILE_USER_CTR:z=>Ce({id:a.Q.FILE_USER_CTR,value:z.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:z=>Te({id:a.Q.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:z,extractionFunction:sn,text:dt(z,E.fd.FILE_NAVIGATION)}),FILE_IS_CANVAS:z=>Ce({id:a.Q.FILE_IS_CANVAS,value:yt(z,"quip")}),FILE_HAS_DMS_WITH_CREATOR:z=>Ce({id:a.Q.FILE_HAS_DMS_WITH_CREATOR,value:z.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:z=>Ce({id:a.Q.FILE_HAS_DMS_WITH_CREATOR_V2,value:z.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:wt(Be,parseFloat((ee=z.lastReadTs)!==null&&ee!==void 0?ee:"")/1e3,90*U)})},APP_NAME_PREFIX_MATCH:z=>{var Me;return Te({id:a.Q.APP_NAME_PREFIX_MATCH,suggestion:z,extractionFunction:Pt,text:(Me=z.item)===null||Me===void 0?void 0:Me.appName})},BEST_NAME_MATCH_LOG_RESULTS:z=>Ce({id:a.Q.BEST_NAME_MATCH_LOG_RESULTS,value:z.bestNameIsExactMatch&&Jt(z.numResults)}),SLASH_COMMAND_USER_CTR:z=>{var Me;return Ce({id:a.Q.SLASH_COMMAND_USER_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:z=>{var Me;return Ce({id:a.Q.WORKFLOW_TRIGGER_USER_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:z=>{var Me;return Ce({id:a.Q.GLOBAL_ACTION_USER_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:z=>{var Me;return Ce({id:a.Q.CHANNEL_ACTION_USER_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},APP_ACTION_USER_CTR:z=>{var Me;return Ce({id:a.Q.APP_ACTION_USER_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:z=>{var Me;return Ce({id:a.Q.SLASH_COMMAND_TEAM_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:z=>{var Me;return Ce({id:a.Q.WORKFLOW_TRIGGER_TEAM_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:z=>{var Me;return Ce({id:a.Q.GLOBAL_ACTION_TEAM_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:z=>{var Me;return Ce({id:a.Q.CHANNEL_ACTION_TEAM_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},APP_ACTION_TEAM_CTR:z=>{var Me;return Ce({id:a.Q.APP_ACTION_TEAM_CTR,value:(Me=z.offlineFeatures)===null||Me===void 0?void 0:Me.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:z=>Ce({id:a.Q.SHORTCUT_ENTITY_TYPE_CTR,value:z.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:z=>Ce({id:a.Q.EXACT_MATCH_LOG_RESULTS,value:(z.isExactMatch?1:0)*Jt(z.numResults)}),HISTORY_AGE_DECAY_2H:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.HISTORY_AGE_DECAY_2H,value:tt(Be,z.historyTs,2*O)})},HISTORY_AGE_DECAY_7D:(z,Me)=>{let{now:Be}=Me;return Ce({id:a.Q.HISTORY_AGE_DECAY_7D,value:tt(Be,z.historyTs,7*U)})},HISTORY_POSITION:z=>Ce({id:a.Q.HISTORY_POSITION,value:z.historyPosition}),MEMBER_OF_SEARCHER_DEFAULT_TEAM:z=>Ce({id:a.Q.MEMBER_OF_SEARCHER_DEFAULT_TEAM,value:z.isMemberOfSearcherDefaultTeam}),HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER:z=>Ce({id:a.Q.HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER,value:(z.numWorkspacesIntersectingWithSearcher||0)>0}),NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER:z=>Ce({id:a.Q.NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER,value:z.numWorkspacesIntersectingWithSearcher||0})};class ze{serialize(){const Me=new I;this.featureList.forEach(nt=>we({feature:nt,serializer:Me}));const Be=Me.serialize();return`${this.featuresVersion}:${Be}`}valueForFeature(Me){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Me==null)return R().error(`Invalid feature id: ${Me}`),null;const nt=this.featureList.find(Lt=>Lt.id===Me);if(!(0,o.A)(nt))return Be?Se(nt)||"":be(nt)||0}static fromSuggestion(Me,Be){const nt=Date.now()/1e3,Lt=!!(0,h.NB)(Me.item),Bt=!!((0,d.rW)(Me.item)||(0,d.Zp)(Me.item)),Yt=Lt&&(0,h.fy)(Me.item),on={itemIsChannel:Bt,itemIsMember:Lt,now:nt,isCurrentUser:Yt,source:Be};return new this(st(Me,Be).map(An=>Ve[An]&&Ve[An](Me,on)||null))}constructor(Me){this.featureList=Me,this.featuresVersion="v8"}}_(ze,"SuggestionFeatureVector");function st(z,Me){return Me==="slash-command-menu"?[...M.globalFeatures]:z.suggestionType===E.fd.USER_NAVIGATION?[...M.globalFeatures,...M.userFeatures]:z.suggestionType===E.fd.CHANNEL_NAVIGATION?[...M.globalFeatures,...M.channelFeatures]:z.suggestionType===E.fd.MPIM_NAVIGATION?[...M.globalFeatures,...M.mpimFeatures]:z.suggestionType===E.fd.VIEW_NAVIGATION?[...M.globalFeatures,...M.viewFeatures]:z.suggestionType===E.fd.FILE_NAVIGATION?[...M.globalFeatures,...M.fileFeatures,...M.queryFeatures]:z.suggestionType===E.fd.LINK_NAVIGATION?[...M.globalFeatures,...M.linkFeatures]:z.suggestionType===E.fd.MODAL_NAVIGATION?[...M.globalFeatures,...M.modalFeatures]:z.suggestionType===E.fd.TEAM_NAVIGATION?[...M.globalFeatures,...M.teamFeatures]:z.type==="emoji"?[...M.globalFeatures,...M.emojiFeatures]:z.type==="broadcastKeyword"?[...M.globalFeatures,...M.broadcastKeywordFeatures]:z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER?[...M.globalFeatures,...M.queryFeatures]:z.suggestionType===E.fd.APP_ACTION?[...M.globalFeatures,...M.shortcutFeatures,...M.appActionFeatures]:z.suggestionType===E.fd.SLASH_COMMAND?[...M.globalFeatures,...M.shortcutFeatures,...M.slashCommandFeatures]:z.suggestionType===E.fd.GLOBAL_ACTION?[...M.globalFeatures,...M.shortcutFeatures,...M.globalActionFeatures]:z.suggestionType===E.fd.CHANNEL_ACTION?[...M.globalFeatures,...M.shortcutFeatures,...M.channelActionFeatures]:z.suggestionType===E.fd.WORKFLOW_TRIGGER?[...M.globalFeatures,...M.shortcutFeatures,...M.workflowTriggerFeatures]:z.suggestionType===E.fd.APP?[...M.globalFeatures,...M.appFeatures]:z.suggestionType===E.fd.MESSAGE_NAVIGATION?[...M.globalFeatures,...M.messageFeatures]:z.suggestionType===E.fd.QUERY_HISTORY?[...M.globalFeatures,...M.queryFeatures]:M.globalFeatures}_(st,"getFeaturesForExtraction");class Ge{constructor({id:Me,value:Be}){Me==null&&R().error(`Invalid feature id: ${Me}`);const nt=P(Me);nt||R().error(`Missing feature name for id: ${Me}`),this.id=Me,this.name=nt,this.valueOrNull=Be}}_(Ge,"Feature");function be(z){return typeof z.valueOrNull=="number"&&isFinite(z.valueOrNull)?z.valueOrNull:typeof z.valueOrNull=="boolean"&&z.valueOrNull?1:0}_(be,"getNumericValueForFeature");function Se(z){return z.valueOrNull===null||z.valueOrNull===void 0?"":z.valueOrNull.toString()}_(Se,"getStringValueForFeature");function we(z){let{feature:Me,serializer:Be}=z;Me.valueOrNull===null&&Be.writeNullFeature(),typeof Me.valueOrNull=="number"&&Be.writeNumericalFeature(Me.valueOrNull,Me.id),typeof Me.valueOrNull=="boolean"&&Be.writeBinaryFeature(Me.valueOrNull,Me.id),typeof Me.valueOrNull=="string"&&Be.writeTextFeature(Me.valueOrNull,Me.id)}_(we,"serializeFeature");function Ce(z){let{id:Me,value:Be}=z;const nt=(0,o.A)(Be)?null:Be;return new Ge({id:Me,value:nt})}_(Ce,"makeFeature");function Te(z){let{id:Me,suggestion:Be,extractionFunction:nt,text:Lt=He(Be),multiplier:Bt=1}=z;if(!Lt)return Ce({id:Me,value:null});const Yt=nt({text:Lt,query:Be.query||"",normalizedQuery:Be.normalizedQuery||""}),on=Yt===!0?1:Yt===!1?0:Yt;return Ce({id:Me,value:(on??0)*Bt})}_(Te,"makeTextFeature");function Ye(z){let Me=null;return(z.suggestionType===E.fd.QUERY||z.suggestionType===E.fd.QUERY_USER||z.suggestionType===E.fd.CHANNEL_NAVIGATION||z.suggestionType===E.fd.MPIM_NAVIGATION||z.suggestionType===E.fd.USER_NAVIGATION||z.suggestionType===E.fd.TEAM_NAVIGATION||z.suggestionType===E.fd.VIEW_NAVIGATION||z.suggestionType===E.fd.FILE_NAVIGATION)&&(Me=z.frecencyScore),Me}_(Ye,"getFrecencyScoreForSuggestion");function De(z){let Me=null;return z.suggestionType===E.fd.QUERY&&z.lastSuggestionToken&&z.lastSuggestionToken.type===E.S6.API&&(Me=z.lastSuggestionToken.querySuggestionScore),Me}_(De,"getQuerySuggestionScoreV2");function Pe(z){let Me=null;return z.suggestionType===E.fd.FILE_NAVIGATION&&(Me=z.rawScore),Me}_(Pe,"getFileSuggestionScore");function ye(z){return z&&z.lastSuggestionToken?z.lastSuggestionToken.toString():""}_(ye,"getLastSuggestionTokenString");function He(z){return Dt(z)?ye(z):z.suggestionType===E.fd.FILE_NAVIGATION?z.name:null}_(He,"getTextOrNullFromQuerySuggestion");function Qe(z){return z.isNavigational||z.isAction||z.isApp?z.name:null}_(Qe,"getTextOrNullFromNavigationalSuggestion");function dt(z,Me){return z.suggestionType===Me?z.name:null}_(dt,"getTextOrNullFromSuggestionWithType");function Ot(z){return z.suggestionType===E.fd.USER_NAVIGATION||(0,o.A)(z.name)?null:z.name}_(Ot,"getTextOrNullFromSuggestionNotUser");function yt(z,Me){return z.suggestionType!==E.fd.FILE_NAVIGATION?!1:z.fileType===Me}_(yt,"isFileTypeMatch");function Dt(z){return z.lastSuggestionToken?z.lastSuggestionToken.type===E.S6.STRING||z.lastSuggestionToken.type===E.S6.PHRASE||z.lastSuggestionToken.type===E.S6.API:!1}_(Dt,"isActiveTokenStringLike");function Ct(z){return z.lastTokenMemberOrNull&&z.lastTokenMemberOrNull.profile&&z.lastTokenMemberOrNull.profile.first_name}_(Ct,"getLastTokenUserFirstName");function kt(z){return z.lastTokenMemberOrNull&&z.lastTokenMemberOrNull.profile&&z.lastTokenMemberOrNull.profile.last_name}_(kt,"getLastTokenUserLastName");function vt(z){return z.lastTokenMemberName||z.lastTokenChannelName||null}_(vt,"lastTokenName");function Nt(z){return z?z.im&&z.lastReadImTs?z.lastReadImTs:z.remoteImMetadata&&z.lastReadRemoteImMetadataTs?(z.lastReadRemoteImMetadataTs/1e6).toString():null:null}_(Nt,"imLastReadFromLocalClientElseCachedRemote");function It(z){return z?z.mpimFeatures&&z.mpimFeatures.lastReadTs?z.mpimFeatures.lastReadTs:z.remoteMpimMetadata&&z.lastReadRemoteMpimMetadataTs?(z.lastReadRemoteMpimMetadataTs/1e6).toString():null:null}_(It,"mpimLastReadFromLocalClientElseCachedRemote");function At(z){return z?z.remoteMpimMetadata&&z.remoteMpimMembershipCount?z.remoteMpimMembershipCount:z.mpimFeatures&&z.mpimFeatures.membershipCount?z.mpimFeatures.lastReadTs:null:null}_(At,"mpimMembershipCountFromCachedRemoteElseLocalClient");function Zt(z){let{text:Me,query:Be}=z;return Me===Be}_(Zt,"isExactMatch");function jt(z){let{text:Me,query:Be}=z;return!!(Be&&Me&&(0,n.A)(Me,Be))}_(jt,"isPrefixMatch");function Ht(z){let{text:Me,normalizedQuery:Be}=z;return(0,r.B)(Me).replace(/^[@#]/g,"")===Be}_(Ht,"isNormalizedExactMatch");function Pt(z){let{text:Me,normalizedQuery:Be}=z;const nt=(0,r.B)(Me).replace(/^[@#]/g,"");return!!(nt&&Be&&(0,n.A)(nt,Be))}_(Pt,"isNormalizedPrefixMatch");function Ft(z){let{text:Me,query:Be}=z;return(0,c.A)(Me).length+((0,i.A)(Me," ")?1:0)===(0,c.A)(Be).length}_(Ft,"stringSameNumberWordsValueFromSuggestion");function En(z){let{text:Me,query:Be}=z;return Math.max(0,Me.length-Be.length)}_(En,"excessStringLengthValueFromSuggestion");function Rt(z){let{text:Me,query:Be}=z;return Me.length>0?Be.length/Me.length:0}_(Rt,"queryRatioLengthValueFromSuggestion");function rn(z){let{text:Me,normalizedQuery:Be}=z;return Ht({text:Me,normalizedQuery:Be})&&Be.length>1?2**-Be.length:null}_(rn,"queryLengthDecayNormalMatch");function nn(z){let{normalizedQuery:Me}=z;return Me.length}_(nn,"queryLength");function at(z){let{text:Me}=z;return Me.length}_(at,"suggestionTextLength");function tt(z,Me,Be){if(Me){var nt;return Math.min(1,Math.exp(Math.log(.5)/Be*((nt=ft(z,Me))!==null&&nt!==void 0?nt:0)))}return 0}_(tt,"expAgeDecay");function ft(z,Me){return Me?Math.max(0,z-Me):null}_(ft,"age");function wt(z,Me,Be){if(!Me)return!0;const nt=ft(z,Me);return!nt||nt>Be}_(wt,"ageLatestOlderOrMissing");function Jt(z){return z>0?Math.log1p(z):0}_(Jt,"log1pSafe");function sn(z){let{text:Me,normalizedQuery:Be}=z;const nt=(0,r.B)(Me).replace(/^[@#]/g,"");return!!(nt&&Be&&nt.includes(Be))}_(sn,"stringContainsQueryNormalized")},7646553093:(N,g,e)=>{"use strict";e.d(g,{A:()=>re});var t=e(3367239067),s=e(9087248458),o=e(7174777686),n=e(3783303734),c=e(362134992),i=e(1703559452),r=e(9816084745),a=e(6471059816),l=e(6312133237),d=e(5141066605),u=e(3037015781),f=e(3929724715),m=e(1407713935),h=e(8920264989),v=e(6007206761),p=e(6495946979);function T(_e){var ve;const ge=(ve=_e.actions)===null||ve===void 0?void 0:ve[0];if(!ge)return 0;const Le=parseFloat(ge.ts);return isNaN(Le)?0:Le}_(T,"getLatestActionTs");var A=e(8170643398),C=e(9262712126),I=e(5096647761),D=e(6536982570),y=e(7578434623),P=e(4477620356),E=e(9540555535),M=e(7930183031),S=e(4096483543),R=e(8040098042),k=e(4496040127),O=e(9186097751),U=e(1041273904),W=e(1520110262),x=e(7948868735),L=e(9703079150),b=e(6533394955);class F extends x.F{fetchData(){return(0,b.Qw)(this.teamId,(0,W.ej)({reason:"AutocompleteModelCache"})).catch(ve=>({model:null,exception:ve})).then(ve=>{const ge={model:null};if(ve.model){const Le=(0,U.A)(Object.entries(ve.model).map(ke=>{let[Ke,Ne]=ke;return[Ke.toUpperCase(),Ne]}));ge.model=new L.t(Le,!0)}else return null;return ge})}constructor(ve){super(),this.teamId=ve}}_(F,"AutocompleteModelCache");let B=null;function K(_e){return B||(B=new F(_e)),B}_(K,"getAutocompleteModelCache");var H=e(9150404500),Y=e(1917953477),Z=e(220244708);const V=new L.t({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_DEACTIVATED:-.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),ne=new L.t({FRECENCY_LOG_ITEM_COUNT:1}),q=new L.t({FRECENCY:1}),me=new L.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),ue=new L.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),ae=new L.t({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),le=new L.t({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),he={testing:ae,testing_2:le,frecency:q,autocompleteFallback:V,shortcuts1:me,shortcuts3:ue,emojiFrequentlyUsed:ne};var ie=e(5853759500),X=e(8847766420),j=e(7384121809),w=e(5795074931),Q=e(4078320572),G=e(9101533895),J=e(4761125736),te=e(8719147933),se=e(8276911661),ce=e(6562711329);const Ee=new a.Ay("search"),de="autocompleteFallback";let re=_(class{sort(ve,ge){var Le;const ke=(0,y.Cy)({state:ve});ke.mark("sorter-sort-mark");const Ke=this.prepSuggestions(ve,ge);this.extractFeatures(ve,Ke);const Ne=this.scoreItems(ve,Ke),Re=((Le=this.options)===null||Le===void 0?void 0:Le.dryRun)===!0?Ne:this.sortByScore(Ne);ke.measureAndClear("sorter-sort-mark","sorter-sort");const xe=2,We=this.boostExactMatches(Re,xe);return this.forceMatches(We)}boostExactMatches(ve,ge){const Le=ve.slice(0,ge),ke=[],Ke=[];for(let Ne=ge;Ne<ve.length;Ne++){const Re=ve[Ne];Re.isExactMatch||Re.bestNameIsExactMatch?ke.push(Re):Ke.push(Re)}return[...Le,...ke,...Ke]}forceMatches(ve){var ge,Le;return!((ge=this.options)===null||ge===void 0)&&ge.selfFirst&&!(!((Le=ve[0])===null||Le===void 0)&&Le.isSelf)?[...(0,t.A)(ve,Ke=>Ke.isSelf),...ve]:ve}getModel(ve,ge){let Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const ke={model:he[ve]};if(!Le&&ge){const Ne=K(ge).getStaleWhileRevalidate(ke);return Ne===null||Ne.model===null||Ne.model===void 0?ke:Ne}return ke}getHistoryChannels(ve){if((0,J._Z)(ve,"sq_sorter_history")!=="treatment")return{};if(!(0,S.A)())return{};var ge;const Le=[...(ge=(0,te.t)((0,j.Ry)()))!==null&&ge!==void 0?ge:[]];if(!Le)return{};for(let Ke=0;Ke<Le.length;Ke++)Le[Ke].position=Ke+1;const ke={};return Le.filter(Ke=>!(0,k.VA)()&&Ke.teamId!==this.teamId||!Ke.primaryView?!1:(0,R.A)(Ke.primaryView)).forEach(Ke=>{if(Ke.primaryView&&!(Ke.primaryView in ke)){var Ne;ke[Ke.primaryView]={ts:Ke.ts/1e3,position:(Ne=Ke==null?void 0:Ke.position)!==null&&Ne!==void 0?Ne:-1}}}),ke}prepSuggestions(ve,ge){var Le,ke,Ke,Ne;const Re=(0,J._Z)(ve,"fe_search_context_aware_flannel_current_channel")==="on",xe=(0,M.R)(ve),We=(0,E.L)(ve),$=(0,l.B)((0,Y.O)(this.query));if(!((Le=this.options)===null||Le===void 0)&&Le.currentChannel&&$.length<=1&&!(0,m.yz)((ke=this.options)===null||ke===void 0?void 0:ke.currentChannel)&&!(0,m.LI)((Ke=this.options)===null||Ke===void 0?void 0:Ke.currentChannel)){const Te=ge.filter(Ye=>Ye.type==="member"||(0,A.NB)(Ye.item)).map(Ye=>(Ye.item||Ye).id);(0,b.Qw)(this.teamId,(0,ce.z)({channelId:this.options.currentChannel.id,userIds:Te}))}let ee=null;if(this.teamId){var Ve;ee=(0,O.S1)({teamId:this.teamId,enterpriseId:(Ve=this.enterpriseId)!==null&&Ve!==void 0?Ve:void 0}).getStaleWhileRevalidate()}const ze=ge.length,st=(0,w.WR)(ve),Ge=(0,se.cA)(ve),be=(0,D.dQ)(Ge),Se=(Ne=this.options)===null||Ne===void 0?void 0:Ne.currentChannel,we=this.getHistoryChannels(ve),Ce={};return ge.forEach(Te=>{const Ye=Te.item;(Te.type==="mpim"||(0,m.yz)(Te.item))&&((0,f.Ug)(Ye)||[]).forEach(Pe=>{if(Pe!==st){const ye=Ce[Pe]||{itemCount:0,hitCount:0,membershipCount:0},He=(0,f._V)(ve,Ye),Qe=He?parseFloat(He):void 0,dt=(0,Q.b5)(ve,Ye.id),Ot=dt?parseFloat(dt):void 0;Qe&&(ye.lastReadTs?ye.lastReadTs=Math.max(ye.lastReadTs,Qe):ye.lastReadTs=Qe),Ot&&(ye.latestMsgTs?ye.latestMsgTs=Math.max(ye.latestMsgTs,Ot):ye.latestMsgTs=Ot),ye.hitCount+=(Te==null?void 0:Te.hitCount)||0,ye.itemCount+=(Te==null?void 0:Te.itemCount)||0,ye.membershipCount+=1,Ce[Pe]=ye}})}),ge.map(Te=>{const Ye=Te.item||Te,De={...Te,query:this.query,normalizedQuery:$,id:Ye.id,suggestionType:H.fd.UNKNOWN,numResults:ze};if(Te.type==="member"||(0,A.NB)(Te.item)){var Pe,ye,He,Qe;const Rt=Ye.id&&(0,G.Pu)(ve,Ye.id),rn=Ye.id&&ee&&ee.getUserDmChannelMetadata(Ye.id);De.remoteImMetadata=rn;const nn=Ye.id&&ee&&ee.getUserMpdmChannelMetadata(Ye.id);if(De.remoteMpimMetadata=nn,De.im=Rt,De.latestImTs=Rt&&(0,Q.b5)(ve,Rt.id),De.imHasDraft=Rt&&(0,f.yc)(ve,Rt.id),De.imIsStarred=Rt&&(0,f.m2)(ve,Rt),De.name=(0,C.Gt)(Te.item),De.lastReadImTs=(0,f._V)(ve,Rt),De.lastReadRemoteImMetadataTs=rn==null?void 0:rn.last_read_abs,De.lastReadRemoteMpimMetadataTs=nn==null?void 0:nn.last_read_abs,De.remoteMpimMembershipCount=nn==null?void 0:nn.membership_count,this.enterpriseId&&this.enterpriseId===((Pe=Te.item)===null||Pe===void 0?void 0:Pe.enterprise_id)){const ft=(0,X.kN)(ve)||[],wt=(0,X.E$)(ve),Jt=Te.item.enterprise_user.teams||[],sn=(0,s.A)(ft,Jt);De.isMemberOfSearcherDefaultTeam=(0,o.A)(sn,wt),De.numWorkspacesIntersectingWithSearcher=(0,n.A)(sn)}if((0,D.dQ)(Te.item)===be&&(De.sameTeam=!0),Se)if((0,m.yz)(Se)){var dt,Ot;De.isMemberOfCurrentChannel=(Ot=Se==null||(dt=Se.members)===null||dt===void 0?void 0:dt.includes(Te.item.id))!==null&&Ot!==void 0?Ot:!1}else(0,m.LI)(Se)||(De.isMemberOfCurrentChannel=(0,Z.B)(ve,Ye,Se));!((ye=this.options)===null||ye===void 0)&&ye.currentThreadUsers&&(De.isMemberOfCurrentThread=this.options.currentThreadUsers.includes(Ye.id)),De.priority=(0,f.dh)(ve,Rt),De.suggestionType=H.fd.USER_NAVIGATION,De.isNavigational=!0,De.historyTs=Rt&&((He=we[Rt.id])===null||He===void 0?void 0:He.ts),De.historyPosition=Rt&&((Qe=we[Rt.id])===null||Qe===void 0?void 0:Qe.position);const tt=Ce[Ye.id];tt&&(De.mpimFeatures=tt)}else De.name=Ye.name||Ye.string;if(Te.type==="channel"||(0,m.jq)(Te.item)){var yt,Dt;De.suggestionType=H.fd.CHANNEL_NAVIGATION,De.isNavigational=!0,De.isChannelMember=(0,m.rW)(Ye)&&!(0,v.F)(Ye)&&(0,p.bl)(Ye),De.hasDraft=(0,f.yc)(ve,Ye.id),De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"channel"),De.historyTs=(yt=we[Ye.id])===null||yt===void 0?void 0:yt.ts,De.historyPosition=(Dt=we[Ye.id])===null||Dt===void 0?void 0:Dt.position,De.latestTs=xe?(0,Q.U1)(ve,Ye.id):(0,Q.b5)(ve,Ye.id),De.lastReadTs=(0,f._V)(ve,Ye),De.priority=(0,f.dh)(ve,Ye),De.isStarred=(0,f.m2)(ve,Ye)}if(Te.type==="mpim"||(0,m.yz)(Te.item)){var Ct,kt;De.suggestionType=H.fd.MPIM_NAVIGATION,De.isNavigational=!0;const Rt=(0,f.Ug)(Ye)||[],rn=De.normalizedQuery.split(" ");De.mpimNumOtherMembersEqualsNumQueryWords=(0,n.A)(rn)===(0,n.A)(Rt)-1;const nn=Rt.map(sn=>(0,se.nv)(ve,sn));if((0,n.A)(De.normalizedQuery)>0){const sn=_(nt=>{const Lt=(0,c.A)(nn.map(Bt=>{if((0,A.fy)(Bt))return null;const Yt=Bt==null?void 0:Bt.real_name;return Yt&&nt.filter(Sn=>Sn.length>1).some(Sn=>Yt.toLowerCase().startsWith(Sn.toLowerCase()))?Yt:null}));return(0,n.A)(Lt)===(0,n.A)(Rt)-1},"allOtherMembersHavePrefixMatch"),z=De.normalizedQuery.split(" ").map(nt=>nt.trim()).filter(nt=>(0,n.A)(nt)>0),Me=z.reduce((nt,Lt,Bt,Yt)=>(Bt%2===0&&(Bt===Yt.length-1?nt.push(Lt):nt.push(`${Lt} ${Yt[Bt+1]}`)),nt),[]),Be=De.normalizedQuery.split(",").map(nt=>nt.trim()).filter(nt=>(0,n.A)(nt)>0);De.allOtherMemberNamesHavePrefixMatch=sn(z)||sn(Me)||sn(Be)}De.isMpimWithDeactivatedMember=(0,i.A)(nn,sn=>(0,A.oy)(sn)||(0,A.eJ)(sn)),De.isMpimWithOnlyInternalMembers=(0,r.A)(nn,sn=>!(0,I.g)(sn)),De.hasDraft=(0,f.yc)(ve,Ye.id),De.name=(0,f.Oi)(ve,Te.item),De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"mpim"),De.historyTs=(Ct=we[Ye.id])===null||Ct===void 0?void 0:Ct.ts,De.historyPosition=(kt=we[Ye.id])===null||kt===void 0?void 0:kt.position,De.priority=(0,f.dh)(ve,Ye),De.maxLastReadTsOfAllMembers=null,De.maxLatestMsgTsOfAllMembers=null;let at=0,tt=0,ft=0,wt=0,Jt=0;nn.forEach(sn=>{if(sn.id!==st){const Be=sn.id?(0,G.Pu)(ve,sn.id):void 0,nt=Be&&(0,f._V)(ve,Be),Lt=sn.id&&ee&&ee.getUserDmChannelMetadata(sn.id),Bt=Lt&&Lt.last_read_abs/1e6,Yt=Be||Lt,on=nt?parseFloat(nt):Bt;if(Yt){if(Jt+=1,on){ft+=1;var z;De.maxLastReadTsOfAllMembers=Math.max((z=De.maxLastReadTsOfAllMembers)!==null&&z!==void 0?z:-1/0,on),at+=on}const An=(0,Q.b5)(ve,Be==null?void 0:Be.id),Sn=Be&&An?parseFloat(An):void 0;if(Sn){wt+=1;var Me;De.maxLatestMsgTsOfAllMembers=Math.max((Me=De.maxLatestMsgTsOfAllMembers)!==null&&Me!==void 0?Me:-1/0,Sn),tt+=Sn}}}}),De.avgLastReadTsOfAllMembers=at===0?null:at/ft,De.avgLatestMsgTsOfAllMembers=tt===0?null:tt/wt,De.pctNonEmptyDmsForAllMembers=ft/(nn.length-1)*100,De.pctNonNullDmsForAllMembers=Jt/(nn.length-1)*100,We&&(De.membersForEscapeHatchQuery=nn)}if(Te.type==="team"&&(De.suggestionType=H.fd.TEAM_NAVIGATION,De.isNavigational=!0),Te.type==="view"&&(De.suggestionType=H.fd.VIEW_NAVIGATION,De.isNavigational=!0),Te.type==="appAction"&&(De.suggestionType=H.fd.APP_ACTION,De.isAction=!0,De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"appAction")),Te.type==="app"&&(De.suggestionType=H.fd.APP,De.isApp=!0),Te.type==="emoji"&&(De.name=De.emojiBestNameMatch,De.suggestionType=H.fd.EMOJI,De.isNavigational=!0,De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"emoji")),Te.type==="slashCommand"){var vt;De.suggestionType=H.fd.SLASH_COMMAND,De.isApp=!0,De.name=(vt=De.name)===null||vt===void 0?void 0:vt.substring(1),De.firstWordOfRawQuery&&(De.query=De.firstWordOfRawQuery,De.normalizedQuery=De.firstWordOfRawQuery),De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"slashCommand")}if(Te.type==="globalAction"&&(De.suggestionType=H.fd.GLOBAL_ACTION,De.isApp=!0,De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"globalAction")),Te.type==="quipShortcutCommand"&&(De.suggestionType=H.fd.QUIP_SHORTCUT),Te.type==="canvasAiSuggestion"&&(De.suggestionType=H.fd.CANVAS_AI_SUGGESTION),Te.type==="channelAction"&&(De.suggestionType=H.fd.CHANNEL_ACTION,De.isApp=!0,De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"channelAction")),Te.type==="workflowTrigger"&&(De.suggestionType=H.fd.WORKFLOW_TRIGGER,De.isApp=!0,De.offlineFeatures=ee&&ee.getFeatures(Te.item.id,"workflowTrigger")),Te.type==="file"){De.suggestionType=H.fd.FILE_NAVIGATION,De.isNavigational=!0,De.fileSuggestionsFromSearcher=!0;const Rt=De.item;De.id=Rt.id,De.fileId=Rt.id,De.logId=Rt.id,De.fileType=Rt.highlight_type||Rt.filetype,De.name=Rt.title,De.fileTypeDescription=Rt.is_external?(0,d.A)(Rt):Rt.pretty_type,De.fileTypeDescription==="Arugula"&&(De.fileTypeDescription=Ee.t("Post")),De.fromCurrentUser=Rt.user===st;const rn=Rt.user&&(0,G.Pu)(ve,Rt.user),nn=Rt.user&&ee&&ee.getUserDmChannelMetadata(Rt.user);if(De.hasNonNullDmsWithCreator=rn!==null,De.hasNonNullLocalOrRemoteDmsWithCreator=rn!==null||nn!==null,De.lastReadTs=Rt.last_read,Rt.shares){const tt=Rt.shares.public&&Math.max(...Object.values(Rt.shares.public).flatMap(wt=>wt.map(Jt=>Jt.ts?parseFloat(Jt.ts):-1/0))),ft=Rt.shares.private&&Math.max(...Object.values(Rt.shares.private).flatMap(wt=>wt.map(Jt=>Jt.ts?parseFloat(Jt.ts):-1/0)));tt&&ft?De.latestShareTs=tt>ft?tt:ft:De.latestShareTs=tt||ft}const at=T(Rt);if(at&&(De.latestActionTs=at),ee){const tt=Rt.channels&&Array.isArray(Rt.channels)&&Rt.channels.length&&Math.max(...Rt.channels.map(wt=>ee.getFeatures(wt,"channel").user_ctr_30dd)),ft=Rt.groups&&Array.isArray(Rt.groups)&&Rt.groups.length&&Math.max(...Rt.groups.map(wt=>ee.getFeatures(wt,"mpim").user_ctr_30dd));tt>0&&ft>0?De.fileChannelCtr=Math.max(tt,ft):tt>0?De.fileChannelCtr=tt:ft>0&&(De.fileChannelCtr=ft),Rt.user?De.fileUserCtr=ee.getFeatures(Rt.user,"member").user_ctr_30dd:De.fileUserCtr=ee.getEntityCtr("member")}}if(Te.type==="link"&&(De.suggestionType=H.fd.LINK_NAVIGATION,De.isNavigational=!0,De.name=Te.item.title||Te.item.url),Te.type==="modal"&&(De.suggestionType=H.fd.MODAL_NAVIGATION,De.name=Te.item.name),Te.type==="queryHistory"&&(De.suggestionType=H.fd.QUERY_HISTORY,De.is_type_query_history=!0,De.id=(0,P.B)(Te.id||Te.name||Te.string),De.logId=De.id,De.exact_string=Te.string),Te.type==="query"||Te.type==="queryUser"||Te.type==="queryHistory"){var Nt,It,At;if(De.is_type_query_completion=!0,De.lastSuggestionToken=!De.suggestionTokenList||De.suggestionTokenList.length<1?null:De.suggestionTokenList[De.suggestionTokenList.length-1],Re&&De.suggestionTokenList){var Zt,jt;let at=!1;for(const ft of De.suggestionTokenList)if((ft==null?void 0:ft.type)===H.S6.FILTER_IN){at=!0;break}if(Se)if((0,m.yz)(Se)){var Ht,Pt;De.isMemberOfCurrentChannel=(Pt=Se==null||(Ht=Se.members)===null||Ht===void 0?void 0:Ht.includes(Te.item.id))!==null&&Pt!==void 0?Pt:!1}else(0,m.LI)(Se)||(De.isMemberOfCurrentChannel=(0,Z.B)(ve,Ye,Se));const tt=(((Zt=De.lastSuggestionToken)===null||Zt===void 0?void 0:Zt.type)===H.S6.FILTER_FROM||((jt=De.lastSuggestionToken)===null||jt===void 0?void 0:jt.type)===H.S6.FILTER_WITH)&&at;De.isMemberFilterAndHasPreviousChannelFilter=tt}De.frecencyScore=De.lastSuggestionToken&&De.lastSuggestionToken._frecencyScore,De.scoringContext=((Nt=De.lastSuggestionToken)===null||Nt===void 0?void 0:Nt._scoringContext)||{},De.lastTokenMemberOrNull=null,De.lastTokenChannelOrNull=null;const Rt=De.lastSuggestionToken&&(De.lastSuggestionToken.type===H.S6.FILTER_FROM||De.lastSuggestionToken.type===H.S6.FILTER_TO||De.lastSuggestionToken.type===H.S6.FILTER_WITH),rn=De.lastSuggestionToken&&De.lastSuggestionToken.type===H.S6.FILTER_IN;if(!((It=De.lastSuggestionToken)===null||It===void 0)&&It._id&&(De.lastTokenMemberOrNull=Rt&&(0,se.nv)(ve,De.lastSuggestionToken._id),De.lastTokenChannelOrNull=rn&&((0,G.OL)(ve,De.lastSuggestionToken._id)||(0,G.Pu)(ve,De.lastSuggestionToken._id)),De.priority=De.lastTokenChannelOrNull?(0,f.dh)(ve,De.lastTokenChannelOrNull):void 0),De.lastSuggestionToken&&De.lastSuggestionToken._name&&(De.lastTokenMemberOrNull||(De.lastTokenMemberOrNull=Rt&&(0,se.H6)(ve,De.lastSuggestionToken._name)),De.lastTokenChannelOrNull||(De.lastTokenChannelOrNull=rn&&(0,G.Os)(ve,De.lastSuggestionToken._name))),(0,u.GU)(De.lastTokenMemberOrNull)&&(De.lastTokenMemberOrNull=null),De.lastTokenMemberName=(0,C.Gt)(De.lastTokenMemberOrNull)||void 0,(0,u.GU)(De.lastTokenChannelOrNull))De.lastTokenChannelOrNull=null;else{const at=(0,f._V)(ve,De.lastTokenChannelOrNull);De.lastTokenChannelLastRead=at?parseFloat(at):void 0,De.lastTokenChannelIsStarred=(0,f.m2)(ve,De.lastTokenChannelOrNull)}De.lastTokenChannelName=(0,h.SB)(ve,De.lastTokenChannelOrNull)||void 0,De.lastTokenIm=De.lastTokenMemberOrNull&&De.lastTokenMemberOrNull.id?(0,G.Pu)(ve,De.lastTokenMemberOrNull.id):void 0,De.lastTokenImLatest=(0,Q.b5)(ve,(At=De.lastTokenIm)===null||At===void 0?void 0:At.id);const nn=(0,f._V)(ve,De.lastTokenIm);nn&&(De.lastTokenImLastRead=nn?parseFloat(nn):void 0),De.lastTokenIm&&(De.priority=(0,f.dh)(ve,De.lastTokenIm)),De.lastTokenImIsStarred=(0,f.m2)(ve,De.lastTokenIm)}if(Te.type==="query"&&(De.suggestionType=H.fd.QUERY),Te.type==="queryUser"&&(De.suggestionType=H.fd.QUERY_USER),Te.type==="queryConvoSearch"&&(De.suggestionType=H.fd.QUERY_CONVO_SEARCH),Te.type==="queryHistory"&&(De.suggestionType=H.fd.QUERY_HISTORY),Te.type==="querySalesforce"&&(De.suggestionType=H.fd.QUERY_SALESFORCE),Te.type==="query"||Te.type==="queryUser"||Te.type==="queryConvoSearch"||Te.type==="queryHistory"||Te.type==="querySalesforce"){var Ft;De.normalizedQuery=(0,l.B)((0,Y.O)(De.query)),De.logId=((Ft=De.lastSuggestionToken)===null||Ft===void 0?void 0:Ft.logId)||"";var En;De.name=((En=De.suggestionTokenList)!==null&&En!==void 0?En:[]).map(Rt=>Rt.toString()).join(" ")}return Te.type==="quickMessage"&&(De.isNavigational=!0,De.suggestionType=H.fd.MESSAGE_NAVIGATION),De.entityTypeCtr=ee?ee.getEntityCtr(Te.type):void 0,De})}extractFeatures(ve,ge){ge.forEach(Le=>{var ke;const Ke=(0,ie.Tv)(Le,(ke=this.options)===null||ke===void 0?void 0:ke.source);this.featureVectors[Le.id]=Ke})}selectModelForScoring(){return this.model}scoreItems(ve,ge){var Le;const ke={source:(Le=this.options)===null||Le===void 0?void 0:Le.source},Ke=this.selectModelForScoring();return ge.map(Ne=>{var Re;const xe=this.featureVectors[Ne.id],We=Ke.score(xe,ke);let $;return!((Re=this.options)===null||Re===void 0)&&Re.explain&&($=Ke.explain(xe,ke)),{...Ne,modelScore:We,featureVectorRaw:xe,explain:$}})}sortByScore(ve){var ge,Le;return ve.sort((ke,Ke)=>((ge=Ke==null?void 0:Ke.modelScore)!==null&&ge!==void 0?ge:0)-((Le=ke==null?void 0:ke.modelScore)!==null&&Le!==void 0?Le:0))}constructor({query:ve,options:ge={},teamId:Le=null,enterpriseId:ke=null}){this.query=ve,this.options=ge;let Ke=ge.model;Ke===void 0&&(Ke=de);var Ne;const Re=this.getModel(Ke,Le||ke,(Ne=this.options.modelLocal)!==null&&Ne!==void 0?Ne:!1);this.model=Re.model,this.teamId=Le,this.enterpriseId=ke,this.featureVectors={}}},"Sorter")},4291335534:(N,g,e)=>{"use strict";e.d(g,{Og:()=>n,Pc:()=>s,dx:()=>c,fN:()=>o});var t=e(9219415264);function s(i){const r=(0,t.A)(i);return r&&r.toLowerCase()}_(s,"normalizeName");function o(i,r){const a=s(i.replace(/^[@\uFF20]/,"")),l=s(r.replace(/^[@\uFF20]/,"")),d=a==null?void 0:a.split(/[ ._]/),u=l==null?void 0:l.split(/[ \-._]/);if(!d||!u)return!1;for(let f=0;f<d.length;f++)if(d[f].split(/[-]/)[0]===u[0])return!0;return!1}_(o,"isNameMatchGoodEnoughForRealMention");function n(i,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return s(i)===s(r.substr(a,i.length))}_(n,"isNameSubstrMatch");function c(i,r){if(!i)return null;for(let a=0;a<i.length;a++){const l=i[a];if(l.name===r||l.ms_name===r||(0,t.A)(l.name)===r)return l}return null}_(c,"getBroadcastMatch")},2332798892:(N,g,e)=>{"use strict";e.d(g,{A:()=>l});var t=e(1703559452),s=e(7174777686),o=e(9219415264),n=e(3212336858);const c=["`","\xB4","\u02C6","\xA8","\u02DC"],i=new RegExp(`[${c.join("")}]$`);function r(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(i,"")}_(r,"trim_trailing_composition_char");const a={COMPOSITION_CHARS:c};function l(d,u){let{allowPartialMatches:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!u||!d)return!1;let m=u.toLowerCase().replace(/^\uFF0F/,"/");m=(0,o.A)(m),m=r(m);const h=[(0,n.fK)(d),(0,n.Bs)(d),...(0,n.qc)(d)||[]];return(0,t.A)(h,v=>{const p=(0,o.A)(v);return f?(0,s.A)(p,m):p===m})}_(l,"is_match_for_command")},475074488:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>i,lr:()=>r,nf:()=>a});var t=e(6313685253),s=e(4178261413),o=e(5797466484),n=e(9746734072),c=e(8840779375);function i(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,t.A)(d,(u,f,m)=>({...u,[(0,s.A)(m)]:f}),{})}_(i,"snakeCaseKeys");const r=5;function a(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2?arguments[2]:void 0;return l(d,u,f)}_(a,"snakeCaseKeysDeep");function l(d){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=arguments.length>2?arguments[2]:void 0;var m;if(!(0,o.A)(d)&&!(0,n.A)(d)||u>((m=f==null?void 0:f.maxDepth)!==null&&m!==void 0?m:r)||!d)return d;const h=u+1;let v={};return(0,n.A)(d)?(0,n.A)(d)&&(v=(0,c.A)(d,p=>a(p,h,f))):v=(0,t.A)(d,(p,T,A)=>{var C;const I=!(f==null||(C=f.ignoredKeys)===null||C===void 0)&&C.includes(A)?A:(0,s.A)(A);return{...p,[I]:a(T,h,f)}},{}),v}_(l,"snakeCaseKeysDeepPrivate")},8664881451:(N,g,e)=>{"use strict";e.d(g,{Dd:()=>p,Rj:()=>A,TQ:()=>T,ZH:()=>h,_$:()=>f,ds:()=>v});var t=e(6998663753),s=e(1917379822),o=e(4094753332),n=e(337319621);const c={},i={},r={},a=(0,n.Wo)({label:"SOUND-PLAYBACK"});function l(C){return`${C}-repeat`}_(l,"createRepeatKey");const d="default";let u=!1;const f=(0,t.A)(C=>{a.info(`Setting sound playback to prefer OS default sink: ${C}`),u=C}),m=_(async function(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;try{if(!C||!("setSinkId"in C)||(0,o.gm)())return;let D=d;u?D=I?(0,s._o)():d:D=(0,s._o)(),a.info(`Setting sound playback sink id to ${D}`),await C.setSinkId(D)}catch(D){a.warn(`Failed to set sink id with reason: ${D}`)}},"maybeSetAudioSinkId"),h=_(async function(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!C)return null;const D=p(C)||T(C);D.loop=!!I.loop,D.currentTime=0;var y;D.volume=(y=I.volume)!==null&&y!==void 0?y:1,await m(D,!!I.useSlackPreferredSink);try{await D.play()}catch(P){a.warn(`Failed to play sound: ${C} with reason: ${P}`)}},"play");function v(C){let{logFailure:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const D=p(C),y=l(C),P=p(y);if(!D&&!P){I&&a.warn(`Tried to stop sound, but no sound was playing matching url: ${C}. Available cached element urls are ${Object.keys(c).join(", ")}`);return}if(P){P.pause(),clearTimeout(r[y]),i[y]=0;const E=P.src;P.src="",P.src=E}if(D){D.pause();const E=D.src;D.src="",D.src=E}}_(v,"stop");function p(C){return c[C]}_(p,"getAudioElement");function T(C){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const D=new Audio(C);I.ended&&D.addEventListener("ended",I.ended);const y=I.customCacheKey||C;return c[y]=D,D}_(T,"createAudioElement");function A(C,I,D){if(!C||!I||!D)return;const y=p(C);y&&y.removeEventListener(I,D)}_(A,"removeAudioElementListener")},6013332081:(N,g,e)=>{"use strict";e.d(g,{C8:()=>r,CE:()=>a,ND:()=>l,R$:()=>d,VN:()=>A,Xq:()=>T,zz:()=>u});var t=e(4459152581),s=e(2508519639),o=e(9907843289),n=e(2384837025),c=e(9157930672);function i(C,I){const D=(0,c.q)(C);if(D){for(const y of D.namedInputs)if(y.parameter===I)return y.value}}_(i,"extractNamedInput");function r(C){return i(C,"timezone")}_(r,"extractLocalizedTimezone");function a(C){const I=i(C,"locale");return(0,o.YI)(I)?I:void 0}_(a,"extractLocale");function l(C){return C?!!(0,c.q)(C):!1}_(l,"isIdWrappedWithMacro");function d(C){let{type:I,arrayItemType:D,id:y}=C;return I?!!u({type:I,arrayItemType:D,variableId:y}):!1}_(d,"isTypeMacroSupported");function u(C){let{type:I,callbackId:D,fromRichText:y,arrayItemType:P,variableId:E,parameterType:M}=C;var S,R;if(!((S=n.ss[I])===null||S===void 0)&&S.call(n.ss,{})){const W=n.ss[I]({parameterType:M});return f({options:W,callbackId:D,fromRichText:y})}if(I===s.TE.Array&&P){var k;const W=(k=n.Wy[P])===null||k===void 0?void 0:k.call(n.Wy);return f({options:W,callbackId:D,fromRichText:y})}if(I===s.TE.String){var O,U;return(U=m(E))!==null&&U!==void 0?U:(O=n.ss[I])===null||O===void 0?void 0:O.call(n.ss,{parameterType:M})}return(R=n.ss[I])===null||R===void 0?void 0:R.call(n.ss,{parameterType:M})}_(u,"getMacroOptions");function f(C){let{options:I,callbackId:D,fromRichText:y}=C;if(!D)return I;const P=Object.entries(I??{}).filter(E=>{let[,M]=E;const{macroDetails:S,onlyRichTextAllowed:R,disallowedCallbackIds:k,allowedCallbackIds:O}=M;return!y&&(S==null?void 0:S.outputParameter.type)==="slack#/types/blocks"||R&&!y?!1:k?!k.includes(D):O?O.includes(D):!0});return Object.fromEntries(P)}_(f,"filterMacroOptions");function m(C){if(C!=null&&C.includes("__reaction"))return n.ss[s.sR.CustomTypeEmojiReaction]({})}_(m,"getMacroOptionsFromId");function h(C,I){if(C!=null&&C.includes("__reaction"))return n.T$[s.sR.CustomTypeEmojiReaction](I)}_(h,"getDefaultMacroFromId");function v(C,I){let{type:D,variableId:y}=C;var P,E;return(E=h(y,I))!==null&&E!==void 0?E:(P=n.T$[D])===null||P===void 0?void 0:P.call(n.T$,I)}_(v,"getDefaultMacro");function p(C,I,D,y){var P,E,M,S;if(C&&(!((P=n.fU[C])===null||P===void 0||(E=P[D])===null||E===void 0)&&E.call(P,y)))return n.fU[C][D](y);if(I&&(!((M=n.fU[I])===null||M===void 0||(S=M[D])===null||S===void 0)&&S.call(M,y)))return n.fU[I][D](y)}_(p,"getDefaultMacroForStepOrApp");function T(C,I){const D=A(C,I);return D?{...C,id:D}:C}_(T,"applyDefaultMacroForVariable");function A(C,I){const{id:D,type:y,items:P,sourceSubtype:E}=C,M=P&&P.type,R=y===s.TE.Array&&M?M:y;var k;const O=(k=p(I==null?void 0:I.stepId,I==null?void 0:I.appId,R,{isReactionTriggerInsideGsheetStep:E===t.$.ReactionAdded&&(I==null?void 0:I.appId)===n.xM,parameterType:I==null?void 0:I.parameterType}))!==null&&k!==void 0?k:v({type:R,variableId:D},{parameterType:I==null?void 0:I.parameterType});if(O){var U;const W=(U=u({type:y,arrayItemType:M,callbackId:I==null?void 0:I.callbackId,variableId:D,fromRichText:I==null?void 0:I.fromRichText,parameterType:I==null?void 0:I.parameterType}))===null||U===void 0?void 0:U[O];if(W)return W.wrapWithMacro(D,I)}}_(A,"wrapIdWithDefaultMacro")},4244114639:(N,g,e)=>{"use strict";e.d(g,{A:()=>L});var t=e(4711108074),s=e.n(t),o=e(6717607339),n=e(6217320234),c=e(6313685253),i=e(8786006583),r=e(1699044291),a=e(2774532222),l=e(1022424641),d=e(8283510982),u=e(2048590538),f=e(9283953805);function m(b,F){for(let B=0;B<b.length;B++){const K=b[B];K==="`"||K==="\uFF40"||K.match(/\s/)||K.match(">")||K.match("\uFF1E")?F.delete(1):F.retain(1)}return F}_(m,"deleteBackticksAndWhitespace");function h(b,F){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const H=b&&b.ops;if(!H)return[new(s()),K];let Y=new(s()),Z=!1;const V=(0,f.A)(H),ne=V.match(u.qv)||V.match(u.K),q=V.match(/```|\uFF40\uFF40\uFF40/);ne!=null&&ne[0]&&((ne==null?void 0:ne.index)||0)<((q==null?void 0:q.index)||0)?Z=!0:K=!1;let me="";F&&F.ops&&(me=(0,f.A)(F.ops));const ue=[];[d.u_,d.Xr].forEach(fe=>{V.replace(fe,(he,ie,X,j,w)=>{if(!X||!X.length)return;const Q=V[w+he.length],G=Q&&Q.match(/\s/)?`${j}${Q}`:j;ue.push({phraseToFormatPrefix:ie,phraseToFormat:X,phraseToFormatSuffix:G,matchOffset:w,backTicksStart:w+ie.length-3,backTicksEnd:w+ie.length+X.length+3})})});const ae=(0,n.A)(ue,"matchOffset"),le=(0,c.A)(ae,(fe,he)=>{const ie=(0,i.A)(fe);return(!ie||ie.backTicksEnd<=he.backTicksStart)&&fe.push(he),fe},[]);return(0,r.A)(le).forEach((fe,he)=>{let{phraseToFormatPrefix:ie,phraseToFormat:X,phraseToFormatSuffix:j,matchOffset:w}=fe,Q=new(s());Q.retain(w);const J=u.zd.test(ie)||Z||K?1:void 0,te=(0,a.A)(ie,`
`);te?(Q.retain(1),Q=m(ie.substring(1),Q)):Q=m(ie,Q),!te&&(w>0||me&&!(0,l.A)(me,`
`))&&Q.insert(`
`);const se=le[he+1];se&&w===se.backTicksEnd&&Q.insert(`
`);const ce=X.split(`
`);if(ce.forEach((Ee,de)=>{if(Q.retain(Ee.length),de===0&&Ee.length===0)Q.delete(1);else if(de!==ce.length-1){const re={"code-block":!0};J&&(re.border=J),Q.retain(1,re)}}),(0,i.A)(ce)!==""){const Ee={"code-block":!0};J&&(Ee.border=J),Q.insert(`
`,Ee)}m(j,Q),Y=Y.compose(Q)}),[Y,K]}_(h,"buildMarkdownChangeDeltaForCodeBlocks");var v=e(8571983633),p=e(8389327410),T=e(7582939986);const A=["*","-"];function C(b){return A.includes(b)?p.L1.BULLET:b.match(d.X$)?p.L1.ORDERED:""}_(C,"determineListTypeFromListSymbol");const I=4;function D(b,F){let B=F;const K=b&&b.ops;if(!K)return[new(s()),B];let H=new(s()),Y=-1,Z="",V=0,ne=!1,q={};const me=(0,f.A)(K),ue=[...me.matchAll(d.u_)],ae=[],le=me.match(u.qv)||me.match(u.K);le!=null&&le[0]&&(ne=!0,B=!0);const fe=d.Dk.test(me);return me.replace(d.AY,(ie,X,j,w,Q,G,J,te)=>{const se=te,ce=se+X.length+j.length+w.length+Q.length,Ee=C(w);if((ue||[]).some(Ne=>te>((Ne==null?void 0:Ne.index)||0)&&ce+G.length<=((Ne==null?void 0:Ne.index)||0)+Ne[0].length))return;let re=j.length?Math.floor(j.length/I):0;re=Math.min(T.Az-1,re);const _e=me.substring(me.indexOf(ie)),ve=me.substring(me.indexOf(ie)-2,me.indexOf(ie));if(Ee===p.L1.ORDERED){if(!fe||re===0&&q[re]===void 0&&w===d.v0&&!d.IK.test(_e))return;if(/\n\n/.test(ve)&&w!==d.v0){q={};return}if((0,v.A)(q[re])&&w!==d.v0)return}let ge={list:Ee||!1,indent:re,border:void 0};(X.length||ne)&&(!le||te>((le==null?void 0:le.index)||0))&&(ge={...ge,border:1});const Le=V+Z.length===te,ke=Y!==-1&&Y<re;(!Le||ke)&&(q[re]=0),Y!==-1&&Le&&re!==Y&&q[re]>0&&(ge={...ge,offset:q[re]}),(0,v.A)(q[re])&&(q[re]=0),q[re]+=1,Y=re,Z=ie,V=te;const Ke=new(s());J?Ke.retain(te).retain(ie.length-1).retain(1,ge):Ke.retain(te).retain(ie.length).insert(`
`,ge),H=H.compose(Ke);for(let Ne=se;Ne<ce;Ne++)ae.push(Ne)}),ae.sort((ie,X)=>X-ie).forEach(ie=>{H=H.compose(new(s())().retain(ie).delete(1))}),[H,B]}_(D,"buildMarkdownChangeDeltaForLists");var y=e(9113979368),P=e(1703559452),E=e(8088280230),M=e(4584833195),S=e(9189262068),R=e(9592753406),k=e(7732872146);const O="mailto:";function U(b,F){const{protocol:B,pathname:K}=(0,k.Ay)(F);return B===O&&K===b?!0:b===F}_(U,"isValidLinkForMrkdwn");const W={link:[d.p7],bold:[d.wq,d.H_],italic:[d.dc,d.QX],code:[d.q6,d.j5],strike:[d.d9]};function x(b){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!b||!b.ops)return[new(s()),K];let H="";F&&F.ops&&(H=(0,f.A)(F.ops));let Y=new(s()),Z=0;const V=[],ne={},q=[];if(b.eachLine((ae,le)=>{q.push({line:ae,attributes:le})}),!q.length)return[Y,K];let me=!1;return q.forEach(function(ae){let{line:le,attributes:fe}=ae,he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var ie,X,j,w,Q;const G=le&&le.ops;let J=!1,te=!1,se=(0,f.A)(G);if((0,R.Zz)(fe))me=!1;else if(me){if(J=!0,se.match(u.zd)&&!(se.match(u.qv)||se.match(u.K))){var ce;te=!0;const We=((ce=se.match(u.zd))===null||ce===void 0?void 0:ce[0])||"";for(let $=0;$<We.length;$++)V.push(Z+$);se=se.substring(We.length),Z+=We.length}}else if(he!==0||!H||(0,l.A)(H,`
`)){const We=se.match(u.qv)||se.match(u.K),$=se.match(u.zd),ee=We||$;if(he===0&&$&&($==null?void 0:$.index)===0&&(($==null?void 0:$.input)===">"||($==null?void 0:$.input)==="\uFF1E"||($==null?void 0:$.input)==="> "||($==null?void 0:$.input)==="\uFF1E "))return;if(!We&&K&&$&&(te=!0),ee){J=!0;const Ve=ee[0];for(let st=0;st<Ve.length;st++)V.push(Z+st);if(se=se.substring(Ve.length),Z+=Ve.length,We&&(me=!0,K||(K=!0),se==="")){const st=new(s())().retain(Z+se.length);st.delete(1),Y=Y.compose(st);return}const ze=se.match(u.zd);if(ze){te=!0;const st=ze[0];for(let Ge=0;Ge<st.length;Ge++)V.push(Z+Ge);se=se.substring(st.length),Z+=st.length}}}const Ee=q[he-1],de=q[he+1],re=q[he],_e=(Ee==null||(ie=Ee.attributes)===null||ie===void 0?void 0:ie.border)||0,ve=(de==null||(X=de.attributes)===null||X===void 0?void 0:X.border)||0;if((_e>=1&&ve>=1||_e>=1&&u.zd.test(de==null||(j=de.line)===null||j===void 0||(w=j.ops)===null||w===void 0||(Q=w[0])===null||Q===void 0?void 0:Q.insert)&&K)&&(se!=null&&se.length)&&(0,y.A)(re==null?void 0:re.attributes)&&(J=!0),_e>=1&&(0,y.A)(re==null?void 0:re.attributes)&&de!==q[q.length-1]&&K&&(J=!0),J){const xe=te?1:void 0,We=new(s())().retain(Z+se.length),$={blockquote:!0};xe&&($.border=xe),!(0,S.A)(b)&&he===q.length-1?We.insert(`
`,$):We.retain(1,$),Y=Y.compose(We)}const ge=fe["code-block"],{code:Le,...ke}=W,Ke=[["code",Le],...Object.entries(ke)],Ne=[],Re=[];Ke.forEach(xe=>{let[We,$]=xe;$.forEach(ee=>{if(!(!se||ge)){if(We==="link"){se.replace(ee,(Ve,ze,st,Ge)=>{const be=Z+Ge,Se=be+Ve.length;if((0,P.A)(Ne,yt=>{let{codeStart:Dt,codeEnd:Ct}=yt;const kt=be>=Dt&&be<=Ct,vt=Se>=Dt&&Se<=Ct;return kt||vt}))return;const Ce=(0,M.w)(Ve),Te=(0,M.w)(st),Ye=(0,E.A)({input:Te,ignorePhoneMatches:!1,ignoreEmailMatches:!1,includePhoneMatchesWithTelPrefix:!0}),De=Ye.length===1&&U(Ye[0].text,Te);if(Ye.length===0||!De)return;const Pe=Z+Ge+1,ye=ze.length,He=Pe+ze.length,Qe=Z+Ge+Ce.length,dt=Ye[0].url,Ot=new(s())().retain(Pe).retain(ye,{link:dt});Y=Y.compose(Ot),V.push(Pe-1);for(let yt=He;yt<Qe;yt++)V.push(yt);Re.push({linkStart:Pe,linkEnd:Qe}),ne[We]=!0});return}se.replace(ee,(Ve,ze,st,Ge)=>{const be=Z+Ge+ze.length,Se=st.length,we=be+Se;if((0,P.A)(Re,Ye=>{let{linkStart:De,linkEnd:Pe}=Ye;return be>=De&&we<=Pe})||We==="italic"&&st==="(\u30C4)")return;if(We==="code")Ne.push({codeStart:be,codeEnd:we});else if((0,P.A)(Ne,De=>{let{codeStart:Pe,codeEnd:ye}=De;const He=be>=Pe&&be<=ye,Qe=we>=Pe&&we<=ye;return He||Qe}))return;const Te=new(s())().retain(be).retain(Se,{[We]:!0});Y=Y.compose(Te),V.push(be-1),V.push(be+Se),ne[We]=!0})}})}),Z+=(se?se.length:0)+1}),V.sort((ae,le)=>le-ae).forEach(ae=>{Y=Y.compose(new(s())().retain(ae).delete(1))}),[Y,K]}_(x,"buildMarkdownChangeDeltaForSingleLineFormatting");function L(b){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,K=!1;if(!b||!b.ops)return new(s());const H=B;let Y=new(s()),Z=new(s());if(H){const[he,ie]=D(b,K);Y=he,K=ie,Z=b.compose(Y)}const[V,ne]=h(H?Z:b,F||new(s()),K);K=ne;const q=b.compose(V),me=H?Z.compose(V):q,[ue,ae]=x(me,F,K);K=ae;const le=H?Y.compose(V).compose(ue):V.compose(ue),fe=(0,o.A)(b.compose(le));return le.compose(fe)}_(L,"buildMarkdownChangeDelta")},512148710:(N,g,e)=>{"use strict";e.d(g,{Fh:()=>n,Hm:()=>i,Nb:()=>s,Sf:()=>o,z1:()=>c});var t=e(8668318456);const s=[".",",",";",":","?","!","]",")","*","_","~",">"],o=(()=>{const r=s.map(a=>`\\${a}`).join("");return new RegExp(`[${r}]$`)})(),n=[".",",",";",":","?","!","[","(","*","_","~","<"],c=[["(",")"],["[","]"],["<",">"]],i={bold:t.MsgFormattingInputFormat.BOLD,italic:t.MsgFormattingInputFormat.ITALIC,strike:t.MsgFormattingInputFormat.STRIKE,code:t.MsgFormattingInputFormat.CODE,underline:t.MsgFormattingInputFormat.UNDERLINE,link:t.MsgFormattingInputFormat.LINK,"bullet-list":t.MsgFormattingInputFormat.BULLET_LIST,"ordered-list":t.MsgFormattingInputFormat.ORDERED_LIST,"check-list":t.MsgFormattingInputFormat.CHECK_LIST,"code-block":t.MsgFormattingInputFormat.CODE_BLOCK,blockquote:t.MsgFormattingInputFormat.BLOCKQUOTE,h1:t.MsgFormattingInputFormat.H1,h2:t.MsgFormattingInputFormat.H2,hr:t.MsgFormattingInputFormat.HR}},5143598415:(N,g,e)=>{"use strict";e.d(g,{T:()=>L,A:()=>Z});var t=e(9816084745),s=e(8571983633),o=e(3783303734),n=e(9686962598),c=e(9746734072),i=e(897091071),r=e(3078252698),a=e(8891672792),l=e(4711108074),d=e.n(l),u=e(8389327410),f=e(2647703359),m=e(4897863105),h=e(4921059838),v=e(9936232041),p=e(8405695339),T=e(9189262068),A=e(4029059089),C=e(3183335528),I=e(9017940688),D=e(2827252833);function y(j){return!!(j&&j.attributes&&j.attributes.header)}_(y,"isOpHeader");var P=e(5701872082),E=e(308057085),M=e(5591756507),S=e(117342833),R=e(3904348617),k=e(796745801),O=e(3829348308),U=e(937317117);const W=/(^|\S)( +)(\n)/gm,x=/(^|\s|\{|\[|\(|>|<|\*|_|\/|"|\u201C|\u2018|'|,)#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,L=/^[0-9a-fA-F]{6}$/,{SECTION:b,LIST:F,PREFORMATTED:B,QUOTE:K,HEADER:H,DIVIDER:Y}=u.Lv;function Z(){let{delta:j,options:{convertEmpty:w=!1,trimEndingWhitespace:Q=!1,trimStartingWhitespace:G=!0,expandTruncatedLinks:J=!1,useExpandedRichText:te=!1}={},state:se}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!j||!se)return[];const ce=(0,k.A)({delta:j,trimEnd:Q,trimStart:G});if((0,T.A)(ce)||ce.insert(`
`),ce.length()<=1&&!w)return[];let Ee=[],de=new(d()),re=b;return(0,p.A)(ce,(_e,ve)=>{const ge=V(_e,ve);ge!==re&&(Ee=ne(Ee,re,de,se,{stripTrailingWhitespace:!1,expandTruncatedLinks:J}),re=ge,de=new(d())),_e.insert&&de.insert(_e.insert,_e.attributes)}),Ee=ne(Ee,re,de,se,{stripTrailingWhitespace:!0,expandTruncatedLinks:J}),{blocks:[{type:te?"expanded_rich_text":"rich_text",elements:Ee}]}}_(Z,"convertDeltaToBlocks");function V(j,w){return(0,I.A)(w)?B:(0,A.A)(w)?K:(0,M.A)(w)?F:y(w)?H:(0,P.A)(j)?Y:b}_(V,"getElementType");function ne(j,w,Q,G){let J=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{stripTrailingWhitespace:!1,expandTruncatedLinks:!1};if(Q.ops.length<=0)return j;let te=[];if(w===F)te=[],te=q(Q,G,{expandTruncatedLinks:J.expandTruncatedLinks});else if(w===B){te=[];const se=Q.filter(Ee=>(0,I.A)(Ee)),ce=(se==null?void 0:se.length)>0&&(0,t.A)(se,Ee=>{var de;return((Ee==null||(de=Ee.attributes)===null||de===void 0?void 0:de.border)||0)>=1});te.push({type:B,border:ce?1:0,elements:ue(Q,G,{...J,preformattedStyle:!0,stripTrailingWhitespace:!0})})}else if(w===K){te=[];const se=Q.filter(ce=>{var Ee;return(0,A.A)(ce)&&((ce==null||(Ee=ce.attributes)===null||Ee===void 0?void 0:Ee.border)||0)>=1});(se==null?void 0:se.length)>0?Q.eachLine((ce,Ee)=>{te.push({type:K,border:Ee!=null&&Ee.border?Ee.border:void 0,elements:ue(ce,G,{...J,preformattedStyle:!1,stripTrailingWhitespace:!0})})}):te.push({type:K,elements:ue(Q,G,{...J,preformattedStyle:!1,stripTrailingWhitespace:!0})})}else w===H?te=me(Q,G):w===Y?(te=[],te.push({type:Y})):(te=[],te.push({type:w,elements:ue(Q,G,{...J,preformattedStyle:!1})}));return j.concat(te)}_(ne,"addDeltaToElements");function q(j,w){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{expandTruncatedLinks:!1};const G=[];let J=null,te=null,se=null,ce={},Ee=[];j.eachLine((re,_e)=>{if(J===null&&(J=_e.list),te===null&&(te=_e.indent||0),se===null&&(se=_e.border||0),(0,s.A)(ce[te])&&(ce[te]=0),J!==_e.list||te!==(_e.indent||0)){const ve={type:F,style:J||"bullet",indent:te,border:se,elements:Ee.map(ge=>({type:b,elements:ge}))};J==="ordered"&&ce[te]>0&&(ve.offset=ce[te]),G.push(ve),_e.list!==u.L1.ORDERED&&_e.list!==u.L1.BULLET&&_e.list!==u.L1.CHECKED&&_e.list!==u.L1.UNCHECKED?ce={}:(te<(_e.indent||0)&&_e.list===u.L1.ORDERED&&(ce[_e.indent||0]=0),J===u.L1.ORDERED&&(ce[te]=(ce[te]||0)+(0,o.A)(Ee))),J=_e.list,te=_e.indent||0,se=_e.border||0,Ee=[]}Ee.push(ue(new(d())(re),w,{stripTrailingWhitespace:!1,preformattedStyle:!1,...Q}))});const de={type:F,style:J||"bullet",indent:te||0,border:se||0,elements:Ee.map(re=>({type:b,elements:re}))};return J==="ordered"&&!(0,n.A)(te)&&ce[te]>0&&(de.offset=ce[te]),G.push(de),G}_(q,"processDeltaAsList");function me(j,w){const Q=[];let G=null,J=[],te=0;j.eachLine((ce,Ee)=>{if(G===null&&(G=Ee.header),G!==Ee.header||te>0&&(Ee!=null&&Ee.header)){const de={type:H,level:G||1,elements:J};Q.push(de),J=[],G=Ee.header}J=ue(new(d())(ce),w,{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1}),te+=1});const se={type:H,level:G||1,elements:J};return Q.push(se),Q}_(me,"processDeltaAsHeader");function ue(j,w){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{stripTrailingWhitespace:!1,preformattedStyle:!1,expandTruncatedLinks:!1};const G=j.ops[j.ops.length-1];let J=j;Q.stripTrailingWhitespace&&(G==null?void 0:G.insert)===`
`&&(J=new(d())(j.ops.slice(0,j.ops.length-1)));let te=[];return J.forEach(se=>{let ce;if((0,D.Ay)(se)?ce=he(se,w,{preformattedStyle:Q.preformattedStyle}):(0,S.Ay)(se)&&!(0,S.zJ)(se)&&!(0,S.gC)(se)?ce=X(se,w,{preformattedStyle:Q.preformattedStyle}):(0,E.Ay)(se)?ce=fe(se,{preformattedStyle:Q.preformattedStyle,expandTruncatedLinks:Q.expandTruncatedLinks}):(0,R.Ay)(se)?ce=ie(se):ce=le(se,{stripTrailingWhitespace:!!(Q.stripTrailingWhitespace&&se===G),preformattedStyle:Q.preformattedStyle,skipConversions:!1}),!ce)return;const Ee=te.length&&te[te.length-1],de=(0,c.A)(ce)?ce.shift():ce;de&&de.type==="text"&&!de.style&&Ee&&Ee.type==="text"&&!Ee.style?te[te.length-1].text=`${te[te.length-1].text}${de.text}`:de&&te.push(de),(0,c.A)(ce)&&ce.length&&(te=te.concat(ce))}),(0,i.A)(te)}_(ue,"createRichTextChunkElements");function ae(j,w){const Q={};return w.attributes&&(w.attributes.bold&&(Q.bold=!0),w.attributes.italic&&(Q.italic=!0),w.attributes.strike&&(Q.strike=!0),w.attributes.code&&(Q.code=!0),w.attributes.unlink&&!(0,S.Ay)(w)&&!(0,D.Ay)(w)&&(Q.unlink=!0)),{...j,...(0,o.A)(Q)&&{style:Q}}}_(ae,"annotateChunkWithStyle");function le(j){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!1},Q=(0,r.A)(j.insert)?j.insert:"";if(w.stripTrailingWhitespace&&(Q=(0,a.A)(Q)),w.preformattedStyle||(Q=Q.replace(W,"$1$3")),!Q)return;const G=!w.skipConversions&&!w.preformattedStyle&&!(j.attributes&&j.attributes.code),J={type:"text",text:Q},te=w.preformattedStyle?J:ae(J,j);if(G){const se=[];if(Q.replace(x,(de,re,_e,ve)=>{const ge=(0,a.A)(_e,"_-.\u2026");if(ge.match(L)){const Le=ve+re.length;se.push({start:Le,end:Le+ge.length+1,color:`#${ge.toUpperCase()}`})}}),!se.length)return te;const ce=[];let Ee=0;return se.forEach(de=>{Ee<de.start&&ce.push({type:"text",text:Q.slice(Ee,de.start)}),ce.push({type:"color",value:de.color}),Ee=de.end}),Ee<Q.length&&ce.push({type:"text",text:Q.slice(Ee)}),ce.map(de=>ae(de,j))}return te}_(le,"createTextChunkFromOp");function fe(j){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1,expandTruncatedLinks:!1};var Q,G;const J={type:"link",url:((Q=j.attributes)===null||Q===void 0?void 0:Q.link)||""};return(0,r.A)(j.insert)&&j.insert!==((G=j.attributes)===null||G===void 0?void 0:G.link)&&!(w.expandTruncatedLinks&&(0,E.uK)(j))&&(J.text=j.insert),w.preformattedStyle?J:ae(J,j)}_(fe,"createLinkChunkFromOp");function he(j,w){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,C.A)(j))return le({insert:(0,D.Um)(j)},{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const G=(0,D.Um)(j),J={type:"emoji",name:""};if(w&&(0,h.A)(w,G)){var te;const{name:ce="",unicode:Ee=""}=(te=(0,O.i8)(w,G))!==null&&te!==void 0?te:{},[de]=ce.split("::")||[];J.name=de,J.unicode=Ee}else{var se;const{skinTone:ce="",name:Ee=""}=(se=(0,v.A)(G))!==null&&se!==void 0?se:{};J.name=Ee,ce&&(J.skin_tone=+ce)}if(!(!J.name&&!J.unicode))return J&&ae(J,j)}_(he,"createEmojiChunkFromOp");function ie(j){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{preformattedStyle:!1};const Q={type:"workflowtoken",id:(0,R.PJ)(j),data_type:(0,R.sR)(j),property:(0,R.Lp)(j)};return(w==null?void 0:w.preformattedStyle)===!0?Q:ae(Q,j)}_(ie,"createWorkflowTokenChunkFromOp");function X(j,w){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:{preformattedStyle:!1}).preformattedStyle||(0,C.A)(j))return le(j,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0});const G=(0,S.I4)(j),J=(0,S.zv)(j);let te;if((0,m.c)().includes(G))te=ae({type:"broadcast",range:G.substr(2)},j);else if(G.charAt(0)==="S")te=ae({type:"usergroup",usergroup_id:G},j);else if((0,S.BQ)(j))te=ae({type:"channel",channel_id:G},j);else if((0,S.KT)(j)){const se=(0,U.Lp)(w,G);se&&(0,f.l7)(se)?te=ae({type:"list_record",file_id:G},j):te=ae({type:"file",file_id:G},j)}else te=ae({type:"user",user_id:G},j);if((0,r.A)(j.insert)&&j.insert.length>J.length){const se=j.insert.split(J);return se.length>1?(se.shift(),se.fill(te)):[te]}return J===j.insert?[te]:le(j,{stripTrailingWhitespace:!1,preformattedStyle:!1,skipConversions:!0})}_(X,"createMentionChunksFromOp")},8405695339:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s,o){s.eachLine((n,c)=>{n.insert(`
`,c);const i={insert:`
`,attributes:c};n.forEach(r=>{o(r,i)})})}_(t,"deltaForEachWithLineData")},1089076149:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(8841789548);function s(o,n,c){return(0,t.A)(o?o.ops:[]).substr(n,c)}_(s,"getDeltaSubStr")},8967399401:(N,g,e)=>{"use strict";e.d(g,{A:()=>c});var t=e(6696292586),s=e(8405695339),o=e(3726677001);const c=_((i,r)=>{if(!i||!(0,t.A)(r))return null;let a=0,l;return(0,s.A)(i,(d,u)=>{if(l)return;const f=a+(0,o.A)(d);if(r>=a&&r<f){const m=d.attributes||{},h=u.attributes||{};l={...m,...h}}a=f}),l},"getFormatAtIndex")},3726677001:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(3078252698),s=e(4200148118);function o(n){return n?(0,s.A)(n)?1:(0,t.A)(n.insert)?n.insert.length:1:0}_(o,"getOpLength")},8841789548:(N,g,e)=>{"use strict";e.d(g,{A:()=>i});var t=e(6313685253),s=e(3078252698),o=e(3183335528),n=e(4200148118),c=e(308057085);function i(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r)return"";const l=a.embedReplacement||" ";return(0,t.A)(r,(u,f)=>{if((0,n.A)(f))return`${u}${l}`;if(a.replaceLinks&&(0,c.Ay)(f)||a.replaceCode&&(0,o.A)(f)){const m=(0,s.A)(f.insert)?f.insert.length:0,h=Array.apply(null,Array(m+1)).join(l);return`${u}${h}`}return u+f.insert},"")}_(i,"getTextFromOps")},9592753406:(N,g,e)=>{"use strict";e.d(g,{Fr:()=>c,G$:()=>n,Zz:()=>o});var t=e(1703559452),s=e(3867135795);function o(i){if(!i)return!1;const r=["code-block","blockquote","list"];return(0,t.A)(r,l=>(0,s.A)(i,l))}_(o,"doesAttributesContainBlockFormatting");function n(i){if(!i)return!1;const{insert:r,attributes:a}=i;return r!==`
`||!a?!1:o(a)}_(n,"isOpOnlyBlockFormatting");function c(i){if(!i)return!1;const r=i.ops;if(!r||r.length!==1)return!1;const a=i.ops[0];return a?n(a):!1}_(c,"isDeltaOnlyBlockFormatting")},5939082889:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){return!s||!s.ops?!0:!(s.ops.length>0)}_(t,"isDeltaEmpty")},1615300784:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(8088280230),s=e(308057085);function o(n){let{userDidDelete:c,userDidInsertSpace:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{userDidDelete:void 0,userDidInsertSpace:void 0};var r;if(!(0,s.Ay)(n))return!1;const a=(n==null||(r=n.attributes)===null||r===void 0?void 0:r.link)||"",l=(0,s.AQ)(n),d=a==null?void 0:a.match(/^(https?:\/\/)(.+)/);if(!d)return!1;const u=d[2].split(".");if((c||i)&&u.length===2&&u[0]===n.insert)return!1;const f=`${d[1]}${n.insert}`;if(!c&&!i&&f.length>((a==null?void 0:a.length)||0)&&f.substr(0,a==null?void 0:a.length)===a)return!0;const m=a==null?void 0:a.substr((l==null?void 0:l.length)*-1),h=a==null?void 0:a.substr(0,f.length);if(c&&(h===f||m===n.insert&&!(0,t.A)({input:f}).length))return!0;if(i){const v=l==null?void 0:l.split(" ");if(v.length===1||v.length===2){const p=`${d[1]}${v[0]}`,T=v[1]||"";if(p.length+T.length<=((a==null?void 0:a.length)||0)&&(a==null?void 0:a.substr(0,p.length))===p&&(a.substr(T.length*-1)===T||T.length===0))return!0}}return!1}_(o,"isOpBrokenAutolink")},3183335528:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){return!!(s&&s.insert&&s.attributes&&s.attributes.code)}_(t,"isOpCode")},4200148118:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(2827252833),s=e(5701872082),o=e(3904348617);function n(c){return!!((0,t.Ay)(c)||(0,o.Ay)(c)||(0,s.A)(c))}_(n,"isOpEmbed")},5701872082:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(3078252698);function s(o){var n;return!!(o&&(o!=null&&o.insert)&&!(0,t.A)(o.insert)&&(!(o==null||(n=o.insert)===null||n===void 0)&&n.slackhorizontalrule))}_(s,"isOpHorizontalRule")},9935649141:(N,g,e)=>{"use strict";e.d(g,{Ay:()=>W,L2:()=>U});var t=e(2208015175),s=e(8086952004),o=e(235108050),n=e(1649982175),c=e(9113979368),i=e(4711108074),r=e.n(i),a=e(8088280230),l=e(512148710),d=e(8405695339),u=e(5354964300),f=e(3726677001),m=e(8841789548),h=e(9189262068),v=e(1615300784),p=e(9017940688),T=e(4200148118),A=e(308057085),C=e(117342833),I=e(4547907890);function D(x){var L;return!!(!(x==null||(L=x.attributes)===null||L===void 0)&&L.unlink)}_(D,"isOpUnlink");var y=e(4332759902);const P=/https?:\/\/.*\.(fbcdn|cdninstagram|twimg)\.(net|com)\/.*(\.|=)(jpe?g|gif|png|svg|bmp)/,E=null,M=_(x=>x&&(P.test(x)?x:x.split("?")[0]),"sanitizeImageUrlWithParams"),S=_(x=>{const L=M(x);return L?/(\.|=)(jpe?g|gif|png|svg|bmp)/.test(L):!1},"isImageUrl"),R=_(x=>{if(x){for(let L=0;L<E.length;L++)if(x.indexOf(E[L])>=0)return!0}return!1},"isImageFromDeniedDomains"),k=_(function(x){let{ignoreExistingLinks:L,limitCodeBlockLinksToFullURLs:b,ignoreUnbalancedParentheses:F=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!x)return new(r());const B=(0,h.A)(x),K=new(r());return(0,d.A)(x,(H,Y)=>{const Z=(0,p.A)(Y);if(!(0,I.A)(H)||L&&(0,A.Ay)(H)||D(H)||(0,A.uK)(H)){K.insert(H.insert||"",{...H.attributes});return}const V=(0,u.A)(H),ne=b&&Z,q=(0,a.A)({input:V,ignorePhoneMatches:ne,ignoreEmailMatches:ne,ignoreLinksWithoutHttp:ne,ignoreUnbalancedParentheses:!!F});if(!q.length){K.insert(H.insert||"",{...H.attributes});return}let me=0;const ue=H&&H.attributes;if((0,t.A)(q,ae=>{const{url:le,text:fe,offset:he}=ae||{};he>me&&(K.insert(V.slice(me,he),ue),me=he),!(!le||!fe)&&(K.insert(fe,{...ue,link:le}),me=he+fe.length)}),me<V.length&&me>=0){const ae=V.slice(me);K.insert(ae,ue)}}),B?K:(0,y.A)(K)},"linkifyDeltaText"),O=_((x,L,b)=>{const F=L+(0,f.A)(x);return(0,s.A)(b,B=>{if(B.text===x.insert)return!1;const K=B.offset,H=B.offset+B.text.length;return K>=L&&K<=F||H<=L&&H<=F||K<L&&H<=F})},"isOpInRangeOfMatches"),U=_(x=>{if(!x)return new(r());const L=(0,o.A)(l.Fh.concat(l.Nb)),b=(0,m.A)(x.ops,{replaceLinks:!1,replaceCode:!0,embedReplacement:" "}),F=(0,a.A)({input:b});let B=0;const K=x.map(Y=>{const Z=B,V=(0,f.A)(Y);let ne=!1;if(B+=V,!(0,A.Ay)(Y))return Y;if((0,T.A)(Y)||(0,C.Ay)(Y))return{...Y,attributes:{...(0,n.A)(Y.attributes,"link")}};if((0,A.uK)(Y))return Y;O(Y,Z,F)&&(ne=!0);const q=Z===0?" ":b.substr(Z-1,1),me=q.match(/^\s$/)||L.includes(q),ue=Z+V===b.length?" ":b.substr(Z+V,1),ae=L.includes(ue)||ue.match(/^\s$/);if(!ne&&(!me||!ae)){var le;const fe=(0,u.A)(Y),he=!ne&&(0,a.A)({input:fe});he&&he.length===1&&he[0].url===((le=Y.attributes)===null||le===void 0?void 0:le.link)&&(ne=!0)}if(!ne&&(0,v.A)(Y)&&(ne=!0),ne){const fe={insert:Y.insert},he={...Y.attributes};return delete he.link,(0,c.A)(he)||(fe.attributes=he),fe}return Y}),H=new(r())().compose(new(r())(K));return k(H)},"relinkifyDeltaTextWhileRetainingExistingLinks"),W=k},6717607339:(N,g,e)=>{"use strict";e.d(g,{A:()=>C});var t=e(8840779375),s=e(9087248458),o=e(4103274853),n=e(7156798807),c=e(4711108074),i=e.n(c),r=e(8405695339),a=e(3726677001),l=e(3183335528),d=e(9017940688),u=e(2827252833),f=e(308057085),m=e(117342833),h=e(3904348617),v=e(3078252698),p=e(2547625647),T=e(6013332081);function A(I){if(!(0,h.Ay)(I))return!1;const{type:D,property:y,id:P}=I.insert.workflowtoken;if((0,v.A)(I.insert))return!1;if(D===p.GA)return!0;if(D===p.sD)return y===p.yG||y===p.tj;if(D==="string")return!0;const E=(0,T.zz)({type:D,variableId:P});if(E)for(const R of Object.values(E)){var M,S;if(((M=R.macroDetails)===null||M===void 0||(S=M.outputParameter)===null||S===void 0?void 0:S.type)==="string")return!0}return!1}_(A,"isOpWorkflowTokenForText");function C(I){let{removeEmbedsFromCode:D=!0,stripAllInlineFormatting:y=!1,stripInlineFormattingFromCodeBlock:P=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!I)return new(i());if(D&&P&&!y&&!I.ops.some(M=>(0,l.A)(M)||(0,d.A)(M)))return new(i())().retain(I.length());const E=new(i());return(0,r.A)(I,(M,S)=>{const R=(0,a.A)(M),k=(0,l.A)(M)||(0,d.A)(S);if(D&&k||y){let O={...M.attributes};if((0,d.A)(S)&&(O={}),(0,u.Ay)(M)){E.delete(1).insert((0,u.Um)(M),{...O});return}if((0,m.Ay)(M)){delete O.slackmention,E.delete((0,m._z)(M).length).insert((0,m._z)(M),{...O});return}if((0,f.Ay)(M)){delete O.link,E.delete((0,f.AQ)(M).length).insert((0,f.AQ)(M),{...O});return}if((0,h.Ay)(M)&&!A(M)){E.delete(1);return}}if((0,d.A)(S)&&P||y){const O=["bold","italic","strike","code","underline","slackmention","unlink"],U=(0,t.A)(M.attributes||{},(x,L)=>({key:L,value:x})).filter(x=>!!x.value).map(x=>x.key),W=(0,s.A)(O,U);E.retain(R,(0,o.A)((0,n.A)(W,x=>x),()=>!1));return}R&&E.retain(R)}),E}_(C,"stripFormattingFromDelta")},4332759902:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(8786006583),s=e(9592753406);function o(n){if(!n||n.length()===0)return n;const c=n.slice(n.length()-1);if(!c)return n;const i=(0,t.A)(c.ops)||{};return!i||(i==null?void 0:i.insert)!==`
`||(0,s.G$)(i)?n:n.slice(0,n.length()-1)}_(o,"stripTrailingNewline")},796745801:(N,g,e)=>{"use strict";e.d(g,{A:()=>p,Z:()=>v});var t=e(498506970),s=e(8825197919),o=e(8289365785),n=e(2749086681),c=e(8786006583),i=e(4711108074),r=e.n(i),a=e(8967399401),l=e(9592753406),d=e(5939082889),u=e(4547907890);const f=/^\s+$/,m=/^\s+/,h=/\s+$/;function v(){let{ops:T,trimStart:A=!0,trimEnd:C=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!T||!T.length||!A&&!C)return T;let I=(0,t.A)(T);if(A){I=(0,s.A)(I,P=>(0,u.A)(P)&&((0,u.$)(P).match(f)||P.insert==="")&&!(0,l.Zz)(P.attributes||{}));const D=(0,o.A)(I)||{},y=(0,a.A)(new(r())(I),0);if((0,u.A)(D||{})&&!(0,l.Zz)(y||{})){const P=(0,u.$)(D).replace(m,()=>"");D.insert=P}}if(C){I=(0,n.A)(I,y=>(0,u.A)(y)&&((0,u.$)(y).match(f)||y.insert==="")&&!(0,l.Zz)(y.attributes||{}));const D=(0,c.A)(I)||{};if((0,u.A)(D)&&!(0,l.Zz)(D.attributes||{})){const y=(0,u.$)(D).replace(h,()=>"");D.insert=y}}return I}_(v,"trimOps");function p(){let{delta:T,trimStart:A=!0,trimEnd:C=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(T&&(0,d.A)(T))return T;const I=T==null?void 0:T.ops,D=v({ops:I,trimStart:A,trimEnd:C});return new(r())(D)}_(p,"trimDelta")},4504227813:(N,g,e)=>{"use strict";e.d(g,{A:()=>d});var t=e(1699044291),s=e(4711108074),o=e.n(s),n=e(3726677001),c=e(4200148118),i=e(2827252833),r=e(8283510982),a=e(9283953805);function l(u){const f=u&&u.ops;if(!f)return[];const m=(0,a.A)(f),h=[];return m.replace(r.u_,(v,p,T,A,C)=>{h.push({index:C+p.length,length:T?T.length:0})}),h}_(l,"findMarkdownCodeBlockRanges");function d(u){if(!(u&&u.ops))return new(o());let m=new(o());const h=l(u);return(0,t.A)(h).forEach(v=>{let{index:p,length:T}=v;const A=new(o());A.retain(p),u.slice(p,p+T).forEach(C=>{(0,c.A)(C)?(A.delete(1),(0,i.Ay)(C)&&A.insert((0,i.Um)(C))):A.retain((0,n.A)(C),{bold:!1,italic:!1,strike:!1,code:!1,underline:!1,slackmention:!1,link:!1,unlink:!1})}),m=m.compose(A)}),m}_(d,"buildChangeDeltaToFixEmbedsInTripleBackticks")},2048590538:(N,g,e)=>{"use strict";e.d(g,{K:()=>c,Ru:()=>s,hJ:()=>o,qv:()=>n,zd:()=>i});var t=e(8283510982);const s={"*":"bold",_:"italic","`":"code","~":"strike",">":"blockquote","\uFF0A":"bold","\uFF40":"code","\uFF3F":"italic","\uFF1E":"blockquote"},o={"*":t.wq,_:t.dc,"`":t.q6,"~":t.d9,"\uFF0A":t.H_,"\uFF40":t.j5,"\uFF3F":t.QX},n=/^>>> ?/m,c=/^\uFF1E\uFF1E\uFF1E ?/m,i=/^[>\uFF1E]($| |(?=[^_]))/},9283953805:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(8841789548),s=e(8283510982);function o(n){const c=!(0,t.A)(n).match(s.zI);return(0,t.A)(n,{replaceLinks:c,replaceCode:!0,embedReplacement:"!"})}_(o,"getTextForRegex")},2414816894:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(4897863105);function s(o){return(0,t.c)().indexOf(o)!==-1}_(s,"mentionIdIsKeyword")},5003409852:(N,g,e)=>{"use strict";e.d(g,{A:()=>t});function t(s){return s==="UNVERIFIED"}_(t,"mentionIdIsUnverified")},5619542846:(N,g,e)=>{"use strict";e.d(g,{A:()=>n});var t=e(3803027235),s=e.n(t);const o={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function n(c){return c&&c.replace(/&#?[a-z0-9]+;/gi,i=>{if(o[i])return o[i];if(i.match(/^&#x[0-9a-f]+;$/i)){const r=i.substring(3,i.length-1),a=parseInt(r,16);return String.fromCodePoint(a)}if(i.match(/^&#[0-9]+;$/)){const r=i.substring(2,i.length-1),a=parseInt(r,10);return String.fromCodePoint(a)}return i})}_(n,"unescapeEntities")},6764196364:(N,g,e)=>{"use strict";e.d(g,{A:()=>s});var t=e(7171435821);function s(){return`https://${(0,t.Xk)()}`}_(s,"getSlackRootUrl")},4252064756:(N,g,e)=>{"use strict";e.d(g,{A:()=>o,D:()=>n});var t=e(7171435821),s=e(7732872146);function o(c){return n((0,s.Ay)(c))}_(o,"isGantryUrl");function n(c){if(c.pathname==="/ssb/signin")return!1;const i=c.hostname,[r]=i.split(".");return r==="app"&&(0,t.Ed)(c)}_(n,"isGantryUrlFromUrlObject")},7383598433:(N,g,e)=>{"use strict";e.d(g,{J:()=>s});var t=e(4178531214);function s(o){return!!(0,t.ss)(o)}_(s,"isXWSUserGroupsEnabled")},7216810781:(N,g,e)=>{"use strict";e.d(g,{z:()=>f});var t=e(3134334389),s=e(4844578989),o=e.n(s),n=e(6690263587),c=e(4173072539),i=e(3694049677),r=e(2408732225),a=e(9874616273),l=e(6471059816),d=e(1318506593);const u=new l.Ay("shared_channel_invites"),f=_(m=>{let{invite:h,bottomMargin:v}=m;if(!h)return null;const{inviting_team:p,inviting_user:T,shared_workspace:A}=h,C=!!(0,d.qN)(window.location.search).is_link,I=t.createElement(r.n,{team:p,user:T,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0,allowTeamInitials:!0,isInteractive:!1,className:"margin_right_75",hideUserIcon:C}),D=t.createElement(i.A,{invitingUser:T}),y=t.createElement(c.A,{invitingTeam:p}),P=t.createElement(n.A,{id:A.id,team:A,bold:!0});return t.createElement("div",{className:o()("p-accept_slack_connect_workspace_invite_header__header_container",{margin_bottom_200:v})},t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header__header_subcontainer"},t.createElement(a.A,{width:160,height:40,className:"margin_bottom_125"}),t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header padding_0"},I,t.createElement("span",null,C?u.rt("You were invited by {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:y,sharedWorkspaceName:P}):u.rt("You were invited by <strong>{invitingUserName}</strong> from {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:y,invitingUserName:D,sharedWorkspaceName:P})))))},"AcceptSlackConnectWorkspaceHeader");f.displayName="AcceptSlackConnectWorkspaceHeader"},1073393277:(N,g,e)=>{"use strict";e.d(g,{Sp:()=>h,a5:()=>v});var t=e(1764426410),s=e(4509434386),o=e(9733150292),n=e(9323322135),c=e(4923013394),i=e(252204565),r=e(5829624088),a;(function(T){T.Container=".p-client_container_placeholder",T.Background=".p-ia4_client_container_placeholder--theme-background",T.Sidebar=".p-ia4_client_container_placeholder--sidebar",T.Content=".p-ia4_client_container_placeholder--content"})(a||(a={}));const l=260,d=60,u=70;function f(T){let{name:A,hex:C,iaTheming:I,customTheme:D}=T;const y=(0,t.zK)({hex:C,name:A}),P=(I==null?void 0:I.mode)||"light",E=(I==null?void 0:I.brightness)||s.GK,M=(0,s.XW)({mode:(0,r.Gk)(I,I==null?void 0:I.mode),primary:I==null?void 0:I.primary,highlight1:I==null?void 0:I.highlight1,brightness:E,useCustomHex:D&&(I==null?void 0:I.useCustomHex)});let S;A.includes("Primary")?S=M.primary.shade:S=M.highlight1.shade;const R=s.sC.indexOf(S);return{shade:S,value:P==="light"?y.light[R].value:y.dark[R].value}}_(f,"generateCustomHEXChromeColors");function m(T){let{iaTheming:A,customTheme:C}=T;return!A.primary.custom||!t.$V.test(A.primary.custom)?null:f({name:"bootPrimary",hex:A.primary.custom.startsWith("#")?A.primary.custom:`#${A.primary.custom}`,iaTheming:A,customTheme:C})}_(m,"getBootPrimary");function h(T){let{teamId:A}=T;const C=(0,o._z)(A,"channelSidebarBackground"),I=parseInt((0,o.W6)("viewLayoutLastSidebarWidth"),10)||l,D=(0,o._z)(A,"textColor"),y=(0,o._z)(A,"topNavBackground")||C,P=(0,o._z)(A,"topNavTextColor")||D,E=document.querySelector(".p-client_container_placeholder"),M=document.querySelector(".p-ia4_client_container_placeholder--theme-background"),S=document.querySelector(".p-ia4_client_container_placeholder--sidebar"),R=document.querySelector(".p-ia4_client_container_placeholder--content"),k=(0,o._z)(A,"iaTheming"),O=(0,o._z)(A,"customTheme"),U=(0,o._z)(A,"windowGradient"),W=(0,o._z)(A,"isCreatorInSetupFlow"),x=(0,o._z)(A,"bbmEnabled"),L=(0,o.W6)("viewLayoutIsWorkspaceSwitcherVisible"),b=L?d:0;if(E&&S&&R){if(W){v();return}if(D&&C){const K=_(Y=>{M&&(M.style.background=Y,M.style.opacity="1")},"setPlaceholderBackground");S.style.width=`${I}px`;const H=document.createElement("div");if(H.classList.add("p-ia4_client_container_placeholder--tab_rail"),R.style.left=`${b+u+I}px`,L&&(E.insertBefore(H,S),S.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),S.style.boxShadow=(k==null?void 0:k.mode)==="dark"||k!=null&&k.sidebarInverted?"-1px 0px 0px 0px rgba(255, 255, 255, 0.15)":"-1px 0px 0px 0px rgba(112, 112, 112, 0.15)",R.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),x&&(S.style.display="none",H.style.display="none",R.classList.add("p-ia4_client_container_placeholder--content--bbm")),k){let Y="rgba(255,255,255,0.9)";if(k.mode==="light"&&k.sidebarInverted&&(Y="rgba(255,255,255,0.11)"),k.mode==="dark"){var F,B;Y="rgba(16,18,20,0.6)",(B=(F=window.document)===null||F===void 0?void 0:F.querySelector("body"))===null||B===void 0||B.classList.add(s.RD)}if(S.style.backgroundColor=Y,H.style.backgroundColor=Y,R.style.backgroundColor=k.mode==="light"?"#fff":"rgb(26, 29, 33)",O&&k.useCustomHex){if(k.primary.custom){const Z="bootPrimary",V=m({iaTheming:k,customTheme:O});V&&E.style.setProperty(`--dt_color-plt-${Z}-${V.shade}`,V.value)}if(k.highlight1.custom){const Z="bootHighlight1",V=f({name:"bootHighlight1",hex:k.highlight1.custom.startsWith("#")?k.highlight1.custom:`#${k.highlight1.custom}`,iaTheming:k,customTheme:O});E.style.setProperty(`--dt_color-plt-${Z}-${V.shade}`,V.value)}}if(U){const Z=(0,s.Lp)({mode:(0,r.Gk)(k,k.mode),primary:k.primary,highlight1:k.highlight1,brightness:k.brightness,useCustomHex:O&&k.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");K(Z)}else{const Z="bootPrimary",V=m({iaTheming:k,customTheme:!!O}),ne=(0,r.Gk)(k,k.mode),q=(0,s.VS)({mode:ne,role:ne==="light-inverted-sidebar"?"highlight1":"primary",brightness:(k==null?void 0:k.brightness)||s.GK}),me=O&&k.useCustomHex&&V?`rgb(var(--dt_color-plt-${Z}-${V.shade}))`:`rgb(var(--dt_color-plt-${k.primary.palette}-${q}))`;K(me)}}else if(S.style.backgroundColor=C,y&&M){const Y=y,Z=(0,i.fl)(y,25),V=`radial-gradient(
						circle at 50% 50%,
						${Y} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${Z} 0%,
            ${Y} 25%,
            ${Z} 50%,
            ${Y} 75%,
            ${Z} 100%
          )`;K(V)}(0,c.ve)()&&y&&n.ea3.isAvailable()&&(0,n.ea3)((0,n.Xgz)(),{color:y,symbolColor:P})}}}_(h,"renderBootPlaceholder");function v(){const T=document.querySelector(".p-client_container_placeholder");T&&T.remove()}_(v,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:v},"removeBootPlaceholder",{get:()=>v,set:T=>{v=T}})},8090212505:(N,g,e)=>{"use strict";var t=e(7031360717),s=e(8749908259),o=e(2878685908),n=e(7171435821),c=e(7344959578),i=e(9104574897),r=e(7668372645),a=e(1658558415),l=e(8223354444),d=e(1535672935),u=e(7384121809);function f(Je,ct){var _t,xt,en,tn,gt,pn;const vn=(0,u.en)();if(vn.dispatch((0,d.setWorkspaceFailedToBoot)(Je)),!(ct==null||(_t=ct.data)===null||_t===void 0)&&_t.active_migration){var gn,$n;vn.dispatch((0,d.setWorkspaceIsMigrating)({teamId:Je,migrationId:ct==null||(gn=ct.data)===null||gn===void 0?void 0:gn.migration_id,canViewMigrationStatus:ct==null||($n=ct.data)===null||$n===void 0?void 0:$n.can_view_migration_status})),(0,t.R8)("BOOT",`(${Je}) Workspace boot failed due to active migration`)}if((ct==null||(xt=ct.data)===null||xt===void 0?void 0:xt.error)==="accesslimited"&&vn.dispatch((0,d.setWorkspaceIsAccessLimited)(Je)),(ct==null||(en=ct.data)===null||en===void 0?void 0:en.error)==="two_factor_setup_required"&&vn.dispatch((0,d.setWorkspaceNeeds2FASetup)(Je)),(ct==null||(tn=ct.data)===null||tn===void 0?void 0:tn.error)==="user_in_no_workspaces"&&vn.dispatch((0,d.setUserNotMemberOfAnyWorkspaceInOrg)(Je)),(ct==null||(gt=ct.data)===null||gt===void 0?void 0:gt.error)==="mobile_login_required"&&vn.dispatch((0,d.setUserRequiresMobileLogin)(Je)),(ct==null||(pn=ct.data)===null||pn===void 0?void 0:pn.error)==="user_needs_to_accept_custom_tos"){var rs;vn.dispatch((0,d.setWorkspaceNeedsToAcceptCustomTOS)({teamId:Je,url:ct==null||(rs=ct.data)===null||rs===void 0?void 0:rs.url}))}}_(f,"markTeamBootFailed");var m=e(5731337714),h=e(6188550760),v=e(9012396182);function p(Je){const ct=(0,u.en)();var _t;const xt=(_t=(0,v.getNavigateToUnbootedWorkspace)(ct.getState()))!==null&&_t!==void 0?_t:{},{bootingTeamId:en,navigateToRouteProps:tn}=xt;return en===Je?((0,h._U)((tn==null?void 0:tn.routeName)||m.o,{teamId:Je,...(tn==null?void 0:tn.params)||{}},{reason:"delayed-unbooted-team-switch",...(tn==null?void 0:tn.options)||{}}),ct.dispatch((0,d.setNavigateToUnbootedWorkspace)({})),!0):!1}_(p,"maybeNavigateToUnbootedWorkspace");function T(Je,ct){if(!Je)throw new Error("Missing team id, cannot thin boot team.");f(Je,ct),p(Je)}_(T,"thinBootTeam");var A=e(1073393277),C=e(2212859256),I=e(1044468604),D=e(6400853592);const y={[I.F9.API]:P,[I.F9.BOOT_APP]:E,[I.F9.BOOT_TEAM]:M,[I.F9.DEFAULT]:S};function P(Je,ct,_t){var xt;const en=_t==null?void 0:_t.teamId;if(window.isReloading){(0,t.pq)("BOOT",`(${en}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}I.XB[I.F9.API](Je,ct,{..._t,shouldDisplayErrorView:!1,shouldBeaconError:(Je==null||(xt=Je.data)===null||xt===void 0?void 0:xt.error)!=="user_needs_to_accept_custom_tos"}),T(en,Je),ct!=null&&ct.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,7277024924)).then(tn=>{let{renderClient:gt}=tn;(0,A.a5)(),(0,D.A)(),gt()})}_(P,"handleApiError");function E(Je,ct,_t){(0,A.a5)(),I.XB[I.F9.BOOT_APP](Je,ct,_t)}_(E,"handleBootAppError");function M(Je,ct,_t){if(_t){const{teamId:xt}=_t;(0,C.y)(xt)}(0,A.a5)(),I.XB[I.F9.BOOT_TEAM](Je,ct,_t)}_(M,"handleBootTeamError");function S(Je,ct,_t){(0,A.a5)(),I.XB[I.F9.DEFAULT](Je,ct,_t)}_(S,"handleDefaultError");const R={handleApiError:P,handleBootAppError:E,handleBootTeamError:M,handleDefaultError:S};var k=e(9113979368),O=e(1197598850),U=e(1092614768),W=e(2325478352),x=e(7530010356),L=e(337319621),b=e(2250002584),F=e(2872463257);const B="cse-api",K="cse-boot-api";async function H(Je){const{teamId:ct,userId:_t,isBootingWarm:xt}=Je,en=await xt,tn=en?"deferred-data":"initial-data";let gt=null;((0,W.EZ)()||(0,x.MA)())&&en&&(gt=await(0,U.z6)({teamId:ct,userId:_t}));const pn=O.V$.bind(null,{...Je,reason:tn,minChannelUpdated:gt});return Y(pn,{teamId:ct,userId:_t,reason:tn})}_(H,"fetchBootData");function Y(Je){let ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const _t=(0,b.F)(),xt=_t.createTrace({traceName:B,tags:ct,samplingOptions:{sampleType:F.nl.ALWAYS}});if(!(xt!=null&&xt.traceFn))return(0,L.Wo)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.userBoot data fetch."),Je();const en=_((gt,pn)=>{if((0,k.A)(pn)){const vn={state:F.$m.SUCCESS,message:"client_userBoot_empty"};gt==null||gt.addTags(vn),gt==null||gt.close(),_t.reportTrace(xt)}else _t.clearTrace(xt)},"onResolve"),tn=_((gt,pn)=>{var vn;const gn={state:F.$m.ERROR};pn!=null&&pn.status&&(gn.status=pn.status),pn!=null&&pn.message&&(gn.message=pn.message),!(pn==null||(vn=pn.data)===null||vn===void 0)&&vn.error&&(gn.reason=pn.data.error),gt==null||gt.addTags(gn),gt==null||gt.close(),_t.reportTrace(xt)},"onError");return xt.traceFn({name:K,onError:tn,onResolve:en},Je)}_(Y,"maybeTraceClientUserBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:B,CLIENT_BOOT_SPAN_LABEL:K},"fetchBootData",{get:()=>H,set:Je=>{H=Je}});var V=e(3398586081),ne=e(9733150292),q=e(4178531214);const me=(0,V.A)(ae,Je=>Je.enterpriseId);async function ue(Je){return Je.enterpriseId?me(Je):{}}_(ue,"maybeFetchEnterpriseData");async function ae(Je){const{teamId:ct,enterpriseId:_t}=Je;var xt;let en=(xt=(0,ne._z)(ct??"","enterprise_api_token"))!==null&&xt!==void 0?xt:"";if(ct&&(0,q.ZN)(ct)&&!en){var tn;en=(tn=(0,ne._z)(ct,"token"))!==null&&tn!==void 0?tn:""}const[gt,pn]=await Promise.all([(0,O.YH)(Je),(0,O.O5)({...Je,token:en})]),vn={enterprise_id:_t,page_needs_enterprise:!0,enterprise_api_token:en};return{enterpriseData:gt==null?void 0:gt.enterprise,enterprisePrefsData:pn,enterpriseBootData:vn}}_(ae,"fetchAllEnterpriseData");const le={resetMemoizedFetchEnterpriseDataCache:()=>{me.cache.clear()}};var fe=e(3914849812),he=e(4892637646),ie=e(6998663753),X=e(2028988448),j=e(4094753332),w=e(7206034624),Q=e(9706702639),G=e(6533394955),J=e(5313493085);function te(Je){let{params:ct,routeName:_t}=Je;const xt=ct.teamId||ct.teamOrEnterpriseId,{dispatch:en}=(0,G.oK)(xt);en((0,J.M)({routeName:_t,routeParams:ct}))}_(te,"channelCanvasListener");var se=e(9268451279),ce=e(2805462396),Ee=e(4386248732),de=e(7765212398),re=e(9460580631);function _e(Je){let{params:ct,prevRouteInfo:_t,prevTeamId:xt}=Je;const en=_t==null?void 0:_t.params;if(!en||en.entityId!=="composer"||!en.draftId||en.draftId===(ct==null?void 0:ct.draftId))return!0;const{dispatch:tn,getState:gt}=(0,G.oK)(xt),pn=gt(),vn=(0,Ee.di)(en.draftId);if(!vn)return!0;const gn=(0,de.YI)(pn,vn);return(0,se.v7)(gn,{trimWhitespace:!0})||(0,ce.A)(pn,gn)||tn((0,re.A)({ids:[vn],reason:"draftsListenerBefore"})),!0}_(_e,"draftsListenerBefore");var ve=e(4446301238),ge=e(3929724715),Le=e(1407713935),ke=e(8040098042),Ke=e(9101533895),Ne=e(7053828403);async function Re(Je,ct){const _t=Je.getState(),xt=(0,Ke.OL)(_t,ct,!1);return(0,Le.hc)(xt)?xt:Je.dispatch((0,ve.pX)({ids:[ct],reason:"sonic/route-listeners/ensure-channel",callSource:ve.aI.EnsureChannel})).then(en=>{if(!en)return;const{channels:tn,resolved:gt}=en;if(!(!gt||!gt.includes(ct)))return tn[0]})}_(Re,"ensureChannel");const xe=_(async Je=>{let{prevTeamId:ct,nextTeamId:_t,routeName:xt,params:en={}}=Je;const tn=(0,G.oK)(_t);if(!(0,ke.A)(en.entityId))return Promise.resolve(void 0);const gt=en.entityId;return Re(tn,gt).then(pn=>{if(pn&&!(0,ge.lo)(pn))return Promise.resolve(void 0);if(ct!==_t){const vn=(0,Ne.EI)(tn.getState(),{mainView:!0});return vn===gt?Promise.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):((0,h._U)(xt,{...en,entityId:vn},{shouldReplaceState:!0}),Promise.resolve(!1))}return pn?Promise.reject(new Error("tried to switch to a channel from another team")):Promise.resolve(!1)})},"ensure_channel");var We=e(6248475576);function $(Je){let{nextTeamId:ct,prevTeamId:_t}=Je;const{dispatch:xt}=(0,G.oK)(ct);_t!==ct&&xt((0,We.yh)({teamId:ct}))}_($,"permissionsListener");var ee=e(3614984351),Ve=e(9005797924),ze=e(4496040127);const st=_(Je=>{let{prevTeamId:ct,nextTeamId:_t}=Je;if(!(0,ze.VA)()||ct===_t||!_t)return!0;if((0,ee.A)(_t,ct))return!1;const xt=(0,u.Ry)();return(0,v.isWorkspaceExpired)(xt,_t)||(0,v.isWorkspacePendingAuth)(xt,_t)?((0,Ve.A)(_t),!1):!0},"maybe_finish_signin");var Ge=e(4992650731);const be=_(Je=>{let{prevTeamId:ct,nextTeamId:_t,routeName:xt,params:en}=Je;if((0,ze.VA)()||ct===_t)return!0;const tn=(0,h.M5)(xt,{...en,teamId:_t});if(!_t)return!0;const gt=(0,u.Ry)(),pn=(0,v.getWorkspacesMeta)(gt),vn=pn&&pn[_t]&&pn[_t].subdomain,gn=(0,ze.eb)(vn)||`_team_${_t}`;return(0,Ge.A)(tn,gn),!1},"maybe_open_other_team_in_browser");var Se=e(8959118205),we=e(3078252698),Ce=e(7679173189),Te=e(7770205178),Ye=e(9132066222),De=e(8414867410),Pe=e(5084575109),ye=e(6605261507);const He=["invitations","contacts"];function Qe(Je){return He.includes(Je)}_(Qe,"isValidViewName");var dt=e(6471801899),Ot=e(8834730594),yt=e(4588963228);const Dt=[/^people[ -~]{1,27}$/,/^contacts[ -~]{1,27}$/,/^otherContacts[ -~]{1,27}$/,/^slackUsers[ -~]{1,27}$/];function Ct(Je){return Dt.some(ct=>ct.test(Je))}_(Ct,"looksLikeContactExternalId");var kt=e(497761763),vt=e(7174777686),Nt=e(7752506476);function It(Je){return(0,vt.A)(Nt.M,Je)||Je===""}_(It,"looksLikeFlexpaneSectionId");var At=e(1233969417);const Zt=/^[\d]{13}$/;function jt(Je){return Je?Zt.test(Je):!1}_(jt,"looksLikeLastReadTs");var Ht=e(4327331459),Pt=e(6427150145),Ft=e(2960290117),En=e(8237194282),Rt=e(1826991857),rn=e(4862221402),nn=e(8305125093);const at=["received","sent"];function tt(Je){return at.includes(Je)}_(tt,"looksLikeInvitationsTabRouteParam");var ft=e(8538260492),wt=e(3468466741),Jt=e(4425811520);function sn(Je){return!!Se.as[Je]}_(sn,"isEntityRedirectKey");const z=_(Je=>Object.keys(Se.as).includes(Je),"isRedirectRoute"),Me=_(Je=>Je==="prompts","looksLikePromptRoute"),Be={entityId:Je=>(0,Ot.A)(Je)||(0,yt.A)(Je)||(0,ke.A)(Je)||(0,kt.A)(Je)||(0,Ht.A)(Je)||(0,Ce.Ay)(Je)||(0,rn.A)(Je)||(0,Pe.n)(Je)||(0,De.bd)(Je)||z(Je)||(0,Ft.Ay)(Je)||(0,Jt.xL)(Je)||Me(Je),appOrServiceId:Je=>(0,yt.A)(Je)||(0,Ot.A)(Je),timestamp:Pt.A,threadId:Rt.A,threadPageId:Rt.A,replyTs:Pt.A,sectionId:It,tabId:Je=>(0,ye.Dl)(Je),viewName:Je=>Qe(Je),listsViewName:dt.FO,draftId:Ee.ai,invitationsTabId:tt,channelId:ke.A,channelFilesId:Je=>/^files-.+/.test(Je),searchQuery:Je=>/^search-.+/.test(Je),articleId:Je=>(0,At.A)(Je),tileEntityId:Je=>(0,ke.A)(Je)||(0,Pe.n)(Je)||(0,De.bd)(Je),scTeamOrEnterpriseId:Je=>(0,Ce.Am)(Je),quipDocId:Ft.Ay,channelCanvasId:Ft.Ay,contactExternalId:Ct,itemId:wt.Ny,recordId:dt.pq,focusRecordId:dt.or,listViewId:dt._o,lastReadTs:jt,canvasOpenedFromId:Je=>(0,ke.A)(Je)||(0,Ht.A)(Je)||Je===ft.eE.QUIP_FILES,externalWorkspacePage:Te.W_,channelTabId:Ye.jK,salesforceRecordId:En.V,workflowTemplateId:nn.A,prompt:Je=>(0,we.A)(Je)},nt={[m.o]:{paths:["/"]},[Se._G]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:viewName","/:entityId/:viewName/:invitationsTabId","/:entityId/:listsViewName","/:entityId/:listsViewName/:focusRecordId","/:entityId/:listsViewName/:listViewId","/:entityId/:draftId","/:entityId/:threadPageId","/:entityId/:searchQuery","/:entityId/:channelFilesId","/:entityId/:scTeamOrEnterpriseId","/:entityId/:itemId","/:entityId/:channelCanvasId","/:entityId/:canvasOpenedFromId","/:entityId/:externalWorkspacePage","/:entityId/tabs/:channelTabId","/:entityId/:salesforceRecordId","/:entityId/:channelId/:prompt"]},[Se.lM]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:viewName/thread/:threadId","/:entityId/:viewName/:invitationsTabId/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId","/:entityId/:channelFilesId/thread/:threadId","/:entityId/:scTeamOrEnterpriseId/thread/:threadId","/:entityId/:listsViewName/thread/:threadId","/:entityId/:canvasOpenedFromId/thread/:threadId"]},[Se.w7]:{paths:["/:entityId/messages/:channelId","/:entityId/messages/:channelId/:timestamp"]},[Se.Vy]:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:viewName/channel_info","/:entityId/:viewName/:invitationsTabId/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:threadPageId/channel_info","/:entityId/:searchQuery/channel_info","/:entityId/:channelFilesId/channel_info","/:entityId/:scTeamOrEnterpriseId/channel_info","/:entityId/:listsViewName/channel_info","/:entityId/:canvasOpenedFromId/channel_info"]},[Se.o6]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[Se.p3]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:viewName/activity","/:entityId/:viewName/:invitationsTabId/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:threadPageId/activity","/:entityId/:searchQuery/activity","/:entityId/:channelFilesId/activity","/:entityId/:scTeamOrEnterpriseId/activity","/:entityId/:canvasOpenedFromId/activity"]},[Se.W2]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:viewName/starred_items","/:entityId/:viewName/:invitationsTabId/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:threadPageId/starred_items","/:entityId/:searchQuery/starred_items","/:entityId/:channelFilesId/starred_items","/:entityId/:scTeamOrEnterpriseId/starred_items","/:entityId/:listsViewName/starred_items","/:entityId/:canvasOpenedFromId/starred_items"]},[Se.ym]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:viewName/saved","/:entityId/:viewName/:invitationsTabId/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:threadPageId/saved","/:entityId/:searchQuery/saved","/:entityId/:channelFilesId/saved","/:entityId/:scTeamOrEnterpriseId/saved","/:entityId/:listsViewName/saved","/:entityId/:canvasOpenedFromId/saved"]},[Se.fr]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:viewName/appspane","/:entityId/:viewName/:invitationsTabId/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:threadPageId/appspane","/:entityId/:searchQuery/appspane","/:entityId/:channelFilesId/appspane","/:entityId/:scTeamOrEnterpriseId/appspane","/:entityId/:listsViewName/appspane","/:entityId/:canvasOpenedFromId/appspane"]},[Se.M9]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:viewName/files","/:entityId/:viewName/:invitationsTabId/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:threadPageId/files","/:entityId/:searchQuery/files","/:entityId/:channelFilesId/files","/:entityId/:scTeamOrEnterpriseId/files","/:entityId/:listsViewName/files"]},[Se.T$]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:viewName/filespane","/:entityId/:viewName/:invitationsTabId/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:threadPageId/filespane","/:entityId/:searchQuery/filespane","/:entityId/:channelFilesId/filespane","/:entityId/:scTeamOrEnterpriseId/filespane","/:entityId/:listsViewName/filespane"]},[Se.De]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:viewName/files/:fileId","/:entityId/:viewName/:invitationsTabId/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:threadPageId/files/:fileId","/:entityId/:searchQuery/files/:fileId","/:entityId/:channelFilesId/files/:fileId","/:entityId/:scTeamOrEnterpriseId/files/:fileId","/:entityId/:listsViewName/files/:fileId","/:entityId/:canvasOpenedFromId/files/:fileId"]},[Se.wA]:{paths:["/:entityId/comments/:quipDocId","/:entityId/:canvasOpenedFromId/comments/:quipDocId"]},[Se.li]:{paths:["/:entityId/history/:quipDocId","/:entityId/:canvasOpenedFromId/history/:quipDocId"]},[Se.mj]:{paths:["/:entityId/docs/:quipDocId","/:entityId/docs/:quipDocId/:lastReadTs","/:entityId/:timestamp/docs/:quipDocId","/:entityId/:viewName/docs/:quipDocId","/:entityId/:viewName/:invitationsTabId/docs/:quipDocId","/:entityId/:tabId/docs/:quipDocId","/:entityId/:draftId/docs/:quipDocId","/:entityId/:threadPageId/docs/:quipDocId","/:entityId/:searchQuery/docs/:quipDocId","/:entityId/:channelFilesId/docs/:quipDocId","/:entityId/:listsViewName/docs/:quipDocId"]},[Se.y0]:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:viewName/files/type","/:entityId/:viewName/:invitationsTabId/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:threadPageId/files/type","/:entityId/:searchQuery/files/type","/:entityId/:channelFilesId/files/type","/:entityId/:scTeamOrEnterpriseId/files/type","/:entityId/:listsViewName/files/type"]},[Se.Nh]:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:viewName/files/memberId","/:entityId/:viewName/:invitationsTabId/files/memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:threadPageId/files/:memberId","/:entityId/:searchQuery/files/:memberId","/:entityId/:channelFilesId/files/:memberId","/:entityId/:scTeamOrEnterpriseId/files/:memberId","/:entityId/:listsViewName/files/:memberId","/:entityId/:canvasOpenedFromId/files/:memberId"]},[Se.$s]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:viewName/user_groups","/:entityId/:viewName/:invitationsTabId/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:threadPageId/user_groups","/:entityId/:searchQuery/user_groups","/:entityId/:channelFilesId/user_groups","/:entityId/:scTeamOrEnterpriseId/user_groups","/:entityId/:listsViewName/user_groups","/:entityId/:canvasOpenedFromId/user_groups"]},[Se.Mu]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:viewName/user_groups/:userGroupId","/:entityId/:viewName/:invitationsTabId/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:threadPageId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId","/:entityId/:channelFilesId/user_groups/:userGroupId","/:entityId/:scTeamOrEnterpriseId/user_groups/:userGroupId","/:entityId/:listsViewName/user_groups/:userGroupId","/:entityId/:canvasOpenedFromId/user_groups/:userGroupId"]},[Se.Ns]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:viewName/whats_new","/:entityId/:viewName/:invitationsTabId/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:threadPageId/whats_new","/:entityId/:searchQuery/whats_new","/:entityId/:channelFilesId/whats_new","/:entityId/:scTeamOrEnterpriseId/whats_new","/:entityId/:listsViewName/whats_new","/:entityId/:canvasOpenedFromId/whats_new"]},[Se.IN]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:viewName/shortcuts","/:entityId/:viewName/:invitationsTabId/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:threadPageId/shortcuts","/:entityId/:searchQuery/shortcuts","/:entityId/:channelFilesId/shortcuts","/:entityId/:scTeamOrEnterpriseId/shortcuts","/:entityId/:listsViewName/shortcuts","/:entityId/:canvasOpenedFromId/shortcuts"]},[Se.Q$]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:viewName/user_profile/:memberId","/:entityId/:viewName/:invitationsTabId/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:threadPageId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId","/:entityId/:channelFilesId/user_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/user_profile/:memberId","/:entityId/:listsViewName/user_profile/:memberId","/:entityId/:canvasOpenedFromId/user_profile/:memberId"]},[Se.E2]:{paths:["/:entityId/help","/:entityId/:timestamp/help","/:entityId/:viewName/help","/:entityId/:viewName/:invitationsTabId/help","/:entityId/:tabId/help","/:entityId/:draftId/help","/:entityId/:threadPageId/help","/:entityId/:searchQuery/help","/:entityId/:channelFilesId/help","/:entityId/:scTeamOrEnterpriseId/help","/:entityId/:listsViewName/help","/:entityId/:canvasOpenedFromId/help"]},[Se.vA]:{paths:["/:entityId/help/:articleId","/:entityId/:timestamp/help/:articleId","/:entityId/:viewName/help/:articleId","/:entityId/:viewName/:invitationsTabId/help/:articleId","/:entityId/:tabId/help/:articleId","/:entityId/:draftId/help/:articleId","/:entityId/:threadPageId/help/:articleId","/:entityId/:searchQuery/help/:articleId","/:entityId/:channelFilesId/help/:articleId","/:entityId/:scTeamOrEnterpriseId/help/:articleId","/:entityId/:listsViewName/help/:articleId","/:entityId/:canvasOpenedFromId/help/:articleId"]},[Se.Dn]:{paths:["/:entityId/rimeto_profile/:memberId","/:entityId/:timestamp/rimeto_profile/:memberId","/:entityId/:viewName/rimeto_profile/:memberId","/:entityId/:viewName/:invitationsTabId/rimeto_profile/:memberId","/:entityId/:tabId/rimeto_profile/:memberId","/:entityId/:searchQuery/rimeto_profile/:memberId","/:entityId/:draftId/rimeto_profile/:memberId","/:entityId/:threadPageId/rimeto_profile/:memberId","/:entityId/:channelFilesId/rimeto_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/rimeto_profile/:memberId","/:entityId/:listsViewName/rimeto_profile/:memberId","/:entityId/:canvasOpenedFromId/rimeto_profile/:memberId"]},[Se.Ie]:{paths:["/:entityId/feedback","/:entityId/:timestamp/feedback","/:entityId/:viewName/feedback","/:entityId/:viewName/:invitationsTabId/feedback","/:entityId/:tabId/feedback","/:entityId/:draftId/feedback","/:entityId/:threadPageId/feedback","/:entityId/:searchQuery/feedback","/:entityId/:channelFilesId/feedback","/:entityId/:scTeamOrEnterpriseId/feedback","/:entityId/:listsViewName/feedback","/:entityId/:canvasOpenedFromId/feedback"]},[Se.Bh]:{paths:["/:channelId/huddle"]},[Se.Mv]:{paths:["/:entityId/huddles_captions","/:entityId/:timestamp/huddles_captions","/:entityId/:viewName/huddles_captions","/:entityId/:viewName/:invitationsTabId/huddles_captions","/:entityId/:tabId/huddles_captions","/:entityId/:draftId/huddles_captions","/:entityId/:threadPageId/huddles_captions","/:entityId/:searchQuery/huddles_captions","/:entityId/:channelFilesId/huddles_captions","/:entityId/:scTeamOrEnterpriseId/huddles_captions","/:entityId/:listsViewName/huddles_captions","/:entityId/:canvasOpenedFromId/huddles_captions"]},[Se.d2]:{paths:["/:entityId/contact_profile/:contactExternalId","/:entityId/:timestamp/contact_profile/:contactExternalId","/:entityId/:viewName/contact_profile/:contactExternalId","/:entityId/:viewName/:invitationsTabId/contact_profile/:contactExternalId","/:entityId/:tabId/contact_profile/:contactExternalId","/:entityId/:draftId/contact_profile/:contactExternalId","/:entityId/:threadPageId/contact_profile/:contactExternalId","/:entityId/:searchQuery/contact_profile/:contactExternalId","/:entityId/:channelFilesId/contact_profile/:contactExternalId","/:entityId/:scTeamOrEnterpriseId/contact_profile/:contactExternalId","/:entityId/:listsViewName/contact_profile/:contactExternalId","/:entityId/:canvasOpenedFromId/contact_profile/:contactExternalId"]},[Se.p$]:{paths:["/:entityId/record/:recordId","/:entityId/:timestamp/record/:recordId","/:entityId/:viewName/record/:recordId","/:entityId/:viewName/:invitationsTabId/record/:recordId","/:entityId/:tabId/record/:recordId","/:entityId/:draftId/record/:recordId","/:entityId/:threadPageId/record/:recordId","/:entityId/:searchQuery/record/:recordId","/:entityId/:channelFilesId/record/:recordId","/:entityId/:scTeamOrEnterpriseId/record/:recordId","/:entityId/:listsViewName/record/:recordId","/:entityId/:canvasOpenedFromId/record/:recordId"]},[Se.td]:{paths:["/:entityId/:tabId/:workflowTemplateId"]}};function Lt(){(0,h.S2)(Be,nt)}_(Lt,"setRoutes");const Bt=_(Je=>{let{routeName:ct,params:_t={}}=Je;const{entityId:xt}=_t;return xt&&sn(xt)?((0,h._U)(ct,{..._t,entityId:Se.as[xt]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity");var Yt=e(7612514702),on=e(109860581),An=e(5223893135),Sn=e(5250801180),In=e(3193155968),Pn=e(7429662208);function bn(Je){let{prevTeamId:ct,nextTeamId:_t}=Je;if(!_t||ct===_t)return;const xt=(0,G.oK)(_t),en=xt.getState(),tn=(0,Pn.e6)(en),gt=(0,Pn.Le)(en,{tab:tn}),pn=(0,Pn.Oy)(en),vn=(0,An.V)(en),gn=(0,An.V)((0,u.Ry)()),rs=vn||gn?(0,An.T)(en,{id:In.N2}):void 0;xt.dispatch((0,Sn.I)()),xt.dispatch((0,Yt.C)({prevViewSet:void 0,prevTab:void 0,nextViewSet:gt,nextTab:tn,windowId:In.N2,navigateParams:{destinationContainer:rs,teamId:_t},triggerType:on.w.TEAM_SWITCH,prevSplitView:pn,nextSplitView:pn}))}_(bn,"maybeRunTeamSwitchNavigateListeners");var wn=e(6555262004),qn=e(5078290763),kn=e(4656278360),Dn=e(2567914105),Un=e(9003400431),Hn=e(8243624171);function jn(Je){let{nextTeamId:ct,prevTeamId:_t}=Je;const{dispatch:xt,getState:en}=(0,G.oK)(_t),tn=en();return(0,Dn.iS)(tn)?new Promise((pn,vn)=>{xt((0,qn.P)({openModalProps:{isStackable:!0},onConfirmClose:()=>{xt((0,kn.U)(!1)),xt((0,Un.O)({closeAll:!0})),pn()},onCancelClose:()=>{vn()}}))}):(_t&&!(0,Hn.Vq)({teamId:_t})&&xt(ct===_t?(0,Un.O)({closeNamed:wn.N}):(0,Un.O)({closeAll:!0})),!0)}_(jn,"modalListenerBefore");var Jn=e(6088404775);function ln(Je){const ct=(0,Jn.h)();return ct!=null&&ct.onClose&&(ct==null||ct.onClose()),!0}_(ln,"pinsPopoverListenerAfter");var ss=e(3982416567),vs=e(6304789565),ls=e(1466694191),Zn=e(6078549397),Rn=e(7307560139),Wn=e(6822097892),es=e(4033441523);const Gn=["comment_thread","activity_history","files","rimeto_profile","thread",Se.li,Se.lM,Se.De,Se.Dn,Se.Q$],_s=(0,vs.Ay)("Post activity history routing side effects",(Je,ct,_t)=>{let{params:xt,prevRouteInfo:en,routeName:tn}=_t;var gt;const pn=xt==null?void 0:xt.entityId,vn=en==null||(gt=en.params)===null||gt===void 0?void 0:gt.entityId,gn=In.N2;if(tn===Se._G&&pn&&(0,ls.A)(pn)){const{fileIdOrQuipThreadId:gs}=(0,Zn.EX)(pn);Gn.includes(en==null?void 0:en.routeName)&&Je((0,Wn.A)({fileId:gs,windowId:gn,source:es.f.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let $n=pn,rs=vn;(0,Ft.Ay)(vn)&&(0,Ft.Ay)(pn)&&($n=(0,Zn.EX)(vn).fileIdOrQuipThreadId,rs=(0,Zn.EX)(pn).fileIdOrQuipThreadId),$n!==rs&&Je((0,Rn.NA)({windowId:gn}))});_s.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function ds(Je){let{params:ct,prevRouteInfo:_t,routeName:xt,reason:en}=Je;const tn=ct.teamId||ct.teamOrEnterpriseId,{dispatch:gt,getState:pn}=(0,G.oK)(tn);(0,ss.O4)(pn())&&gt(_s({routeName:xt,params:ct,prevRouteInfo:_t,reason:en}))}_(ds,"quipActivityHistoryListener");const Wt=_(Je=>{let{nextTeamId:ct,routeName:_t,params:xt}=Je;const en={routeName:_t,params:xt};return ct&&(0,ne.t2)(ct,"lastRoute",en),!0},"save_route_to_local_config");var et=e(210422728),ot=e(9551235052);function ut(Je){let{prevTeamId:ct}=Je;const _t=(0,G.oK)(ct);return(0,ot.J)(_t.getState())&&(_t.dispatch((0,et.T)(!0)),Q.g.delete("setNavigatedDuringWarmBoot")),Promise.resolve()}_(ut,"setNavigatedDuringWarmBoot");var pt=e(6495946979),Et=e(8473952534),Gt=e(8213251995),$e=e(3977512448);function oe(Je){let{nextTeamId:ct,prevRouteInfo:_t,params:xt}=Je;var en;const tn=(0,G.oK)(ct),gt=tn.getState(),pn=(0,Gt.c8)(gt),vn=(0,Ke.OL)(gt,xt.entityId),gn=(_t==null||(en=_t.params)===null||en===void 0?void 0:en.entityId)||"";(gn===ft.eE.CHANNELS||gn===$e.b||gn===$e.Z1)&&(xt!=null&&xt.entityId)&&vn&&!(0,pt.bl)(vn)&&tn.dispatch((0,Et.Tm)({channelId:xt.entityId,prevRoute:gn})),pn&&(_t==null?void 0:_t.routeName)==="ROUTE_ENTITY"&&(0,ke.A)(gn)&&tn.dispatch((0,Et.Tm)({channelId:null,prevRoute:null}))}_(oe,"setPreviewingFromChannelBrowserOrLaunchpad");var Ae=e(8628205589),Oe=e(4529239752),Fe=e(9795506498);function Ze(Je){let{nextTeamId:ct,uuid:_t,shouldReplaceState:xt,reason:en}=Je;var tn;if(!ct||!_t)return;if(en!==h.GB)if(xt)(0,u.dispatchForClientStore)((0,Ae.HQ)({windowId:In.N2,entry:{id:_t,ts:Date.now(),teamId:ct,isIA4:!1}}));else{const gn=(0,Oe.XG)((0,u.Ry)());gn>0&&(0,u.dispatchForClientStore)((0,Ae.$E)({windowId:In.N2,index:gn})),(0,u.dispatchForClientStore)((0,Ae.y2)({windowId:In.N2,entry:{id:_t,ts:Date.now(),teamId:ct,isIA4:!1}}))}const gt=(0,G.oK)(ct),pn=gt.getState();if(!((tn=window.history.state)===null||tn===void 0)&&tn.isIA4)return;const vn=(0,Pn.Gl)(pn);gt.dispatch((0,Fe.A)({windowId:In.N2,entry:vn}))}_(Ze,"updateIA4History");var rt=e(235108050);const Tt=_(Je=>{let{prevTeamId:ct,nextTeamId:_t}=Je;if(ct===_t||!_t)return;const xt=(0,ne.W6)("recentlyUsedTeamIds")||ct&&[ct]||[];xt.unshift(_t),(0,ne.q9)("recentlyUsedTeamIds",(0,rt.A)(xt)),(0,ne.t2)(_t,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams");var Vt=e(7502434758),cn;(function(Je){Je.JA_JP="ja-JP",Je.EN_US="en-US",Je.EN_GB="en-GB",Je.ES_ES="es-ES",Je.ES_LA="es-LA",Je.FR_FR="fr-FR",Je.DE_DE="de-DE",Je.PT_BR="pt-BR",Je.KO_KR="ko-KR",Je.IT_IT="it-IT",Je.ZH_CN="zh-CN",Je.ZH_TW="zh-TW"})(cn||(cn={}));const $t=cn.EN_US;var an=e(7729538251),mn=e(2554594353),hn=e(3080748521);function Ln(Je){let{nextTeamId:ct,routeName:_t,params:xt}=Je;ct&&((0,u.dispatchForClientStore)((0,mn.b)({teamId:ct,routeName:_t,params:xt,fromNavigation:!0})),(0,G.oK)(ct)&&(0,G.Qw)(ct,(0,et.w)({routeName:_t,params:xt})))}_(Ln,"syncRouteStoreWithUrl");async function dn(Je){let{prevTeamId:ct,nextTeamId:_t,navigationTimestamp:xt}=Je;const en=(0,u.Ry)();if(!_t||(0,v.hasWorkspaceFailedToBoot)(en,_t)||(0,v.doesWorkspaceNeed2FASetup)(en,_t)||(0,v.isWorkspaceExpired)(en,_t)||(0,v.isWorkspacePendingAuth)(en,_t))return!0;const tn=(0,G.oK)(_t),gt=tn&&tn.getState(),pn=(0,hn.MC)(gt),vn=(0,hn.D8)(gt)||Se._G;if((0,j.y3)()&&vn===m.o)return!0;const gn=!ct;return await(0,h._U)(vn,{...pn,teamId:_t},{reason:"navigateToLastSavedRoute",shouldReplaceState:gn,navigationTimestamp:xt}),!1}_(dn,"navigateToLastSavedRoute");function Fn(Je){let{prevTeamId:ct,nextTeamId:_t}=Je;if(!ct||!_t||ct===_t)return;const xt=zn(_t);return Promise.resolve((0,an.xS)(xt,_t)).then(()=>{})}_(Fn,"ensureCorrectLocaleForTeam");function ts(Je){let{prevTeamId:ct,nextTeamId:_t}=Je;if(!ct||!_t||ct===_t)return;const xt=zn(_t);if(xt)return(0,w.zI)(xt)}_(ts,"ensureCorrectLocaleForExternalLibs");function zn(Je){const ct=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/),_t=ct?ct[1]:(0,ne._z)(Je,"user_locale");return _t&&(0,w.YI)(_t)?_t:$t}_(zn,"getLocaleForTeam");const as=(0,ie.A)(us);function us(){Q.g.set("maybeOpenOtherTeamInBrowser",(0,h.Y8)(be)),Q.g.set("modalListenerBefore",(0,h.Y8)(jn)),Q.g.set("maybeFinishSignin",(0,h.Y8)(st)),Q.g.set("maybeRedirectEntity",(0,h.Y8)(Bt)),Q.g.set("navigateToLastSavedRoute",(0,h.Y8)(dn,[m.o])),Q.g.set("ensureChannel",(0,h.Y8)(xe,[])),Q.g.set("draftsListenerBefore",(0,h.Y8)(_e)),Q.g.set("ensureCorrectLocaleForExternalLibs",(0,h.Dd)(ts)),Q.g.set("updateIA4History",(0,h.Dd)(Ze)),Q.g.set("maybeRunTeamSwitchNavigateListeners",(0,h.Dd)(bn)),Q.g.set("setNavigatedDuringWarmBoot",(0,h.Dd)(ut)),Q.g.set("pinsPopoverListenerAfter",(0,h.Y8)(ln)),Q.g.set("syncRouteStoreWithUrl",(0,h.Dd)(Ln)),Q.g.set("ensureCorrectLocaleForTeam",(0,h.Dd)(Fn)),Q.g.set("setLocalConfigForTeamWithKey",(0,h.Dd)(Wt)),Q.g.set("updateRecentlyUsedTeams",(0,h.Dd)(Tt)),Q.g.set("maybeFetchClientPermissions",(0,h.Dd)($)),Q.g.set("maybeIncrementHistoryLength",(0,h.Dd)(Vt.Cu)),Q.g.set("setPreviewingFromChannelBrowserOrLaunchpad",(0,h.Dd)(oe)),Q.g.set("channelCanvasListener",(0,h.Dd)(te)),Q.g.set("quipActivityHistoryListener",(0,h.Dd)(ds))}_(us,"registerRouteListenersInner"),(0,X.ul)("router.listeners",()=>[...Q.g.entries()]);const fs={syncRouteStoreWithUrl:Ln,navigateToLastSavedRoute:dn,ensureCorrectLocaleForTeam:Fn,ensureCorrectLocaleForExternalLibs:ts,getLocaleForTeam:zn};Object.defineProperty(fs,"syncRouteStoreWithUrl",{get:()=>Ln,set:Je=>{Ln=Je}}),Object.defineProperty(fs,"navigateToLastSavedRoute",{get:()=>dn,set:Je=>{dn=Je}}),Object.defineProperty(fs,"ensureCorrectLocaleForTeam",{get:()=>Fn,set:Je=>{Fn=Je}}),Object.defineProperty(fs,"ensureCorrectLocaleForExternalLibs",{get:()=>ts,set:Je=>{ts=Je}}),Object.defineProperty(fs,"getLocaleForTeam",{get:()=>zn,set:Je=>{zn=Je}});var Ls=e(9323322135);const Ns=_(()=>({deviceId:Ls.iCQ}),"getSharedTracerTags");var ys=e(2804111037),Ss=e(719020269);const xn=_(async()=>{Ls.goh.isAvailable()&&(0,Ls.goh)().includes("DisableServiceWorker")&&await(0,Ss._E)()},"disableServiceWorkerForClientConfig"),Ds=_(async()=>{(0,j.X5)()===j.h5.SAFARI&&await(0,Ss._E)()},"disableServiceWorkerForSafari"),Bs=_(async()=>{await Ds(),await xn()},"maybeDisableServiceWorker");var Ms=e(397226212),Hs=e(6123258136),ws=e(1319016163);async function qe(Je){let{contextualInfo:ct}=Je;return{contextualInfo:ct,otherTeamsToBoot:(0,ws.gv)()}}_(qe,"setupOtherTeamsToBoot");var Qt=e(5695315324),Kt=e(4148579738),it=e(665526693);async function mt(){if((0,o.$i)()||(0,o.b3)()||(0,o.Cu)()){const ct=(await e.e("sqlite-worker-dev").then(e.bind(e,5776851262))).default;return new ct}return new Worker("/sqlite.worker.js")}_(mt,"initSqliteWorker");const Mt=it.D;var St=e(3803432550),zt=e(2750801670),un=e(4157777698);Bs(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();const Cn=_(Je=>({...(0,zt.s)(Je),actionSanitizer:un.g}),"createReduxDevtools");function fn(Je){return Je.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:(0,ze.VA)(),getCreateReduxDevtools:()=>Cn}),Je.registerErrorHandlers(y),Je.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(e,9428507909)),apis:()=>Promise.all([e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-async-client-boot-apis")]).then(e.bind(e,6959220389)),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,7277024924)),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(e,1009905056))}),Je.registerInitialApiCalls({experimentData:O.dC,featureFlagData:O.BG,clientBootData:H,viewData:fe.L$,allEnterpriseData:ue,featureAccessData:O.jH,shouldReloadData:ys.zw}),Kt.e.register(Ns),(0,he.b)(Je),Je.hooks.beforeDynamicImportsStart.tap("Render Placeholder",async ct=>{let{contextualInfo:_t}=ct;return(0,A.Sp)({teamId:_t.teamOrEnterpriseBootId}),{contextualInfo:_t}}),Je.hooks.beforeDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start downloading the sqlite worker",async ct=>{let{contextualInfo:_t}=ct;return(0,x.MA)()&&mt().catch(xt=>{(0,t.pq)("BOOT","Could not init SQLite worker, moving on. See error:",xt)}),{contextualInfo:_t}}),Je.hooks.afterDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start the sqlite client",async ct=>{let{contextualInfo:_t}=ct;if((0,x.MA)())try{await Mt()}catch(xt){(0,t.pq)("BOOT","Could not init SQLite client, moving on. See error:",xt)}return{contextualInfo:_t}}),Je.hooks.afterDynamicImportsStart.tap("Set routes",async ct=>{let{contextualInfo:_t}=ct;return Lt(),{contextualInfo:_t}}),Je.hooks.afterDynamicImportsStart.tap("Set up client store",async ct=>{let{contextualInfo:_t}=ct;return(0,St.x)(_t.teamId),{contextualInfo:_t}}),Je.hooks.afterDynamicImportsStart.tap("Register route listeners",async ct=>{let{contextualInfo:_t}=ct;return as(),{contextualInfo:_t}}),Je.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",async ct=>{let{contextualInfo:_t}=ct;const{teamId:xt}=_t;return xt?(xt!==(0,ne.W6)("lastActiveTeamId")&&(0,ne.q9)("lastActiveTeamId",xt),{contextualInfo:_t}):{contextualInfo:_t}}),Je.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",async ct=>{let{contextualInfo:_t}=ct;return window.isReloading?((0,t.pq)("BOOT",`(${_t.teamId}) Ongoing reload detected; Cancelling boot.`),(0,i.A)()):{contextualInfo:_t}}),Je.hooks.beforeInitializeTeam.tap("[experiment:wasm_sqlite_spike] Init tables for team and user",async ct=>{let{contextualInfo:_t}=ct;const{teamId:xt,userId:en}=_t;if((0,x.MA)()&&xt&&en)try{const tn=(0,it.D)(),gt=2500,pn="[BOOT] sqlite.initTables";await(0,l.wj)(tn.initTables({teamId:xt,userId:en}),gt,pn)}catch(tn){(0,t.pq)("BOOT","Could not init SQLite tables, moving on. See error:",tn)}return{contextualInfo:_t}}),Je.hooks.beforeInitializeTeam.tap("Set tokens",async ct=>{let{contextualInfo:_t}=ct;return(0,Hs.L)({contextualInfo:_t})}),Je.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",async ct=>{let{contextualInfo:_t}=ct;return((0,W.EZ)()||(0,x.MA)())&&(0,U.z6)({teamId:_t.teamId,userId:_t.userId}),{contextualInfo:_t}}),Je.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",qe),Je.run()}if(_(fn,"boot"),!(0,a.A)()){const Je=(0,Ms.z4)(Qt.Y.CLIENT_V2);if(!(0,r.z$)()&&(0,o.KV)()&&(0,s.b)()){const ct=e(8904626639);ct.init({dsn:`https://4162106b525941d087e5f8f5e446ae9b@app.${(0,n.Xk)()}/apps/sentryproxy/5865811`,release:`webapp@${(0,c.HF)()}`,defaultIntegrations:!1,integrations:[ct.browserTracingIntegration({enableInp:!0}),ct.browserProfilingIntegration(),ct.httpContextIntegration()],sampleRate:1,tracesSampleRate:1,profilesSampleRate:1,tracePropagationTargets:[],replaysSessionSampleRate:0,replaysOnErrorSampleRate:0})}fn(Je)}const Xt={boot:fn}},3914849812:(N,g,e)=>{"use strict";e.d(g,{L$:()=>u});var t=e(7031360717),s=e(1460808057),o=e(5695315324),n=e(8187930033),c=e(8414867410),i=e(337319621),r=e(5084575109),a=e(8834730594),l=e(8040098042),d=e(2960290117);async function u(v){const{appName:p,bootQueue:T,token:A,teamId:C}=v;if(!A)return(0,i.Ay)({teamOrEnterpriseId:C,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!C)return(0,i.Ay)({teamOrEnterpriseId:C,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const I=await(0,s.E)({contextualInfo:v});return f({bootQueue:T,token:A,teamId:C,routeInfo:I,appName:p})}_(u,"maybeFetchMessagesData");async function f(v){let{bootQueue:p,token:T,teamId:A,routeInfo:C,appName:I}=v;var D;const y=C==null||(D=C.params)===null||D===void 0?void 0:D.entityId;return y&&(0,l.A)(y)&&!(0,r.n)(y)&&!(0,c.bd)(y)&&!(0,a.A)(y)&&!(0,d.Ay)(y)?((0,t.pq)("BOOT",`Booting into channel: ${y}`),m({appName:I,bootQueue:p,token:T,teamId:A,id:y})):!(0,r.n)(y)&&!(0,c.bd)(y)&&!(0,a.A)(y)&&!(0,d.Ay)(y)?((0,t.pq)("BOOT","Couldn't determine boot channel. Falling back to default channel"),m({appName:I,bootQueue:p,token:T,teamId:A})):null}_(f,"fetchMessagesDataForRoute");function m(v){let{bootQueue:p,token:T,teamId:A,id:C,appName:I}=v;const D={token:T,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28,include_free_team_extra_messages:!0};C&&(D.channel=C),I===o.Y.SINGLE_CHANNEL_CLIENT&&(D.is_single_channel_boot=1);const y=new n.Ay({method:"conversations.view",args:D,teamId:A});return p.q(y).catch(P=>((0,i.Ay)({teamOrEnterpriseId:A,label:"BOOT"}).error(new Error(`unable to fetch messages data ${P}`)),null))}_(m,"fetchMessagesData");const h={fetchMessagesData:m}},879418974:(N,g,e)=>{"use strict";e.d(g,{d:()=>n});var t=e(8798294025),s=e(7530171941),o=e(6113051341);function n(c){let{channels:i,selfId:r}=c;const a={};return i.some((l,d)=>{const u=l==null?void 0:l.id;return(0,o.N)(l)?(a.general=u,!0):((0,s.D)(l)&&(a.slackbot=u),r&&(0,t.e)(l)===r&&(a.self=u),d||(a.first=u),!1)}),a.general||a.slackbot||a.self||a.first}_(n,"getAnyChannelForRouting")},1460808057:(N,g,e)=>{"use strict";e.d(g,{E:()=>n});var t=e(879418974),s=e(8959118205),o=e(771196083);async function n(r){let{contextualInfo:a,channels:l}=r;const{isForegroundTeam:d}=a,u=(0,o.Gf)({shouldSetFocus:d});return u||c({contextualInfo:a,channels:l})}_(n,"getRouteInfo");function c(r){let{contextualInfo:a,channels:l}=r;const{teamId:d}=a;if(!d)return null;const u=(0,o.lQ)(d);if(u)return u;if(l){const f=a.userId;return i({channels:l,selfId:f})}return null}_(c,"calculateRouteInfo");function i(r){let{channels:a,selfId:l}=r;if(!a.length)return null;const d={routeName:s._G,params:{}},u=(0,t.d)({channels:a,selfId:l});return u&&(d.params.entityId=u),d}_(i,"getRouteFromBootData")},2212859256:(N,g,e)=>{"use strict";e.d(g,{y:()=>c});var t=e(7031360717),s=e(9706702639),o=e(6533394955),n=e(1314103953);function c(i){if(!i)return;const r=(0,o.oK)(i);r&&((0,t.pq)("BOOT",`(${i}) Boot complete`),s.g.delete("setNavigatedDuringWarmBoot"),r.dispatch((0,n.b)(!1)),r.dispatch((0,n.k)(!1)))}_(c,"markTeamBootCompleted")},4892637646:(N,g,e)=>{"use strict";e.d(g,{b:()=>n,h:()=>o});var t=e(7906695911),s=e(2872463257);async function o(r){let{contextualInfo:a}=r;const{getTraceMeta:l,isBootingWarm:d,appName:u}=a,{getTracer:f,tags:m}=l(),h=await d?t.H.WARM:t.H.COLD,v=f().createTrace({traceName:t.S.BOOT_INITIAL_LOAD,tags:{boot_type:h,app_name:u,...m},autoCreateRootSpan:!1,samplingOptions:{sampleType:s.nl.ALWAYS}});v.startSpan(t.S.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),v.startSpan(t.S.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),v.startSpan(t.S.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),f().reportTrace(v)}_(o,"collectInitialPageLoadMetrics");function n(r){r.hooks.beforeDynamicImportsStart.addCallIntercept(a=>c(a)),r.hooks.renderApp.addCallIntercept(a=>i(a))}_(n,"setupBootMetricsTracing");function c(r){return a=>{const{getTracer:l,setTrace:d,rootTrace:u}=a.contextualInfo.getTraceMeta(),m=l().createTrace({traceName:t.S.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:u.getRootSpanId(),traceId:u.getTraceId()});return m.startSpan(t.S.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),d(m),r(a)}}_(c,"startTimeToRenderTrace");function i(r){return async a=>{const{isBootingWarm:l,getTraceMeta:d,isForegroundTeam:u}=a.contextualInfo,{getTracer:f,getTrace:m,setTrace:h,rootTrace:v}=d(),p=f(),T=m(),A=await l?t.H.WARM:t.H.COLD;return T.addTags({boot_type:A,is_foreground_team:u}),p.reportTrace(T),h(v),r(a)}}_(i,"endTimeToRenderTrace")},7906695911:(N,g,e)=>{"use strict";e.d(g,{H:()=>s,S:()=>t});var t;(function(o){o.BOOT_INITIAL_LOAD="boot:initial_load",o.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",o.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",o.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",o.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(t||(t={}));var s;(function(o){o.COLD="cold",o.WARM="warm"})(s||(s={}))},9706702639:(N,g,e)=>{"use strict";e.d(g,{g:()=>t});const t=new Map},5088972093:(N,g,e)=>{"use strict";e.d(g,{Ys:()=>o,jJ:()=>s,xn:()=>t});const t=[],s=["at_user","at_user_group","at_channel","at_everyone","dm","mpdm","keyword","message_reaction","list_record_assigned","list_user_mentioned","list_todo_notification","bot_dm_bundle","thread_v2","saved_reminder","calendar_upcoming_event","internal_channel_invite","external_channel_invite","external_dm_invite","list_record_edited","example_user_alert","list_record_edited_bundle"],o={NEWEST:"newest",VIP:"vip",UNREADS:"unreads"}},1609960255:(N,g,e)=>{"use strict";e.d(g,{A:()=>o});var t=e(5088972093),s=e(7114008777);const o=_(n=>{let{selectedTab:c,unreadsFilterToggleSelected:i=!1,vipFilterToggleSelected:r,preferredActivityFeedSortOrder:a,isVipEnabled:l,experimentDMInActivityGroupOn:d,experimentActivityInboxGroupOn:u}=n;return u?a===t.Ys.VIP?"priority_unreads_first_v1":a===t.Ys.UNREADS?"unreads_first_v1":"chrono_v1":i&&(c===s.Li.Vip||r)?"chrono_priority_only_unreads_v1":c===s.Li.Vip||r?"chrono_priority_only_reads_and_unreads_v1":l&&c===s.Li.All?i?"priority_unreads_v1":"priority_reads_and_unreads_v1":d&&i&&c===s.Li.Replies?"chrono_unreads":d&&!i&&c===s.Li.Replies?"chrono_reads_and_unreads":i&&c===s.Li.Replies?"chrono_threads_unreads_v2":i&&c===s.Li.Replies?"chrono_threads_unreads":c===s.Li.Replies?"chrono_threads_reads_and_unreads_v2":i?"chrono_unreads":"chrono_reads_and_unreads"},"getFetchMode")},4459831283:(N,g,e)=>{"use strict";e.d(g,{N:()=>o,a:()=>s});var t=e(4761125736);function s(n){return(0,t._Z)(n,"vip_sidebar_toggle")==="treatment"}_(s,"isPrioritySidebarToggleEnabled");function o(n){return(0,t._Z)(n,"vip_sidebar_toggle")==="recommended"}_(o,"isPrioritySidebarToggleRecommendedEnabled")},2784941542:(N,g,e)=>{"use strict";e.d(g,{fd:()=>r,zT:()=>a});var t=e(2028988448),s=e(8162259364),o=e(4518410378),n=e(337319621);const c=["cpu"],i=new Map;async function r(){if(!o.J.PressureObserver||!(0,s.A)())return;const d=o.J.PressureObserver.knownSources;if(!d||d.length===0)return;const u=c.filter(h=>d.includes(h));if(u.length===0)return;const f=(0,n.Wo)({label:"PRESSURE-OBSERVER"});f.debug("Registering pressure observer",{supportedSources:d,desiredSources:u});let m;try{m=new o.J.PressureObserver(h=>{f.debug("PressureObserver callback",{changes:h});for(const v of h)i.set(v.source,v)})}catch(h){h.name==="NotAllowedError"?f.error(new Error(`PressureObserver not allowed: ${h}`)):f.error(new Error(`Failed to create PressureObserver: ${h}`));return}await Promise.all(u.map(async h=>{try{await m.observe(h),i.set(h,void 0)}catch(v){v.name==="NotSupportedError"?f.warn(`PressureObserver source "${h}" not supported`):f.error(new Error(`Failed to observe PressureObserver soure "${h}": ${v}`))}})),f.debug("Registered pressure observer",{currentPressureStates:i})}_(r,"registerPressureObserver");function a(){const d={};for(const[u,f]of i)f&&(d[`pressure_${u}_state`]=f.state);return d}_(a,"getPressureTags"),(0,t.zv)("currentPressureStates",()=>i);const l={currentPressureStates:i,desiredSources:c}},4577150972:(N,g,e)=>{"use strict";e.d(g,{c:()=>a});var t=e(3398586081),s=e(1609960255),o=e(7114008777),n=e(6786905431),c=e(8352634987),i=e(7912281988),r=e(6533394955);const a=(0,t.A)(function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o.Li.All,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new c.Ay({storeKey:"activityIA4",fetch:u=>(0,r.Qw)(u,(0,i.Q)({limit:n.Q1,filter:l,fetchNew:!0,mode:(0,s.A)({selectedTab:l,unreadsFilterToggleSelected:d})})),isEnabled:()=>!0,metricsName:"activity",markStaleAfterSlowReconnect:()=>!0})})},1247361162:(N,g,e)=>{"use strict";e.d(g,{$K:()=>R,$T:()=>D,ES:()=>l,KD:()=>p,MJ:()=>k,cJ:()=>I,f7:()=>C,fB:()=>S,gW:()=>T,j1:()=>f,mt:()=>E,rz:()=>d,sG:()=>u,ut:()=>m,yC:()=>y,yN:()=>M});var t=e(537208959),s=e(7114008777),o=e(4577150972),n=e(5921578648),c=e(3009309149),i=e(8847766420);const r=_((O,U)=>{var W,x;const L=(0,t.Fu)(U),b=O===s.Li.Reactions?O:(0,n.S)({filter:O,isUnreadMode:!!(!(U==null||(W=U.activityIA4)===null||W===void 0)&&W.filterUnreads),isConsolidatedList:L});return(x=U.activityIA4)===null||x===void 0?void 0:x[b]},"getActivityListForFilter"),a=(0,c.Ay)(O=>{var U,W,x;const L=(0,i.ZT)(O),b=(U=O.activityIA4)===null||U===void 0?void 0:U.all;return((O==null||(W=O.activityIA4)===null||W===void 0?void 0:W.selectedTabId)===s.Li.All||!(!(O==null||(x=O.activityIA4)===null||x===void 0)&&x.selectedTabId))&&(b!=null&&b.length)&&(0,o.c)(s.Li.All,!1).maybeRefetch(L,s.N2),O&&O.activityIA4&&b});a.meta={name:"createSelector",key:"createSelectorgetReadAndUnreadActivityList",description:O=>{var U,W,x;const L=(0,i.ZT)(O),b=(U=O.activityIA4)===null||U===void 0?void 0:U.all;return((O==null||(W=O.activityIA4)===null||W===void 0?void 0:W.selectedTabId)===s.Li.All||!(!(O==null||(x=O.activityIA4)===null||x===void 0)&&x.selectedTabId))&&(b!=null&&b.length)&&(0,o.c)(s.Li.All,!1).maybeRefetch(L,s.N2),O&&O.activityIA4&&b}};const l=(0,c.Ay)(O=>{var U,W;const x=(0,i.ZT)(O),L=r(s.Li.All,O);if(((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.All||!(!(O==null||(W=O.activityIA4)===null||W===void 0)&&W.selectedTabId))&&(L!=null&&L.length)){var b;(0,o.c)(s.Li.All,(b=O.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(x,s.N2)}return O&&O.activityIA4&&L});l.meta={name:"createSelector",key:"createSelectorgetActivityList",description:O=>{var U,W;const x=(0,i.ZT)(O),L=r(s.Li.All,O);if(((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.All||!(!(O==null||(W=O.activityIA4)===null||W===void 0)&&W.selectedTabId))&&(L!=null&&L.length)){var b;(0,o.c)(s.Li.All,(b=O.activityIA4)===null||b===void 0?void 0:b.filterUnreads).maybeRefetch(x,s.N2)}return O&&O.activityIA4&&L}};const d=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Mentions,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Mentions&&x.length){var L;(0,o.c)(s.Li.Mentions,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});d.meta={name:"createSelector",key:"createSelectorgetActivityListMentions",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Mentions,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Mentions&&x.length){var L;(0,o.c)(s.Li.Mentions,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const u=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Replies,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Replies&&x.length){var L;(0,o.c)(s.Li.Replies,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});u.meta={name:"createSelector",key:"createSelectorgetActivityListReplies",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Replies,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Replies&&x.length){var L;(0,o.c)(s.Li.Replies,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const f=(0,c.Ay)(O=>{var U,W,x;const L=(0,i.ZT)(O),b=r(s.Li.Reminders,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Reminders&&(!(O==null||(W=O.activityIA4)===null||W===void 0||(x=W.reminders)===null||x===void 0)&&x.length)){var F;(0,o.c)(s.Li.Reminders,(F=O.activityIA4)===null||F===void 0?void 0:F.filterUnreads).maybeRefetch(L,s.N2)}return O&&O.activityIA4&&b});f.meta={name:"createSelector",key:"createSelectorgetActivityListReminders",description:O=>{var U,W,x;const L=(0,i.ZT)(O),b=r(s.Li.Reminders,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Reminders&&(!(O==null||(W=O.activityIA4)===null||W===void 0||(x=W.reminders)===null||x===void 0)&&x.length)){var F;(0,o.c)(s.Li.Reminders,(F=O.activityIA4)===null||F===void 0?void 0:F.filterUnreads).maybeRefetch(L,s.N2)}return O&&O.activityIA4&&b}};const m=(0,c.Ay)(O=>{var U,W,x;const L=(0,i.ZT)(O),b=r(s.Li.Reactions,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Reactions&&(!(O==null||(W=O.activityIA4)===null||W===void 0||(x=W.reactions)===null||x===void 0)&&x.length)){var F;(0,o.c)(s.Li.Reactions,(F=O.activityIA4)===null||F===void 0?void 0:F.filterUnreads).maybeRefetch(L,s.N2)}return O&&O.activityIA4&&b});m.meta={name:"createSelector",key:"createSelectorgetActivityListReactions",description:O=>{var U,W,x;const L=(0,i.ZT)(O),b=r(s.Li.Reactions,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Reactions&&(!(O==null||(W=O.activityIA4)===null||W===void 0||(x=W.reactions)===null||x===void 0)&&x.length)){var F;(0,o.c)(s.Li.Reactions,(F=O.activityIA4)===null||F===void 0?void 0:F.filterUnreads).maybeRefetch(L,s.N2)}return O&&O.activityIA4&&b}};const h=(0,c.Ay)(O=>{var U,W,x,L;const b=(0,i.ZT)(O),F=(0,n.S)({filter:s.Li.Huddles,isUnreadMode:!1}),B=((U=O.activityIA4)===null||U===void 0?void 0:U[F]).filter(H=>H.isUnread&&H.calendarEventPayload);if((O==null||(W=O.activityIA4)===null||W===void 0?void 0:W.selectedTabId)===s.Li.Huddles&&(!(O==null||(x=O.activityIA4)===null||x===void 0||(L=x.huddles)===null||L===void 0)&&L.length)){var K;(0,o.c)(s.Li.Huddles,(K=O.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(b,s.N2)}return O&&O.activityIA4&&B||[]});h.meta={name:"createSelector",key:"createSelectorgetActivityListHuddlesForJustInTime",description:O=>{var U,W,x,L;const b=(0,i.ZT)(O),F=(0,n.S)({filter:s.Li.Huddles,isUnreadMode:!1}),B=((U=O.activityIA4)===null||U===void 0?void 0:U[F]).filter(H=>H.isUnread&&H.calendarEventPayload);if((O==null||(W=O.activityIA4)===null||W===void 0?void 0:W.selectedTabId)===s.Li.Huddles&&(!(O==null||(x=O.activityIA4)===null||x===void 0||(L=x.huddles)===null||L===void 0)&&L.length)){var K;(0,o.c)(s.Li.Huddles,(K=O.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(b,s.N2)}return O&&O.activityIA4&&B||[]}};const v=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O);if(!(O==null||(U=O.activityIA4)===null||U===void 0)&&U.filterUnreads){var x;(0,o.c)(s.Li.Unreads,(x=O.activityIA4)===null||x===void 0?void 0:x.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&O.activityIA4.unreads});v.meta={name:"createSelector",key:"createSelectorgetActivityListUnreads",description:O=>{var U;const W=(0,i.ZT)(O);if(!(O==null||(U=O.activityIA4)===null||U===void 0)&&U.filterUnreads){var x;(0,o.c)(s.Li.Unreads,(x=O.activityIA4)===null||x===void 0?void 0:x.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&O.activityIA4.unreads}};const p=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Apps,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Apps&&x.length){var L;(0,o.c)(s.Li.Apps,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});p.meta={name:"createSelector",key:"createSelectorgetActivityListApps",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Apps,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Apps&&x.length){var L;(0,o.c)(s.Li.Apps,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const T=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Channels,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Channels&&x.length){var L;(0,o.c)(s.Li.Channels,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});T.meta={name:"createSelector",key:"createSelectorgetActivityListChannels",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Channels,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Channels&&x.length){var L;(0,o.c)(s.Li.Channels,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const A=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Priority,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Priority&&x.length){var L;(0,o.c)(s.Li.Priority,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});A.meta={name:"createSelector",key:"createSelectorgetActivityListPriority",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Priority,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Priority&&x.length){var L;(0,o.c)(s.Li.Priority,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const C=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Vip,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Vip&&x.length){var L;(0,o.c)(s.Li.Vip,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});C.meta={name:"createSelector",key:"createSelectorgetActivityListVip",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Vip,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Vip&&x.length){var L;(0,o.c)(s.Li.Vip,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const I=(0,c.Ay)(O=>O&&O.activityIA4&&O.activityIA4.unreadVip);I.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadVip",description:O=>O&&O.activityIA4&&O.activityIA4.unreadVip};const D=(0,c.Ay)(O=>O&&O.activityIA4&&O.activityIA4.unreadOther);D.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadOther",description:O=>O&&O.activityIA4&&O.activityIA4.unreadOther};const y=(0,c.Ay)(O=>O&&O.activityIA4&&O.activityIA4.other);y.meta={name:"createSelector",key:"createSelectorgetActivityListOther",description:O=>O&&O.activityIA4&&O.activityIA4.other};const P=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.EverythingElse,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.EverythingElse&&x.length){var L;(0,o.c)(s.Li.EverythingElse,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});P.meta={name:"createSelector",key:"createSelectorgetActivityListEverythingElse",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.EverythingElse,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.EverythingElse&&x.length){var L;(0,o.c)(s.Li.EverythingElse,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const E=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.DMS,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.DMS&&x.length){var L;(0,o.c)(s.Li.DMS,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});E.meta={name:"createSelector",key:"createSelectorgetActivityListDms",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.DMS,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.DMS&&x.length){var L;(0,o.c)(s.Li.DMS,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const M=(0,c.Ay)(O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Invitations,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Invitations&&(x!=null&&x.length)){var L;(0,o.c)(s.Li.Invitations,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x});M.meta={name:"createSelector",key:"createSelectorgetActivityListInvitations",description:O=>{var U;const W=(0,i.ZT)(O),x=r(s.Li.Invitations,O);if((O==null||(U=O.activityIA4)===null||U===void 0?void 0:U.selectedTabId)===s.Li.Invitations&&(x!=null&&x.length)){var L;(0,o.c)(s.Li.Invitations,(L=O.activityIA4)===null||L===void 0?void 0:L.filterUnreads).maybeRefetch(W,s.N2)}return O&&O.activityIA4&&x}};const S=(0,c.Ay)(O=>{var U;return O&&O.activityIA4&&((U=O.activityIA4)===null||U===void 0?void 0:U.multipleFilters)});S.meta={name:"createSelector",key:"createSelectorgetActivityMultipleFilters",description:O=>{var U;return O&&O.activityIA4&&((U=O.activityIA4)===null||U===void 0?void 0:U.multipleFilters)}};const R=(0,c.Ay)((O,U)=>{var W;return O&&O.activityIA4&&((W=O.activityIA4)===null||W===void 0?void 0:W[U])});R.meta={name:"createSelector",key:"createSelectorgetActivityForFilter",description:(O,U)=>{var W;return O&&O.activityIA4&&((W=O.activityIA4)===null||W===void 0?void 0:W[U])}};const k=(0,c.Ay)(O=>O&&O.activityIA4&&O.activityIA4.results);k.meta={name:"createSelector",key:"createSelectorgetActivityListResults",description:O=>O&&O.activityIA4&&O.activityIA4.results}},5972646104:(N,g,e)=>{"use strict";e.d(g,{R:()=>s});var t=e(7114008777);const s=_((o,n)=>{switch(o){case t.gb.DMS:return[t.Li.DMS];case t.gb.Threads:return[t.Li.Replies];case t.gb.ForYou:default:return n==null?void 0:n.filterActivityTypes}},"getActivityTypeFiltersForSubView")},5921578648:(N,g,e)=>{"use strict";e.d(g,{S:()=>n});var t=e(5235917009),s=e(5088972093),o=e(7114008777);const n=_(c=>{let{filter:i,isUnreadMode:r,mode:a,useMultipleFilters:l,preferredActivityFeedSortOrder:d,isConsolidatedList:u}=c;return u?"results":l&&i===o.Li.All?d===s.Ys.UNREADS||d===s.Ys.VIP?"other":"multipleFilters":a==="chrono_priority_only_unreads_v1"?"unreadVip":a==="priority_reads_and_unreads_v1"?"other":a==="priority_unreads_v1"?"unreadOther":r&&i===o.Li.EverythingElse?`unread${i.charAt(0).toUpperCase()+i.slice(1)}`:r?`unread${(0,t.A)(i)}`:i},"getFilterForSelectedMode")},2309387455:(N,g,e)=>{"use strict";e.d(g,{N:()=>l,v:()=>a});var t=e(9087248458),s=e(5088972093),o=e(3929724715),n=e(1407713935),c=e(8798294025),i=e(6795500641),r=e(9101533895);const a=_((d,u)=>{const f=u!=null&&u.item&&"message"in(u==null?void 0:u.item)?u==null?void 0:u.item.message.channel:void 0,m=(0,r.OL)(d,f),h=(0,i.MY)(d);return(u==null?void 0:u.item.type)==="dm"&&h&&((0,n.LI)(m)&&(0,c.e)(m)&&(h!=null&&h.includes((0,c.e)(m)||""))||(0,n.yz)(m)&&(0,t.A)((0,o.Ug)(m)||[],h).length>0)?!0:u&&"priority"in u},"isActivityFeedEntryVip"),l=_(function(d,u){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unreads",m;if(f===s.Ys.VIP){var h;m=(h=u.findIndex(C=>!(a(d,C)&&C.is_unread)))!==null&&h!==void 0?h:0}else{var v;m=(v=u.findIndex(C=>!C.is_unread))!==null&&v!==void 0?v:0}const p=m===-1?u.length:m,T=u.slice(0,p),A=u.slice(p);return[T,A]},"getSeparateLists")},7912281988:(N,g,e)=>{"use strict";e.d(g,{Q:()=>x});var t=e(8851980998),s=e(1545824888),o=e(3106223098),n=e(537208959),c=e(5088972093),i=e(7114008777),r=e(4746302747),a=e(9648131521),l=e(3622175906),d=e(6917756165),u=e(337319621),f=e(3855029223),m=e(9006747218),h=e(4577150972),v=e(5972646104),p=e(5921578648),T=e(2309387455),A=e(6845763719),C=e(5728184452),I=e(6304789565),D=e(8847766420),y=e(3128675849),P=e(3634026875),E=e(1935129173),M=e(1496122061),S=e(6111266013),R=e(2047021170),k=e(3683482182),O=e(3193155968),U=e(7429662208);const W={"action-items":!0},x=(0,I.Ay)("Fetch user activity",function(L,b){let{limit:F,filter:B,mode:K,fetchNew:H,isUnreadMode:Y,types:Z,fetchForAgentforce:V,incompleteFetchDataCursor:ne}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{limit:20,mode:"chrono_reads_and_unreads",filter:i.Li.All};L((0,m.G3)(!0));const q=b(),me=(0,D.ZT)(q),ue=(0,A.F)(q),ae=(0,A.S1)(q),le=(0,A.d5)(q),fe=(0,n.Gg)(q),he=(0,n.Lh)(q),ie=(0,n.ki)(q),X=(0,n.P4)(q),j=(0,n.Fu)(q),w=(0,n.kf)(q),Q=(0,P.U)(q),G=(0,o.Gn)(q),J=(0,U.e6)(q),te=(0,A.Zt)(q),se=(0,A.qq)(q,te),ce=(0,v.R)(te,se),{filterVipSelected:Ee,filterArchiveSelected:de,filterSnoozeSelected:re,filterUnreadsSelected:_e,sortOrder:ve,filterChannels:ge,filterChannelSections:Le}=(0,A.F2)(q),ke=(0,R.ty)(q,"activity_feed_sort"),Ke=w?ve:ke,Ne=(0,p.S)({filter:B,isUnreadMode:Y!==void 0?Y:_e,mode:K,useMultipleFilters:he,preferredActivityFeedSortOrder:Ke,isConsolidatedList:j&&he});let Re=ue==null?void 0:ue[Ne];ne&&(Re=ne);const xe=Z||(0,C.TO)(Ne,{experimentDMInActivityGroupOn:fe,experimentActivityInboxGroupOn:he,useMultipleFilters:he,mode:K,selectedFilters:ce,fetchForAgentforce:V});if(W!=null&&W[B]||!H&&!Re)return L((0,m.G3)(!1)),s.S.resolve();(0,h.c)(B,_e).markObjectsAsFresh(me,[i.N2]);const We=ie&&de,$=X&&re,ee=he&&_e,Ve=he&&Ee;return L((0,a.X)({limit:F,reason:"fetchActivityFeed",types:xe,mode:K,cursor:H?void 0:Re,archiveOnly:We,snoozeOnly:$,channelIds:(0,d.E)(ge)?ge:void 0,channelSectionIds:(0,d.E)(Le)?Le:void 0,unreadOnly:ee,priorityOnly:Ve})).then(ze=>{var st,Ge,be;if(!ze.items)return;if(he&&J===O.k6.ActivityInbox&&ze.items.length<10&&(!(ze==null||(st=ze.response_metadata)===null||st===void 0)&&st.next_cursor)&&((ze==null||(Ge=ze.response_metadata)===null||Ge===void 0?void 0:Ge.next_cursor)!==Re||(ze==null||(be=ze.response_metadata)===null||be===void 0?void 0:be.next_cursor)===Re&&H)){var Se;L((0,m.G7)(!1)),L(x({limit:F,filter:B,mode:K,fetchNew:!1,isUnreadMode:Y,types:xe,fetchForAgentforce:V,incompleteFetchDataCursor:ze==null||(Se=ze.response_metadata)===null||Se===void 0?void 0:Se.next_cursor}))}else L((0,m.G7)(!0));if(j&&he){var we;L((0,m.bl)({nextCursor:ze==null||(we=ze.response_metadata)===null||we===void 0?void 0:we.next_cursor,items:ze.items,filter:"results",refreshItems:H}))}if(!j&&he&&B==="all"&&Ke===c.Ys.UNREADS){var Ce;const[He,Qe]=(0,T.N)(q,ze.items);L((0,m.VT)("unreadOther")),L((0,m.bl)({nextCursor:ue.unreadOther,items:He,filter:"unreadOther",refreshItems:he&&H})),L((0,m.bl)({nextCursor:ze==null||(Ce=ze.response_metadata)===null||Ce===void 0?void 0:Ce.next_cursor,items:Qe,filter:"other",refreshItems:he&&H}))}else if((G||he&&B==="all"&&Ke===c.Ys.VIP)&&(K==="priority_reads_and_unreads_v1"||K==="priority_unreads_v1")){var Te;const[He,Qe]=(0,T.N)(q,ze.items,c.Ys.VIP);L((0,m.VT)("unreadVip")),L((0,m.bl)({nextCursor:ue==null?void 0:ue.unreadVip,items:He,filter:"unreadVip",refreshItems:(he||G)&&H})),L((0,m.bl)({nextCursor:ze==null||(Te=ze.response_metadata)===null||Te===void 0?void 0:Te.next_cursor,items:Qe,filter:he&&Ke===c.Ys.VIP?"other":Ne,refreshItems:(fe||G||he)&&H}))}else{var Ye;L((0,m.VT)(Ne)),L((0,m.bl)({nextCursor:ze==null||(Ye=ze.response_metadata)===null||Ye===void 0?void 0:Ye.next_cursor,items:ze.items,filter:Ne,refreshItems:(fe||G||he)&&H}))}const De=(0,A.cJ)(q);let Pe=!1;if((0,n.xD)(q)?H&&De!==0&&ze.items.length===0&&B===i.Li.All&&(["chrono_unreads","priority_unreads_v1"].includes(K)||["chrono_v1","priority_unreads_first_v1","unreads_first_v1"].includes(K)&&ee&&!(We||$||Ve||(0,d.E)(ge)||(0,d.E)(Le)))&&(Pe=!0):K==="chrono_unreads"&&ze.items.length!==De&&(Pe=!0),Pe){const He=(0,k.xY)(q);L((0,r.O)()).then(Qe=>{L((0,y.Q)(Qe));const dt=(0,f.E)({state:q}),Ot=(0,u.Ay)({getState:b,label:"ACTIVITY_BADGING"});try{const yt=dt.createSpan({name:"ia4client_activity_badge:mismatch",samplingOptions:{sampleType:t.tS.ALWAYS},options:{tags:{num_unread_activity_items:ze.items.length,old_activity_badge_count:De,new_channel_badges:JSON.stringify(Qe.channelBadges),old_channel_badges:JSON.stringify(He)}}});yt.close(),dt.reportSpans([yt]),Ot.info(`Activity badge mismatch. number of unread activity.feed items: ${ze.items.length} activityBadgeCount: ${De}: counts.channelBadges: ${JSON.stringify(Qe==null?void 0:Qe.channelBadges)} old channelBadges: ${JSON.stringify(He)}`)}catch{}})}const ye="slack-connect-fetch-invites-for-activity-feed";H&&!ae&&["all","invitations","unreadAll","unreadInvitations"].includes(B)&&ze.items.some(He=>{let{item:Qe}=He;return C.Oi.includes(Qe.type)})&&L((0,S.p)({direction:l.D.Incoming,reason:ye})).then(()=>L((0,m.xv)(!0))),H&&!le&&["all","invitations","unreadAll","unreadInvitations"].includes(B)&&L((0,M.d)({reason:ye})).then(()=>L((0,m.ae)(!0))),he&&Q&&J===O.k6.ActivityInbox&&B===i.Li.All&&H&&L((0,E.i)())}).finally(()=>L((0,m.G3)(!1)))});x.meta={name:"createThunk",key:"createThunkfetchActivityFeed",description:"Fetch user activity"}},5728184452:(N,g,e)=>{"use strict";e.d(g,{Oi:()=>n,TO:()=>a,b8:()=>d});var t=e(9113979368),s=e(7174777686),o=e(6626377467);const n=["external_channel_invite","external_dm_invite"],c=["at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned","list_todo_notification"],i=null,r=["at_user","at_user_group","at_channel","at_everyone","keyword","bot_dm_bundle"],a=_((u,f)=>{let{experimentDMInActivityGroupOn:m,mode:h,useMultipleFilters:v,selectedFilters:p,experimentActivityInboxGroupOn:T,fetchForAgentforce:A}=f;const C="bot_dm_bundle";let I=["thread_v2","message_reaction","internal_channel_invite","list_record_edited",C,...c,...n];v&&!(0,t.A)(p)&&(I=[]);const D=u.toLowerCase(),y=h==="chrono_priority_only_reads_and_unreads_v1"||h==="chrono_priority_only_unreads_v1";return(h==="chrono_priority_only_reads_and_unreads_v1"||h==="chrono_priority_only_unreads_v1")&&(I=r,(D.includes("vip")||D.includes("all"))&&(I=["thread_v2","internal_channel_invite",...r]),v&&!(0,t.A)(p)&&(I=[])),v&&(0,s.A)(p,"mentions")?y?I=r:I.push(...c):D.includes("mentions")&&(I=c),v&&(0,s.A)(p,"replies")&&I.push("thread_v2"),v&&(0,s.A)(p,"apps")&&!y?I.push(C):D.includes("apps")&&(I=[C]),D.includes("replies")&&(I=void 0),m&&D.includes("replies")&&!A&&(I=["thread_v2"]),v&&(0,s.A)(p,"reactions")&&I&&!y?I.push("message_reaction"):D.includes("reactions")&&(I=["message_reaction"]),D.includes("unreads")&&(I=[C,"thread_v2","internal_channel_invite",...c,...n]),v&&(0,s.A)(p,"invitations")&&I?y?I.push("internal_channel_invite"):I.push("internal_channel_invite",...n):D.includes("invitations")&&(I=["internal_channel_invite",...n]),m&&I&&(!T&&["all","unreads","other","unreadother"].includes(D)||v&&(p!=null&&p.includes("dms")||(p==null?void 0:p.length)===0))&&I.push("dm"),m&&(D.includes("dms")||v&&p&&p.length===1&&p.includes("dms"))&&(I=["dm"]),I},"getActivityTypes"),l=_(u=>(u==null?void 0:u.type)==="section_bundle"&&"section"in u,"isSectionBundle"),d=_(u=>{let{items:f}=u;return(0,o.A)(f,m=>{if("key"in m&&(m==null?void 0:m.type)==="non_collapsible_header")return`item-by-feed-key-${m==null?void 0:m.key}`;if("ts"in m&&(m==null?void 0:m.type)==="channel_bundle")return`channel-bundle-${m==null?void 0:m.ts}`;if(l(m)){var h;return`section-bundle-${m==null||(h=m.section)===null||h===void 0?void 0:h.channelSection.id}`}const{messageTs:v,type:p,threadTs:T,channelId:A,invite:C,key:I}=m;return p==="message_reaction"?`reaction-${v}`:p==="thread_v2"?`thread-${T}`:p==="external_channel_invite"?`external-channel-invite-${C}`:p==="external_dm_invite"?`external-dm-invite-${C}`:p==="im"?`im${A}`:p==="dm"?`im${A}`:I!==void 0?`item-by-feed-key-${I}`:`mention-${v}`})},"getUniqueActivityItems")},8038398473:(N,g,e)=>{"use strict";e.d(g,{A:()=>Ol});var t=e(1416482128),s=e(7763652800),o=e(3087712927),n=e(337319621),c=e(2028988448),i=e(2878685908),r=e(2791814261),a=e(1535672935),l=e(6304789565),d=e(6776011876);const u=(0,l.Ay)("maybeDisableDebugger side effect handler",()=>{if(!((0,i.Yj)()||(0,i.Cu)()||(0,i.$i)())){if((0,r.c)()){(0,c.Jb)();return}(0,c.CP)()||(0,c.YF)()}});u.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const f=(0,d.kt)([a.setDidBootAllWorkspaces],u);var m=e(3571452446),h=e(4094753332),v=e(9323322135),p;(function(Ie){Ie.DOGFOOD="dogfood",Ie.BETA="beta",Ie.PROD="prod"})(p||(p={}));var T;(function(Ie){Ie.BETA="beta",Ie.PROD="prod"})(T||(T={}));const A=_(Ie=>Ie!==p.PROD,"isPreRelease");var C;(function(Ie){Ie.NIGHTLY="nightly",Ie.ALPHA="alpha",Ie.ETA="eta",Ie.PILOT="pilot",Ie.BETA="beta",Ie.PROD="prod"})(C||(C={}));var I;(function(Ie){Ie.BETA="beta",Ie.PROD="prod"})(I||(I={}));const D=[C.ALPHA,C.ETA,C.BETA,C.PILOT,C.PROD],y=_(Ie=>Ie!==C.PROD,"release_channels_4_31_0_isPreRelease");var P=e(1583163054),E=e(8520727613),M=e(4096483543),S=e(8002659820),R=e(9012396182),k=e(7384121809);const O=(0,l.Ay)("Add channels to the desktop search index when initial teams are booted",async()=>{if(!(0,h.y3)())return;const Ie=(0,k.Ry)(),pe=(0,R.getBootedWorkspaces)(Ie);pe.length&&await(0,S.jM)(pe)});O.meta={name:"createThunk",key:"createThunkindexAllBootedTeamChannels",description:"Add channels to the desktop search index when initial teams are booted"};const U=(0,l.Ay)("Add channels to the desktop search index as additional teams are booted",async(Ie,pe,Ue)=>{if(!(0,h.y3)())return;const je=pe();if(!(0,R.didBootAllWorkspaces)(je))return;const Xe=Ue.payload;Xe&&await(0,S.jM)([Xe])});U.meta={name:"createThunk",key:"createThunkindexAdditionalBootedTeamChannels",description:"Add channels to the desktop search index as additional teams are booted"};const W=(0,d.kt)([a.setDidBootAllWorkspaces],O),x=(0,d.kt)([a.setWorkspaceBooted],U);var L=e(6533394955),b=e(1670069836);const F=(0,l.Ay)("maybeSetReleaseChannelOverrideHandler",(Ie,pe,Ue)=>{!(0,h.y3)()||!(0,v.g9M)()||H(pe)});F.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const B=(0,d.kt)([a.setDidBootAllWorkspaces],F),K="nightly-promotion-state";function H(Ie){const pe=(0,v.oQe)("environment","releaseChannel"),Ue=(0,v.oQe)("settings","releaseChannelOverride");let je=Ue;if(!je&&(pe==="beta"||pe==="alpha")&&(je=pe),je==="eta"&&(je=p.BETA),(0,M.A)()&&(0,h.dY)("4.31.150")){const Xe=Ie();if((0,E.A)(Xe,"ssb_dogfood_automatic_promotion","on")&&(0,r.c)()&&je!==P.zS)try{window.localStorage.getItem(K)!=="2"&&(je=P.zS,window.localStorage.setItem(K,"1"))}catch{}je==="alpha"&&(je=p.BETA)}je!==Ue&&((0,v.cGU)({name:"releaseChannelOverride",value:je}),v.NjF.cache&&v.NjF.cache.clear())}_(H,"maybeSetReleaseChannelOverride");const Y=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],Z=(0,l.Ay)("Sync workspaces state with desktop",(Ie,pe)=>{if(!(0,h.y3)())return;const Ue=pe(),je=(0,R.getBootedWorkspaces)(Ue),Xe=(0,R.getAllWorkspaces)(Ue);var ht;const bt=(ht=(0,R.getWorkspacesMeta)(Ue))!==null&&ht!==void 0?ht:{},lt=je==null?void 0:je.reduce((_n,On)=>{const Vn=(0,L.$D)(On),qt={...(0,b._J)(Vn,On,!1),...bt==null?void 0:bt[On]};return _n[On]={...(0,m.A)(qt,Y),order:Xe.indexOf(On)},_n},{});(0,v.CIW)(lt)});Z.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const V=(0,l.Ay)("Sync workspaces state with desktop when a new team has booted",(Ie,pe)=>{if(!(0,h.y3)())return;const Ue=pe();(0,R.didBootAllWorkspaces)(Ue)&&Ie(Z())});V.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const ne=(0,d.kt)([a.setDidBootAllWorkspaces,a.setWorkspaceOrder],Z),q=(0,d.kt)([a.setWorkspaceBooted],V),me=[ne,q,B,x,W];var ue=e(4932704503),ae=e(1378315125);const le="DESKTOP-SIDE-EFFECT",fe=(0,l.Ay)("logUpdateFromDesktop",(Ie,pe,Ue)=>{(0,n.Wo)().info(le,"Update from desktop for keys ",Object.keys(Ue.payload))});fe.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const he=(0,d.kt)([ae.Ez],fe),ie=(0,l.Ay)("maybeHandleWindowFocusEvent",(Ie,pe,Ue)=>{(0,M.A)()&&Ue.payload&&Ue.payload.windows&&Ie((0,ue.pz)({isFocused:document.hasFocus()}))});ie.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const X=(0,d.kt)([ae.Ez],ie);var j=e(3398586081),w=e(8646192222),Q=e(8439865561),G=e(5105455463);(0,j.A)(()=>{if((0,w.Nu)())try{window.matchMedia(G.og).onchange=Ie=>{const pe=(0,k.en)();pe&&pe.dispatch((0,Q.N)(Ie.matches))}}catch(Ie){(0,n.Wo)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",Ie)}})();const te=(0,l.Ay)("maybeUpdateShouldUseHighContrastColors",(Ie,pe,Ue)=>{if(!(0,w.Nu)()&&(0,w.hk)()){var je,Xe;const ht=Ue==null||(je=Ue.payload)===null||je===void 0||(Xe=je.settings)===null||Xe===void 0?void 0:Xe.shouldUseHighContrastColors;ht!==void 0&&Ie((0,Q.N)(ht))}});te.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const se=(0,d.kt)([ae.Ez],te);var ce=e(1703559452),Ee=e(7639461119),de=e(9196706215),re=e(1658558415),_e=e(8170643398),ve=e(6839188756),ge=e(6954805277),Le=e(7002741921),ke=e(8276911661),Ke=e(9733150292);const Ne="workspace_switcher_awareness_for_invoice",Re=(0,j.A)(()=>(0,re.A)()?"treatment":(0,Ee.B9)(Ne)),xe=(0,j.A)(()=>(0,Ee.fW)(Ne)),We=(0,j.A)(()=>Re()===Ee.dw.Control),$=(0,j.A)(()=>{const Ie=Object.values((0,L.jm)());return(0,ce.A)(Ie,pe=>{if(!pe)return!1;const Ue=pe.getState(),je=(0,ke.cA)(Ue),Xe=(0,_e.yF)(je),ht=Xe&&(0,ge.KR)((0,de.Ay)().toDate(),de.Ay.unix(Xe).toDate());return!!(ht&&ht>30)})}),ee=(0,j.A)(()=>{const Ie=Object.values((0,L.jm)());let pe=0;return(0,ce.A)(Ie,Ue=>{if(!Ue)return!1;const je=Ue.getState();return(0,ve.qR)((0,b.H7)(je))&&!(0,ve.kA)((0,b.H7)(je))&&(pe+=1),(0,ve.tc)((0,b.H7)(je))&&(pe+=1),pe>1})}),Ve=(0,j.A)(()=>{const Ie=Object.values((0,L.jm)());return(0,ce.A)(Ie,pe=>{if(!pe)return!1;const Ue=pe.getState();return!!(0,ve.kA)((0,b.H7)(Ue))})}),ze=(0,j.A)(()=>Object.values((0,L.jm)()).length>1),st=_(()=>{(0,Ke.q9)("hasSeenWorkspaceSwitcherAwareness",!0)},"markWorkspaceSwitcherAwarenessAsSeen"),Ge=_(()=>(0,Ke.W6)("hasSeenWorkspaceSwitcherAwareness"),"hasSeenWorkspaceSwitcherAwareness"),be=_(()=>xe()||ee()&&$(),"isEligibleForWorkspaceSwitcherAwareness"),Se=_(()=>{Ge()&&setLocalConfigForKey("hasSeenWorkspaceSwitcherAwareness",!1)},"workspaceSwitcherAwarenessCleanupCallback"),we=_(Ie=>{let{toggleName:pe,toggleGroup:Ue}=Ie;return(0,Le._)(pe,Ue,!1)&&Ve()&&$()&&ze()},"validateWorkspaceSwitcherAwarenessInvoiceTargetAudiance");var Ce=e(4766735965),Te=e(6290537170);const Ye=(0,l.Ay)("Opens workspace switcher if the user is part of experiment",(Ie,pe)=>{const Ue=pe();(0,h.y3)()&&!Ge()&&!(0,Te.v8)(Ue)&&be()&&(Ie((0,Ce.A)()),st())});Ye.meta={name:"createThunk",key:"createThunkmaybeToggleWorkspaceSwitcherForAwarenessThunk",description:"Opens workspace switcher if the user is part of experiment"};const De=(0,d.kt)([a.setDidBootAllWorkspaces],Ye);var Pe=e(6766954308),ye=e(2633701976),He=e(2047021170);const Qe=(0,l.Ay)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(Ie,pe)=>{var Ue;const je=pe(),Xe=(0,R.getFocusedWorkspace)(je),ht=(0,L.oK)(Xe),bt=ht==null||(Ue=ht.getState)===null||Ue===void 0?void 0:Ue.call(ht);if(!bt||(0,Pe.gR)(je)!==void 0)return;const _n=(0,He.ty)(bt,"a11y_read_out_incoming_dm");if(_n!==void 0){Ie((0,ye.p)(_n));return}Ie((0,ye.p)(!0))});Qe.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const dt=(0,d.kt)([a.setDidBootAllWorkspaces],Qe);var Ot=e(2517531287);const yt=(0,l.Ay)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(Ie,pe)=>{var Ue;const je=pe(),Xe=(0,R.getFocusedWorkspace)(je),ht=(0,L.oK)(Xe),bt=ht==null||(Ue=ht.getState)===null||Ue===void 0?void 0:Ue.call(ht);if(!bt)return;if((0,Pe.u$)(je)===""){const On=(0,He.ty)(bt,"a11y_play_sound_for_incoming_dm_choice"),Vn=On??"";Ie((0,Ot.R)(Vn))}if((0,Pe.kd)(je)===""){const On=(0,He.ty)(bt,"a11y_play_sound_for_sent_dm_choice"),Vn=On??"";Ie((0,Ot.r)(Vn))}});yt.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const Dt=(0,d.kt)([a.setDidBootAllWorkspaces],yt);var Ct=e(9113979368),kt=e(3297051565),vt=e.n(kt),Nt=e(1545824888),It=e(1874577777),At=e(6439846314),Zt=e(5257368278),jt=e(4294892493),Ht=e(3009309149);const Pt=(0,Ht.Ay)(Ie=>Ie&&Ie.persistedApiCalls);Pt.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:Ie=>Ie&&Ie.persistedApiCalls};const Ft="OFFLINE",En=(0,Zt.A)("Replay persisted API calls",function(Ie,pe){let Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt(pe());const je=pe();if(!(0,It.A)(je)||(0,Ct.A)(Ue))return;const Xe=(0,n.Ay)({state:je});Xe.info(Ft,"replayPersistedApiCalls called after workspace booted");const ht=Object.keys(Ue).sort().map(bt=>Ue[bt]);Nt.K.each(ht,bt=>Ie((0,At.apiCall)(bt)).catch(lt=>{Xe.error(Ft,`Error replaying ${bt.method} (${bt.persistKey})`,lt)}).finally(()=>{Xe.info(Ft,`Clearing persisted payload for ${bt.method} (${bt.persistKey})`),Ie((0,jt.M)(bt.persistKey))}))});En.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},En.propTypes=vt().object;const Rt=(0,l.Ay)("triggerReplayPersistedApiCalls",(Ie,pe,Ue)=>{const je=Ue.payload;(0,L.Qw)(je,En())});Rt.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const rn=(0,d.kt)([a.setWorkspaceBooted],Rt);var nn=e(859310680),at=e(3855029223),tt=e(2872463257);const ft=(0,l.Ay)("recordExperimentGroupsAsTrace side effect handler",(Ie,pe,Ue)=>{const je=(0,k.Ry)(),Xe=(0,R.getBootedWorkspaces)(je)||[];try{const ht=tt.nl.ALWAYS;Xe.forEach(bt=>{const lt=(0,L.$D)(bt),_n=(0,nn.xy)(lt),On=JSON.stringify(_n),Vn=(0,at.E)({state:lt}),ms=Vn.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:On}},samplingOptions:{sampleType:ht}});ms.close(),Vn.reportSpans([ms])})}catch(ht){(0,n.Wo)().warn("BOOT-TEAM","could not report experiment groups in trace",ht)}});ft.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const wt=(0,d.kt)([a.setDidBootAllWorkspaces],ft);var Jt=e(5613323535),sn=e(7604576471);const z=(0,l.Ay)("setAutoTracerTagProvider side effect handler",(Ie,pe,Ue)=>{Jt.LI.isEnabled()&&Jt.LI.setTagProvider((je,Xe)=>{if(!je)return{};switch(Xe){case sn.az.Lightweight:return{lightweight:!0};default:return(0,nn.go)(je)}})});z.meta={name:"createThunk",key:"createThunksetAutoTracerTagProvider",description:"setAutoTracerTagProvider side effect handler"};const Me=(0,d.kt)([a.setDidBootAllWorkspaces],z);var Be=e(8591884052),nt=e(2763437247),Lt=e(3146263870),Bt=e(8749908259),Yt=e(9714187984),on=e(2230482111),An=e(8668318456),Sn=e(56548687),In=e(5795074931);const Pn=(0,l.Ay)("Clog experiment related meta data for session toggles",(Ie,pe,Ue)=>{let{experimentNames:je}=Ue;const Xe=(0,on.v8)(on.i$),ht=(0,v.sST)(),bt=(0,k.en)(),lt=(0,R.getFocusedWorkspace)(bt.getState()),_n=(0,R.getBootedWorkspaces)(bt.getState()),On=_n.join(","),Vn=_n.map(ms=>{var qt;const Tn=(qt=(0,L.oK)(ms))===null||qt===void 0?void 0:qt.getState();return(0,In.WR)(Tn)}).join(",");je.forEach(ms=>{const qt=(0,Ee.B9)(ms);if(qt===nt.dw.Control||qt===nt.dw.Treatment||qt===nt.dw.On){var Tn;(0,Sn.e)({getState:(Tn=(0,L.oK)(lt))===null||Tn===void 0?void 0:Tn.getState}).track(An.EventId.CLIENT_SESSION_TOGGLE_CLOG,{contexts:{experimentName:ms,experimentGroup:qt,teamIds:On,userIds:Vn,visitorCookie:Xe,clientId:ht}})}})});Pn.meta={name:"createThunk",key:"createThunkclogDataForSessionToggles",description:"Clog experiment related meta data for session toggles"};var bn=e(306687250),wn=e(9681594967),qn=e(2325478352),kn=e(6143061638),Dn=e(7530010356);const Un=_(()=>{try{wn.qV.deleteDatabase()}catch(Ie){wn.qV.getLogger().error(`caught error from deleteDatabase: ${Ie}`)}},"objectStoreCallback"),Hn={[qn.Wv]:{cleanupCallback:Un},[Be.f]:{},[bn.z]:{},[Bt.i]:{},[Dn.Dm]:{forceReloadOnRollback:!0},[Lt.P]:{},[Ne]:{customToggleGroupMatcher:we},...Yt.nD};(0,nt.k8)(Hn);const jn=(0,l.Ay)("setToggleGroupsForNextSession",(Ie,pe,Ue)=>{Ie(Pn({experimentNames:Object.keys(Hn)})),Object.entries(Hn).forEach(je=>{let[Xe,ht]=je;(0,kn.ig)(Xe,ht)})});jn.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const Jn=(0,d.kt)([a.setDidBootAllWorkspaces],jn);var ln=e(4250409994),ss=e(2766373332);const vs=(0,l.Ay)("maybeToggleGlobalMuteShortcutHandler",(Ie,pe,Ue)=>(0,ss.N$)(Ue.payload));vs.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const ls=(0,d.kt)([ln.Bk],vs),Zn=(0,l.Ay)("updateLocalConfigOrderedTeamIds side effect handler",(Ie,pe,Ue)=>{const je=(0,n.Wo)({label:Ke.o7}),Xe=(0,k.Ry)(),ht=(0,R.getAllWorkspaces)(Xe);(!ht||ht.length===0)&&je.warn("Skipping update to orderedTeamIds, allWorkspaces is empty"),je.info(`Updating orderedTeamIds to ${ht.join(",")}`),(0,Ke.q9)("orderedTeamIds",ht)});Zn.meta={name:"createThunk",key:"createThunkupdateLocalConfigOrderedTeamIds",description:"updateLocalConfigOrderedTeamIds side effect handler"};const Rn=(0,d.kt)([a.addWorkspace],Zn);var Wn=e(2250002584);const es=(0,l.Ay)("recordWssRailVisibility side effect handler",(Ie,pe)=>{const Ue=(0,Wn.F)(),je=pe(),Xe=(0,Te.v8)(je)?1:0,ht=Ue.createMetricsTrace({samplingOptions:{sampleType:tt.nl.SESSION}});ht.store({name:"wss_rail:visible",value:Xe}),Ue.reportTrace(ht)});es.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const Gn=(0,d.kt)([a.setDidBootAllWorkspaces],es);var _s=e(3875705815),ds=e(6452473925),Wt=e(6696292586);function et(){let Ie;return pe=>pe===Ie?!1:(Ie=pe,!0)}_(et,"getDidUpdate");const ot=et(),ut=(0,l.Ay)("updateFromDesktop side effect handler",(Ie,pe,Ue)=>{var je;const Xe=pe(),ht=R.getFocusedWorkspace===null||R.getFocusedWorkspace===void 0?void 0:(0,R.getFocusedWorkspace)(Xe);if(!ht)return;const bt=(0,L.$D)(ht);if(!(0,_s.V)(bt))return;const lt=(je=Ue.payload.settings)===null||je===void 0?void 0:je.zoomLevel;(0,Wt.A)(lt)&&ot(lt)&&(0,k.dispatchForClientStore)((0,ds.Q)(lt))});ut.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const pt=(0,d.kt)([ae.Ez],ut);var Et=e(4134037340),Gt=e(2413251042),$e=e(6303140164);const oe=(0,l.Ay)("Set zoom value for client before starting BBM",(Ie,pe,Ue)=>{const{error:je}=(0,n.Wo)();(0,Et.A)(pe())||je(new Error("you must call setZoom for a client store"));try{(0,Ke.q9)($e.UY,Ue)}catch(Xe){je(new Error(`failed to store zoom in local storage: ${Xe}`))}Ie((0,Gt.x8)(Ue))});oe.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client before starting BBM"};function Ae(){let Ie;return pe=>pe===Ie?!1:(Ie=pe,!0)}_(Ae,"side_effects_getDidUpdate");const Oe=Ae(),Fe=(0,l.Ay)("updateFromDesktop side effect handler",(Ie,pe,Ue)=>{var je;const Xe=pe(),ht=R.getFocusedWorkspace===null||R.getFocusedWorkspace===void 0?void 0:(0,R.getFocusedWorkspace)(Xe);if(!ht)return;const bt=(0,L.$D)(ht);if((0,_s.V)(bt))return;const lt=(je=Ue.payload.settings)===null||je===void 0?void 0:je.zoomLevel;(0,Wt.A)(lt)&&Oe(lt)&&(0,k.dispatchForClientStore)(oe(lt))});Fe.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const Ze=(0,d.kt)([ae.Ez],Fe),rt=[f,he,X,rn,Me,se,Jn,...me,wt,ls,Dt,dt,Gn,Rn,Ze,De,pt];var Tt=e(4900557724);const Vt=50,cn="recents";var $t=e(8628205589),an=e(2384831516);let mn;function hn(Ie){mn&&(0,Tt.GP)(mn),mn=(0,Tt.BB)(()=>{mn=void 0,(0,Ke.q9)(cn,Ie)})}_(hn,"persistRecents");function Ln(){var Ie;return(Ie=(0,Ke.W6)(cn))!==null&&Ie!==void 0?Ie:[]}_(Ln,"loadRecents");const dn=Ln(),ts=(0,an.vy)({},dn,{persistenceEnabled:!1,storeKey:"recents"}).on($t.Eg,(Ie,pe)=>{let{entry:Ue}=pe;const je=[Ue,...Ie].slice(0,Vt);return hn(je),je}).on($t.PP,(Ie,pe)=>{let{entry:Ue}=pe;const je=[Ue,...Ie.slice(1)].slice(0,Vt);return hn(je),je}).on($t.TP,Ie=>{const pe=Ie.slice(0,1);return hn(pe),pe});var zn=e(3193155968),as=e(9936094925);const us={[zn.N2]:{index:0,previousIndex:null,stack:[]}},fs={persistenceEnabled:!1,storeKey:"mainWindowHistory"},Ns=(0,an.vy)({},us,fs).on($t.Eg,(Ie,pe)=>{let{windowId:Ue,entry:je}=pe;return{...Ie,[Ue]:(0,as.wg)({windowState:Ie[Ue],entry:je})}}).on($t.jW,()=>us).on($t.cM,(Ie,pe)=>{let{windowId:Ue,index:je,previousIndex:Xe}=pe;return{...Ie,[Ue]:(0,as.ds)({windowState:Ie[Ue],index:je,previousIndex:Xe})}}).on($t.$E,(Ie,pe)=>{let{windowId:Ue,index:je}=pe;return{...Ie,[Ue]:(0,as.cB)({windowState:Ie[Ue],index:je})}}).on($t.PP,(Ie,pe)=>{let{windowId:Ue,entry:je}=pe;return{...Ie,[Ue]:(0,as.w9)({windowState:Ie[Ue],entry:je})}});(0,c.ul)("mainWindowHistory",{getState:()=>(0,k.Ry)().mainWindowHistory[zn.N2]});var ys=e(7715417323);function Ss(){let{state:Ie,prevState:pe,workspaces:Ue=[],broadcastSelector:je=ys.A,broadcastAction:Xe=ys.A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ht=je(Ie),bt=je(pe);ht!==bt&&Ue.forEach(lt=>{(0,L.Qw)(lt,Xe(ht))})}_(Ss,"maybeBroadcastStateToWorkspaces");const xn=Ss;var Ds=e(1527536225);const Bs=(0,Ds.Ay)("Broadcast accessibility state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.VH)(lt),broadcastAction:lt=>(0,Q.Jq)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.nQ)(lt),broadcastAction:lt=>(0,Q.N)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.dF)(lt),broadcastAction:lt=>(0,Q.KQ)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.jX)(lt),broadcastAction:lt=>(0,Q.Tv)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.gb)(lt),broadcastAction:lt=>(0,Q.C_)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.zm)(lt),broadcastAction:lt=>(0,Q.XE)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.K9)(lt),broadcastAction:lt=>(0,Q.Mq)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.u$)(lt),broadcastAction:lt=>(0,Q.Sr)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.kd)(lt),broadcastAction:lt=>(0,Q.mw)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.gR)(lt),broadcastAction:lt=>(0,Q.Ap)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Pe.u)(lt),broadcastAction:lt=>(0,Q.V_)(lt)}),Xe});Bs.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};const Ms=Bs;var Hs=e(1004520977),ws=e(9234290540);const qe=(0,Ds.Ay)("Broadcast accessibility persistent state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,ws.i)(lt),broadcastAction:lt=>(0,Hs.w)(lt)}),Xe});qe.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};const Qt=qe;var Kt=e(3749529250);const it=(0,Ds.Ay)("Broadcast big button mode state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,_s.V)(lt),broadcastAction:lt=>lt?(0,Kt.z)():(0,Kt.K)()}),Xe});it.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMMiddleware",description:"Broadcast big button mode state to other stores"};var mt=e(5107871484),Mt=e(3029055053);const St=(0,Ds.Ay)("Broadcast big button mode settings state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Mt.N6)(lt),broadcastAction:lt=>(0,mt.Yf)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Mt.lz)(lt),broadcastAction:lt=>(0,mt.w6)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Mt.Tr)(lt),broadcastAction:()=>(0,mt.Ol)()}),Xe});St.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMSettingsMiddleware",description:"Broadcast big button mode settings state to other stores"};var zt=e(2456103428),un=e(6728717861);const Cn=(0,Ds.Ay)("Broadcast connectivity state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,un.Pb)(lt),broadcastAction:lt=>(0,zt.p9)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,un.XQ)(lt),broadcastAction:lt=>(0,zt.pm)(lt)}),Xe});Cn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};const fn=Cn;var Xt=e(848813706),Je=e(5223893135),ct=e(5095654950);const _t=(0,Ds.Ay)("Broadcast fullscreen state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Je.V)(lt),broadcastAction:lt=>lt?(0,ct.J)():(0,Xt.sM)()}),Xe});_t.meta={name:"createMiddleware",key:"createMiddlewarebroadcastFullscreenMiddleware",description:"Broadcast fullscreen state to other stores"};var xt=e(4309043566);const en=(0,an.Ny)("Broadcasts overlays state from client store to workspace stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>lt.overlays,broadcastAction:xt.l}),Xe});en.meta={name:"createMiddleware",key:"createMiddlewarebroadcastOverlaysMiddleware",description:"Broadcasts overlays state from client store to workspace stores"};var tn=e(9083290776);const gt=(0,Ds.Ay)("Broadcast workspaces state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht),lt=je&&(0,R.getBootedWorkspaces)(je),_n=(0,R.getAllWorkspaces)(ht),On=(0,R.getAllWorkspaces)(je),Vn=!On||_n.some((Tn,yn)=>Tn!==On[yn]),ms=(0,R.getRecentlyFocusedWorkspaces)(ht),qt=je&&(0,R.getRecentlyFocusedWorkspaces)(je);return(lt!==bt||Vn||qt!==ms)&&pn(bt,ms),Xe});gt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function pn(Ie,pe){const Ue=pe[0];Ue&&(Ie==null||Ie.forEach(je=>{(0,L.Qw)(je,(0,tn.K$)(pe)),(0,L.Qw)(je,(0,tn.fw)(pe))}),(0,v.ny2)(Ue))}_(pn,"broadcastFocusedWorkspaces");const vn=gt;var gn=e(252549317),$n=e(9042410435),rs=e(8736071954),gs=e(9563426960),cs=e(5470425448),Bn=e(5071086688),Qn=e(6117529990),Ts=e(4761125736);function xs(Ie){switch((0,Ts._Z)(Ie,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}_(xs,"getAllowedTurnTransportTypes");var Xn=e(5332875232);function Us(){return!(!("MediaStreamTrackProcessor"in globalThis)||!("MediaStreamTrackGenerator"in globalThis)||!("OffscreenCanvas"in globalThis)||!("ImageBitmap"in globalThis)||!("createImageBitmap"in globalThis))}_(Us,"isHuddlesBackgroundWorkerSupported");const Cs=(0,n.Wo)({label:"HUDDLE-INIT-OPTIONS"}),la=_((Ie,pe)=>{let{server:Ue,isPrejoin:je}=pe;if(!Ie){Cs.error("teamState is not defined. Returning empty init options");return}const Xe={};return Xe.serverConfig={...Ue,transportProtocols:xs(Ie)},Xe.isPrejoin=je,Xe.useChimeSdkExp=(0,Qn.OV)(Ie),Xe.useDevicesExp=(0,Xn.ZI)(Ie),Xe.useVideoUplinkPolicy=(0,Xn.Jf)(Ie),Xe.useH264BaselineScreenshare=(0,Qn.OV)(Ie)&&(0,Xn.RM)(Ie),Xe.useH264Baseline=(0,Qn.OV)(Ie)&&(0,Xn.er)(Ie),Xe.useAv1Screenshare=(0,Xn.Cu)(Ie),Xe.huddlesJukeboxEnabled=(0,Xn.lV)(Ie),Xe.disableAudioRedundancy=(0,Xn.JQ)(Ie),Xe.expectAv1EncoderFreeze=(0,Xn.Gh)(Ie),Xe.useSimulcast=!1,Xe.usePriorityDownlinkPolicy=!(0,h.gm)(),Xe.disableVp9=(0,Xn.lH)(Ie),Xe.useHuddlesFilterWorker=Us()&&(0,Xn.lz)(Ie),Xe.useHuddlesSignalStartDelay=(0,Xn._V)(Ie),Xe.useHuddlesDeviceErrorHandler=(0,Xn.FZ)(Ie),Cs.info("returning init options: ",Xe),Xe},"getSdkInitOptions");var Ws=e(6246464105),Os=e(6815073048),bs=e(2709531527),ks=e(164795489),na=e(3300324857),$o=e(4708000837),Za=e(1371073900),Xa=e(2457673737),sa=e(6664301844),ca=e(415910655),pa=e(2825968873),qa=e(5954792826),As=e(9680914051),da=e(9853754481),va=e(1829947126),Jo=e(9009528296),Zo=e(6470070112),eo=e(2527782504),to=e(9640070512),Is=e(462591818),Gs=e(1990810649),Xo=e(8556787853),$s=e(7578434623),qo=e(6155974509),Nn=e(387328355);const no=(0,l.Ay)("Maybe disable the screen share",async(Ie,pe)=>{const Ue=(0,pa.tZ)("CALLS-REDUX");pe().peers.self.isScreenshareEnabled&&(Ue.info("Attempted to turn off screen sharing"),Ie((0,Nn.kT)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),(0,qo.a)()});no.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var Js=e(7366481123),er=e(1289024643),so=e(7439555287),ga=e(7592559649),Ps=e(700984029),tr=e(9365970888),Pa=e(6251210828),ao=e(5145584581),Vs=e(6758774099),nr=e(4988306802);const oo=(0,l.Ay)("Process AWS transcript event",(Ie,pe,Ue)=>{var je;if((0,sa.VW)(Ue))return;const Xe=Ue.results[0];if(!(Xe!=null&&Xe.resultId)||!(0,nr.TP)(pe()))return;const ht=(je=Xe.alternatives[0])===null||je===void 0?void 0:je.items;if(!(ht!=null&&ht.length)){Ie((0,Vs.h2)({resultId:Xe.resultId,transcriptions:[]}));return}const bt=[];ht.forEach(lt=>{var _n;const On=bt[bt.length-1],Vn=(0,qa.l)((_n=lt.attendee)===null||_n===void 0?void 0:_n.externalUserId);Vn&&(lt.type===sa.E9.PUNCTUATION?On&&(On.content=`${On.content}${lt.content}`,On.endTimeMs=lt.endTimeMs):bt.push({memberId:Vn,timestampMs:lt.startTimeMs,endTimeMs:lt.endTimeMs||Date.now(),content:lt.content}))}),Ie((0,Vs.h2)({resultId:Xe.resultId,transcriptions:bt}))});oo.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};const sr=oo;var Zs=e(8783285437),os=e(5286203919),Mn=e(3065433701),ar=e(5253428843),or=e(5046160032),Sa=e(8935621861),rr=e(4914127094),ro=e(7344959578);const ir=(0,n.Wo)({label:"SEND-MEETING-EVENTS-LOGGER"}),io="screenhero.rooms.proxyMeetingEvents",lo=(0,l.Ay)("Send meeting events to the server",async(Ie,pe,Ue)=>{let je;try{je=JSON.stringify(Ue.events)}catch(lt){ir.error(lt.message);return}const{metrics:Xe,teamId:ht}=lr();if(Ue.isUnloading){const lt={app:Ue.app,meeting_id:Ue.meetingId,media_region:Ue.mediaRegion,attendee_id:Ue.attendeeId,call_id:Ue.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:je,preferred_media_region:await Sa.A.getInstance().getNearestChimeMediaRegion(ht),audio_connected_time:(Xe==null?void 0:Xe.audioConnectedTime)||0,first_presence_time:(Xe==null?void 0:Xe.firstPresenceTime)||0,rooms_join_time:(Xe==null?void 0:Xe.roomsJoinTime)||0,sdk_initialized_time:(Xe==null?void 0:Xe.sdkInitializedTime)||0,chime_attendee_presence_time:Ue.attendeePresenceDuration?Ue.attendeePresenceDuration:(Xe==null?void 0:Xe.attendeePresenceDuration)||0,chime_meeting_start_time:Ue.meetingStartDuration?Ue.meetingStartDuration:(Xe==null?void 0:Xe.meetingStartDuration)||0,chime_signaling_open_time:Ue.signalingOpenDuration?Ue.signalingOpenDuration:(Xe==null?void 0:Xe.signalingOpenDuration)||0,chime_ice_gathering_time:Ue.iceGatheringDuration?Ue.iceGatheringDuration:(Xe==null?void 0:Xe.iceGatheringDuration)||0,voice_focus_init_time:(Xe==null?void 0:Xe.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Xe==null?void 0:Xe.credentialsToVoiceFocusInitializedTime)||0};return(0,or.A)({apiUrl:"/api/",method:io,token:(0,rr.F)(pe()),versionTs:(0,ro.HF)(),versionUid:(0,ro.X3)(),args:lt})?Nt.S.resolve():Nt.S.reject(new Error("sendMeetingEvents: beacon failed"))}const bt=Ue.isEnding?{app:Ue.app,meeting_id:Ue.meetingId,media_region:Ue.mediaRegion,attendee_id:Ue.attendeeId,events:je,call_id:Ue.callId,preferred_media_region:await Sa.A.getInstance().getNearestChimeMediaRegion(ht),audio_connected_time:(Xe==null?void 0:Xe.audioConnectedTime)||0,first_presence_time:(Xe==null?void 0:Xe.firstPresenceTime)||0,rooms_join_time:(Xe==null?void 0:Xe.roomsJoinTime)||0,sdk_initialized_time:(Xe==null?void 0:Xe.sdkInitializedTime)||0,chime_attendee_presence_time:Ue.attendeePresenceDuration?Ue.attendeePresenceDuration:(Xe==null?void 0:Xe.attendeePresenceDuration)||0,chime_meeting_start_time:Ue.meetingStartDuration?Ue.meetingStartDuration:(Xe==null?void 0:Xe.meetingStartDuration)||0,chime_signaling_open_time:Ue.signalingOpenDuration?Ue.signalingOpenDuration:(Xe==null?void 0:Xe.signalingOpenDuration)||0,chime_ice_gathering_time:Ue.iceGatheringDuration?Ue.iceGatheringDuration:(Xe==null?void 0:Xe.iceGatheringDuration)||0,voice_focus_init_time:(Xe==null?void 0:Xe.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(Xe==null?void 0:Xe.credentialsToVoiceFocusInitializedTime)||0}:{app:Ue.app,meeting_id:Ue.meetingId,media_region:Ue.mediaRegion,attendee_id:Ue.attendeeId,events:je,call_id:Ue.callId};return Ie((0,At.apiCall)({method:io,args:bt,reason:"calls-chime-events"}))});lo.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function lr(){const Ie=(0,k.Ry)(),{teamId:pe}=(0,os.Qn)(Ie)||{};return{metrics:(0,ca.s2)(),teamId:pe}}_(lr,"getCallMetricsAndTeamId");const cr=(0,n.Wo)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),co=(0,l.Ay)("Handle Chime meeting events",(Ie,pe,Ue)=>{let{events:je,callId:Xe,meetingId:ht,mediaRegion:bt,attendeeId:lt,isUnloading:_n,isEnding:On}=Ue;const Vn=dr(je);!(0,Ct.A)(Vn)&&!_n&&!On&&(0,ca.jm)(Vn),Ie(lo({events:je,app:"huddles",callId:Xe,meetingId:ht,mediaRegion:bt,attendeeId:lt,isUnloading:_n,isEnding:On,attendeePresenceDuration:Vn.attendeePresenceDuration,signalingOpenDuration:Vn.signalingOpenDuration,iceGatheringDuration:Vn.iceGatheringDuration,meetingStartDuration:Vn.meetingStartDuration}))});co.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function dr(Ie){const pe={};return Ie.forEach(Ue=>{let{message:je}=Ue;try{const _n=JSON.parse(je);switch(_n.name){case"attendeePresenceReceived":var Xe;pe.attendeePresenceDuration=(Xe=_n.attributes)===null||Xe===void 0?void 0:Xe.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var ht,bt,lt;pe.signalingOpenDuration=(ht=_n.attributes)===null||ht===void 0?void 0:ht.signalingOpenDurationMs,pe.iceGatheringDuration=(bt=_n.attributes)===null||bt===void 0?void 0:bt.iceGatheringDurationMs,pe.meetingStartDuration=(lt=_n.attributes)===null||lt===void 0?void 0:lt.meetingStartDurationMs;break;default:break}}catch(_n){cr.error("Invalid JSON in meeting event",_n)}}),pe}_(dr,"parseMeetingEventMetrics");const ur=co;var Kn=e(3134334389),_r=e(9322124936),mr=e(862210999),hr=e(8908962692),Er=e(8921478798),fr=e(6066192332),Ra=e(6471059816),pr=e(3288567831),aa=e(2778217221),vr=e(8847766420),oa=e(6839101721),gr=e(5323669031),Ar=e(3094144240),Tr=e(9477894139),La=e(9391594207),Cr=e(4844578989),Xs=e.n(Cr),Ir=e(3534324375),uo=e(4954329752);let yr=_(class extends Kn.PureComponent{static getDerivedStateFromProps(pe,Ue){return pe.mediaStream!==Ue.currentMediaStream?pe.mediaStream&&Ue.currentMediaStream&&pe.mediaStream.id===Ue.currentMediaStream.id?{currentMediaStream:pe.mediaStream,isFlipped:pe.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:pe.mediaStream?Ue.currentMediaStream:void 0,currentMediaStream:pe.mediaStream,isFlipped:pe.isFlipped,wasFlipped:Ue.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const pe=this.videoRef.current,Ue=this.prevVideoRef.current;pe&&(pe.removeEventListener("canplay",this.onCanPlay),pe.removeEventListener("pause",this.onPause),pe.removeEventListener("resize",this.onResize)),Ue&&(Ue.removeEventListener("canplay",this.onCanPlay),Ue.removeEventListener("pause",this.onPause),Ue.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:pe}=this.state,Ue=pe&&pe.getVideoTracks()[0];this.isDataStopped&&Ue&&Ue.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(pe){this.state.currentMediaStream&&pe.target.srcObject instanceof MediaStream&&pe.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:pe,prevMediaStream:Ue}=this.state,je=this.videoRef.current,Xe=this.prevVideoRef.current;je&&(je.muted=!0,je.srcObject!==pe&&(je.addEventListener("canplay",this.onCanPlay),je.addEventListener("pause",this.onPause),je.addEventListener("resize",this.onResize),je.srcObject=pe||null)),Xe&&(Xe.muted=!0,Xe.srcObject!==Ue&&(Xe.removeEventListener("canplay",this.onCanPlay),Xe.removeEventListener("pause",this.onPause),Xe.removeEventListener("resize",this.onResize),Xe.srcObject=Ue||null))}onResize(){const pe=this.videoRef.current;pe&&(this.props.isSharingScreen?pe.style.objectFit="contain":pe.style.objectFit=pe.videoWidth>pe.videoHeight?"cover":"contain")}render(){const{className:pe,isFlipped:Ue,refToForward:je}=this.props,{currentMediaStream:Xe,prevMediaStream:ht,isCurrentMediaStreamReady:bt,wasFlipped:lt}=this.state;return Kn.createElement(Kn.Fragment,null,!bt&&ht&&Kn.createElement("video",{key:ht&&ht.id,className:Xs()("p-calls_video",pe,{flipped:lt}),ref:this.prevVideoRef,autoPlay:!0}),Kn.createElement("video",{className:Xs()("p-calls_video",pe,{flipped:Ue,hidden:!bt}),ref:(0,uo.P)(this.videoRef,je),autoPlay:!0,key:Xe&&Xe.id}))}constructor(pe){super(pe),this.prevVideoRef=Kn.createRef(),this.videoRef=Kn.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");function Ua(){return Ua=Object.assign||function(Ie){for(var pe=1;pe<arguments.length;pe++){var Ue=arguments[pe];for(var je in Ue)Object.prototype.hasOwnProperty.call(Ue,je)&&(Ie[je]=Ue[je])}return Ie},Ua.apply(this,arguments)}_(Ua,"_extends");const Dr=_((Ie,pe)=>{const Ue=(0,Nn.JZ)(Ie,pe.id);return{mediaStream:Ue.mediaStream,isFlipped:(0,Nn.fy)(Ue)&&!Ue.isScreenshareEnabled,isSharingScreen:Ue.isScreenshareEnabled}},"mapStateToProps"),Or=(0,La.N)(Dr)(yr),Mr=Kn.forwardRef((Ie,pe)=>Kn.createElement(Or,Ua({},Ie,{refToForward:pe})));var Pr=e(3150724727),Sr=e(6308822),_o=e(7299481592),Rr=e(5956851410),Lr=e(6909784049),Ur=e(8558782493),br=e(2843556239),mo=e(1975685771);function kr(Ie,pe){const Ue=Math.min(pe.width,pe.height*Ie),je=Math.min(pe.height,pe.width/Ie);return{top:pe.top+(pe.height-je)/2,left:pe.left+(pe.width-Ue)/2,width:Ue,height:je}}_(kr,"getLargestRectForAspectRatioCenteredWithinRect");let ba=_(class extends Kn.PureComponent{detectDifference(pe,Ue){return Math.abs(pe-Ue)>1}componentDidMount(){var pe;(0,pa.tZ)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),(0,Ur.k)(An.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),(pe=this.context.windowRef.deref())===null||pe===void 0||pe.addEventListener("resize",this.onResize),(0,mo.Z)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(pe){let{isVideoReady:Ue}=pe;!Ue&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){var pe;this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),(pe=this.context.windowRef.deref())===null||pe===void 0||pe.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!(0,mo.Z)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const pe=this.videoRef.current;!pe||pe.videoHeight===0||this.setState(()=>({videoRect:kr(pe.videoWidth/pe.videoHeight,pe.getBoundingClientRect())}))}render(){const pe=Kn.Children.only(this.props.children),Ue=Kn.cloneElement(pe,{ref:(0,uo.N)(this.videoRef,pe)});return Kn.createElement(Kn.Fragment,null,Ue,this.state.videoRect&&Kn.createElement(Rr.u,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&Kn.createElement(Lr.o,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(pe){super(pe),this.videoRef=Kn.createRef(),this.drawTargetRef=Kn.createRef(),this.drawRenderRef=Kn.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");ba.contextType=br._0,ba.displayName="GuestDraw";const Nr=_((Ie,pe)=>{const Ue=(0,Nn.gl)(Ie);if(!Ue)throw Error("Guest draw should not be mounted without an active peer");const je=(0,Nn.JZ)(Ie,Ue);return{isDrawEnabled:!!je.isScreenshareEnabled&&!!je.isDrawEnabled,isScreenShareEnabled:!!je.isScreenshareEnabled}},"guest_draw_mapStateToProps"),ho=(0,La.N)(Nr)(ba),Br={isVideoReady:!1};let Eo=_(class extends Kn.PureComponent{onVideoReady(pe){this.setState(Ue=>({...Ue,isVideoReady:pe}))}renderVideo(){const{id:pe,renderVideo:Ue,tileId:je}=this.props;if(Ue)return Ue(this.isVideoEnabledAndReady());if(!pe){(0,_o.M)("Cannot render video without a peer id");return}return Kn.createElement(ho,{isVideoReady:this.state.isVideoReady},Kn.createElement(Mr,{id:pe,tileId:je,onVideoReady:this.onVideoReady,className:Xs()({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:pe,prefCompliantUserName:Ue,member:je}=this.props;return Kn.createElement("div",{className:Xs()({hidden:this.state.isVideoReady})},Kn.createElement("div",{className:"p-active_speaker__member_image_wrapper"},Kn.createElement(Pr.Ay,{className:Xs()({"p-active_speaker__member_image--spinning":pe}),size:180,userId:je&&je.id,isInteractive:!1,tabIndex:-1}),pe&&Kn.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},Kn.createElement(Sr.A,{color:"white"}))),Kn.createElement("div",{className:"p-active_speaker__member_name"},Ue))}isVideoEnabledAndReady(){const{isVideoEnabled:pe,isVideoEnabledAndReady:Ue}=this.props;return Ue?Ue(pe):!!(pe&&this.state.isVideoReady)}render(){const{isVideoEnabled:pe}=this.props,Ue=Xs()("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return Kn.createElement("div",{"data-qa":"active-speaker",className:Ue},pe&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(pe){super(pe),this.state=Br,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");Eo.displayName="ActiveSpeaker";function xr(Ie,pe){const Ue=(0,ke.nv)(Ie,pe),je=(0,Ir.sE)(Ie,Ue);return{member:Ue,prefCompliantUserName:je}}_(xr,"mapCommonMemberState");const Wr=_((Ie,pe)=>{const Ue=(0,Nn.JZ)(Ie,pe.id),je=Ue.isCameraEnabled,Xe=Ue.isScreenshareEnabled,ht=(0,Nn.fy)(Ue)?(0,In.WR)(Ie):Ue.userId;return{tileId:pe.tileId,isVideoEnabled:je||Xe,isSpinning:Ue.isConnected===!1,...xr(Ie,ht)}},"active_speaker_mapStateToProps"),Fr=(0,La.N)(Wr)(Eo);var Kr=e(1429018002);function ka(){return ka=Object.assign||function(Ie){for(var pe=1;pe<arguments.length;pe++){var Ue=arguments[pe];for(var je in Ue)Object.prototype.hasOwnProperty.call(Ue,je)&&(Ie[je]=Ue[je])}return Ie},ka.apply(this,arguments)}_(ka,"with_free_willy_guest_draw_extends");const fo=_(Ie=>_(class extends Kn.PureComponent{addEventListeners(Ue,je,Xe){Ue.current&&(Ue.current.addEventListener("canplay",je),Xe&&Ue.current.addEventListener("resize",je))}removeEventListeners(Ue,je,Xe){Ue.current&&(Ue.current.removeEventListener("canplay",je),Xe&&Ue.current.removeEventListener("resize",je))}render(){return Kn.createElement(Ie,ka({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");fo.displayName="withFreeWillyGuestDraw";const Hr=fo;function Na(){return Na=Object.assign||function(Ie){for(var pe=1;pe<arguments.length;pe++){var Ue=arguments[pe];for(var je in Ue)Object.prototype.hasOwnProperty.call(Ue,je)&&(Ie[je]=Ue[je])}return Ie},Na.apply(this,arguments)}_(Na,"with_free_willy_active_speaker_extends");const wr=Hr(ho),po=_(Ie=>_(class extends Kn.PureComponent{isVideoEnabledAndReady(Ue){return Ue}renderVideo(Ue){const{id:je,tileId:Xe}=this.props;if(!je){(0,_o.M)("Cannot render video without a peer id");return}return Kn.createElement(wr,{isVideoReady:Ue},Kn.createElement(Kr.A,{id:je,tileId:Xe,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return Kn.createElement(Ie,Na({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(Ue){super(Ue),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");po.displayName="withFreeWillyActiveSpeaker";const Vr=po;var jr=e(6122756707),Gr=e(5043394918),zr=e(6084388622),Ba=e(9506008067),vo=e(1049642794);const Qr=new Ra.Ay("huddles"),go=_(()=>{const Ie=(0,jr.wA)(),pe=(0,Ba.d4)(je=>!!(0,Nn.WQ)(je,"isMicrophoneEnabled")),Ue=(0,Kn.useCallback)(()=>{Ie((0,vo.A)(!pe))},[pe,Ie]);return Kn.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},Kn.createElement(zr.Ay,{className:Xs()("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":pe}),onClick:Ue,type:"outline",role:"switch",size:"large","aria-label":Qr.t("Microphone"),"aria-checked":pe,disabled:!self},Kn.createElement(Gr.A,{peerId:"self",isMicrophoneEnabled:pe,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");go.displayName="HuddleScreenViewerMicButton";const Yr=go,$r=Vr(Fr),Jr=new Ra.Ay("huddles");function Ao(Ie){const{peerId:pe,isError:Ue}=Ie,je=(0,Ba.d4)(Nn.vz),Xe=(0,Ba.d4)(On=>pe?(0,Nn.JZ)(On,pe):null);let ht;if(je){var bt,lt;ht=Xe!=null&&Xe.isScreenshareEnabled?Xe==null||(bt=Xe.tileIds)===null||bt===void 0||(lt=bt.screenshare)===null||lt===void 0?void 0:lt.tileId:null}const _n=Kn.createElement("span",{className:"p-huddle_screen_viewer__error"},Jr.t("The screen share has ended."));return Kn.createElement("div",{className:"p-huddle_screen_viewer__container"},pe&&!Ue&&Kn.createElement($r,{id:pe,tileId:ht}),Ue?_n:Kn.createElement(Yr,null))}_(Ao,"HuddleScreenViewer"),Ao.displayName="HuddleScreenViewer";var Zr=e(4385664584),Xr=e(6165267850);const hs={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},Pl=null,To=new Ra.Ay("huddles"),qr=_(Ie=>{var pe;const Ue=Ie==null||(pe=Ie.document)===null||pe===void 0?void 0:pe.querySelectorAll(".p-huddle_screen_viewer__container"),je=Ue?Ue.length:0,Xe=(0,pa.tZ)("SCREENSHARE-VIEWER-APP");je>1?Xe.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):Xe.info(`${je} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),Aa=_(()=>{const{container:Ie,childWindow:pe}=hs;Ie&&(_r.unmountComponentAtNode(Ie),hs.containerTileId=void 0,hs.container=void 0),pe&&(pe.removeEventListener("beforeunload",Aa),pe.close(),hs.childWindow=void 0,hs.childWindowToken=void 0)},"closeScreenShareWindow"),ei=(0,l.Ay)("Launch the window that renders screen share media",async(Ie,pe,Ue)=>{var je,Xe,ht;const bt=pe(),lt=(0,n.Ay)({state:bt}),_n=Ue!=null&&Ue.screenSharePeerId?Ue.screenSharePeerId:(0,Nn.vN)(bt);let On=!1;const{container:Vn,containerTileId:ms}=hs;_n||(lt.warn(aa.o7,"lastRemoteScreensharePeerId is not found"),On=!0);const qt=(0,Nn.JZ)(bt,_n||""),Tn=qt.userId?(0,Er.I)(bt,qt.userId):"";let yn=To.t("Screen share");Tn&&(yn=To.t("{memberName} screen share",{memberName:(0,pr.Ay)(Tn)}));const Yn={...Ar.P,backgroundColor:"black",title:yn,windowId:"huddle-call-screen-share"},ns=(0,k.Ry)();(0,os.Ak)(ns)||(lt.warn(aa.o7,"no active huddle found"),On=!0);const Es=(qt==null||(je=qt.tileIds)===null||je===void 0||(Xe=je.screenshare)===null||Xe===void 0?void 0:Xe.tileId)||0;(0,k.dispatchForClientStore)((0,oa.cn)({tileId:Es}))||(lt.warn(aa.o7,"video tile does not have stream"),On=!0);const ea=!hs.childWindow||hs.childWindow.closed;if(ea&&(0,h.y3)()){const{window:ia,windowToken:Ea}=await(0,hr.wK)("",Yn);hs.childWindow=ia,hs.childWindowToken=Ea}else ea&&(hs.childWindow=window.open("",yn,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!hs.childWindow){lt.warn(aa.o7,"No child window available. Exiting screen share window launch");return}const ma=(0,vr.ZT)(bt);hs.childWindow.document&&(hs.childWindow.document.body.style.background="black");const js=(0,Xr.O)(hs.childWindow);if(ea&&(hs.childWindow.addEventListener("beforeunload",Aa),window.addEventListener("beforeunload",Aa)),!(Vn&&ms===Es)||ea){hs.containerTileId=Es;const ia=(0,L.oK)(ma);hs.container=await(0,gr.s)(hs.childWindow,Kn.createElement(Zr.A,{store:ia},Kn.createElement(fr.D,{windowRef:js},Kn.createElement(Tr.A,{shouldStopHuddle:!0},Kn.createElement(Ao,{peerId:_n,isError:On})))),{useContainer:!0})}const ha=(ht=hs.childWindow)===null||ht===void 0?void 0:ht.browserWindowId;ha?(0,v.hN0)(ha):(0,mr.A)(hs.childWindow.focus)&&hs.childWindow.focus(),qr(hs.childWindow)});ei.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var ti=e(5761207079);const Co=(0,l.Ay)("alerts if a user joins the huddle and the current user has hidden that user",(Ie,pe,Ue)=>{let{userId:je}=Ue;const Xe=pe();(0,ti.a)(Xe,je)&&Ie((0,Js.Iw)(Js.vT.HiddenUserJoinedHuddle))});Co.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var xa=e(5378147939);const Io=(0,l.Ay)("Resolve a pending huddle",(Ie,pe,Ue)=>(0,xa.A)().resolvePendingJoin(Ue));Io.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};const ni=Io;var si=e(6310192986),ai=e(6694086724),oi=e(9548972574),ri=e(3474336343),ii=e(3263322402),yo=e(3977512448);const Wa=(0,l.Ay)("update client huddle membership timers join",(Ie,pe)=>{const Ue=pe(),je=(0,n.Ay)({state:Ue}),Xe=(0,k.Ry)(),ht=(0,os.Ak)(Xe),bt=(0,ri.Wg)(Ue,{tip:yo.ml.Huddles});if(!ht){je.warn(aa.o7,"no active huddle found, cannot update state to together or alone");return}const lt=(0,oi.Sx)(Ue);if(lt===0){(0,xa.A)().setAloneInHuddle();return}lt>0&&(bt&&Ie((0,ii._A)(!0)),(0,xa.A)().setOthersInHuddle(),Ie((0,ai.e)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});Wa.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var Ta=e(9712681361);let li=_(class{onPeerMuted(pe,Ue){this.dispatch((0,Nn.kT)({id:pe,isMicrophoneEnabled:!Ue}))}onPeerJoined(pe,Ue){if(this.maybeRecordFirstPresenceTime(),Ue&&pe){this.dispatch((0,Nn.Uu)({id:pe,userId:Ue,isMicrophoneEnabled:!0})),this.dispatch(Wa());const je=(0,Nn.Ng)(this.store.getState());(0,k.dispatchForClientStore)((0,ln.Rr)({isDrawEnabled:je.isDrawEnabled||!1})),this.dispatch((0,Vs.U$)({type:Zs.v.JOIN,memberId:Ue,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(Ue),this.dispatch(Co({userId:Ue}))}}onPeerLeft(pe){var Ue;const je=(Ue=(0,Nn.jB)(this.store.getState(),pe))===null||Ue===void 0?void 0:Ue.userId;je&&(this.callLogger.info(`Peer left the huddle. userId=${je} peerId=${pe}`),this.dispatch((0,Vs.U$)({type:Zs.v.LEAVE,memberId:je,timestampMs:Date.now()}))),this.dispatch((0,Nn.xx)(pe)),this.dispatch(Wa())}onSelfJoined(){const pe=this.recordTiming(As.qK);this.maybeRecordFirstPresenceTime(),this.dispatch(ni(pe)),(0,k.dispatchForClientStore)((0,ln.wr)())}onSelfLeft(){this.dispatch((0,Js.LL)(Mn.vT.HiddenUserJoinedHuddle))}onNewActiveSpeaker(pe){this.dispatch((0,Nn.FX)(pe))}onPeerReacji(pe,Ue,je,Xe,ht){var bt;const lt=this.store.getState(),_n=ht?(0,Xo.Ay)(lt,{url:ht}):void 0;this.dispatch((0,Nn._x)({peerId:pe,emoji:Ue,isEmoji:je,reactionType:Xe,emojiUrl:_n}));const On=(bt=(0,Nn.jB)(this.store.getState(),pe))===null||bt===void 0?void 0:bt.userId;On&&this.dispatch((0,Vs.U$)({type:Zs.v.SEND_REACTION,memberId:On,timestampMs:Date.now(),emoji:Ue}))}onPeerMuteRequest(pe,Ue){Ue===this.selfAttendeeId&&(this.dispatch((0,vo.A)(!1)),this.dispatch((0,Mn.CE)({alert:Mn.vT.PeerMuteRequest,peerId:pe})),this.callLogger.info(`Peer muted self microphone : peerId:${pe}`))}onError(pe,Ue){let je;Ue===sa.b9[sa.b9.AudioJoinedFromAnotherDevice]?je=Ta.M6.AudioJoinedFromAnotherDevice:Ue===sa.b9[sa.b9.MeetingEnded]&&(je=(0,Zo.ew)((0,so.KA)().getState())?Ta.M6.ChimeMeetingEndedFromTimeLimit:Ta.M6.ChimeMeetingEnded),this.dispatch((0,ar.A)({terminalState:je||pe})),this.callLogger.info(`tearDown executed: terminalState: ${pe}, statusCodeName: ${Ue} tearDownState: ${je}`)}onClogError(pe){}onMeetingSessionInitialized(){this.recordTiming(As.W_);const pe=(0,$s.Cy)({state:this.store.getState()}),Ue=pe.measure(As.Bq,As.CY);pe.count(As.CY,Ue),(0,ca.jm)({sdkInitializedTime:Ue})}onSelfPermissionUpdated(pe,Ue){this.callLogger.info(`Received permission update from type:${Ue}, isDenied: ${pe}`);let je;(0,h.y3)()?je=Ue===rs.lW.Microphone?Mn.vT.NoSystemAudio:Mn.vT.NoSystemVideo:je=Ue===rs.lW.Microphone?Mn.vT.NoBrowserAudioPermission:Mn.vT.NoBrowserVideoPermission,pe?this.dispatch((0,Mn.CE)({alert:je})):this.dispatch((0,Mn.Gu)(je))}onSelfVideoTileUpdate(pe){if(!pe.tileId)return;const Ue=(0,Nn.Ng)(this.getState());if(!pe.isContent&&!Ue.isCameraEnabled)return;if(!(0,Nn.vz)(this.getState()))this.dispatch((0,Vs.U$)({type:Zs.v.SCREENSHARE_START,memberId:(0,In.WR)(this.getState()),timestampMs:Date.now()})),this.dispatch((0,Nn.kT)({id:"self",tileId:pe.tileId,isScreenshareEnabled:!!pe.isContent}));else if(pe.isContent){var Xe,ht;this.dispatch((0,Vs.U$)({type:Zs.v.SCREENSHARE_START,memberId:(0,In.WR)(this.getState()),timestampMs:Date.now()}));const bt=(0,Nn.JC)(this.getState());((Xe=Ue.tileIds)===null||Xe===void 0||(ht=Xe.screenshare)===null||ht===void 0?void 0:ht.tileId)!==pe.tileId&&bt!==Gs.cM.Screenshare&&this.dispatch((0,ao.x)({peerId:"self",contentViewType:Gs.cM.None,contentViewConfig:{}})),this.dispatch((0,Nn.kT)({id:"self",tileId:pe.tileId,isScreenshareEnabled:!!pe.isContent}))}else this.dispatch((0,Nn.kT)({id:"self",tileId:pe.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(pe,Ue){if(!Ue.tileId)return;const je=Ue.boundExternalUserId&&(0,qa.l)(Ue.boundExternalUserId);Ue.isContent&&je&&(this.callLogger.info(`Peer screenshare started: userId=${je}`),this.dispatch((0,Vs.U$)({type:Zs.v.SCREENSHARE_START,memberId:je,timestampMs:Date.now()}))),this.dispatch((0,Nn.BD)({id:pe,tileId:Ue.tileId,isContent:Ue.isContent,isPaused:Ue.paused}))}onVideoTileRemoved(pe){var Ue,je;const Xe=this.store.getState(),ht=(0,Nn.v2)(Xe,pe);ht&&(this.callLogger.info(`Peer screenshare stopped: userId=${ht}`),this.dispatch((0,Vs.U$)({type:Zs.v.SCREENSHARE_STOP,memberId:ht,timestampMs:Date.now()}))),this.dispatch((0,Nn.Qr)({tileId:pe})),Aa();const bt=(0,Nn.Ng)(Xe);((Ue=bt.tileIds)===null||Ue===void 0||(je=Ue.screenshare)===null||je===void 0?void 0:je.tileId)===pe&&bt.contentViewType===Gs.cM.Screenshare&&this.dispatch((0,ao.x)({peerId:"self",contentViewType:Gs.cM.None,contentViewConfig:{}}))}onVideoTileWillPause(pe){this.dispatch((0,Nn.K3)({tileId:pe}))}onVideoTileWillUnpause(pe){this.dispatch((0,Nn.XS)({tileId:pe}))}onDeviceAccessApproved(pe){switch(pe){case Is.mT.MICROPHONE:{(0,h.y3)()?(this.dispatch((0,Mn.Gu)(Mn.vT.NoSystemAudio)),this.dispatch((0,Ps.er)())):(this.dispatch((0,Mn.Gu)(Mn.vT.NoBrowserAudioPermission)),this.dispatch((0,Ps.ZY)()));break}case Is.mT.CAMERA:{(0,h.y3)()?(this.dispatch((0,Mn.Gu)(Mn.vT.NoSystemVideo)),this.dispatch((0,Ps.NH)())):(this.dispatch((0,Mn.Gu)(Mn.vT.NoBrowserVideoPermission)),this.dispatch((0,Ps.in)()));break}default:}}onCheckSystemMediaAccess(pe){switch(pe){case Is.mT.MICROPHONE:{this.dispatch((0,Ps.tG)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoSystemAudio}));break}case Is.mT.CAMERA:{this.dispatch((0,Ps.Yr)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoSystemVideo}));break}case Is.mT.SCREEN:{this.dispatch((0,Ps.J3)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(pe){switch(this.callLogger.error(`Self ${pe} device access denied`),pe){case Is.mT.MICROPHONE:{this.dispatch((0,Ps.cH)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoBrowserAudioPermission}));break}case Is.mT.CAMERA:{this.dispatch((0,Ps.px)()),this.dispatch((0,Mn.CE)({alert:Mn.vT.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(pe){switch(pe){case Is.mT.MICROPHONE:{this.dispatch((0,Mn.CE)({alert:Mn.vT.NoUserAudioStream}));break}case Is.mT.CAMERA:{const Ue=(0,tr.ly)(this.getState());if((0,k.dispatchForClientStore)((0,ln.WM)({setVideoEnabled:!1})),!(0,h.y3)()&&Ue)break;this.dispatch((0,Mn.CE)({alert:Mn.vT.NoUserVideoStream}));break}default:}}onClearNoMediaInput(pe){switch(pe){case Is.mT.MICROPHONE:{this.dispatch((0,Mn.Gu)(Mn.vT.NoUserAudioStream));break}case Is.mT.CAMERA:{this.dispatch((0,Mn.Gu)(Mn.vT.NoUserVideoStream));break}default:}}onSetNoAudioOutput(pe){switch(pe){case Is.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.NoAudioOutputAudioElementError}));break}case Is.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(pe){switch(pe){case Is.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Mn.Gu)(Mn.vT.NoAudioOutputAudioElementError));break}case Is.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Mn.Gu)(Mn.vT.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch((0,Nn.kT)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch((0,Nn.kT)({id:"self",isConnected:!1})),Bn.A.publish({type:cs.lx.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(pe,Ue){this.callLogger.info(`${pe} audio packet loss changed to: ${Ue}`)}onPeerConnected(pe){this.callLogger.info(`peer connnected to chime media server ${pe}`),this.dispatch((0,Nn.E3)({id:pe,isConnected:!0}))}onPeerDisconnected(pe){this.callLogger.info(`peer disconnected from chime media server ${pe}`),this.dispatch((0,Nn.E3)({id:pe,isConnected:!1}))}onPeerConnectionQualityChanged(pe,Ue,je){}onSelfMediaStreamChanged(pe){}onNewPeerMediaStream(pe,Ue){}onScreenThumbnails(pe){}onUpdatedSelfAudioLevel(pe){va.A.publish("self",pe/da.Ep),Jo.A.publish(pe/da.Ep);const Ue=this.store.getState();(0,Xn.lV)(Ue)&&va.A.publishAll("self",pe/da.Ep)}onUpdatedPeerAudioLevels(pe){const Ue=this.store.getState();Object.entries(pe).forEach(Xe=>{let[ht,bt]=Xe;va.A.publish(ht,bt/da.Ep)}),(0,Xn.lV)(Ue)&&Object.entries(pe).forEach(Xe=>{let[ht,bt]=Xe;va.A.publishAll(ht,bt/da.Ep)})}onPeerCameraActive(pe,Ue){const je=pe==="self";this.callLogger.info(`${je?"Self":`Peer (${pe})`} camera turned ${Ue?"on":"off"}`),this.dispatch((0,Nn.kT)({id:pe,isCameraEnabled:Ue}))}onPeerScreenShareActive(pe,Ue){const je=pe==="self";this.callLogger.info(`${je?"Self":`Peer (${pe})`} screenshare ${Ue?"started":"stopped"}`)}onPeerDrawMessage(pe,Ue){na.A.publish({id:pe,...Ue})}onPeerDrawEnabled(pe,Ue){this.dispatch((0,Nn.kT)({id:pe,isDrawEnabled:Ue}))}onAppMetrics(pe){let{appMetrics:Ue,clientMetricReport:je,screenshareRtcStats:Xe}=pe;const ht=(0,si.Ay)({state:this.getState(),appMetrics:Ue});Bn.A.publish({type:cs.lx.AppMetrics,update:{huddleStateSnapshot:ht,clientMetricReport:je,screenshareRtcStats:Xe}})}onDevicesUpdated(pe){this.dispatch((0,Ps.Fb)(pe))}onOutputDeviceChanged(pe){this.callLogger.info(`Self audio output device changed: device: ${pe.id}`),this.dispatch((0,Ps.AS)(pe))}onDeviceTypeBlocked(pe){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(no());const Ue=(0,k.en)().getState(),je=(0,os.Ak)(Ue);!je||(0,Ct.A)(je)||je.huddleState===Ta.RJ.ENDING||this.dispatch((0,to.H)({focusKey:eo.Ay.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch((0,to.H)({focusKey:eo.Ay.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){Bn.A.publish({type:cs.lx.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){Bn.A.publish({type:cs.lx.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){Bn.A.publish({type:cs.lx.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){Bn.A.publish({type:cs.lx.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(As.dk)}onStart(){this.recordTiming(As.Nh)}onAudioVideoDidStart(){this.recordTiming(As.ck),(0,k.dispatchForClientStore)((0,ln._U)(Date.now()))}onAudioVideoDidStop(){const pe=(0,k.en)(),Ue=(0,os.cN)(pe==null?void 0:pe.getState()),je=Date.now(),Xe=je-Ue;(0,k.dispatchForClientStore)((0,ln.bV)(je)),(0,k.dispatchForClientStore)((0,ln.qr)(Xe))}onMaxTileSizeUpdated(pe){this.dispatch((0,Nn.l$)(pe))}onInit(){this.recordTiming(As.cP)}onVoiceFocusLoaded(){const pe=(0,$s.Cy)({state:this.store.getState()}),Ue=pe.measure(As.aN,As.pz);pe.count(As.pz,Ue),this.recordTiming(As.qb)}onVoiceFocusStartLoading(){(0,$s.Cy)({state:this.store.getState()}).mark(As.aN)}recordTiming(pe){const Ue=(0,$s.Cy)({state:this.store.getState()}),je=Ue.measure(As.qr,pe);return Ue.count(pe,je),je}onMeetingEvents(pe,Ue,je,Xe,ht,bt,lt){this.dispatch(ur({events:ht,callId:Xe,meetingId:pe,mediaRegion:Ue,attendeeId:je,isUnloading:bt,isEnding:lt}))}onMaybeVoiceFocusInitialized(pe){const je=(0,$s.Cy)({state:this.store.getState()}).measure(As.Bq,As.bv);(0,ca.jm)({voiceFocusInitializedTime:pe,credentialsToVoiceFocusInitializedTime:je})}onScreenShareError(pe){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${pe}`),pe){case Is.lD.NOT_FOUND_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.SSNotFoundError}));break}case Is.lD.NOT_READABLE_ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.SSNotReadableError}));break}case Is.lD.ERROR:{this.dispatch((0,Mn.CE)({alert:Mn.vT.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch((0,Mn.CE)({alert:Mn.vT.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(pe){this.dispatch(sr(pe))}setSelfAttendeeId(pe){this.selfAttendeeId=pe}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(As.dP),(0,ca.jm)({firstPresenceTime:this.firstPresenceTimeMs}))}onAudioInputTrackMuted(){this.dispatch((0,Mn.CE)({alert:Mn.vT.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch((0,Mn.Gu)(Mn.vT.AudioInputTrackMuted))}onAudioInitPossiblyFailed(){this.dispatch((0,Ps.Mb)())}onAudioInitTimeTaken(pe){this.dispatch((0,Ps.Ee)(pe))}onJukeboxRequest(pe){if(!(0,Xn.lV)(this.getState()))return;const je=this.isDj(),ht=(0,Pa.Rl)(this.getState())[pe];!je||!ht||((0,k.dispatchForClientStore)((0,ln.bk)({song:ht})),(0,k.dispatchForClientStore)((0,ln._u)({song:ht})),(0,k.dispatchForClientStore)((0,ln.WY)(ht)))}onJukeboxStopRequest(){!(0,Xn.lV)(this.getState())||!this.isDj()||((0,k.dispatchForClientStore)((0,ln.JM)()),(0,k.dispatchForClientStore)((0,ln._u)({song:void 0})))}isDj(){var pe;const Ue=(0,In.WR)(this.getState()),je=(0,k.en)(),Xe=(pe=(0,os.Qn)(je==null?void 0:je.getState()))===null||pe===void 0?void 0:pe.callId,ht=(0,ga.gV)(this.getState(),{callId:Xe}),bt=(0,ga.gV)(this.getState(),{callId:Xe,userId:Ue});return!ht||!!bt}maybeRemoveUserAsPending(pe){const Ue=(0,k.en)(),je=(0,os.E9)(Ue==null?void 0:Ue.getState());je&&this.dispatch((0,er.r_)({callId:je,userId:pe}))}onContentShareDetailsUpdate(pe,Ue,je){this.dispatch((0,Nn.kT)({id:pe,isDrawEnabled:Ue,contentShareSource:je}))}onAudioDeviceError(pe){switch(pe){case"NotReadableError":this.dispatch((0,Mn.CE)({alert:Mn.vT.AudioNotReadableError}));break;case"NotFoundError":this.dispatch((0,Mn.CE)({alert:Mn.vT.AudioNotFoundError}));break;case"OverconstrainedError":this.dispatch((0,Mn.CE)({alert:Mn.vT.AudioOverconstrainedError}));break;default:this.callLogger.error(`Unknown audio device error type: ${pe}`);break}}onVideoDeviceError(pe){switch(pe){case"NotReadableError":this.dispatch((0,Mn.CE)({alert:Mn.vT.VideoNotReadableError}));break;case"NotFoundError":this.dispatch((0,Mn.CE)({alert:Mn.vT.VideoNotFoundError}));break;case"OverconstrainedError":this.dispatch((0,Mn.CE)({alert:Mn.vT.VideoOverconstrainedError}));break;default:this.callLogger.error(`Unknown video device error type: ${pe}`);break}}onClearAudioDeviceErrors(){this.callLogger.info("Clearing audio device errors"),this.dispatch((0,Mn.Qu)())}onClearVideoDeviceErrors(){this.callLogger.info("Clearing video device errors"),this.dispatch((0,Mn.Lu)())}onClearAllAlerts(){this.callLogger.info("Clearing all alerts"),this.dispatch((0,Mn.lW)())}constructor(pe){this.firstPresenceTimeMs=0,this.callLogger=(0,pa.Jt)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=pe.dispatch,this.getState=pe.getState,this.store=pe}},"HuddleActionDispatcher");var ci=e(1890776492),ua=e(4066669727),zs=e(8778137680),di=e(7434063642),Do=e(4156857608);let Ut,Fa,Qs;const ui="HUDDLE-SDK",_i="HUDDLE-CLIENT-MIDDLEWARE",Rs=(0,n.Wo)({label:_i}),Oo=_(Ie=>{Ie.id==="self"&&(Ut==null||Ut.sendDrawMessage(Ie))},"onPeerDrawPublish");function Ka(Ie,pe,Ue,je){const Xe=(0,os.E9)(Ie),ht=(0,os.l4)(Ie),bt=ht?(0,L.oK)(ht):void 0,lt=bt?bt.getState():void 0,_n=lt?(0,In.WR)(lt):void 0;Xe&&_n&&(bt==null||bt.dispatch(pe({user:_n,channel:Xe,fieldValue:Ue,experimentHuddlesMultiDeviceGroupOn:je})))}_(Ka,"maybeDispatchAwarenessUpdate");function _a(Ie,pe,Ue){const je=(0,os.E9)(Ie),Xe=(0,os.l4)(Ie),ht=Xe?(0,L.oK)(Xe):void 0,bt=ht?ht.getState():void 0,lt=bt?(0,In.WR)(bt):void 0;je&&lt&&(ht==null||ht.dispatch(pe({user:lt,channel:je,experimentHuddlesMultiDeviceGroupOn:Ue})))}_(_a,"maybeDispatchAwarenessRemove");const Mo=(0,Ds.Ay)("dispatches actions to huddles SDK",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=_(()=>{const qt=(0,os.l4)(je),Tn=(0,L.oK)(qt);if(!Tn)return{};const yn=Tn==null?void 0:Tn.getState();if(!yn)return{};const Yn=(0,Nn.Ng)(yn)||{};return{huddlesVideoActive:(0,Nn.vz)(yn),self:Yn}},"getIsHuddlesVideoActive");switch(Ue.type){case ln.kn.getType():{var ht;const qt=Ue.payload;Fa=qt==null||(ht=qt.audioOutputRef)===null||ht===void 0?void 0:ht.current,Sa.A.getInstance().init();break}case ln.Sd.getType():{const{huddlesVideoActive:qt,self:Tn}=Xe();Ut&&Ut.hasSession()&&(qt?Ut.selfVideoEnabled(!0,!!(Tn!=null&&Tn.isScreenshareEnabled)):Ut.selfVideoEnabled(!0,!1));break}case ln._I.getType():{const{huddlesVideoActive:qt,self:Tn}=Xe();Ut&&Ut.hasSession()&&(qt?Ut.selfVideoEnabled(!1,!!(Tn!=null&&Tn.isScreenshareEnabled)):Ut.selfVideoEnabled(!1,!1));break}case ln.qW.getType():{Rs.info("BOOT","user agent:",navigator.userAgent);const qt=Ue.payload;let Tn=qt.isStartMuted;if(!Fa){Rs.error("Missing audio output element");return}const{server:yn,roomId:Yn}=qt.callResult,ns=yn.attendee.AttendeeId,is=qt.waitForHuddleStart,Es=qt.isPrejoin;(0,k.dispatchForClientStore)((0,ln.og)(Es));const Fs=Es?(0,os.Qn)(je):(0,os.Ak)(je),{teamId:ea}=Fs||{},ma=(0,R.getFocusedWorkspace)(je),js=(0,L.oK)(ea||ma),Oa=js?js.getState():void 0;if(!Oa){Rs.error("team state not available while initializing huddlesSdk. Returning early");return}Rs.info("client-huddles-middleware: Dispatching resetPeersStore"),js.dispatch((0,Nn.VL)({huddlesVideoActive:!0})),js.dispatch((0,di.X6)()),Tn=Tn||(0,He.ty)(Oa,"huddles_mute_by_default"),Tn&&(Rs.info("Start huddle as muted as specified in user prefs"),js.dispatch((0,Nn.kT)({id:"self",isMicrophoneEnabled:!1}))),Qs&&Qs.stop(!0),(0,so.Gc)(ma),Qs=new ks.w,Qs.start(Yn);const ha=(0,ci.u)();ha.then(Ys=>{Ys&&(Rs.info("Log reporter stopped"),Qs==null||Qs.stop(!0,!1),Qs=void 0)});const ia=new li(js),{ttiTrace:Ea}=(0,Os.A)().getAllTraceHandlers();Ut=new gs.Y(ia,Fa,ui),(0,Ws.Y)({name:Ws.R1.HuddlesSdk,ref:Ut});const Ya=(0,$o.Y)(yn.attendee.ExternalUserId),zo=la(Oa,{server:yn,isPrejoin:Es});if(!zo){Rs.error("sdk options not available. Returning early");return}const $a=[],Ma=ea||ma;if(Ya&&Ma){const Ys=new ua.SV({teamId:Ma,peerId:ns,topicId:Ya,isHuddlesAwarenessTimestampEnabled:(0,Xn.gG)(js.getState())});$a.push(Ys);const Qo=new ua.MC({teamId:Ma});$a.push(Qo),ua.PL.watch(Ma,Ya,Ys),(0,Ws.Y)({name:Ws.R1.ChimeChannelListener,ref:Qo}),(0,Ws.Y)({name:Ws.R1.ChimeChannelBroadcaster,ref:Ys})}Ut.initialize(zo,[Is.mT.MICROPHONE],!!Tn,is,ha,$a).then(()=>{const Ys=Ut==null?void 0:Ut.getMeetingMediaRegion();Ea==null||Ea.setMediaRegionTag(Ys),Bn.A.publish({type:cs.lx.SelectedMediaRegion,update:{mediaRegionSelected:Ys}}),Ut&&!Es&&(Ut==null||Ut.maybeBindAudioOutputElement(),Ut==null||Ut.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),ia.setSelfAttendeeId(ns),na.A.subscribe(Oo),Rs.info("User started huddle");break}case ln.pl.getType():{const qt=Ue.payload;if(Ut){const{waitForHuddleEnd:Tn}=qt;Ut.shutdown(()=>{Tn.resolve()});const yn=(0,R.getFocusedWorkspace)(je),Yn=(0,L.oK)(yn);Yn==null||Yn.dispatch((0,Js.LL)(Js.vT.SpeakingWhenMuted));const ns=(0,Xn.pL)(Yn==null?void 0:Yn.getState()),is=(0,os.E9)(je);is&&(_a(je,zs.RZ,ns),_a(je,zs.Lm,ns),ua.PL.unwatch(is)),na.A.unsubscribe(Oo),Rs.info("User left huddle")}Ut=void 0,ua.PL.unwatchAll(),(0,Ws.N5)();break}case ln.I9.getType():{const qt=Ue.payload;if(Ut&&Ut.hasSession()&&(Ut.selfMicrophoneEnabled(qt),qt)){const Tn=(0,R.getFocusedWorkspace)(je),yn=(0,L.oK)(Tn);yn==null||yn.dispatch((0,Js.LL)(Js.vT.SpeakingWhenMuted))}break}case ln.nU.getType():{const qt=Ue.payload;Ut&&Ut.hasSession()&&Ut.sendReacji(qt.emoji,qt.reactionType,qt.emojiUrl);break}case ln.M4.getType():{const qt=Ue.payload;if(Ut&&Ut.hasSession()){const Tn=(0,os.l4)(je),yn=(0,L.oK)(Tn);if(!yn)return;const Yn=(0,Xn.pL)(yn.getState()),ns=(0,os.E9)(je),is=(0,In.WR)(yn.getState());if(ns){var bt;if(((bt=(0,ga.Fb)(yn.getState(),ns,is,Yn?"self":void 0))===null||bt===void 0?void 0:bt.field_value)===qt)_a(je,zs.RZ,Yn),(0,os.Rv)(je)&&qt!=="speaker"&&(yn==null||yn.dispatch((0,Do.a)({emoji:"speaker",reactionType:Gs.o.Sticker})));else{Ka(je,zs.z7,qt,Yn);const{huddleEventsTrace:Fs}=(0,Os.A)().getAllTraceHandlers();Fs==null||Fs.update({name:bs.p.REACTION,type:bs.G.ONCE,tags:{reactionType:Gs.o.Sticker}})}}}break}case ln.so.getType():{const qt=Ue.payload;Ut&&Ut.hasSession()&&Ut.sendMuteRequest(qt);break}case ln.ol.getType():{const qt=Ue.payload;Ut&&Ut.hasSession()&&Ut.setAGC(qt);break}case ln.HC.getType():{const qt=Ue.payload;Ut&&Ut.hasSession()&&Ut.setNewPreferredDevice(qt==null?void 0:qt.id,qt==null?void 0:qt.type);break}case ln.yR.getType():{const qt=Ue.payload;Ut&&Ut.hasSession()&&Ut.setNoiseSuppression(qt);break}case ln.Rb.getType():{const qt=Ue.payload;Ut&&Ut.hasSession()&&Ut.setVideoBackgroundEffect(qt);break}case ln.YA.getType():{const{huddlesVideoActive:qt,self:Tn}=Xe(),yn=Ue.payload,Yn=!!(Tn!=null&&Tn.isCameraEnabled);if(Ut&&Ut.hasSession()){var lt,_n;const ns=(0,os.l4)(je),is=(0,L.oK)(ns);qt?Ut.selfVideoEnabled(Yn,!0,yn==null?void 0:yn.mediaSourceId,yn):Ut.selfVideoEnabled(!1,!0,yn==null?void 0:yn.mediaSourceId,yn);let Es=(yn==null||(lt=yn.mediaSourceId)===null||lt===void 0?void 0:lt.startsWith("screen:"))||!1;!(yn==null||(_n=yn.mediaSourceId)===null||_n===void 0)&&_n.startsWith("window:")&&(0,gn.LD)()&&(Es=!0),Ut.selfDrawEnabled((0,Za.A)()&&Es);const Fs=(0,gn.k0)((yn==null?void 0:yn.mediaSourceId)||"");Ut.sendContentShareDetails(Fs),is==null||is.dispatch((0,Nn.kT)({id:"self",isDrawEnabled:Es,isCameraEnabled:Yn,contentShareSource:Fs}))}break}case ln.QZ.getType():{const{huddlesVideoActive:qt,self:Tn}=Xe(),yn=qt?Tn.isCameraEnabled:!1;if(Ut&&Ut.hasSession()){const Yn=(0,os.l4)(je),ns=(0,L.oK)(Yn);Ut.selfVideoEnabled(!!yn,!1),ns==null||ns.dispatch((0,Nn.kT)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case Ps.Oh.getType():return Ut&&Ut.hasSession()?Ut.getScreenThumbnails():Nt.S.resolve(null);case ln.nI.getType():{const qt=Ue.payload;if(Ut&&Ut.hasSession()){var On;const Tn=(0,os.l4)(je),yn=(0,L.oK)(Tn);if(!yn)return;const Yn=(0,Xn.pL)(yn.getState()),ns=(0,os.E9)(je),is=(0,In.WR)(yn.getState());if(!ns)return;const Es=(On=(0,ga.Fb)(yn.getState(),ns,is,Yn?"self":void 0))===null||On===void 0?void 0:On.field_value;return(qt||Es==="speaker")&&(0,k.dispatchForClientStore)((0,Do.a)({emoji:"speaker",reactionType:Gs.o.Sticker})),Ut.toggleAllIncomingVideo(qt)}return Nt.S.resolve(null)}case ln.WY.getType():{const qt=Ue.payload;if(Ut&&Ut.hasSession()){const Tn=(0,os.l4)(je);if(!(0,L.oK)(Tn))return;(0,os.E9)(je)&&Ka(je,zs.yT,qt.key)}break}case ln.Lx.getType():{const qt=Ue.payload;Ut&&Ut.hasSession()&&Ut.sendJukeboxRequest(qt.key);break}case ln.OA.getType():{Ut&&Ut.hasSession()&&Ut.sendJukeboxStopRequest();break}case ln.Db.getType():{Ut&&Ut.hasSession()&&Ut.sendRecordingStartNotification();break}case ln.bk.getType():{const qt=Ue.payload;if(Ut&&Ut.hasSession()){const Tn=(0,os.l4)(je),yn=(0,L.oK)(Tn);if(!(0,Xn.lV)(yn.getState()))return;Ut.startContentShareJukebox({song:qt.song})}break}case ln.JM.getType():{if(Ut&&Ut.hasSession()){const qt=(0,os.l4)(je),Tn=(0,L.oK)(qt);if(!Tn||!(0,Xn.lV)(Tn.getState()))return;Ut.selfStopJukebox(),_a(je,zs.S)}break}case Ps.e$.getType():{if(Ut&&Ut.hasSession()){const qt=Ue.payload.mediaResourceType;return Ut.maybeCheckSystemMediaAccess(qt)}return Nt.S.resolve(null)}case oa.d2.getType():{if(Ut&&Ut.hasSession()){const{payload:{tileId:qt,videoRef:Tn,shouldAttachStream:yn}}=Ue;Ut.bindVideo(qt,Tn.current,yn)}break}case oa.gJ.getType():{if(Ut&&Ut.hasSession()){const{payload:{tileId:qt,videoRef:Tn,shouldDetachStream:yn}}=Ue;Ut.unbindVideo(qt,Tn.current,yn)}break}case oa.WY.getType():{if(Ut&&Ut.hasSession()){const{payload:{tileId:qt}}=Ue;Ut.pauseVideo(qt)}break}case oa.D8.getType():{if(Ut&&Ut.hasSession()){const{payload:{tileId:qt}}=Ue;Ut.unpauseVideo(qt)}break}case ln.WM.getType():{const qt=Ue.payload;if(Ut&&Ut.hasSession()){const Tn=(0,os.l4)(je),yn=(0,L.oK)(Tn),Yn=yn==null?void 0:yn.getState();if(!yn){Rs.info("client-huddles-middleware","no team store found when user toggles video");return}if(!Yn){Rs.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:ns}=Xe(),is=(0,Nn.Ng)(Yn);let Es;(qt==null?void 0:qt.setVideoEnabled)!==void 0?Es=qt.setVideoEnabled:Es=!(is!=null&&is.isCameraEnabled),Es?(Rs.info("client-huddles-middleware","user toggling ON video"),Ut.setCameraQuality(...(0,Xa.cg)()),ns?Ut.maybeEnableSelfCamera({isScreenshareEnabled:is.isScreenshareEnabled}):Ut.maybeEnableSelfCamera()):(Rs.info("client-huddles-middleware","user toggling OFF video"),ns?Ut.selfVideoEnabled(!1,!!(is!=null&&is.isScreenshareEnabled)):Ut.selfVideoEnabled(!1,!1),yn.dispatch((0,Nn.kT)({id:"self",isCameraEnabled:!1})))}break}case oa.cn.getType():{if(Ut&&Ut.hasSession()){const{payload:{tileId:qt}}=Ue;return(Ut==null?void 0:Ut.videoTileHasStream(qt))||!1}return Nt.S.resolve(!1)}case Nn.xz.getType():{const{huddlesVideoActive:qt,self:Tn}=Xe();Ut&&Ue.payload.isContent&&(qt?Ut.selfVideoEnabled(!!(Tn!=null&&Tn.isCameraEnabled),!1):Ut.selfVideoEnabled(!1,!1));break}case ln.Dj.getType():{Ut!=null&&Ut.hasSession()&&(Ut==null||Ut.initVideoPermission());break}case ln._H.getType():{if(Ut!=null&&Ut.hasSession()){const{videoElement:qt,deviceId:Tn}=Ue.payload;Ut.stopVideoPreviewForVideoInput(qt),Ut.setCameraQuality(...(0,Xa.cg)()),Ut.requestPreviewStreamForDeviceId(Tn,rs.lW.Camera,qt)}break}case ln.yi.getType():{if(Ut!=null&&Ut.hasSession()){const qt=Ue.payload;Ut.stopVideoPreviewForVideoInput(qt)}break}case ln.Rr.getType():{const{self:qt}=Xe();if(Ut&&Ut.hasSession()){const Tn=(qt==null?void 0:qt.contentShareSource)||$n.R.Unknown;if(Tn!==$n.R.Unknown){const yn=(qt==null?void 0:qt.isDrawEnabled)||!1;Ut.selfDrawEnabled((0,Za.A)()&&yn),Ut.sendContentShareDetails(Tn);const Yn=(0,L.oK)(Ue.payload.teamId);Yn==null||Yn.dispatch((0,Nn.kT)({id:"self",isDrawEnabled:yn}))}}break}case ln.HF.getType():{const qt=Ue.payload.isHostDrawEnabled,Tn=(0,L.oK)(Ue.payload.teamId);Tn==null||Tn.dispatch((0,Nn.kT)({id:"self",isHostDrawEnabled:qt}));break}case ln.B5.getType():{Ut==null||Ut.handleClientOffline();break}case ln.f2.getType():{const qt=Ue.payload,{isStartMuted:Tn}=qt,{teamId:yn}=(0,os.Ak)(je)||{},Yn=(0,R.getFocusedWorkspace)(je),ns=(0,L.oK)(yn||Yn),{ttiTrace:is}=(0,Os.A)().getAllTraceHandlers();if(is==null||is.setMediaRegionTag(Ut==null?void 0:Ut.getMeetingMediaRegion()),ns&&Tn&&Ut)return Ut.completePrejoin(qt).then(()=>{ns.dispatch((0,Nn.kT)({id:"self",isMicrophoneEnabled:!1}))});if(Ut)return Ut.completePrejoin({});break}case ln.xq.getType():{const qt=Ue.payload.contentViewType,Tn=Ue.payload.contentViewConfig;if(Ut&&Ut.hasSession()&&(0,os.E9)(je)){var Vn;const Yn=(0,os.l4)(je),ns=(0,L.oK)(Yn);if(!ns)return;const is=(0,Xn.pL)(ns.getState());if(qt!==Gs.cM.Screenshare)_a(je,zs.Lm,is);else if(!(Tn==null||(Vn=Tn.item)===null||Vn===void 0)&&Vn.id){let Es;if(Tn.item.id==="self")Es=(0,In.WR)(ns.getState());else{var ms;Es=(ms=(0,Nn.jB)(ns.getState(),Tn.item.id))===null||ms===void 0?void 0:ms.userId}Ka(je,zs.fv,Es,is)}}break}case ln.wr.getType():{const qt=(0,os.l4)(je),Tn=(0,L.oK)(qt);if(!Tn)return;const yn=Tn.getState();if(!(0,Xn.Rk)(yn))return;if(Ut&&Ut.hasSession()){const Yn=(0,os.J0)(je);if(Yn===void 0)break;const ns=(0,Pa.gW)(yn,{channelId:Yn}),is=(0,Pa.zK)(yn,{channelId:Yn});Ut.selfMicrophoneEnabled(ns),(0,k.dispatchForClientStore)((0,ln.WM)({setVideoEnabled:is}))}break}default:return pe(Ue)}return null});Mo.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};const mi=Mo;Object.defineProperty({huddlesSdk:Ut},"huddlesSdk",{get:()=>Ut,set:Ie=>{Ut=Ie}});var Ca=e(4653418008),Ia=e(3328068409);const Po=(0,Ds.Ay)("Broadcast client theme state to other stores",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Ia.to)(lt),broadcastAction:lt=>(0,Ca.yg)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Ia.FW)(lt),broadcastAction:lt=>(0,Ca.kl)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Ia.VD)(lt),broadcastAction:lt=>(0,Ca.LA)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Ia.pg)(lt),broadcastAction:lt=>(0,Ca.Th)(lt)}),Xe});Po.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};const hi=Po;var So=e(1201539379),Ei=e(8707579690),fi=e(2779520532),pi=e(7128275929),vi=e(9341298);const Ro=(0,Ds.Ay)("Broadcast view layout state across all teams",(Ie,pe,Ue)=>{const je=Ie.getState(),Xe=pe(Ue),ht=Ie.getState(),bt=(0,R.getBootedWorkspaces)(ht);return xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>{var _n,On;return`${lt==null||(_n=lt.viewLayout)===null||_n===void 0?void 0:_n.sidebarWidthIntent}-${lt==null||(On=lt.viewLayout)===null||On===void 0?void 0:On.sidebarWidthMode}`},broadcastAction:lt=>{const _n=lt.split("-");return(0,fi.R)({sidebarWidthIntent:Number(_n[0]),sidebarWidthMode:_n[1]})}}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>{var _n,On;return`${lt==null||(_n=lt.viewLayout)===null||_n===void 0?void 0:_n.sidebarWideWidthIntent}-${lt==null||(On=lt.viewLayout)===null||On===void 0?void 0:On.sidebarWideWidthMode}`},broadcastAction:lt=>{const _n=lt.split("-");return(0,vi.q)({sidebarWideWidthIntent:Number(_n[0]),sidebarWideWidthMode:_n[1]})}}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>{var _n,On;return`${lt==null||(_n=lt.viewLayout)===null||_n===void 0?void 0:_n.sidebarExtraWideWidthIntent}-${lt==null||(On=lt.viewLayout)===null||On===void 0?void 0:On.sidebarExtraWideWidthMode}`},broadcastAction:lt=>{const _n=lt.split("-");return(0,pi.a)({sidebarExtraWideWidthIntent:Number(_n[0]),sidebarExtraWideWidthMode:_n[1]})}}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Te.Vo)(lt),broadcastAction:lt=>(0,So.KY)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>(0,Te.v8)(lt),broadcastAction:lt=>(0,So.mV)(lt)}),xn({state:ht,prevState:je,workspaces:bt,broadcastSelector:lt=>{var _n,On;return`${lt==null||(_n=lt.viewLayout)===null||_n===void 0?void 0:_n.secondaryWidthIntent}-${lt==null||(On=lt.viewLayout)===null||On===void 0?void 0:On.secondaryWidthMode}`},broadcastAction:lt=>{const _n=lt.split("-");return(0,Ei.J)({secondaryWidthIntent:Number(_n[0]),secondaryWidthMode:_n[1]})}}),Xe});Ro.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};const gi=Ro;var Ai=e(6174593183),Ti=e(3934091301);const Ci=_(()=>{var Ie;return(Ie=(0,Ke.W6)(Ti.c))!==null&&Ie!==void 0?Ie:[]},"loadRecentlyClosedWindows")(),Ii=(0,an.vy)({},Ci,{persistenceEnabled:!1,storeKey:"recentlyClosedWindows"}).on(Ai.U,(Ie,pe)=>{let{windows:Ue}=pe;return Ue});var yi=e(9524650809),Lo=e(1649982175),Uo=e(352142497),ra=e(2870224675),Di=e(9932860381),bo=e(3034856104);const Ha=50;function ko(){return(0,yi.A)("tabSoda_")}_(ko,"generateTabSodaTabId");function Oi(){return{activeTab:void 0,tabs:{},tabOrder:[]}}_(Oi,"getInitialState");function No(){return{entries:[],currentIndex:-1}}_(No,"createEmptyHistoryState");function Mi(Ie,pe){if(Ie&&pe){var Ue,je,Xe,ht;const _n=(Ue=Ie[Ie[zn.jf]])===null||Ue===void 0?void 0:Ue.primary,On=(je=Ie[Ie[zn.jf]])===null||je===void 0?void 0:je.secondary,Vn=(Xe=pe[pe[zn.jf]])===null||Xe===void 0?void 0:Xe.primary,ms=(ht=pe[pe[zn.jf]])===null||ht===void 0?void 0:ht.secondary;if(Ie.teamId===pe.teamId&&Ie[zn.jf]===pe[zn.jf]&&(_n==null?void 0:_n.id)===(Vn==null?void 0:Vn.id)&&(On==null?void 0:On.id)===(ms==null?void 0:ms.id)){var bt,lt;return!((_n==null?void 0:_n.viewType)===Uo.D.Thread&&(Vn==null?void 0:Vn.viewType)===Uo.D.Thread&&(_n==null||(bt=_n.params)===null||bt===void 0?void 0:bt.threadId)!==(Vn==null||(lt=Vn.params)===null||lt===void 0?void 0:lt.threadId))}}return!1}_(Mi,"areViewsSame");function Bo(Ie){let{reducerState:pe,entry:Ue,eventType:je}=Ie,Xe=pe.activeTab,ht=[...pe.tabOrder];Xe||(Xe=ko(),ht.push(Xe));const bt=pe.tabs[Xe]||No();let lt={...pe.tabs};const _n=bt.currentIndex;if(je==="replace"&&_n>=0){const On=[...bt.entries];On[_n]=Ue,lt[Xe]={entries:On.slice(0,Ha),currentIndex:_n}}else{const On=[...bt.entries.slice(0,_n+1),Ue];lt[Xe]={entries:On.slice(0,Ha),currentIndex:Math.min(_n+1,Ha-1)}}if(!bt.entries.length){const On=pe.tabOrder.find(Vn=>{const ms=pe.tabs[Vn];return ms&&Mi(Ue,ms.entries[ms.currentIndex])});On&&Xe!==On&&(ht=pe.tabOrder.filter(Vn=>Vn!==Xe),lt=(0,Lo.A)(pe.tabs,Xe),Xe=On)}return{activeTab:Xe,tabs:lt,tabOrder:ht}}_(Bo,"getTabSodaStateFromWindowHistoryEvent");const Pi=Oi(),Si=(0,an.vy)({},Pi,{persistenceEnabled:!1,storeKey:"tabSoda"}).on(ra.nz,(Ie,pe)=>{let{setAsActive:Ue}=pe;const je=ko(),Xe={...Ie.tabs,[je]:No()},ht=[...Ie.tabOrder],bt=Ie.activeTab?ht.indexOf(Ie.activeTab):-1;return ht.splice(bt+1,0,je),{activeTab:Ue?je:Ie.activeTab,tabs:Xe,tabOrder:ht}}).on(ra.yw,(Ie,pe)=>({...Ie,activeTab:pe})).on(ra.oT,(Ie,pe)=>{const{activeTab:Ue,tabs:je,tabOrder:Xe}=Ie;let ht=Ue;pe===Ue&&(ht=(0,Di.fe)(Ue,Xe));const bt=[...Xe],lt=Xe.indexOf(pe);bt.splice(lt,1);const _n={...je};return delete _n[pe],{tabs:_n,tabOrder:bt,activeTab:ht}}).on(ra.Uz,(Ie,pe)=>({...Ie,tabOrder:pe})).on(ra.Wz,(Ie,pe)=>{const Ue=Ie.tabs[pe];if(!Ue||Ue.currentIndex<=0)return Ie;const je={...Ie.tabs,[pe]:{...Ue,currentIndex:Ue.currentIndex-1}};return{...Ie,tabs:je}}).on(ra.GJ,(Ie,pe)=>{const Ue=Ie.tabs[pe];if(!Ue||Ue.currentIndex>=Ue.entries.length-1)return Ie;const je={...Ie.tabs,[pe]:{...Ue,currentIndex:Ue.currentIndex+1}};return{...Ie,tabs:je}}).on($t.Eg,(Ie,pe)=>{let{entry:Ue}=pe;return(0,bo.H)(Ue)?Bo({eventType:"push",reducerState:Ie,entry:Ue}):Ie}).on($t.PP,(Ie,pe)=>{let{entry:Ue}=pe;return(0,bo.H)(Ue)?Bo({eventType:"replace",reducerState:Ie,entry:Ue}):Ie});var Ri=e(6027162153),Li=e(9087248458),Ui=e(5503876160),qs=e(9139930183);const bi={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],userRequiresMobileLogin:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},ki="WORKSPACES",xo=16,Ni=(0,qs.Ay)({},bi,{storeKey:"workspaces",persistenceEnabled:!0}).on(a.initialize,(Ie,pe)=>Bi(Ie,pe)).on(a.setDidBootAllWorkspaces,Ie=>({...Ie,didBootAllWorkspaces:!0})).on(a.setWorkspaceOrder,(Ie,pe)=>xi(Ie,pe)).on(a.setWorkspaceBooted,(Ie,pe)=>Wi(Ie,pe)).on(a.setWorkspaceFailedToBoot,(Ie,pe)=>Fi(Ie,pe)).on(a.setWorkspaceNeeds2FASetup,(Ie,pe)=>Ki(Ie,pe)).on(a.setWorkspaceNeedsToAcceptCustomTOS,(Ie,pe)=>Hi(Ie,pe)).on(a.setNavigateToUnbootedWorkspace,(Ie,pe)=>({...Ie,navigateToUnbootedWorkspace:pe})).on(a.setWorkspaceIsMigrating,(Ie,pe)=>wi(Ie,pe)).on(a.setWorkspaceMigrationIsComplete,(Ie,pe)=>Vi(Ie,pe)).on(a.setWorkspaceIsAccessLimited,(Ie,pe)=>ji(Ie,pe)).on(a.setUserNotMemberOfAnyWorkspaceInOrg,(Ie,pe)=>Gi(Ie,pe)).on(a.setUserRequiresMobileLogin,(Ie,pe)=>zi(Ie,pe)).on(a.addWorkspace,function(Ie){let{id:pe,meta:Ue}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pe||!Ue)throw new Error("'id' and 'meta' are both required when adding a workspace");if(Ie.allWorkspaces.includes(pe))return(0,n.Wo)({label:ki}).warn(`Cannot add workspace; it is already present: ${pe}`),Ie;const{allWorkspaces:je,workspacesMeta:Xe}=Ie;return{...Ie,allWorkspaces:[...je,pe],workspacesMeta:{...Xe,[pe]:Ue}}}).on(a.updateWorkspaceMeta,function(Ie){let{id:pe,meta:Ue}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:je}=Ie;if(!je[pe])throw new Error(`Cannot update workspace meta for ${pe}; no such team`);return{...Ie,workspacesMeta:{...je,[pe]:Ue}}}).on(a.internalSetFocusedWorkspaceType,(Ie,pe)=>({...Ie,focusedWorkspace:pe,recentlyFocusedWorkspaces:Qi(Ie.recentlyFocusedWorkspaces,pe)})).on(a.internalRemoveWorkspaceType,(Ie,pe)=>({...Ie,allWorkspaces:(0,Ri.A)(Ie.allWorkspaces,pe)})).on(a.addRemovedWorkspace,(Ie,pe)=>Yi(Ie,pe));function Bi(Ie){let{focusedWorkspace:pe,allWorkspaces:Ue,workspacesMeta:je}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ie.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!pe)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!Ue)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(Ue.indexOf(pe)<0)throw new Error(`workspaces-store:initialize ${pe} is not one of the valid workspaces: ${Ue}`);return{...Ie,focusedWorkspace:pe,allWorkspaces:Ue,workspacesMeta:je,recentlyFocusedWorkspaces:[pe]}}_(Bi,"initializeWorkspacesState");function xi(Ie,pe){const Ue=Ie.allWorkspaces;if((0,Li.A)(Ue,pe).length!==Ue.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return(0,Ke.q9)("orderedTeamIds",pe),{...Ie,allWorkspaces:pe}}_(xi,"updateWorkspaceOrder");function Wi(Ie,pe){const Ue=Ie.bootedWorkspaces.includes(pe)?Ie.bootedWorkspaces:[...Ie.bootedWorkspaces,pe];return{...Ie,bootedWorkspaces:Ue}}_(Wi,"updateWorkspaceBooted");function Fi(Ie,pe){if(!pe)return Ie;const Ue=Ie.failedToBootWorkspaces.includes(pe)?Ie.failedToBootWorkspaces:[...Ie.failedToBootWorkspaces,pe];return{...Ie,failedToBootWorkspaces:Ue}}_(Fi,"updateWorkspaceFailedToBoot");function Ki(Ie,pe){if(!pe)return Ie;const Ue=Ie.needs2FASetup.includes(pe)?Ie.needs2FASetup:[...Ie.needs2FASetup,pe];return{...Ie,needs2FASetup:Ue}}_(Ki,"updateWorkspaceNeeds2FASetup");function Hi(Ie,pe){if(!pe)return Ie;const Ue=Ie.needsToAcceptCustomTOS.find(je=>{let{teamId:Xe}=je;return pe.teamId===Xe})?Ie.needsToAcceptCustomTOS:[...Ie.needsToAcceptCustomTOS,pe];return{...Ie,needsToAcceptCustomTOS:Ue}}_(Hi,"updateWorkspaceNeedsToAcceptCustomTOS");function wi(Ie,pe){let{teamId:Ue,migrationId:je,canViewMigrationStatus:Xe}=pe;if(!Ue)return Ie;const{migratingWorkspaces:ht}=Ie;return{...Ie,migratingWorkspaces:{...ht,[Ue]:{migrationId:je,canViewMigrationStatus:Xe}}}}_(wi,"updateWorkspaceIsMigrating");function Vi(Ie,pe){if(!pe)return Ie;const Ue=Ie.completedMigrationWorkspaces.includes(pe)?Ie.completedMigrationWorkspaces:[...Ie.completedMigrationWorkspaces,pe];return{...Ie,completedMigrationWorkspaces:Ue}}_(Vi,"updateWorkspaceMigrationIsComplete");function ji(Ie,pe){if(!pe)return Ie;const Ue=Ie.accessLimitedWorkspaces.includes(pe)?Ie.accessLimitedWorkspaces:[...Ie.accessLimitedWorkspaces,pe];return{...Ie,accessLimitedWorkspaces:Ue}}_(ji,"updateWorkspaceIsAccessLimited");function Gi(Ie,pe){if(!pe)return Ie;const Ue=Ie.userNotMemberOfAnyWorkspaceInOrg.includes(pe)?Ie.userNotMemberOfAnyWorkspaceInOrg:[...Ie.userNotMemberOfAnyWorkspaceInOrg,pe];return{...Ie,userNotMemberOfAnyWorkspaceInOrg:Ue}}_(Gi,"updateUserNotMemberOfAnyWorkspaceInOrg");function zi(Ie,pe){if(!pe)return Ie;const Ue=Ie.userRequiresMobileLogin.includes(pe)?Ie.userRequiresMobileLogin:[...Ie.userRequiresMobileLogin,pe];return{...Ie,userRequiresMobileLogin:Ue}}_(zi,"updateUserRequiresMobileLogin");function Qi(Ie,pe){const Ue=[pe,...Ie.filter(je=>je!==pe)];return Ue.length>xo?(0,Ui.A)(Ue,xo):Ue}_(Qi,"updateRecentlyFocusedWorkspaces");function Yi(Ie,pe){if(!pe)return Ie;const Ue=Ie.removedWorkspaces.includes(pe)?Ie.removedWorkspaces:[...Ie.removedWorkspaces,pe];return{...Ie,removedWorkspaces:Ue}}_(Yi,"updateRemovedWorkspaces");var $i=e(7798793495),Ji=e(8749931423),Zi=e(7206394193),Xi=e(773865333),qi=e(7156104699),el=e(582577127),tl=e(2732935554),nl=e(3034787354),sl=e(9651400563),al=e(4614661813),ol=e(2140362605);const wa=(0,ol.Ay)("sets the client side effect map on the store");wa.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const rl={clientSideEffectsMap:{}},il=(0,qs.Ay)({},rl,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(wa,(Ie,pe)=>({...Ie,clientSideEffectsMap:pe}));var ll=e(5923036663),cl=e(6168781067),dl=e(7902571278),ul=e(56562029);const _l={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,unreadInvites:[],huddleJoinPreviewChannelId:void 0,huddleJoinPreviewBackgroundEffect:void 0,huddleJoinPreviewBackgroundBlurIsEnabled:!1},ml=(0,qs.Ay)({},_l,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(ln.VU,(Ie,pe)=>Ie.isHuddlesEnabled?Ie:{...Ie,isHuddlesEnabled:pe}).on(ln.xf,(Ie,pe)=>({...Ie,mostRecentHuddle:pe})).on(ln.Rh,(Ie,pe)=>{const{mostRecentHuddle:Ue}=Ie;if(!Ue||pe.teamId&&pe.teamId!==Ue.teamId||pe.channelId&&pe.channelId!==Ue.channelId)return Ie;const je={...Ie,mostRecentHuddle:{...Ue,...pe}},Xe=je.mostRecentHuddle;return Xe&&(0,n.Wo)().info(aa.o7,`updateActiveHuddleReference huddleState ${Xe.huddleState}, substate ${Xe.huddleSubState}, optimisticState ${Xe.optimisticHuddleState}`),je}).on(ln.Jc,(Ie,pe)=>{const{mostRecentHuddle:Ue}=Ie;return!Ue||pe===Ue.channelId?Ie:{...Ie,mostRecentHuddle:{...Ue,channelId:pe}}}).on(ln.hB,(Ie,pe)=>({...Ie,activeInvite:pe,unreadInvites:[...Ie.unreadInvites,{invite:pe,receivedTimestampMs:Date.now()}]})).on(ln.fP,(Ie,pe)=>{let{teamId:Ue,markBeforeMs:je}=pe;const Xe=Ie.unreadInvites.filter(ht=>ht.invite.teamId!==Ue||ht.receivedTimestampMs>je);return Ie.unreadInvites.length===Xe.length?Ie:{...Ie,unreadInvites:Xe}}).on(ln.u8,(Ie,pe)=>{var Ue;return{...Ie,unreadInvites:Ie.unreadInvites.filter(je=>je.invite.channelId!==pe),activeInvite:((Ue=Ie.activeInvite)===null||Ue===void 0?void 0:Ue.channelId)!==pe?Ie.activeInvite:void 0}}).on(ln.Ko,(Ie,pe)=>Ie.forceMiniPanelVisible===pe?Ie:{...Ie,forceMiniPanelVisible:pe}).on(ln.Yi,(Ie,pe)=>{let{channelId:Ue,joinCredentials:je,expiry:Xe,fromInvite:ht}=pe;var bt;if(!Ue||!je)return Ie;const lt=Ie.channelToJoinCredentials;lt[Ue]={credentials:je,expiry:Xe,fromInvite:ht};const _n=(bt=Ie.activeInvite)===null||bt===void 0?void 0:bt.teamId;return _n&&(0,$s.Cy)({state:(0,L.$D)(_n)}).count(As.ir),{...Ie,channelToJoinCredentials:lt}}).on(ln.WB,(Ie,pe)=>{let{channelId:Ue}=pe;if(!Ue)return Ie;if(Ie.channelToJoinCredentials[Ue]){var je;const Xe=(je=Ie.activeInvite)===null||je===void 0?void 0:je.teamId;Xe&&(0,$s.Cy)({state:(0,L.$D)(Xe)}).count(As.sQ)}return{...Ie,channelToJoinCredentials:(0,Lo.A)(Ie.channelToJoinCredentials,[Ue])}}).on(ln.aO,(Ie,pe)=>Ie.showDiscoveryBanner===pe?Ie:{...Ie,showDiscoveryBanner:pe}).on(ln.Ag,(Ie,pe)=>Ie.isLoungeMusicPlaying===pe?Ie:{...Ie,isLoungeMusicPlaying:!!pe}).on(ln._U,(Ie,pe)=>Ie.lastStartTs===pe?Ie:{...Ie,lastStartTs:pe}).on(ln.bV,(Ie,pe)=>Ie.lastEndTs===pe?Ie:{...Ie,lastEndTs:pe}).on(ln.qr,(Ie,pe)=>Ie.lastDurationTs===pe?Ie:{...Ie,lastDurationTs:pe}).on(ln.Gx,(Ie,pe)=>Ie.screenshareActivePanel===pe?Ie:{...Ie,screenshareActivePanel:pe}).on(ln.cx,Ie=>({...Ie,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,huddleJoinPreviewChannelId:void 0})).on(ln._u,(Ie,pe)=>{let{song:Ue}=pe;return Ie.songPlaying===(Ue==null?void 0:Ue.key)?Ie:{...Ie,songPlaying:Ue==null?void 0:Ue.key}}).on(ln.nw,(Ie,pe)=>Ie.canRenderActiveInviteCardInSidebar===pe?Ie:{...Ie,canRenderActiveInviteCardInSidebar:pe}).on(ln.o9,(Ie,pe)=>Ie.isHuddleWindowFocused===pe?Ie:{...Ie,isHuddleWindowFocused:pe}).on(ln.TK,(Ie,pe)=>Ie.isHuddleWindowOpen===pe?Ie:{...Ie,isHuddleWindowOpen:pe}).on(ln.kg,(Ie,pe)=>Ie.isAudioOnlyModeEnabled===pe?Ie:{...Ie,isAudioOnlyModeEnabled:pe}).on(ln.Hg,(Ie,pe)=>Ie.wasCameraEnabledWhenAudioOnlyModeWasActivated===pe?Ie:{...Ie,wasCameraEnabledWhenAudioOnlyModeWasActivated:pe}).on(ln.t2,(Ie,pe)=>Ie.isHuddleMiniPlayerHidden===pe?Ie:{...Ie,isHuddleMiniPlayerHidden:!!pe}).on(ln.og,(Ie,pe)=>Ie.wasJoinedFromPrejoin===pe?Ie:{...Ie,wasJoinedFromPrejoin:!!pe}).on(ln._o,(Ie,pe)=>{let{channelId:Ue}=pe;return Ie.huddleJoinPreviewChannelId===Ue?Ie:{...Ie,huddleJoinPreviewChannelId:Ue}}).on(ln.yW,(Ie,pe)=>{let{backgroundEffectBgKey:Ue,blurEffectIsEnabled:je}=pe;return Ie.huddleJoinPreviewBackgroundEffect===Ue&&Ie.huddleJoinPreviewBackgroundBlurIsEnabled===je?Ie:{...Ie,huddleJoinPreviewBackgroundEffect:Ue,huddleJoinPreviewBackgroundBlurIsEnabled:je}}),Nl=100,Wo="client-ia-history",hl=[...Object.values(yo.mH)||[]];var ya=e(1521690892);const El=_(()=>{try{const Ie=localStorage.getItem(Wo);return Ie?JSON.parse(Ie):[]}catch(Ie){return(0,n.Wo)().error("Failed to read IA history from storage",Ie),[]}},"readStackFromStorage"),Da=_(Ie=>{try{localStorage.setItem(Wo,JSON.stringify(Ie))}catch(pe){(0,n.Wo)().error("Failed to write IA history to storage",pe)}},"writeStackToStorage"),fl=(0,qs.Ay)({},{stack:El()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(ya.nb,(Ie,pe)=>{if(!pe||hl.includes(pe==null?void 0:pe.primaryView))return Ie;const Ue=1e3,je=[pe].concat(Ie.stack).slice(0,Ue);return window.setTimeout(()=>Da(je),0),{stack:je}}).on(ya.JG,(Ie,pe)=>{const Ue=Ie.stack.indexOf(pe);if(Ue===-1)return Ie;const je=Ie.stack.slice();return je.splice(Ue,1),window.setTimeout(()=>Da(je),0),{stack:je}}).on(ya.Si,Ie=>{if(!Ie.stack)return Ie;const pe=Ie.stack.slice(0,1);return window.setTimeout(()=>Da(pe),0),{stack:pe}}).on(ya.kM,()=>{const Ie=[];return Da(Ie),{stack:Ie}}),pl=!0,Fo=(0,qs.Ay)({},pl,{storeKey:"isClient",persistenceEnabled:!1});Fo.meta={name:"createReducer",key:"createReducerisClientReducer"};const vl=Fo;let Ko;try{var Va;Ko=(Va=(0,Ke.W6)($e.Vb))!==null&&Va!==void 0?Va:void 0}catch{}let Ho;try{var ja;Ho=(ja=(0,Ke.W6)($e._J))!==null&&ja!==void 0?ja:void 0}catch{}let wo;try{var Ga;wo=(Ga=(0,Ke.W6)($e.UY))!==null&&Ga!==void 0?Ga:void 0}catch{}let Vo;try{var za;Vo=(za=(0,Ke.W6)($e.xN))!==null&&za!==void 0?za:void 0}catch{}const gl={invertedSidebar:Ko,peeksEnabledOnMouseEnter:Ho,zoom:wo,isSidebarVisible:Vo},Al=(0,qs.Ay)({},gl,{storeKey:"nonBBMSettings",persistenceEnabled:!1}).on(Gt.p$,(Ie,pe)=>({...Ie,invertedSidebar:pe})).on(Gt.rB,(Ie,pe)=>({...Ie,peeksEnabledOnMouseEnter:pe})).on(Gt.x8,(Ie,pe)=>({...Ie,zoom:pe})).on(Gt.KY,(Ie,pe)=>({...Ie,isSidebarVisible:pe}));var Tl=e(4686544804),Cl=e(3180420025),Qa=e(2696160384);const jo={isDocked:!1,miniPlayerConfig:{fileId:""}},Il=(0,qs.Ay)({},jo,{storeKey:"videoClips",persistenceEnabled:!1}).on(Qa.FI,(Ie,pe)=>({...Ie,isDocked:pe})).on(Qa.D_,(Ie,pe)=>{let{fileId:Ue,teamId:je,mediaId:Xe,channelId:ht,threadTs:bt,timeElapsed:lt,isPlaying:_n}=pe;return{...Ie,miniPlayerConfig:{fileId:Ue,teamId:je,mediaId:Xe,channelId:ht,threadTs:bt,timeElapsed:lt,isPlaying:_n}}}).on(Qa.Sr,Ie=>({...Ie,...jo}));var yl=e(9813790040),Dl=e(4256476552);function Go(){let{extraMiddlewares:Ie=[],customEnhancers:pe=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ue=(0,o.A)({teamOrEnterpriseId:"client",middlewares:[...Ie,Zi.A,s.P,Xi.A,vn,fn,hi,gi,Ms,Qt,en,_t,it,St,qi.N,mi],customEnhancers:pe}),je=(0,Ji.Ay)({workspaces:Ni,window:Dl.A,connectivity:cl.A,accessibility:nl.A,accessibilityPersistent:tl.A,desktop:dl.A,clientTheme:ll.A,iaHistory:fl,mainWindowHistory:Ns,isClient:vl,isState:$i.G,viewLayout:yl.A,noop:Tl.A,clientHuddles:ml,clientSideEffects:il,recents:ts,recentlyClosedWindows:Ii,overlays:Cl.y,tabSoda:Si,fullscreen:ul.G,bbm:al.Y,videoClips:Il,nonBBMSettings:Al,bbmSettings:sl.Z});return(0,t.Yl)(je,Ue)}_(Go,"createClientStore");function Ol(){const Ie=(0,k.en)();if(Ie)return(0,n.Wo)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),Ie;const pe=Go();(0,k.kA)(pe);const{clientSideEffectsMap:Ue,sideEffectsMap:je}=(0,el.g)(rt);if(Object.keys(je).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return pe.dispatch(wa(Ue)),pe}_(Ol,"configureClientStore");const Wl={createClientStore:Go}},3803432550:(N,g,e)=>{"use strict";e.d(g,{x:()=>l});var t=e(8148939499),s=e(6508028729),o=e(2028988448),n=e(4496040127),c=e(8038398473),i=e(1535672935),r=e(9012396182),a=e(7384121809);function l(u){if(!u||(0,a.en)())return;const f=(0,c.A)(),m=(0,n.VA)()?(0,t.A)():[u],h=(0,s.A)();f.dispatch((0,i.initialize)({focusedWorkspace:u,allWorkspaces:m,workspacesMeta:h})),d(f)}_(l,"initializeClientStore");function d(u){(0,o.ul)("clientStore",u),(0,o.zv)("teamIds",()=>{const m=u.getState();return r.getAllWorkspaces(m)}),(0,o.zv)("activeTeam",()=>{const m=u.getState(),h=r.getFocusedWorkspace(m);return window.slackDebug[h]}),(0,o.zv)("activeTeamId",()=>{const m=u.getState();return r.getFocusedWorkspace(m)}),(0,o.zv)("activeEnterprise",()=>{var m,h;const v=u.getState(),p=(m=r.getWorkspacesMeta(v))===null||m===void 0||(h=m[r.getFocusedWorkspace(v)])===null||h===void 0?void 0:h.enterprise_id;return window.slackDebug[p]});const f={};Object.keys(i).forEach(m=>{f[m]=function(){for(var h=arguments.length,v=new Array(h),p=0;p<h;p++)v[p]=arguments[p];return u.dispatch(i[m](...v))}}),Object.keys(r).forEach(m=>{f[m]=function(){for(var h=arguments.length,v=new Array(h),p=0;p<h;p++)v[p]=arguments[p];return r[m](u.getState(),...v)}}),(0,o.ul)("clientStore.workspaces",f)}_(d,"setupClientStoreDebugger")},4460213392:(N,g,e)=>{"use strict";e.d(g,{BY:()=>n,Cy:()=>s,DU:()=>i,RA:()=>a,bW:()=>l,es:()=>c,kU:()=>d,nR:()=>o,s8:()=>f,tZ:()=>u,uM:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Set sidebar priority toggle state");s.meta={name:"createAction",key:"createActionsetPrioritySidebarToggleSelected",description:"Set sidebar priority toggle state"};const o=(0,t.Ay)("Upserts strings from conversations.recommend to priority store");o.meta={name:"createAction",key:"createActionupsertPriorityChannelIds",description:"Upserts strings from conversations.recommend to priority store"};const n=(0,t.Ay)("Upserts strings from users.recommend to priority store");n.meta={name:"createAction",key:"createActionupsertPriorityUserIds",description:"Upserts strings from users.recommend to priority store"};const c=(0,t.Ay)("Removes user ids from priority store");c.meta={name:"createAction",key:"createActionremovePriorityUserIds",description:"Removes user ids from priority store"};const i=(0,t.Ay)("Resets priority user ids with data from vip_users pref");i.meta={name:"createAction",key:"createActionsetPriorityUserIdsFromPref",description:"Resets priority user ids with data from vip_users pref"};const r=(0,t.Ay)("reset priority store");r.meta={name:"createAction",key:"createActionresetPriority",description:"reset priority store"};const a=(0,t.Ay)("sets loading state for Priority");a.meta={name:"createAction",key:"createActionsetPriorityLoading",description:"sets loading state for Priority"};const l=(0,t.Ay)("sets recommended priority users with data from users.recommend");l.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUsers",description:"sets recommended priority users with data from users.recommend"};const d=(0,t.Ay)("Upserts users.recommend request_id");d.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUserRequestId",description:"Upserts users.recommend request_id"};const u=(0,t.Ay)("sets loading state for recommendations");u.meta={name:"createAction",key:"createActionsetRecommendationsLoading",description:"sets loading state for recommendations"};const f=(0,t.Ay)("Priority prototype: sets NUX screen state for Priority");f.meta={name:"createAction",key:"createActionsetPriorityNuxScreen",description:"Priority prototype: sets NUX screen state for Priority"}},2338429587:(N,g,e)=>{"use strict";e.d(g,{C:()=>C});var t=e(3134334389),s=e(3106223098),o=e(7779511999),n=e(4275787242),c=e(6471059816),i=e(9506008067);const r=new c.Ay("priority_manage"),a={name:"check-circle"},l={name:"warning"},d=_(I=>{let{memberName:D,isUserVIP:y}=I;return(0,i.d4)(s.Gn)?t.createElement(n.A,{svgIconProps:a,duration:3e3},t.createElement("span",null,y?r.rt("Removed <b>{memberName}</b> from VIPs",{memberName:D}):r.rt("Added <b>{memberName}</b> to VIPs",{memberName:D}))):null},"PriorityToast");d.displayName="PriorityToast";const u=_(I=>{let{errorData:D,memberName:y}=I;if(!(0,i.d4)(s.Gn))return null;const E=_(()=>{switch(D.error){case o.a.UserNotFound:return r.t("User is not eligible to be added as VIP.",{fallbackHash:"83743049d08a764e93ca79d5621ee1e19f02bc75",fallbackHashNs:"slack_connect_hub_next"});case o.a.TooManyVips:return r.rt("<b>{memberName}</b> could not be added to VIP. You can only have a maximum of {maxVIPCount} VIPs.",{memberName:y,maxVIPCount:D.max_vip_limit});default:return r.t("Hmm, something went wrong. Try again?",{fallbackHash:"83743049d08a764e93ca79d5621ee1e19f02bc75",fallbackHashNs:"slack_connect_hub_next"})}},"getErrorText");return t.createElement(n.A,{svgIconProps:l},t.createElement("span",null,E()))},"PriorityErrorToast");u.displayName="PriorityErrorToast";var f=e(5876398840),m=e(3534324375),h=e(4460213392),v=e(6795500641),p=e(6304789565),T=e(8276911661),A=e(5060694341);const C=(0,p.Ay)("Add/remove user from priority status",async(I,D,y)=>{if(!y)return;const P=D(),E=(0,m.sE)(P,(0,T.nv)(P,y)),M=(0,v.mF)(P,y);M?(I((0,h.es)({userIds:[y]})),I((0,f.O)({user:y,reason:"remove-user-from-priority"})).then(()=>{I((0,A.M)({element:t.createElement(d,{memberName:E,isUserVIP:M})}))})):(I((0,h.BY)({userIds:[y]})),I((0,o.p)({user:y,reason:"add-user-to-priority"})).then(()=>{I((0,A.M)({element:t.createElement(d,{memberName:E,isUserVIP:M})}))}).catch(S=>{I((0,h.es)({userIds:[y]})),S!=null&&S.data&&I((0,A.M)({element:t.createElement(u,{errorData:S==null?void 0:S.data,memberName:E})}))}))});C.meta={name:"createThunk",key:"createThunktogglePriorityUserById",description:"Add/remove user from priority status"}},6174593183:(N,g,e)=>{"use strict";e.d(g,{U:()=>s});var t=e(2140362605);const s=(0,t.Ay)("SET_RECENTLY_CLOSED_WINDOWS");s.meta={name:"createAction",key:"createActionsetRecentlyClosedWindows",description:"SET_RECENTLY_CLOSED_WINDOWS"}},3934091301:(N,g,e)=>{"use strict";e.d(g,{c:()=>t,j:()=>s});const t="window-last-closed-restoration",s=20},2870224675:(N,g,e)=>{"use strict";e.d(g,{GJ:()=>n,Uz:()=>r,Wz:()=>o,nz:()=>s,oT:()=>i,yw:()=>c});var t=e(2140362605);const s=(0,t.Ay)("Adds a new emtpy tab-soda tab");s.meta={name:"createAction",key:"createActiontabSodaAddNewTab",description:"Adds a new emtpy tab-soda tab"};const o=(0,t.Ay)("Moves the current history index back for a tab soda tab");o.meta={name:"createAction",key:"createActiontabSodaGoBackInTab",description:"Moves the current history index back for a tab soda tab"};const n=(0,t.Ay)("Moves the current history index forward for a tab soda tab");n.meta={name:"createAction",key:"createActiontabSodaGoForwardInTab",description:"Moves the current history index forward for a tab soda tab"};const c=(0,t.Ay)("Select a tab by id");c.meta={name:"createAction",key:"createActiontabSodaSelectTab",description:"Select a tab by id"};const i=(0,t.Ay)("Remove a tab soda tab");i.meta={name:"createAction",key:"createActiontabSodaRemoveTab",description:"Remove a tab soda tab"};const r=(0,t.Ay)("Re-order tab soda tabs");r.meta={name:"createAction",key:"createActiontabSodaReorderTabs",description:"Re-order tab soda tabs"}},9932860381:(N,g,e)=>{"use strict";e.d(g,{Fp:()=>i,Xy:()=>c,fe:()=>n});var t=e(6471801899),s=e(8040098042),o=e(2960290117);function n(r,a){const l=a.indexOf(r),d=l<a.length-1?l+1:l-1;return d>=0?a[d]:void 0}_(n,"tabSodaGetNextActiveTab");function c(r){return(0,s.A)(r)||r==="thread"}_(c,"canOpenInTabSodaTab");function i(r){return(0,o.Ay)(r)||(0,t.pI)(r)||(0,t.or)(r)||(0,s.A)(r)||r==="thread"||r==="comment_thread"}_(i,"tabSodaCanViewBeEjected")},7176966205:(N,g,e)=>{"use strict";e.d(g,{$:()=>m});var t=e(4117634716),s=e(8822892075),o=e(395285811),n=e(2647703359),c=e(3634593162),i=e(3110884894),r=e(2823938397),a=e(8040098042),l=e(2870224675),d=e(6304789565),u=e(7384121809),f=e(937317117);const m=(0,d.Ay)("Opens a view in a new tab",function(h,v){let{viewId:p,params:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=v(),C=(0,l.nz)({setAsActive:!0});if(!p)return(0,u.dispatchForClientStore)(C);if(p&&(0,a.A)(p))return(0,u.dispatchForClientStore)(C),h((0,t.o)((0,s.pr)(p)));if(p==="thread"&&(T!=null&&T.threadId)){const{channelId:I,threadTs:D}=(0,i.Sb)(T==null?void 0:T.threadId);if(I&&D){if((0,u.dispatchForClientStore)(C),(0,o.OR)(A,I)){const S=(0,c.l)(I),R=(0,f.Lp)(A,S);if(R&&(0,r.uz)(R)&&(0,n.DQ)(R))return h((0,t.o)((0,s.m3)({channelId:I,threadTs:D})))}const{replyTs:P,highlightRoot:E,dangerouslyOverrideRouting:M}=T;return h((0,t.o)((0,s.UX)({channelId:I,threadTs:D,replyTs:P,highlightRoot:E,dangerouslyOverrideRouting:M})))}}});m.meta={name:"createThunk",key:"createThunkmaybeOpenInTabSodaTab",description:"Opens a view in a new tab"}},4326266690:(N,g,e)=>{"use strict";e.d(g,{B:()=>c,fK:()=>n,lw:()=>a,uV:()=>r,ud:()=>i});var t=e(9932860381),s=e(2384831516),o=e(3193155968);const n=(0,s.Mz)(l=>l.tabSoda);n.meta={name:"createSelector",key:"createSelectorgetTabSoda",description:l=>l.tabSoda};const c=(0,s.Mz)(l=>{const d=n(l);return d.activeTab?d.tabs[d.activeTab].entries:[]});c.meta={name:"createSelector",key:"createSelectortabSodaGetRecentsForActiveTab",description:l=>{const d=n(l);return d.activeTab?d.tabs[d.activeTab].entries:[]}};const i=(0,s.Mz)(l=>{const d=n(l);if(!d.activeTab)return!0;const u=d.tabs[d.activeTab];return!u||u.currentIndex<=0});i.meta={name:"createSelector",key:"createSelectortabSodaIsBackDisabledForActiveTab",description:l=>{const d=n(l);if(!d.activeTab)return!0;const u=d.tabs[d.activeTab];return!u||u.currentIndex<=0}};const r=(0,s.Mz)(l=>{const d=n(l);if(!d.activeTab)return!0;const u=d.tabs[d.activeTab];return!u||u.currentIndex>=u.entries.length-1});r.meta={name:"createSelector",key:"createSelectortabSodaIsForwardDisabledForActiveTab",description:l=>{const d=n(l);if(!d.activeTab)return!0;const u=d.tabs[d.activeTab];return!u||u.currentIndex>=u.entries.length-1}};const a=(0,s.Mz)((l,d)=>{var u,f;const h=n(l).tabs[d];if(!h)return!1;const v=h.entries[h.currentIndex],p=v==null?void 0:v.teamId;if(!v||!p)return!1;const T=v==null?void 0:v[o.jf],A=v==null||(u=v[T])===null||u===void 0||(f=u[o.mq.Primary])===null||f===void 0?void 0:f.id;return!!A&&(0,t.Fp)(A)});a.meta={name:"createSelector",key:"createSelectortabSodaCanEjectTab",description:(l,d)=>{var u,f;const h=n(l).tabs[d];if(!h)return!1;const v=h.entries[h.currentIndex],p=v==null?void 0:v.teamId;if(!v||!p)return!1;const T=v==null?void 0:v[o.jf],A=v==null||(u=v[T])===null||u===void 0||(f=u[o.mq.Primary])===null||f===void 0?void 0:f.id;return!!A&&(0,t.Fp)(A)}}},8620339321:(N,g,e)=>{"use strict";e.d(g,{UN:()=>f,oX:()=>h,qu:()=>v,wm:()=>m});var t=e(7612514702),s=e(109860581),o=e(2870224675),n=e(9932860381),c=e(6304789565),i=e(6533394955),r=e(9108490430),a=e(3193155968),l=e(9012396182),d=e(2554594353);const u=(0,c.Ay)("Update currently visible viewset as part of TabSoda tab switching",(p,T,A)=>{(0,i.Qw)(A.teamId,(0,r.cQ)(A)),l.getFocusedWorkspace&&d.b&&(0,l.getFocusedWorkspace)(T())!==A.teamId&&p((0,d.b)({teamId:A.teamId,fromNavigation:!0}));const{tabSoda:C}=T(),I=C.activeTab;if(I){const D=C.tabs[I],y=D.entries[D.currentIndex],P=y[a.jf],E=y[P],M=A[a.jf],S=A[M];if(!S)return;(0,i.Qw)(A.teamId,(0,t.C)({prevViewSet:E,prevTab:P,nextViewSet:S,nextTab:M,windowId:a.N2,navigateParams:{},triggerType:s.w.HISTORY_NAVIGATION}))}});u.meta={name:"createThunk",key:"createThunkupdateVisibleView",description:"Update currently visible viewset as part of TabSoda tab switching"};const f=(0,c.Ay)("Switch current TabSoda tab",(p,T,A)=>{let{tabId:C}=A;const{tabSoda:I}=T();if(I.activeTab===C)return;const D=I.tabs[C],y=D.entries[D.currentIndex];p(u(y)),p((0,o.yw)(C))});f.meta={name:"createThunk",key:"createThunktabSodaSwitchTab",description:"Switch current TabSoda tab"};const m=(0,c.Ay)("Close active TabSoda tab and switch to the nearest open tab",(p,T,A)=>{let{tabId:C}=A;const{tabSoda:I}=T(),D=I.activeTab,y=(0,n.fe)(D,I.tabOrder);if(C===D&&y){const P=I.tabs[y],E=P.entries[P.currentIndex];p(u(E))}p((0,o.oT)(C))});m.meta={name:"createThunk",key:"createThunktabSodaCloseTab",description:"Close active TabSoda tab and switch to the nearest open tab"};const h=(0,c.Ay)("Go back in history in a currently active TabSoda tab",(p,T)=>{const{tabSoda:A}=T(),C=A.activeTab;if(!C)return;const I=A.tabs[C];if(!I||I.currentIndex<=0)return;const D=I.entries[I.currentIndex-1];p(u(D)),p((0,o.Wz)(C))});h.meta={name:"createThunk",key:"createThunktabSodaGoBackInActiveTab",description:"Go back in history in a currently active TabSoda tab"};const v=(0,c.Ay)("Go forward in history in a currently active TabSoda tab",(p,T)=>{const{tabSoda:A}=T(),C=A.activeTab;if(!C)return;const I=A.tabs[C];if(!I||I.currentIndex>=I.entries.length-1)return;const D=I.entries[I.currentIndex+1];p(u(D)),p((0,o.GJ)(C))});v.meta={name:"createThunk",key:"createThunktabSodaGoForwardInActiveTab",description:"Go forward in history in a currently active TabSoda tab"}},4766735965:(N,g,e)=>{"use strict";e.d(g,{A:()=>T});var t=e(2664504268),s=e(9121100949),o=e(2527782504),n=e(2495064448),c=e(9392104102),i=e(6471059816),r=e(4496040127),a=e(9012396182),l=e(6304789565),d=e(7384121809),u=e(8439865561),f=e(1201539379),m=e(6290537170),h=e(9733150292);const v=new i.Ay("team_picker"),p=(0,l.Ay)("Sets whether or not the protype full rail workspace switcher is showing",function(A,C){let{shouldTransitionFocus:I=!1,shouldAnnounceStateChange:D=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3?arguments[3]:void 0;const P=C();if(!(0,r.VA)())return;const E=(0,d.en)().getState();var M;if(((M=(0,a.getAllWorkspaces)(E))!==null&&M!==void 0?M:c.Ml).length<=1)return;const R=(0,m.v8)(P),k=!R;(0,h.q9)(s.WU,k),A((0,f.mV)(k)),(0,d.dispatchForClientStore)((0,f.mV)(k));const O=v.t("Workspaces tabs shown",{fallbackHash:"4276daaa1e74cec8e94f7b39a26c73cd406b09c7"}),U=v.t("Workspaces tabs hidden",{fallbackHash:"895e322ca1828738617068cee955516bd71149cd"});if(D&&A((0,u.rl)({message:R?U:O,uuid:(0,t.A)()})),!I)return;const{transitionFocusTo:W}=(0,n.$P)(C(),y),x=R?o.Ay.TAB_RAIL:o.Ay.WORKSPACE_SWITCHER_TAB_LIST;W({focusKey:x})});p.meta={name:"createThunk",key:"createThunktoggleWorkspaceSwitcherVisibility",description:"Sets whether or not the protype full rail workspace switcher is showing"};const T=p},8729431059:(N,g,e)=>{"use strict";e.d(g,{p:()=>l});var t=e(3551081743),s=e(1771500940),o=e(4117634716),n=e(8668318456),c=e(56548687),i=e(337319621),r=e(6304789565);const a=(0,i.Wo)(),l=(0,r.Ay)("Open in split view",async(d,u,f)=>{let{navProps:m,clogParams:h}=f;if(!t.P.includes(m.viewType)){a.info("SPLIT_VIEW",`Navigation not implemented for view type: ${m.viewType}`);return}const v=u();(0,c.e)({state:v}).track(n.EventId.SPLIT_VIEW,{contexts:{ui_context:{action:n.UiAction.CLICK,ui_step:n.UiStep.SPLIT_VIEW_OPEN,ui_componentName:h==null?void 0:h.uiComponentName,entry_point:h==null?void 0:h.entryPoint,ui_properties:{display_name:m.viewType}}}},{sendImmediately:!0});try{d((0,o.o)((0,s.b)(m)))}catch(T){a.error(`Navigation failed for view type: ${m.viewType}`,T)}});l.meta={name:"createThunk",key:"createThunkopenInSplitView",description:"Open in split view"}},4052707080:(N,g,e)=>{"use strict";e.d(g,{A:()=>c,t:()=>n});var t=e(219228829),s=e(2384831516),o=e(961375946);const n=(0,s.Mz)((i,r)=>{let{e:a}=r;return(0,o.Jz)(i)?c(a):!1});n.meta={name:"createSelector",key:"createSelectorshouldSplitSelector",description:(i,r)=>{let{e:a}=r;return(0,o.Jz)(i)?c(a):!1}};function c(i){return!i||!(0,t.A)(i)?!1:i.altKey}_(c,"shouldSplit")},8002659820:(N,g,e)=>{"use strict";e.d(g,{E3:()=>p,jM:()=>h});var t=e(9323322135),s=e(3929724715),o=e(1407713935),n=e(8920264989),c=e(4094753332),i=e(337319621),r=e(6533394955),a=e(1711848812),l=e(4761125736);const d="DESKTOP-SEARCH-INDEX-SIDE-EFFECT",u=604800;function f(T){return(0,l._Z)(T,"desktop_search_indexing")==="on"}_(f,"isDesktopSearchIndexingEnabled");async function m(T,A){if(!(!(0,c.y3)()||!(0,t.g9M)()||!t.AjU.isAvailable()||!await(0,t.AjU)()))try{return A(T)}catch(C){(0,i.Wo)().warn(d,A.name,"Failed",C)}}_(m,"doIfIndexingAvailable");const h=_(async T=>m(T,_(async function(C){const I=C.flatMap(D=>{const y=(0,r.$D)(D);if(f(y))return(0,a.E)(y).reduce((P,E)=>((0,o.JM)(E)||P.push({identifier:`slack://channel?team=${D}&id=${(0,s.FB)(E)}`,contentDescription:(0,s.z8)(E)||(0,s.cU)(E)||" ",domainIdentifier:D,expirationDate:u,title:(0,n.SB)(y,E)}),P),[])}).filter(D=>typeof D<"u");I.length&&await(0,t.zOA)(I)},"addChannels")),"addChannelsToSearchIndex"),v=_(async T=>m(T,_(async function(C){await removeFromIndex(C)},"removeItems")),"removeItemsFromSearchIndex"),p=_(async T=>m(T,_(async function(C){await(0,t.Oes)(C)},"removeAllItems")),"removeAllItemsFromSearchIndex")},859310680:(N,g,e)=>{"use strict";e.d(g,{go:()=>V,xy:()=>K});var t=e(2028988448),s=e(7639461119),o=e(5057176955),n=e(9714187984),c=e(8426925643),i=e(2784941542),r=e(9733150292),a=e(4588514760),l=e(7729538251),d=e(9681594967),u=e(2325478352),f=e(7770551414),m=e(6470070112),h=e(337319621),v=e(2250002584),p=e(264208541),T=e(9012396182),A=e(8847766420),C=e(5583430912),I=e(7384121809),D=e(6533394955),y=e(9101533895),P=e(7765212398),E=e(4761125736),M=e(8276911661),S=e(7115106069),R=e(8233775522);function k(){var ne,q;return{hardware_concurrency:(ne=window.navigator)===null||ne===void 0?void 0:ne.hardwareConcurrency,device_memory:(q=window.navigator)===null||q===void 0?void 0:q.deviceMemory}}_(k,"getDeviceStats");function O(){const ne=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),q=(0,p.Hn)(),me=(0,p.Ey)(),ue=q&&me?(q/me).toPrecision(4):null;return{total_client_redux_size:ne,js_heap_used:q,js_heap_total:me,js_heap_used_percentage:ue}}_(O,"getPerfMemoryStats");function U(){const ne=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!ne)return{};try{return JSON.parse(ne)}catch(q){return(0,h.Wo)().warn("Error parsing appStats in localStorage:",ne,q),{}}}_(U,"getDesktopAppStats");function W(){return{...(0,c.JP)(),...(0,c.I5)(),num_started_sockets:(0,f.eK)(),object_store_redux_group:(0,s.B9)(u.Wv)}}_(W,"getClientStateTags");function x(ne,q){const me=q.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),ue=Object.values((0,y.DM)(ne)).length,ae=Object.values((0,y.h3)(ne)).length,le=Object.values((0,y._B)(ne)).length,fe=Object.values((0,y.FS)(ne)).length;return me.close(),{num_channels_in_redux:ue,num_all_channels_user_is_in:ae,num_dms_user_is_in:le,num_group_dms_user_is_in:fe}}_(x,"getChannelInfoTags");function L(ne,q){const me=q.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),ue=Object.keys((0,P.Hw)(ne)||{}).length,ae=(0,o.sZ)((0,P.my)(ne));return me.close(),{num_drafts:ue,drafts_store_size:ae}}_(L,"getDraftsInfoTags");function b(ne){return{user_locale:(0,l.JK)({teamOrEnterpriseId:(0,A.JY)(ne)})}}_(b,"getLocaleTags");function F(ne){return{active_collab_instance_count:(0,C.Ui)(),open_quip_embed_instance_count:(0,S.oj)(ne).length,canvas_child_window_count:(0,a.CJ)()}}_(F,"getCanvasTags");const B=_(ne=>{const q=["selector_memo"],me={};return q.forEach(ae=>{const le=(0,E._Z)(ne,ae,!1);le&&(me[ae]=le)}),[...Object.keys(n.nD)].forEach(ae=>{const le=(0,s.B9)(ae);le!==s.dw.NoGroup&&(me[ae]=le)}),me},"getExperimentTagsForTraces"),K=_((ne,q)=>{const me=q??[],ue={},ae=(0,E.Vs)(ne),le=Date.now()/1e3,fe=60*60*24*7*4;for(const[he,ie]of Object.entries(ae)){const{trigger:X,schedule_ts:j}=ie;(me.includes(he)||X&&j&&X!=="finished"&&X!=="force_debug"&&j>le-fe)&&(ue[he]=ie.group)}return ue},"getExperimentTags");function H(ne){return{num_members_in_redux:(0,M.I_)(ne).length}}_(H,"getMembersTags");function Y(ne){const q=(0,r.W6)("lastColdBootTs"),me=(0,R.pp)(ne);return{last_cold_boot_ts:q,boot_type:me}}_(Y,"getConfigTags");function Z(){return{is_in_active_huddle:(0,m.NZ)()}}_(Z,"getHuddleTags");function V(ne){const q=(0,I.Ry)();if(!q)return{};const me=ne??(0,T.getFocusedWorkspace)(q),ue=(0,D.$D)(me),ae=(0,v.F)(),le=ae.createTrace({traceName:"add_tags:performance_tracing_tags"}),fe=(0,c.Kh)(me),he=W(),ie=x(ue,le),X=L(ue,le),j=k(),w=O(),Q=U(),G=b(ue),J=H(ue),te=Y(ue),se=d.qV.getTraceTags(),ce=B(ue),Ee=F(ue),de=Z(),re=(0,c.G1)(),_e=(0,i.zT)(),ve={...fe,...he,...ie,...X,...j,...w,...Q,...G,...J,...te,...se,...ce,...Ee,...de,...re,..._e};return ae.reportTrace(le),ve}_(V,"getPerformanceTracingTags"),(0,t.zv)("performanceTracingTags",V)},3614984351:(N,g,e)=>{"use strict";e.d(g,{A:()=>Ge});var t=e(3134334389),s=e(2850141087),o=e(1545824888),n=e(5731337714),c=e(6471059816),i=e(9733150292),r=e(4979734995),a=e(7173172014),l=e(2308565927),d=e(9539184071),u;(function(be){be.INVALID_CODE="invalid_pin",be.RATE_LIMITED="ratelimited",be.SMS_RATE_LIMITED="two_factor_sms_rate_limited",be.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",be.INTERNAL_ERROR="internal_error"})(u||(u={}));var f;(function(be){be.SMS="sms",be.APP="app",be.EMAIL="email",be.EMERGENCY="emergency"})(f||(f={}));var m;(function(be){be.REQUEST_CODE="request_primary",be.REQUEST_BACKUP="request_backup",be.SUBMIT_PRIMARY="submit_primary",be.SUBMIT_BACKUP="submit_backup",be.SUBMIT_EMERGENCY="submit_emergency"})(m||(m={}));var h=e(581167618);const v=new c.Ay("sign_in");function p(be){let Se=null;return be.error===u.SMS_RATE_LIMITED?Se=v.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):be.error===u.INVALID_CODE?Se=v.rt("Your two-factor authentication code was incorrect. Please try again."):be.error===u.RATE_LIMITED?Se=v.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):be.error===u.TOO_MANY_ATTEMPTS?Se=v.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):Se=v.rt("An unknown error occurred."),t.createElement(h.Ay,{className:"p-enter-code-error__alert",type:h.QE.boxed,icon:"lock-o",level:h.A_.error,align:h.AO.left,"data-qa":"2fa_code_error_alert"},t.createElement("span",null,Se))}_(p,"EnterCodeError");var T=e(1610251172),A=e(8739505998),C=e(7171435821);const I=new c.Ay("sign_in"),D={elementName:"help_button",onClick:{enableClogAction:!0}},y=_(be=>{const Se=be.action===m.REQUEST_BACKUP||be.action===m.SUBMIT_BACKUP;return Se&&be.twoFactorBackupType===f.APP||!Se&&be.twoFactorType===f.APP},"currentMethodIsApp"),P=_(be=>y(be)?I.t("Problems with your authentication app?"):I.t("Problems with your code?"),"renderProblemsString"),E=_(be=>y(be)?t.createElement("div",{className:"subtle_silver small medium_top_margin"},t.createElement("p",{className:"no_bottom_margin"},I.t("Check your authentication app for your code.")),t.createElement("p",null,I.rt("<a>Having trouble finding your code?</a>",null,Se=>{let{tag:we,text:Ce}=Se;return we==="a"?t.createElement(A.A,{href:`https://${(0,C.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Ce):null})),t.createElement("p",null,I.rt("If your app is unavailable, use a <a>backup code</a>.",null,Se=>{let{tag:we,text:Ce}=Se;return we==="a"?t.createElement(A.A,{href:`https://${(0,C.qF)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Ce):null}))):t.createElement("p",{className:"align_left subtle_silver small"},I.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,Se=>{let{tag:we,text:Ce}=Se;return we==="a"?t.createElement(A.A,{href:`https://${(0,C.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Ce):null})),"renderProblems");E.displayName="renderProblems";const M=_(be=>{const[Se,we]=(0,t.useState)(!1);return t.createElement("div",{className:"p-enter-code__help_button"},t.createElement(A.A,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>we(!Se),autoClogProps:D},t.createElement(T.A,{type:"question-circle"})," ",P(be)),Se&&t.createElement("div",{className:"send_code_block"},be.children,t.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},t.createElement("hr",{className:"medium_bottom_margin"}),E(be))))},"GetHelpButton");M.displayName="GetHelpButton";var S=e(9867500491),R=e(4844578989),k=e.n(R),O=e(8646591923),U=e(3700949338),W=e(219228829);function x(){return x=Object.assign||function(be){for(var Se=1;Se<arguments.length;Se++){var we=arguments[Se];for(var Ce in we)Object.prototype.hasOwnProperty.call(we,Ce)&&(be[Ce]=we[Ce])}return be},x.apply(this,arguments)}_(x,"_extends");let L=_(class extends t.Component{render(){const{ariaDescribedBy:Se}=this.props;return t.createElement("div",{className:k()("two_factor_input_item",{focused:this.props.hasFocus})},t.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":Se}))}constructor(...Se){super(...Se),this.onKeyDown=we=>{switch(we.keyCode){case O.G_:{we.currentTarget.value||this.props.moveLeft();return}case O.UQ:return we.preventDefault(),this.props.moveLeft();case O.LE:return we.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=we=>{!(0,U.A)(we.which)&&we.charCode&&!(0,W.A)(we)&&we.preventDefault()},this.onChange=we=>{const Ce=we.target.value;(/^[0-9]$/.test(Ce)||Ce==="")&&this.props.onChange(Ce)},this.onPaste=we=>{we.preventDefault();const Ce=window.clipboardData||we.clipboardData,Te=Ce.getData("text")||Ce.getData("text/plain"),Ye=/\D/g,De=Te.replace(Ye,"");this.props.onPaste(De)}}},"TwoFactorDigitInput");L.displayName="TwoFactorDigitInput";const b=t.forwardRef((be,Se)=>t.createElement(L,x({},be,{refToForward:Se}))),F=new c.Ay("team_creation");let B=_(class extends t.Component{focusInput(Se){const we=this.inputRefs[Se];we!=null&&we.current&&we.current.focus()}moveLeft(Se){Se<=0||this.focusInput(Se-1)}moveRight(Se){Se>=this.state.values.length-1||this.focusInput(Se+1)}isComplete(Se){return!Se.some(we=>!we)}clear(){this.setState(Se=>({values:Se.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(Se,we){const Ce=this.state.values.slice();Ce[Se]=we,this.setState(()=>({values:Ce}),()=>{we&&!this.isComplete(this.state.values)&&this.moveRight(Se)})}componentDidUpdate(Se,we){var Ce;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Ce=this.inputRefs[this.state.focusedInputIndex])===null||Ce===void 0?void 0:Ce.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==Se.codeLength&&this.onCodeLengthChange(we),!this.isComplete(we.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&we.values.join("")!==this.state.values.join("")){const Te=this.state.values.join("");this.props.onFillCode(Te)}else we.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(Se,we){return this.state.values.slice(Se,we).map((Ce,Te)=>{const Ye=Te+Se;return t.createElement(b,{autocomplete:Ye===0?"one-time-password":"off",key:Ye,ref:this.inputRefs[Ye],moveLeft:()=>this.moveLeft(Ye),moveRight:()=>this.moveRight(Ye),onChange:De=>this.onChange(Ye,De),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:Ye}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===Ye,value:this.state.values[Ye],ariaLabel:F.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:Ye+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},t.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(Se){super(Se),this.onPaste=we=>{const Ce=this.state.focusedInputIndex;if(Ce===-1)return;const Te=this.state.values.length-Ce,Ye=we.substring(0,Te).split(""),De=this.state.values.slice();Ye.forEach((Pe,ye)=>{const He=ye+Ce;De[He]=Pe}),this.setState(()=>({values:De}),()=>{this.focusInput(Math.min(this.state.values.length-1,Ce+Ye.length))})},this.onCodeLengthChange=we=>{const Ce=(0,S.A)(this.props.codeLength,()=>"");we.values.forEach((Te,Ye)=>{Ye<Ce.length&&(Ce[Ye]=Te)}),this.setState(()=>({values:Ce})),this.inputRefs=Ce.map(()=>t.createRef())},this.state={values:(0,S.A)(Se.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"TwoFactorCodeInput");B.defaultProps={isNumbersOnly:!0};var K=e(6084388622);const H=new c.Ay("sign_in");function Y(be){const{isSSB:Se,isSSBSignIn:we,hasPromoOffer:Ce,shouldRedirect:Te,redirectURL:Ye,loggedInTeams:De,entryPoint:Pe=""}=be;return t.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Ce&&!Se&&t.createElement("p",{className:"small_bottom_margin"},H.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:De})),t.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},De.map((ye,He)=>t.createElement(K.z9,{key:ye.id,"data-qa":`signedin_workspace_link_${He+1}`,className:"team-signin-link small_margin","data-team-id":ye.id,autoClogProps:{elementName:"team_domain",elementValue:ye.id.toString(),entryPoint:Pe,onClick:{enableClogAction:!0}},href:we?`${ye.url}ssb/signin_redirect`:`${ye.url}${Te?`?redir=${Ye}`:""}`,"aria-label":H.t("Go to {teamName} on Slack",{teamName:ye.name}),type:"outline"},ye.name))))}_(Y,"SignedInWorkspaces");var Z=e(1236965385),V=e(8668318456),ne=e(9506008067),q=e(3328068409),me=e(4761125736);function ue(){return ue=Object.assign||function(be){for(var Se=1;Se<arguments.length;Se++){var we=arguments[Se];for(var Ce in we)Object.prototype.hasOwnProperty.call(we,Ce)&&(be[Ce]=we[Ce])}return be},ue.apply(this,arguments)}_(ue,"enter_code_root_extends");const ae=new c.Ay("sign_in"),le=5*60*1e3,fe={elementName:"resend_button",onClick:{enableClogAction:!0}},he={elementName:"backup_button",onClick:{enableClogAction:!0}},ie={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},X="two_factor_form",j="enter-code",w=6;var Q;(function(be){be.Request="request_primary",be.RequestBackup="request_backup",be.SubmitPrimary="submit_primary",be.SubmitBackup="submit_backup",be.SubmitEmergency="submit_emergency",be.None="none"})(Q||(Q={}));function G(be){const[Se,we]=(0,t.useState)(be.twoFactorType),[Ce,Te]=(0,t.useState)("");var Ye;const[De,Pe]=(0,t.useState)((Ye=be.action)!==null&&Ye!==void 0?Ye:Q.None),[ye,He]=(0,t.useState)(!1),[Qe,dt]=(0,t.useState)(w),[Ot,yt]=(0,t.useState)(!1),Dt=(0,ne.d4)(sn=>(0,me._Z)(sn,"screen_text_2fa")==="on"),Ct=t.useRef(null),kt=t.createRef(),vt=be.submitOverride,{trackClogAuthRef:Nt,clogAuthLoginClick:It,trackClog:At}=(0,Z.$A)(),Zt=Nt({eventId:V.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:j});(0,t.useEffect)(()=>{if(ye){var sn,z;if((sn=At.current)===null||sn===void 0||(z=sn.track)===null||z===void 0||z.call(sn,{elementName:X,elementValue:De}),It({eventId:V.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:X,uiPage:j,elementValue:De})(),vt&&kt.current)He(!1),yt(!0),vt(Ce,De,be.magicLogin).then(()=>{var Be;(Be=Ct.current)===null||Be===void 0||Be.clear(),yt(!1)});else{var Me;(Me=kt.current)===null||Me===void 0||Me.submit()}}},[De,ye,kt,At,Ce,vt,be.magicLogin,It]),(0,t.useEffect)(()=>{(be.error===u.RATE_LIMITED||be.error===u.TOO_MANY_ATTEMPTS)&&yt(!0),be.error===u.RATE_LIMITED&&setTimeout(()=>{yt(!1)},le)},[be.error]);const jt=Se===f.EMERGENCY,Ht=De===Q.RequestBackup||De===Q.SubmitBackup,Pt=!jt&&(Ht&&be.twoFactorBackupType===f.SMS||!Ht&&be.twoFactorType===f.SMS||be.twoFactorType===f.EMAIL),Ft=be.twoFactorType===f.EMAIL,En=be.twoFactorType===f.SMS?ae.rt("Send Code to Primary Phone"):ae.rt("Use Authentication App"),Rt=be.twoFactorBackupType===f.SMS?ae.rt("Send Code to Backup Phone"):ae.rt("Use Backup Authentication App"),rn=_(()=>t.createElement(K.$n,{type:"outline",onClick:()=>{Pe(Ht?Q.RequestBackup:Q.Request),He(!0)},autoClogProps:fe},Ht?ae.rt("Resend Code to Backup Phone"):ae.rt("Resend Code")),"ResendButton"),nn=_(()=>t.createElement(K.$n,{type:"outline",onClick:()=>{Pe(Ht?Q.Request:Q.RequestBackup),He(!0)},autoClogProps:he},Ht?En:Rt),"BackupButton");nn.displayName="BackupButton";const at=_(()=>{let sn;return jt?sn=Ht?Rt:En:sn=ae.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),t.createElement(K.$n,{type:"outline",onClick:()=>{jt?(we(be.twoFactorType),dt(w)):(we(f.EMERGENCY),dt(be.emergencyCodeLength))},autoClogProps:ie},sn)},"EmergencyButton");at.displayName="EmergencyButton";const tt=_(()=>be.twoFactorType===f.EMAIL?be.isClientApp?ae.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):ae.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):Dt?ae.rt("Enter the code from your two-factor authentication app or SMS"):ae.rt("Enter your authentication code"),"GetHeader"),ft=_(()=>{if(jt)return ae.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(Ht)return be.twoFactorBackupType===f.APP?ae.rt("Check your authentication app for your code."):ae.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:be.teamName});switch(be.twoFactorType){case f.APP:return ae.rt("Check your authentication app for your code.");case f.EMAIL:return ae.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:be.teamName,emailAddress:be.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return ae.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:be.teamName})}},"GetSubheader"),wt=_(sn=>{let z;jt?z=Q.SubmitEmergency:z=Ht?Q.SubmitBackup:Q.SubmitPrimary,Te(sn),Pe(z),He(!0)},"onFillCode"),Jt=(0,ne.d4)(q.to);return t.createElement(a.A,{eventId:V.EventId.TWO_FACTOR_AUTH,uiPage:j,trackClogRef:Zt},t.createElement(d.A,{clientTheme:Jt},t.createElement(l.A,{heading:tt(),subHeading:ft(),subHeadingClassName:"p-enter_code_app__view_sub_header"},be.codeResent&&t.createElement(h.Ay,{className:"p-enter-code-error__alert",type:h.QE.boxed,icon:"paper-plane",level:h.A_.info,align:h.AO.left,"data-qa":"2fa_code_resent_alert"},Ft?ae.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:be.teamName,emailAddress:be.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):ae.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:be.teamName})),be.error&&t.createElement(p,{error:be.error}),t.createElement("form",{ref:kt,className:"p-enter_code",method:"POST"},t.createElement("div",{className:"p-enter_code__input_container"},t.createElement("fieldset",{className:"p-enter_code__input_fieldset"},t.createElement("legend",{className:"offscreen"},ae.rt("{codeLength}-digit confirmation code",{codeLength:Qe,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.createElement(B,{ref:Ct,onFillCode:wt,onChange:()=>{},hideDash:!0,error:be.error,disabled:Ot,codeLength:Qe}),t.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:be.magicLogin}),be.redir.length>0&&t.createElement("input",{type:"hidden",name:"redir",value:be.redir}),t.createElement("input",{type:"hidden",name:"remember",value:be.remember?"1":"0"}),t.createElement("input",{type:"hidden",name:"has_remember",value:be.hasRemember}),t.createElement("input",{type:"hidden",name:"2fa_code",value:Ce}),t.createElement("input",{type:"hidden",name:"2fa_action",value:De})))),t.createElement(M,ue({},be),t.createElement("div",{className:"p-enter-code__button"},Pt&&t.createElement(rn,null),be.twoFactorBackupType&&!jt&&t.createElement(nn,null),!Ft&&t.createElement(at,null))),be.loggedInTeams.length>0&&t.createElement("div",{className:"p-enter-code__logged_in_teams"},t.createElement(Y,ue({},be))))))}_(G,"EnterCodeRoot");var J=e(4979382452),te=e(3602521375),se=e(4636370173),ce=e(2465132699),Ee=e(8523371695),de=e(3606117573),re=e(8029613601),_e=e(4947127560),ve=e(9310872914),ge=e(6533394955),Le=e(3051824855);function ke(){return ke=Object.assign||function(be){for(var Se=1;Se<arguments.length;Se++){var we=arguments[Se];for(var Ce in we)Object.prototype.hasOwnProperty.call(we,Ce)&&(be[Ce]=we[Ce])}return be},ke.apply(this,arguments)}_(ke,"enter_2fa_code_modal_extends");const Ke=new c.Ay("2fa_modal"),Ne={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},Re={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function xe(be,Se){const we=(0,i.vS)();if(be!==void 0){const Te=we[be].two_factor_magic_login;Te!==void 0&&Te.token&&(Te.token=Se),(0,i.q9)("pendingAuthTeams",we)}}_(xe,"updateLocalConfig2fa");function We(be){const Se=(0,i.vS)();if(be!==void 0){const we=Se[be];we.two_factor_magic_login=void 0,(0,i.q9)("pendingAuthTeams",Se)}}_(We,"clearLocalConfig2faMagicLogin");function $(be){let{magicLogin:Se,teamId:we,type:Ce,backupType:Te,emergencyLength:Ye,emailAddress:De,teamName:Pe,currentTeamId:ye,isOpen:He,closeModal:Qe}=be;const[dt,Ot]=(0,t.useState)(Se),[yt,Dt]=(0,t.useState)(null),[Ct,kt]=(0,t.useState)(!1),vt=ye?(0,ge.oK)(ye):void 0,Nt=(0,t.useCallback)((At,Zt,jt)=>{const Ht={magic_token:jt,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:At,two_factor_is_backup:Zt===m.REQUEST_BACKUP||Zt===m.SUBMIT_BACKUP};return Zt===m.REQUEST_CODE||Zt===m.REQUEST_BACKUP?(Ht.two_factor_pin="",kt(!0)):kt(!1),new o.S(Pt=>{(0,r.j)("auth.loginMagic",Ht,(Ft,En)=>{if(Ft&&En.refreshed_magic_login){var Rt;Ot(En.refreshed_magic_login),xe(we,En.refreshed_magic_login),!((Rt=En.reason)===null||Rt===void 0)&&Rt.match(/^missing_/)||Dt(En.reason),Pt(Ft)}else Ft&&En.team?(0,ve.A)({currentTeamStore:vt,newWorkspaceId:we,navigateToRouteProps:{routeName:n.o},shouldAutoSignIn:!0}).then(()=>{Qe(),Pt(Ft)}):(We(we),(0,ve.A)({currentTeamStore:vt,newWorkspaceId:we,navigateToRouteProps:{routeName:n.o}}).then(()=>{Qe(),Pt(Ft)}))})})},[we,vt,Qe]);(0,s.A)(()=>{Nt("",m.SUBMIT_PRIMARY,dt??"")},[]);const It=Ke.t("Finish signing into {teamName}",{teamName:Pe,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return t.createElement(J.A,{isOpen:He,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:Qe,dataQa:Ne.enter2faCodeModal},t.createElement(re.A,null,t.createElement(_e.A,{title:It})),t.createElement(se.A,null,t.createElement(ce.A,null,t.createElement("div",{id:"enter-code-app-root"},t.createElement(G,ke({},Re,{teamName:Pe,error:yt,action:null,magicLogin:dt||"",twoFactorType:Ce,twoFactorBackupType:Te,emailAddress:De,codeResent:Ct,redir:"",emergencyCodeLength:Ye,isClientApp:!0,submitOverride:Nt}))))),t.createElement(Ee.A,null,t.createElement(de.A,null,t.createElement(te.A,{type:"outline","data-qa":Ne.cancelButton,"aria-label":Ke.t("Cancel")},Ke.t("Cancel")))))}_($,"TwoFAModal"),$.displayName="TwoFAModal";const ee=(0,Le.e)($);var Ve=e(337319621),ze=e(7384121809),st=e(9012396182);function Ge(be,Se){const we=(0,ze.Ry)();if(!(0,st.isWorkspacePendingTwoFactor)(we,be))return!1;const Ce=(0,st.getWorkspacesMeta)(we),Te=Ce==null?void 0:Ce[be],{two_factor_magic_login:Ye,name:De}=Te,{token:Pe,user_2fa_type:ye,user_2fa_backup_type:He,user_emergency_code_length:Qe,email:dt}=Ye;let Ot;return Se?Ot=(0,ge.oK)(Se):Ot=(0,ge.oK)((0,st.getFocusedWorkspace)(we)),Ot?(Ot.dispatch(ee({magicLogin:Pe,teamId:be,type:ye,backupType:He,emergencyLength:Qe,teamName:De,currentTeamId:Se,emailAddress:dt})),!0):((0,Ve.Wo)().error("TWO_FACTOR_SSB",`${be} is pending 2fa, but no store for ${Se}, falling back to openSignIn()`),!1)}_(Ge,"maybeRenderTwoFactorModal")},2804111037:(N,g,e)=>{"use strict";e.d(g,{aT:()=>I,zw:()=>y});var t=e(7823346015),s=e(7031360717),o=e(7668372645),n=e(7311246228),c=e(1197598850),i=e(1319016163),r=e(6273911963),a=e(2878685908),l=e(9283444310),d=e(337319621),u=e(7344959578),f=e(4096483543);const m={is_expired:!1,ok:!0},h={is_expired:!1,ok:!1};async function v(P){let{teamIds:E}=P;if((0,a.b3)())return(0,d.Wo)().warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.checkVersion call."),m;if(!(0,f.A)())throw new Error("client.checkVersion should only be used in the client.");try{var M;const S={team_ids:E,build_version_ts:parseInt((M=(0,u.xb)())!==null&&M!==void 0?M:"",10),build_manifest_last_modified:(0,u.z8)()},R=(0,u.Cy)();R&&(S.config_version_ts=R);const k=p(S),O=await r.A.fetch({url:"/api/client.checkVersion",httpMethod:"POST",payload:k});return JSON.parse(O)}catch(S){return(0,d.Wo)().error("Failed to fetch/parse client.checkVersion response",S),h}}_(v,"clientCheckVersion");function p(P){return(0,l.t)(P,"client.checkVersion")}_(p,"getClientCheckVersionPayload");var T=e(2250002584),A=e(2872463257);const C="MIN-VERSION";async function I(P){let{reason:E,apiQ:M,teamId:S,teamIds:R}=P;if(M===void 0||S===void 0)return(0,s.z3)(C,`invalid apiQ or teamId passed to checkForMinVersionBump. teamId: ${S}`),{reason:"undefined team id or apiQ",...c.Yp};const k=R??(0,i.Ay)();return(0,o.z$)()?D({bootingTeamIds:k,reason:E,apiQ:M}):(0,c.kK)({bootingTeamIds:k,reason:E,apiQ:M,teamId:S})}_(I,"checkForMinVersionBump");async function D(P){let{bootingTeamIds:E,reason:M,apiQ:S}=P;const R=await v({teamIds:E}),k=R.is_expired;var O;const U=(O=R.client_min_build_version)!==null&&O!==void 0?O:0;var W;const x=(W=R.recommended_build_version)!==null&&W!==void 0?W:0;var L;const b=(L=R.build_manifest_last_modified)!==null&&L!==void 0?L:0;if(!k)return{ok:!0,client_min_version:U,client_min_build_version:U,should_reload:!1,recommended_build_version:x,build_manifest_last_modified:b};const F=(0,T.F)(),B=F.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:A.nl.ALWAYS}}),[K,H]=(0,t.A)(E,q=>(0,n.H)(q));B.addTags({client_min_version:U,recommended_build_version:x,build_manifest_last_modified:b,has_gov_teams:!!K.length,has_commercial_teams:!!H.length});const{should_reload:Y,reason:Z}=await(0,c.kK)({bootingTeamIds:K,reason:M,apiQ:S,teamId:K[0]});if(!Y)return B.count({name:"prevent"}).addTags({environment:"gov",reason:Z??"none"}),F.reportTrace(B),(0,d.Wo)().info(C,`Gov teams failed rate limit check with reason ${Z??"none"}; Preventing reload. teams: (${K.join(",")}) `),{ok:!0,client_min_version:U,client_min_build_version:U,should_reload:!1,recommended_build_version:x,build_manifest_last_modified:b,reason:Z};const{should_reload:V,reason:ne}=H.length!==0?await(0,c.kK)({bootingTeamIds:H,reason:M,apiQ:S,teamId:H[0],skipExpiryCheck:!0}):{should_reload:!0,reason:"no_commercial_teams"};return V?(B.count({name:"reload"}),F.reportTrace(B),{ok:!0,client_min_version:U,client_min_build_version:U,should_reload:!0,recommended_build_version:x,build_manifest_last_modified:b}):(B.count({name:"prevent"}).addTags({environment:"commercial",reason:ne??"none"}),F.reportTrace(B),(0,d.Wo)().info(C,`Commercial teams failed rate limit check with reason ${ne??"none"}; Preventing reload. teams: (${H.join(",")})`),{ok:!0,client_min_version:U,client_min_build_version:U,should_reload:!1,recommended_build_version:x,build_manifest_last_modified:b,reason:ne})}_(D,"checkForMinVersionBumpInGovClients");function y(P){return I({apiQ:P.bootQueue.apiQ,reason:"boot",...P})}_(y,"checkForMinVersionBumpOnBoot")},4626613428:(N,g,e)=>{"use strict";e.d(g,{S4:()=>v,Ty:()=>O,ez:()=>h,lf:()=>k});var t=e(6839188756),s=e(9392104102),o=e(6323355797),n=e(1247361162),c=e(3009309149),i=e(9186462665),r=e(2047021170),a=e(7268021173),l=e(6827180593),d=e(772817784),u=e(117899263),f=e(3265910753),m=e(1670069836),h;(function(U){U.HAS_MENTIONS="has_mentions",U.HAS_SLACK_CONNECT_INVITE="has_slack_connect_invite",U.HAS_THREADS="has_threads",U.IS_ENTERPRISE="is_enterprise",U.IS_EXISTING_JOINER="is_existing_joiner",U.IS_IN_SOLUTIONS_ONBOARDING_TRIAL="is_in_solutions_onboarding_trial",U.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL="is_in_activate_solutions_gallery_trial",U.IS_IN_TRIAL="is_in_trial",U.IS_ONBOARDING_COMPLETED="is_onboarding_completed",U.IS_OVER_TWO_WEEKS_OLD="is_over_two_weeks_old",U.IS_USER_PREF_ENABLED="is_user_pref_enabled"})(h||(h={}));const v="should_show_ia4_tabs",p={reason:h.IS_ENTERPRISE,shouldShowTabs:!0},T={reason:h.IS_EXISTING_JOINER,shouldShowTabs:!0},A={reason:h.IS_USER_PREF_ENABLED,shouldShowTabs:!0},C={reason:h.HAS_MENTIONS,shouldShowTabs:!0},I={reason:h.HAS_THREADS,shouldShowTabs:!0},D={reason:h.HAS_SLACK_CONNECT_INVITE,shouldShowTabs:!0},y={reason:h.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL,shouldShowTabs:!0},P={reason:h.IS_IN_TRIAL,shouldShowTabs:!0},E={reason:h.IS_IN_SOLUTIONS_ONBOARDING_TRIAL,shouldShowTabs:!0},M={reason:h.IS_ONBOARDING_COMPLETED,shouldShowTabs:!0},S={shouldShowTabs:!0,reason:h.IS_OVER_TWO_WEEKS_OLD},R={shouldShowTabs:!1},k=(0,c.Ay)(U=>{const W=(0,m.H7)(U);if((0,t.r7)(W))return p;const L=(0,d.w)(U);if(!(0,u._)(U)&&L)return T;if((0,r.ty)(U,v))return A;var B;if(((B=(0,n.rz)(U))!==null&&B!==void 0?B:s.Ml).length>0)return C;var H;return((H=(0,n.sG)(U))!==null&&H!==void 0?H:s.Ml).length>0?I:(0,i.RU)(U)?D:(0,a.iH)(U)?(0,a.G)(U,o.ZO.SolutionsGalleryPromo)?y:(0,f.BX)(U)?E:P:(0,r.ty)(U,"onboarding_complete")?M:(0,l.H)(U)>=14?S:R});k.meta={name:"createSelector",key:"createSelectorshouldShowTabsWithReason",description:U=>{const W=(0,m.H7)(U);if((0,t.r7)(W))return p;const L=(0,d.w)(U);if(!(0,u._)(U)&&L)return T;if((0,r.ty)(U,v))return A;var B;if(((B=(0,n.rz)(U))!==null&&B!==void 0?B:s.Ml).length>0)return C;var H;return((H=(0,n.sG)(U))!==null&&H!==void 0?H:s.Ml).length>0?I:(0,i.RU)(U)?D:(0,a.iH)(U)?(0,a.G)(U,o.ZO.SolutionsGalleryPromo)?y:(0,f.BX)(U)?E:P:(0,r.ty)(U,"onboarding_complete")?M:(0,l.H)(U)>=14?S:R}};const O=(0,c.Ay)(U=>k(U).shouldShowTabs);O.meta={name:"createSelector",key:"createSelectorshouldShowTabs",description:U=>k(U).shouldShowTabs}},4459152581:(N,g,e)=>{"use strict";e.d(g,{$:()=>t});const t={ReactionAdded:"slack#/events/reaction_added",UserJoinedChannel:"slack#/events/user_joined_channel",ListRecordCreated:"slack#/events/list_record_created",ListRecordUpdated:"slack#/events/list_record_updated",ChannelCreated:"slack#/events/channel_created",MessagePosted:"slack#/events/message_posted"}},7798793495:(N,g,e)=>{"use strict";e.d(g,{G:()=>s});var t=e(9139930183);const s=(0,t.Ay)({},!0,{persistenceEnabled:!1,storeKey:"isState"});s.meta={name:"createReducer",key:"createReducerisStateReducer"}},9121100949:(N,g,e)=>{"use strict";e.d(g,{$D:()=>d,OR:()=>i,RC:()=>v,Ts:()=>a,WU:()=>h,f9:()=>f,gN:()=>r,jG:()=>m,jr:()=>p,jt:()=>c,kU:()=>u,ke:()=>t,qD:()=>l,r1:()=>n,ts:()=>s,u1:()=>o});const t="viewLayoutSidebarWidthIntent",s="viewLayoutSidebarWidthMode",o="viewLayoutSidebarWideWidthIntent",n="viewLayoutSidebarWideWidthMode",c="viewLayoutSidebarExtraWideWidthIntent",i="viewLayoutSidebarExtraWideWidthMode",r="viewLayoutSecondaryWidthIntent",a="viewLayoutSecondaryWidthMode",l="viewLayoutSplitWidthIntent",d="viewLayoutSplitWidthMode",u="viewLayoutsplitAIAppsWidthIntent",f="viewLayoutsplitAIAppsWidthMode",m="viewLayoutIsSidebarVisible",h="viewLayoutIsWorkspaceSwitcherVisible",v="viewLayoutCompactModeEnabled",p="viewLayoutLastSidebarWidth"}},N=>{var g=_(t=>N(N.s=t),"__webpack_exec__");N.O(0,["gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"],()=>g(8090212505));var e=N.O()}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/client-boot.2879303acea3c8ba369a.min.js.map